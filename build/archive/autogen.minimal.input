# LibreOffice WASM - ULTRA MINIMAL Build
# Pure document conversion only - NO extras
# Use this for smallest possible binary size

# Core WASM target
--host=wasm32-local-emscripten
--disable-gui

# Writer module only (for document processing)
--with-main-module=writer

# MAXIMUM WASM stripping
--enable-wasm-strip

# Disable ALL desktop/UI capabilities
--disable-avmedia
--disable-dbus
--disable-sdremote
--disable-sdremote-bluetooth
--disable-gio
--disable-cups
--disable-randr
--disable-gstreamer-1-0
--disable-cairo-canvas
--disable-skia
--disable-gtk3
--disable-gtk4
--disable-qt5
--disable-qt6
--disable-kf5
--disable-kf6

# Disable ALL database connectivity
--disable-database-connectivity
--disable-firebird-sdbc
--disable-postgresql-sdbc
--disable-mariadb-sdbc

# Disable ALL extensions and scripting
--disable-extensions
--disable-extension-integration
--disable-extension-update
--disable-scripting
--disable-librelogo

# Disable ALL unnecessary features
--disable-report-builder
--disable-lpsolve
--disable-coinmp
--disable-ldap
--disable-opencl
--disable-xmlhelp
--disable-cve-tests
--disable-lotuswordpro
--disable-odk
--disable-online-update
--disable-crashdump
--disable-community-flavor

# Disable PDF handling (comment out if you need PDF input)
--disable-pdfimport
--disable-pdfium

# Disable crypto
--disable-openssl
--disable-nss

# Build optimization
--disable-debug
--enable-sal-log
--enable-optimized=yes
--enable-lto
--disable-ccache
--disable-split-debug
--disable-symbols

# Use internal libraries (required for WASM)
--with-system-libs=no
--without-java
--without-doxygen
--without-helppack-integration
--without-myspell-dicts

# Parallelization
--with-parallelism=4

