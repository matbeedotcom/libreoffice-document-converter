diff --git a/.gitignore b/.gitignore
index 7bd30210a..39dea313c 100644
--- a/.gitignore
+++ b/.gitignore
@@ -35,7 +35,7 @@
 # autoconf generated stuff
 /aclocal.m4
 /autom4te.cache
-/autogen.input
+# /autogen.input
 /autogen.lastrun
 /autogen.lastrun.bak
 /ChangeLog
diff --git a/Repository.mk b/Repository.mk
index 4a505655d..9e103a493 100644
--- a/Repository.mk
+++ b/Repository.mk
@@ -285,14 +285,14 @@ $(eval $(call gb_Helper_register_plugins_for_install,OOOLIBS,calc, \
 
 $(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,graphicfilter, \
 	svgfilter \
-	wpftdraw \
+	$(if $(ENABLE_CDR),wpftdraw) \
 	graphicfilter \
 ))
 
 $(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,impress, \
 	animcore \
 	PresentationMinimizer \
-	wpftimpress \
+	$(if $(ENABLE_ETONYEK),wpftimpress) \
 ))
 
 $(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,onlineupdate, \
diff --git a/autogen.input b/autogen.input
new file mode 100644
index 000000000..c7aa6ef85
--- /dev/null
+++ b/autogen.input
@@ -0,0 +1,94 @@
+# ==========================================
+# LibreOffice WASM: Full Document IO Build
+# ==========================================
+# GOALS:
+#   - 100% import/export format support (DOCX, XLSX, PPTX, etc.)
+#   - NO UI, NO desktop toolkits, NO Java
+#   - Fully compatible with LOK + WASM threading
+#   - Smallest possible footprint for a full-format runtime
+#
+# IMPORTANT:
+#   --with-main-module=all is REQUIRED for PPTX support.
+#   Anything else causes missing Impress filters.
+# ==========================================
+
+--host=wasm32-local-emscripten
+--with-main-module=all
+--disable-gui
+
+# ==========================================
+# Disable GUI toolkits, OS deps
+# Note: Do NOT disable cairo-canvas or skia - needed for PDF/SVG rendering
+# ==========================================
+--disable-kf5
+--disable-kf6
+--disable-gtk3
+--disable-gtk4
+--disable-qt5
+--disable-qt6
+--disable-gstreamer-1-0
+--disable-sdremote
+--disable-sdremote-bluetooth
+--disable-dbus
+--disable-cups
+--disable-randr
+
+# ==========================================
+# Remove anything related to scripting/automation
+# ==========================================
+--disable-scripting
+--disable-librelogo
+--disable-odk
+
+# ==========================================
+# Disable database connectors (not supported in WASM)
+# ==========================================
+--disable-database-connectivity
+--disable-mariadb-sdbc
+--disable-postgresql-sdbc
+--disable-firebird-sdbc
+--disable-ldap
+--without-krb5
+--without-gssapi
+
+# ==========================================
+# Ensure full filter system is built
+# (OOXML, MS binary, DrawingML, VML, SVG, PDF, etc.)
+# ==========================================
+# lpsolve/coinmp disabled in WASM builds
+
+# ==========================================
+# Disable updates / crash reporter / telemetry
+# ==========================================
+--disable-online-update
+--disable-crashdump
+--disable-cve-tests
+
+# ==========================================
+# Crypto not needed for conversion
+# ==========================================
+--disable-nss
+
+# ==========================================
+# Remove unused extras (keeps binary small)
+# ==========================================
+--without-java
+--without-doxygen
+--without-helppack-integration
+--without-myspell-dicts
+--with-lang=en-US
+
+# ==========================================
+# WASM build optimizations
+# ==========================================
+--enable-optimized
+--enable-wasm-strip
+--disable-debug
+--enable-sal-log
+
+# ==========================================
+# PDF import/export support
+# ==========================================
+--enable-pdfimport
+--enable-pdfium
+--disable-poppler
diff --git a/autogen.input.writer-only b/autogen.input.writer-only
new file mode 100644
index 000000000..20f901181
--- /dev/null
+++ b/autogen.input.writer-only
@@ -0,0 +1,10 @@
+# LibreOffice WASM Headless Build Configuration
+# Auto-generated by build-wasm.sh
+
+--disable-debug
+--enable-sal-log
+--disable-crashdump
+--host=wasm32-local-emscripten
+--disable-gui
+--with-main-module=writer
+--with-parallelism=32
diff --git a/comphelper/source/misc/threadpool.cxx b/comphelper/source/misc/threadpool.cxx
index f0a71eb05..5b49df689 100644
--- a/comphelper/source/misc/threadpool.cxx
+++ b/comphelper/source/misc/threadpool.cxx
@@ -135,6 +135,12 @@ std::size_t ThreadPool::getPreferredConcurrency()
 {
     static std::size_t ThreadCount = []()
     {
+#ifdef __EMSCRIPTEN__
+        // Force single-threaded mode for WASM to avoid deadlocks when
+        // spawning new threads during rendering (Chromium pthread limitation)
+        SAL_INFO("comphelper.threadpool", "WASM build: forcing single-threaded mode");
+        return std::size_t(1);
+#else
         const std::size_t nHardThreads = o3tl::clamp_to_unsigned<std::size_t>(
             std::max(std::thread::hardware_concurrency(), 1U));
         std::size_t nThreads = nHardThreads;
@@ -147,6 +153,7 @@ std::size_t ThreadPool::getPreferredConcurrency()
 
         nThreads = std::min(nHardThreads, nThreads);
         return std::max<std::size_t>(nThreads, 1);
+#endif
     }();
 
     return ThreadCount;
@@ -298,6 +305,24 @@ void ThreadPool::joinThreadsIfIdle()
     }
 }
 
+void ThreadPool::preSpawnWorkers()
+{
+    std::scoped_lock< std::mutex > aGuard( maMutex );
+
+    SAL_INFO("comphelper.threadpool", "preSpawnWorkers: spawning " << mnMaxWorkers << " workers");
+
+    mbTerminate = false;
+
+    // Spawn all workers up to the maximum
+    while (maWorkers.size() < mnMaxWorkers)
+    {
+        maWorkers.push_back( new ThreadWorker( this ) );
+        maWorkers.back()->launch();
+    }
+
+    SAL_INFO("comphelper.threadpool", "preSpawnWorkers: spawned " << maWorkers.size() << " workers");
+}
+
 std::shared_ptr<ThreadTaskTag> ThreadPool::createThreadTaskTag()
 {
     return std::make_shared<ThreadTaskTag>();
diff --git a/config_build.mk b/config_build.mk
new file mode 100644
index 000000000..0a16de479
--- /dev/null
+++ b/config_build.mk
@@ -0,0 +1,803 @@
+ # config variable for LibreOffice
+ # this file is intended to be able to be included in a Makefile
+ # and not to be sourced in a shell session
+ #
+
+# Horrible hack to prepend spaces to expansions
+# Spaces are usually eaten by make parser but not if variable expands to space.
+# Space prefix is desirable because system CFLAGS may be completely empty,
+# which means that the variables defined here would need extra twiddling
+# to get them into invoked external configures and override pkg-config there.
+gb_SPACE:=$(gb_SPACE) $(gb_SPACE)
+export SRC_ROOT=/home/acidhax/libreoffice-wasm-build/libreoffice
+export BUILDDIR=/home/acidhax/libreoffice-wasm-build/libreoffice
+
+# export AFLAGS=
+export ABW_CFLAGS=$(gb_SPACE)
+export ABW_LIBS=$(gb_SPACE)
+export ANDROID_NDK_DIR=
+export ANDROID_NDK_VERSION=
+export ANDROID_API_LEVEL=
+export ANDROID_APP_ABI=
+export ANDROID_SDK_DIR=
+export ANDROID_SYSROOT_PLATFORM=
+export ANDROID_PACKAGE_NAME=
+export ANDROID_TOOLCHAIN=
+export ANDROID_GCC_TOOLCHAIN_VERSION=
+export ANT=
+export ANT_HOME=
+export ANT_LIB=
+export AR=gcc-ar
+export ASSERT_ALWAYS_ABORT=FALSE
+export ATL_INCLUDE=
+export ATL_LIB=
+export ATOMIC_LIB=
+export ATSPI2_CFLAGS=$(gb_SPACE)
+export ATSPI2_LIBS=$(gb_SPACE)
+export AVAHI_CFLAGS=$(gb_SPACE)
+export AVAHI_LIBS=$(gb_SPACE)
+export LIBATOMIC_OPS_CFLAGS=$(gb_SPACE)
+export LIBATOMIC_OPS_LIBS=$(gb_SPACE)
+export BACKTRACE_CFLAGS=
+export BACKTRACE_LIBS=
+export BINDIR=/usr/local/bin
+export BISON=/usr/bin/bison
+export BOOST_CPPFLAGS=-I/home/acidhax/libreoffice-wasm-build/libreoffice/external/boost/include -I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/boost
+export BOOST_CXXFLAGS=-D_GLIBCXX_HAS_GTHREADS
+export BOOST_LOCALE_LIB=
+export BOOST_DATE_TIME_LIB=
+export BOOST_FILESYSTEM_LIB=
+export BOOST_IOSTREAMS_LIB=
+export BOOST_LDFLAGS=
+export BOOST_SYSTEM_LIB=
+export BOX2D_CFLAGS=
+export BOX2D_LIBS=
+export BRAND_INTRO_IMAGES=intro.png intro-highres.png
+export BREAKPAD_SYMBOL_CONFIG=
+export BSH_JAR=
+export BUILD_PLATFORM=x86_64-pc-linux-gnu
+export BUILD_POSTGRESQL_SDBC=
+export BUILD_TYPE=LibO DESKTOP DYNLOADING NATIVE ZLIB LIBJPEG_TURBO EXPAT LCMS2 LIBXSLT LIBXML2 CURL BOOST MDDS DRAGONBOX FROZEN GLM ICU ORCUS GRAPHITE HARFBUZZ ARGON2 ZXCVBN EPOXY CAIRO LIBLANGTAG LIBPNG LIBTIFF LIBWEBP 
+export BUILD_X64=
+export BUILD_X86=
+export BUILDING_PCH_WITH_OBJ=
+export BZIP2_CFLAGS=$(gb_SPACE)
+export BZIP2_LIBS=$(gb_SPACE)
+export CAIRO_CFLAGS=$(gb_SPACE)
+export CAIRO_LIBS=$(gb_SPACE)
+export CC=gcc
+export CC_FOR_BUILD=gcc
+export CCACHE_DEPEND_MODE=
+export CDR_CFLAGS=$(gb_SPACE)
+export CDR_LIBS=$(gb_SPACE)
+# export CFLAGS=
+export CLANG_USE_LD=
+export CLANGDIR=
+export CLANGLIBDIR=
+export CLANGSYSINCLUDE=
+export CLANGTOOLLIBS=
+export CLUCENE_CFLAGS=$(gb_SPACE)
+export CLUCENE_LIBS=$(gb_SPACE)
+export LIBCMIS_CFLAGS=$(gb_SPACE)
+export LIBCMIS_LIBS=$(gb_SPACE)
+export COM=GCC
+export COMPATH=/usr
+export COMPILER_PLUGINS=
+export COMPILER_PLUGINS_ANALYZER_PCH=TRUE
+export COMPILER_PLUGINS_COM_IS_CLANG=
+export COMPILER_PLUGINS_CXX=
+export COMPILER_PLUGINS_CXXFLAGS=
+export COMPILER_PLUGINS_CXX_LINKFLAGS=
+export COMPILER_PLUGINS_DEBUG=
+export COMPILER_PLUGINS_TOOLING_ARGS=
+export COMPRESSIONTOOL=/usr/bin/gzip
+export COM_IS_CLANG=
+export COREDUMPCTL=
+export CPPU_ENV=gcc3
+export CPPU_ENV_FOR_BUILD=gcc3
+export CPPUNIT_CFLAGS=$(gb_SPACE)
+export CPPUNIT_LIBS=$(gb_SPACE)
+export CPUNAME=X86_64
+export CROSS_COMPILING=
+export CURL=/usr/bin/curl
+export CURL_CFLAGS=$(gb_SPACE)
+export CURL_LIBS=$(gb_SPACE)
+export CUSTOM_BRAND_DIR=
+export CUSTOM_BRAND_IMAGES=
+export CXX=g++
+export CXX_FOR_BUILD=
+export CXX_X64_BINARY=
+export CXX_X86_BINARY=
+# export CXXFLAGS=
+export CXXFLAGS_CXX11=-std=c++20
+export CXXFLAGS_INTRINSICS_SSE2=-msse2
+export CXXFLAGS_INTRINSICS_SSSE3=-mssse3
+export CXXFLAGS_INTRINSICS_SSE41=-msse4.1
+export CXXFLAGS_INTRINSICS_SSE42=-msse4.2
+export CXXFLAGS_INTRINSICS_AVX=-mavx
+export CXXFLAGS_INTRINSICS_AVX2=-mavx2
+export CXXFLAGS_INTRINSICS_AVX512=-mavx512f -mavx512vl -mavx512bw -mavx512dq -mavx512cd
+export CXXFLAGS_INTRINSICS_AVX512F=-mavx512f
+export CXXFLAGS_INTRINSICS_F16C=-mf16c
+export CXXFLAGS_INTRINSICS_FMA=-mfma
+export DATADIR=/usr/local/share
+export DBUS_CFLAGS=$(gb_SPACE)
+export DBUS_LIBS=$(gb_SPACE)
+export DBUS_GLIB_CFLAGS=$(gb_SPACE)
+export DBUS_GLIB_LIBS=$(gb_SPACE)
+export DBUS_HAVE_GLIB=
+export DBUS_LAUNCH=
+export DCONF_CFLAGS=
+export DCONF_LIBS=
+export DEFAULT_BRAND_IMAGES=intro.png intro-highres.png logo.svg logo_inverted.svg logo-sc.svg logo-sc_inverted.svg about.svg
+export DICT_SYSTEM_DIR=file:///usr/share/hunspell
+export DISABLE_CVE_TESTS=
+export DISABLE_DYNLOADING=
+export DISABLE_PYTHON=TRUE
+export DOCDIR=/usr/local/share/doc/libreoffice
+export DOXYGEN=
+export DO_FETCH_TARBALLS=TRUE
+export DRAGONBOX_CFLAGS=
+export FROZEN_CFLAGS=
+export DPKG=
+export EBOOK_CFLAGS=$(gb_SPACE)
+export EBOOK_LIBS=$(gb_SPACE)
+export EMSDK_FILE_PACKAGER=
+export EMSCRIPTEN_EXTRA_SOFFICE_POST_JS=
+export ENABLE_ANDROID_LOK=
+export ENABLE_ANDROID_EDITING=
+export ENABLE_AVAHI=
+export ENABLE_BREAKPAD=
+export DEFAULT_CRASHDUMP_VALUE=true
+export ENABLE_CAIRO_CANVAS=
+export ENABLE_CAIRO_RGBA=
+export ENABLE_CIPHER_OPENSSL_BACKEND=
+export ENABLE_CLUCENE=
+export ENABLE_LIBCMIS=
+export ENABLE_COINMP=
+SYSTEM_COINMP=
+export COINMP_CFLAGS=
+export COINMP_LIBS=
+export ENABLE_ATSPI_TESTS=
+export ENABLE_CUPS=
+export ENABLE_CURL=TRUE
+export ENABLE_DBGUTIL=
+export ENABLE_DBUS=
+export ENABLE_DCONF=
+export ENABLE_DEBUG=
+SYSTEM_DRAGONBOX=
+SYSTEM_FROZEN=
+export ENABLE_EPOXY=TRUE
+export ENABLE_EOT=
+export ENABLE_EVOAB2=
+export ENABLE_FIREBIRD_SDBC=
+export ENABLE_FORMULA_LOGGER=
+export ENABLE_GDB_INDEX=
+export ENABLE_GEN=
+export ENABLE_GIO=
+export ENABLE_GPGMEPP=
+export ENABLE_GSTREAMER_1_0=
+export ENABLE_GTK3=
+export ENABLE_GTK4=
+export ENABLE_GTKTILEDVIEWER=
+export DISABLE_GUI=
+export ENABLE_HARDENING_FLAGS=
+export HARDENING_CFLAGS= -grecord-gcc-switches -Wp,-D_GLIBCXX_ASSERTIONS -fstack-clash-protection -fcf-protection
+export HARDENING_OPT_CFLAGS=
+export ENABLE_HEADLESS=TRUE
+export ENABLE_HTMLHELP=
+export ENABLE_JAVA=
+export ENABLE_JUMBO_SHEETS=TRUE
+export ENABLE_LDAP=
+export ENABLE_LPSOLVE=
+export ENABLE_LTO=
+export ENABLE_LWP=
+export ENABLE_MACOSX_SANDBOX=
+export ENABLE_MEDIAWIKI=
+export ENABLE_MARIADBC=
+export ENABLE_NSS=
+export ENABLE_ONLINE_UPDATE=
+export ENABLE_ONLINE_UPDATE_MAR=
+export ENABLE_EXTENSION_UPDATE=
+export ENABLE_OOENV=
+export ENABLE_OPENGL_TRANSITIONS=
+export ENABLE_OPENGL_CANVAS=
+export ENABLE_OPENSSL=
+export ENABLE_OPTIMIZED=TRUE
+export ENABLE_OPTIMIZED_DEBUG=
+export ENABLE_PAGEIN=TRUE
+export ENABLE_PCH=
+export ENABLE_PDFIMPORT=
+export ENABLE_PDFIUM=
+export ENABLE_POPPLER=
+export ENABLE_QT5=
+export ENABLE_QT6=
+export ENABLE_QT6_MULTIMEDIA=
+export ENABLE_KF5=
+export ENABLE_KF6=
+export ENABLE_GTK3_KDE5=
+export ENABLE_RANDR=
+export ENABLE_RELEASE_BUILD=
+export ENABLE_REPORTBUILDER=
+export ENABLE_RUNTIME_OPTIMIZATIONS=TRUE
+export ENABLE_SAL_LOG=
+export ENABLE_SCRIPTING_BEANSHELL=
+export ENABLE_SCRIPTING_JAVASCRIPT=
+export ENABLE_SDREMOTE=TRUE
+export ENABLE_SDREMOTE_BLUETOOTH=
+export ENABLE_CUSTOMTARGET_COMPONENTS=
+export ENABLE_SILENT_MSI=
+export ENABLE_SKIA=
+export ENABLE_SKIA_DEBUG=
+export ENABLE_SYMBOLS_FOR=
+export ENABLE_VALGRIND=
+export ENABLE_WASM_STRIP_ACCESSIBILITY=
+export ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=
+export ENABLE_WASM_STRIP_WRITER=
+export ENABLE_WASM_STRIP_CALC=
+export ENABLE_WASM_STRIP_CANVAS=
+export ENABLE_WASM_STRIP_CHART=
+export ENABLE_WASM_STRIP_DBACCESS=
+export ENABLE_WASM_STRIP_EPUB=
+export ENABLE_WASM_STRIP_EXTRA=
+export ENABLE_WASM_STRIP_GUESSLANG=
+export ENABLE_WASM_STRIP_HUNSPELL=
+export ENABLE_WASM_STRIP_LANGUAGETOOL=
+export ENABLE_WASM_STRIP_LOCALES=
+export ENABLE_WASM_STRIP_PINGUSER=
+export ENABLE_WASM_STRIP_PREMULTIPLY=
+export ENABLE_WASM_STRIP_RECENT=
+export ENABLE_WASM_STRIP_RECOVERYUI=
+export ENABLE_WASM_STRIP_SPLASH=
+export ENABLE_WASM_STRIP_SWEXPORTS=
+export ENABLE_WASM_STRIP_SCEXPORTS=
+export ENABLE_WERROR=
+ENABLE_WIX=
+export ENABLE_Z7_DEBUG=
+export ENDIANNESS=little
+export EPM=NO
+export EPM_FLAGS=
+export EPUBGEN_CFLAGS=$(gb_SPACE)
+export EPUBGEN_LIBS=$(gb_SPACE)
+export ETONYEK_CFLAGS=$(gb_SPACE)
+export ETONYEK_LIBS=$(gb_SPACE)
+export debug=
+export FIND=find
+export FIREBIRD_CFLAGS=$(gb_SPACE)
+export FIREBIRD_LIBS=$(gb_SPACE)
+export FLEX=/usr/bin/flex
+export FLUTE_JAR=
+export FONTCONFIG_CFLAGS=$(gb_SPACE)
+export FONTCONFIG_LIBS=$(gb_SPACE)
+export FONTFORGE=
+export FREEHAND_CFLAGS=$(gb_SPACE)
+export FREEHAND_LIBS=$(gb_SPACE)
+export FREETYPE_CFLAGS=$(gb_SPACE)-isystem /home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/freetype/include
+export FREETYPE_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/freetype/instdir_for_build/lib -lfreetype
+export GCC_VERSION=1303
+export GIO_CFLAGS=$(gb_SPACE)
+export GIO_LIBS=$(gb_SPACE)
+export GIT_REFERENCE_SRC=
+export GIT_LINK_SRC=
+export GIT_NEEDED_SUBMODULES=
+export EPOXY_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/epoxy/include
+export EPOXY_LIBS=$(gb_SPACE)
+export GLM_CFLAGS=$(gb_SPACE)-isystem /home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/glm
+export GPG_ERROR_CFLAGS=$(gb_SPACE)
+export GPG_ERROR_LIBS=$(gb_SPACE)
+export GPGMEPP_CFLAGS=$(gb_SPACE)
+export GPGMEPP_LIBS=$(gb_SPACE)
+export PARALLELISM?=32
+ export GNUCOPY=/usr/bin/cp
+export GNUPATCH=/usr/bin/patch
+export GNUTAR=tar
+export GOBJECT_CFLAGS=$(gb_SPACE)
+export GOBJECT_LIBS=$(gb_SPACE)
+export GPERF=/usr/bin/gperf
+export GRAPHITE_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/graphite/include -DGRAPHITE2_STATIC
+export GRAPHITE_LIBS=$(gb_SPACE)/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/LinkTarget/StaticLibrary/libgraphite.a
+export HARFBUZZ_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/harfbuzz/src
+export HARFBUZZ_LIBS=$(gb_SPACE)/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/harfbuzz/src/.libs/libharfbuzz.a
+# export GREP=
+export GSSAPI_LIBS=
+export GSTREAMER_1_0_CFLAGS=$(gb_SPACE)
+export GSTREAMER_1_0_LIBS=$(gb_SPACE)
+export GTK3_CFLAGS=$(gb_SPACE)
+export GTK3_LIBS=$(gb_SPACE)
+export GTK4_CFLAGS=$(gb_SPACE)
+export GTK4_LIBS=$(gb_SPACE)
+export USING_X11=
+export HAMCREST_JAR=
+export HAVE_ASM_END_BRANCH_INS_SUPPORT=TRUE
+export HAVE_BROKEN_GCC_WMAYBE_UNINITIALIZED=
+export HAVE_BROKEN_GCC_WSTRINGOP_OVERFLOW=
+export HAVE_CLANG_DEBUG_INFO_KIND_CONSTRUCTOR=
+export HAVE_CXX20_ATOMIC_REF=TRUE
+export HAVE_DLLEXPORTINLINES=
+export HAVE_EXTERNAL_DWARF=
+export HAVE_LO_CLANG_DLLEXPORTINLINES=
+export HAVE_GCC_AVX=TRUE
+export HAVE_GCC_BUILTIN_ATOMIC=TRUE
+export HAVE_GCC_FNO_ENFORCE_EH_SPECS=TRUE
+export HAVE_GCC_FNO_SIZED_DEALLOCATION=TRUE
+export HAVE_GCC_GGDB2=TRUE
+export HAVE_GCC_STACK_CLASH_PROTECTION=TRUE
+export HAVE_LD_BSYMBOLIC_FUNCTIONS=TRUE
+export HAVE_LD_HASH_STYLE=TRUE
+export HAVE_LIBCPP=
+export HAVE_LIBSTDCPP=TRUE
+export HAVE_POSIX_FALLOCATE=YES
+export HAVE_WDEPRECATED_COPY_DTOR=TRUE
+export HELP_ONLINE=
+export HELP_OMINDEX_PAGE=
+export HOST_PLATFORM=x86_64-pc-linux-gnu
+export HSQLDB_JAR=
+export HUNSPELL_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/hunspell/src/hunspell
+export HUNSPELL_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/hunspell/src/hunspell/.libs -lhunspell-1.7
+export HYPHEN_LIB=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/hyphen/.libs -lhyphen
+export HYPH_SYSTEM_DIR=file:///usr/share/hyphen
+export ICECREAM_RUN=
+# export ICECC_VERSION=
+export ICU_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/icu/source/i18n -I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/icu/source/common
+export ICU_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/icu/source/lib
+export ICU_MAJOR=74
+export ICU_MINOR=2
+export INTROSPECTION_SCANNER=
+export ILIB=
+export ILIB_FOR_BUILD=
+export INSTALLDIR=/usr/local/lib/libreoffice
+export INSTALLDIRNAME=libreoffice
+export INSTALL_NAME_TOOL=
+export INSTDIR=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir_for_build
+export INSTDIR_FOR_BUILD=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir_for_build
+export INSTROOT=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir_for_build
+export INSTROOTBASE=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir_for_build
+export INSTROOT_FOR_BUILD=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir_for_build
+export JAVACOMPILER=
+export JAVADOC=
+export JAVADOCISGJDOC=
+export JAVACFLAGS=
+export JAVAIFLAGS=
+export JAVAIFLAGS_FOR_BUILD=
+export JAVAINTERPRETER=
+export JAVA_HOME=
+export JAVA_HOME_FOR_BUILD=
+export JAVA_SOURCE_VER=
+export JAVA_TARGET_VER=
+export JAWTLIB=
+export JDK=
+export JDK_FOR_BUILD=
+export JDK_SECURITYMANAGER_DISALLOWED_FOR_BUILD=
+export JFREEREPORT_JAR=
+export JITC_PROCESSOR_TYPE=
+export JQ=
+export JVM_ONE_PATH_CHECK=
+export KF5_CFLAGS=$(gb_SPACE)
+export KF5_LIBS=$(gb_SPACE)
+export KF6_CFLAGS=$(gb_SPACE)
+export KF6_LIBS=$(gb_SPACE)
+export KRB5_LIBS=
+export LCMS2_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/lcms2/include -Wno-long-long
+export LCMS2_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/lcms2/src/.libs -llcms2
+export LD=
+export LD_GC_SECTIONS=-Wl,--gc-sections
+export LD_PLUGIN=
+# export LDFLAGS=
+export LFS_CFLAGS=
+export LIBASSUAN_CFLAGS=$(gb_SPACE)
+export LIBASSUAN_LIBS=$(gb_SPACE)
+export LIBBASE_JAR=
+export LIBCPP_DEBUG=
+export LIBDIR=/usr/local/lib
+export LIBEOT_CFLAGS=$(gb_SPACE)
+export LIBEOT_LIBS=$(gb_SPACE)
+export LIBEXSLT_CFLAGS=$(gb_SPACE)
+export LIBEXSLT_LIBS=$(gb_SPACE)
+export LIBEXTTEXTCAT_CFLAGS=$(gb_SPACE)
+export LIBEXTTEXTCAT_LIBS=$(gb_SPACE)
+export LIBFONTS_JAR=
+export LIBFORMULA_JAR=
+export LIBJPEG_CFLAGS=$(gb_SPACE)
+export LIBJPEG_LIBS=$(gb_SPACE)
+export LIBLANGTAG_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/liblangtag
+export LIBLANGTAG_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/liblangtag/liblangtag/.libs -llangtag
+export LIBLAYOUT_JAR=
+export LIBLOADER_JAR=
+export LIBNUMBERTEXT_CFLAGS=$(gb_SPACE)
+export LIBNUMBERTEXT_LIBS=$(gb_SPACE)
+export LIB_FUZZING_ENGINE=
+export LIBO_BIN_FOLDER=program
+export LIBO_BIN_FOLDER_FOR_BUILD=program
+export LIBO_ETC_FOLDER=program
+export LIBO_LIB_FOLDER=program
+export LIBO_LIB_FOLDER_FOR_BUILD=program
+export LIBO_LIB_PYUNO_FOLDER=program
+export LIBO_SHARE_FOLDER=share
+export LIBO_SHARE_HELP_FOLDER=help
+export LIBO_SHARE_JAVA_FOLDER=program/classes
+export LIBO_SHARE_PRESETS_FOLDER=presets
+export LIBO_SHARE_READMES_FOLDER=readmes
+export LIBO_SHARE_RESOURCE_FOLDER=program/resource
+export LIBO_URE_BIN_FOLDER=program
+export LIBO_URE_ETC_FOLDER=program
+export LIBO_URE_LIB_FOLDER=program
+export LIBO_URE_LIB_FOLDER_FOR_BUILD=program
+export LIBO_URE_MISC_FOLDER=program
+export LIBO_URE_MISC_FOLDER_FOR_BUILD=program
+export LIBO_URE_SHARE_JAVA_FOLDER=program/classes
+export LIBO_VERSION_MAJOR=24
+export LIBO_VERSION_MICRO=8
+export LIBO_VERSION_MINOR=8
+export LIBO_VERSION_PATCH=0
+export LIBO_VERSION_SUFFIX=.0
+export LIBO_VERSION_SUFFIX_SUFFIX=+
+export LIBPNG_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/libpng
+export LIBPNG_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/LinkTarget/StaticLibrary -llibpng
+export LIBREPOSITORY_JAR=
+export LIBSERIALIZER_JAR=
+export LIBTIFF_CFLAGS=$(gb_SPACE)
+export LIBTIFF_LIBS=$(gb_SPACE)
+export LIBTOMMATH_CFLAGS=
+export LIBTOMMATH_LIBS=
+export LIBTOOL=
+export LIBWEBP_CFLAGS=$(gb_SPACE)
+export LIBWEBP_LIBS=$(gb_SPACE)
+export LIBXML_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/libxml2/include
+export LIBXML_JAR=
+export LIBXML_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/libxml2/.libs -lxml2
+export LIBXSLT_CFLAGS=$(gb_SPACE)
+export LIBXSLT_LIBS=$(gb_SPACE)
+export LIBFIXMATH_LIBS=$(gb_SPACE)
+export LOCKFILE=
+export LO_CLANG_CC=
+export LO_CLANG_CXX=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSE2=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSSE3=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSE41=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSE42=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX2=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX512=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX512F=
+export LO_CLANG_CXXFLAGS_INTRINSICS_F16C=
+export LO_CLANG_CXXFLAGS_INTRINSICS_FMA=
+export LO_CLANG_SHOWINCLUDES_PREFIX=
+export LO_CLANG_VERSION=
+# export LO_ELFCHECK_ALLOWLIST=
+# export LS=
+export MACOSX_BUNDLE_IDENTIFIER=
+export MACOSX_CODESIGNING_IDENTITY=
+export MACOSX_DEPLOYMENT_TARGET=
+export MACOSX_PACKAGE_SIGNING_IDENTITY=
+export MACOSX_PROVISIONING_PROFILE=
+export MACOSX_SDK_PATH=
+export MAC_OS_X_VERSION_MIN_REQUIRED=
+export MANDIR=/usr/local/share/man
+export MARIADBC_MAJOR=1
+export MARIADBC_MICRO=2
+export MARIADBC_MINOR=0
+export MARIADB_CFLAGS=$(gb_SPACE)
+export MARIADB_LIBS=$(gb_SPACE)
+export LIBMARIADB=
+export LIBMARIADB_PATH=
+export BUNDLE_MARIADB_CONNECTOR_C=
+export MDDS_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/mdds/include
+export MDDS_LIBS=$(gb_SPACE)
+export MERGELIBS=
+export MERGELIBS_MORE=
+export ML_EXE=
+export MOC5=
+export MOC6=
+MODULAR_JAVA=
+export MPL_SUBSET=
+export MSGFMT=
+export MSGUNIQ=
+export MSM_PATH=
+export MSPUB_CFLAGS=$(gb_SPACE)
+export MSPUB_LIBS=$(gb_SPACE)
+export MSVC_CXX=
+export MSVC_DLLS=
+export MSVC_DLL_PATH=
+export MSVC_USE_DEBUG_RUNTIME=
+export MWAW_CFLAGS=$(gb_SPACE)
+export MWAW_LIBS=$(gb_SPACE)
+export MYTHES_CFLAGS=$(gb_SPACE)
+export MYTHES_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/mythes/.libs -lmythes-1.2
+export NASM=nasm
+export NAFLAGS=-felf64 -DELF -D__x86_64__ -DPIC
+export NM=gcc-nm
+export NSS_CFLAGS=$(gb_SPACE)
+export NSS_LIBS=$(gb_SPACE)
+export NUMBERTEXT_EXTENSION_PACK=
+export nodep=
+# export OBJCFLAGS=
+# export OBJCXXFLAGS=
+export OBJDUMP=objdump
+export ODFGEN_CFLAGS=$(gb_SPACE)
+export ODFGEN_LIBS=$(gb_SPACE)
+export ODFVALIDATOR=
+export OFFICEOTRON=
+export BFFVALIDATOR=
+export ONLINEUPDATE_MAR_BASEURL=
+export ONLINEUPDATE_MAR_CERTIFICATEDER=
+export ONLINEUPDATE_MAR_CERTIFICATENAME=
+export ONLINEUPDATE_MAR_CERTIFICATEPATH=
+export OOO_JUNIT_JAR=
+export OOO_VENDOR=acidhax
+export OPENSSL_CFLAGS=$(gb_SPACE)
+export OPENSSL_LIBS=$(gb_SPACE)
+export ORCUS_CFLAGS=$(gb_SPACE)
+export ORCUS_LIBS=$(gb_SPACE)
+export OS=LINUX
+export OS_FOR_BUILD=LINUX
+export PATH=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/bin:/home/acidhax/.cursor-server/bin/56f0a83df8e9eb48585fcc4858a9440db4cc7770/bin/remote-cli:/home/acidhax/libreoffice-wasm-build/emsdk:/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten:/home/acidhax/libreoffice-wasm-build/emsdk/node/22.16.0_64bit/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v13.0/bin/x64:/mnt/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v13.0/bin:/mnt/c/Program Files/Microsoft SDKs/Azure/CLI2/wbin:/mnt/c/Program Files/Eclipse Adoptium/jdk-21.0.7.6-hotspot/bin:/mnt/c/Program Files/Oculus/Support/oculus-runtime:/mnt/c/Python313/Scripts/:/mnt/c/Python313/:/mnt/c/Program Files (x86)/Razer Chroma SDK/bin:/mnt/c/Program Files/Razer Chroma SDK/bin:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/NVIDIA Corporation/PhysX/Common:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA app/NvDLISR:/mnt/c/Users/mail/AppData/Roaming/nvm:/mnt/c/Program Files/nodejs:/mnt/c/Users/mail/AppData/Local/Programs/cursor/resources/app/bin:/mnt/c/WINDOWS/system32/config/systemprofile/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/mail/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/astral-sh.uv_Microsoft.Winget.Source_8wekyb3d8bbwe:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/SQLite.SQLite_Microsoft.Winget.Source_8wekyb3d8bbwe:/mnt/c/Users/mail/AppData/Local/Programs/Windsurf/bin:/mnt/c/Users/mail/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Program Files/PuTTY/:/mnt/c/ProgramData/chocolatey/bin:/mnt/c/Program Files/Git/cmd:/mnt/c/Program Files/GitHub CLI/:/mnt/c/ProgramData/chocolatey/lib/cunit/lib:/mnt/c/ProgramData/chocolatey/lib/tinyxml2/lib:/mnt/c/ProgramData/chocolatey/lib/bullet/lib:/mnt/c/Program Files (x86)/cloudflared/:/mnt/c/Program Files/usbipd-win/:/mnt/c/Program Files/Arduino CLI/:/mnt/c/Users/mail/AppData/Local/Muse Hub/lib:/mnt/c/Program Files (x86)/Windows Kits/10/Windows Performance Toolkit/:/mnt/c/Program Files/Amazon/AWSCLIV2/:/mnt/c/Program Files/Cloudflare/Cloudflare WARP/:/mnt/c/Program Files/Go/bin:/mnt/c/Program Files/cursor/resources/app/bin:/mnt/c/Program Files/CMake/bin:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Users/mail/.cargo/bin:/mnt/c/Users/mail/anaconda3:/mnt/c/Users/mail/anaconda3/Library/mingw-w64/bin:/mnt/c/Users/mail/anaconda3/Library/usr/bin:/mnt/c/Users/mail/anaconda3/Library/bin:/mnt/c/Users/mail/anaconda3/Scripts:/mnt/c/Users/mail/.dotnet/tools:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/Gyan.FFmpeg_Microsoft.Winget.Source_8wekyb3d8bbwe/ffmpeg-7.1.1-full_build/bin:/mnt/c/Users/mail/AppData/Roaming/Code/User/globalStorage/ms-vscode-remote.remote-containers/cli-bin:/mnt/c/Program Files/OpenSSL-Win64/bin:/mnt/c/Users/mail/AppData/Local/slack-cli/bin:/mnt/c/Users/mail/.deno/bin:/mnt/c/Users/mail/AppData/Local/Programs/Ollama:/mnt/c/Users/mail/.bun/bin:/mnt/c/Users/mail/AppData/Local/Programs/Azure Dev CLI/:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Links:/mnt/c/Users/mail/AppData/Local/Programs/Microsoft VS Code Insiders/bin:/mnt/c/Users/mail/go/bin:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/MartinStorsjo.LLVM-MinGW.MSVCRT_Microsoft.Winget.Source_8wekyb3d8bbwe/llvm-mingw-20251104-msvcrt-x86_64/bin:/mnt/c/Users/mail/AppData/Local/Programs/Antigravity/bin:/snap/bin
+export LIBO_PATH_SEPARATOR=:
+export PAGEMAKER_CFLAGS=$(gb_SPACE)
+export PAGEMAKER_LIBS=$(gb_SPACE)
+export PCH_INSTANTIATE_TEMPLATES=
+export PCH_CODEGEN=
+export PCH_DEBUGINFO=
+export PCH_NO_CODEGEN=
+export PERL=/usr/bin/perl
+export PKGFORMAT?=
+export PKGMK=
+export PKG_CONFIG=/usr/bin/pkg-config
+ifneq (,)
+export PKG_CONFIG_PATH=
+else
+unexport PKG_CONFIG_PATH
+endif
+ifneq (,)
+export PKG_CONFIG_LIBDIR=
+else
+unexport PKG_CONFIG_LIBDIR
+endif
+export PLATFORMID=linux_x86_64
+export POPPLER_CFLAGS=$(gb_SPACE)
+export POPPLER_LIBS=$(gb_SPACE)
+export POSTGRESQL_INC=
+export POSTGRESQL_LIB=
+export PREFIXDIR=/usr/local
+export PRIVACY_POLICY_URL=undefined
+export PRODUCTNAME=LibreOfficeDev
+export PRODUCTNAME_WITHOUT_SPACES=LibreOfficeDev
+export PRODUCTVERSION=24.8
+export PROGRESSBARCOLOR=
+export PROGRESSFRAMECOLOR=
+export PROGRESSPOSITION=
+export PROGRESSSIZE=
+export PROGRESSTEXTBASELINE=
+export PROGRESSTEXTCOLOR=
+export PTHREAD_CFLAGS=
+export PTHREAD_LIBS=
+export PYTHON_CFLAGS=$(gb_SPACE)
+export PYTHON_FOR_BUILD=/usr/bin/python
+export PYTHON_LIBS=$(gb_SPACE)
+export PYTHON_VERSION=
+export PYTHON_VERSION_MAJOR=
+export PYTHON_VERSION_MINOR=
+export PYTHONWARNINGS=
+export ENABLE_ZXING=
+export ZXING_CFLAGS=$(gb_SPACE)
+export ZXING_LIBS=$(gb_SPACE)
+export QT5_CFLAGS=$(gb_SPACE)
+export QT5_LIBS=$(gb_SPACE)
+export QT5_GOBJECT_CFLAGS=$(gb_SPACE)
+export QT5_GOBJECT_LIBS=$(gb_SPACE)
+export QT5_HAVE_GOBJECT=
+export QT5_PLATFORMS_SRCDIR=
+export QT6_CFLAGS=$(gb_SPACE)
+export QT6_LIBS=$(gb_SPACE)
+export QT6_PLATFORMS_SRCDIR=
+export QXP_CFLAGS=$(gb_SPACE)
+export QXP_LIBS=$(gb_SPACE)
+export RANLIB=gcc-ranlib
+export RAPTOR_MAJOR=0
+export RASQAL_MAJOR=3
+export READELF=readelf
+export REDLAND_CFLAGS=$(gb_SPACE)
+export REDLAND_LIBS=$(gb_SPACE)
+export REDLAND_MAJOR=0
+export REVENGE_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/librevenge/inc
+export REVENGE_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/librevenge/src/lib/.libs -lrevenge-0.0
+export RHINO_JAR=
+export RPM=
+export RTL_ARCH=X86_64
+export RTL_OS=Linux
+export SAC_JAR=
+export SAL_ENABLE_FILE_LOCKING=1
+export SCPDEFS= -DDISABLE_SCRIPTING -DWITHOUT_EXTENSION_MEDIAWIKI -DWITHOUT_SCRIPTING_BEANSHELL -DWITHOUT_SCRIPTING_JAVASCRIPT
+export SDKDIRNAME=sdk
+export SDKDIRNAME_FOR_BUILD=sdk
+export SHA256SUM=shasum -a 256
+export SHOWINCLUDES_PREFIX=
+export SIZEOF_SIZE_T=8
+export SKIA_DISABLE_VMA_USE_STL_SHARED_MUTEX=@SKIA_DISABLE_VMA_USE_STL_SHARED_MUTEX@
+export SKIA_GPU=
+export SOLARINC= 
+export SORT=sort
+export SPLIT_APP_MODULES=
+export SPLIT_OPT_FEATURES=
+export SRCDIR=/home/acidhax/libreoffice-wasm-build/libreoffice
+export STAROFFICE_CFLAGS=$(gb_SPACE)
+export STAROFFICE_LIBS=$(gb_SPACE)
+export STRIP=strip
+export STRIP_COMPONENTS=--strip-components
+export SYSBASE=
+SYSTEM_ABSEIL=
+export ABSEIL_CFLAGS=
+export ABSEIL_LIBS=
+SYSTEM_ABW=
+ARGON2_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/argon2/include
+ARGON2_LIBS=$(gb_SPACE)/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/argon2/libargon2.a
+SYSTEM_ARGON2=
+SYSTEM_BLUEZ=
+# FIXME: concat-deps reads SYSTEM_BOOST from env
+SYSTEM_BOOST=
+SYSTEM_BSH=
+SYSTEM_BOX2D=
+SYSTEM_BZIP2=
+SYSTEM_CAIRO=
+SYSTEM_CLUCENE=
+SYSTEM_CPPUNIT=
+SYSTEM_CURL=
+SYSTEM_DICTS=TRUE
+SYSTEM_EXPAT=
+SYSTEM_FONTCONFIG=
+SYSTEM_FREETYPE=
+SYSTEM_FIREBIRD=
+SYSTEM_GENBRK=
+SYSTEM_GENCCODE=
+SYSTEM_GENCMN=
+SYSTEM_EPOXY=
+SYSTEM_GLM=
+SYSTEM_GPGMEPP=
+SYSTEM_GRAPHITE=
+SYSTEM_HARFBUZZ=
+SYSTEM_HSQLDB=
+SYSTEM_HUNSPELL=
+SYSTEM_HYPH=
+SYSTEM_ICU=
+SYSTEM_JFREEREPORT=
+SYSTEM_LIBJPEG=
+SYSTEM_LCMS2=
+SYSTEM_CDR=
+SYSTEM_LIBCMIS=
+SYSTEM_EBOOK=
+SYSTEM_ETONYEK=
+SYSTEM_EPUBGEN=
+SYSTEM_FREEHAND=
+SYSTEM_LIBATOMIC_OPS=
+SYSTEM_LIBEOT=
+SYSTEM_LIBEXTTEXTCAT=
+SYSTEM_LIBEXTTEXTCAT_DATA=
+SYSTEM_LIBFIXMATH=
+SYSTEM_LIBLANGTAG=
+SYSTEM_LIBNUMBERTEXT=
+SYSTEM_LIBNUMBERTEXT_DATA=
+SYSTEM_LIBORCUS=
+SYSTEM_LIBPNG=
+SYSTEM_LIBTIFF=
+SYSTEM_LIBTOMMATH=
+SYSTEM_LIBWEBP=
+SYSTEM_LIBXML=
+SYSTEM_LIBXML_FOR_BUILD=
+SYSTEM_LIBXSLT=
+SYSTEM_LIBXSLT_FOR_BUILD=
+SYSTEM_LPSOLVE=
+SYSTEM_MDDS=
+SYSTEM_MARIADB_CONNECTOR_C=
+SYSTEM_MSPUB=
+SYSTEM_MWAW=
+SYSTEM_MYTHES=
+SYSTEM_NSS=
+SYSTEM_ODBC_HEADERS=
+SYSTEM_ODFGEN=
+SYSTEM_OPENJPEG2=
+export OPENJPEG2_CFLAGS=
+export OPENJPEG2_LIBS=
+SYSTEM_OPENLDAP=
+SYSTEM_OPENSSL=
+SYSTEM_PAGEMAKER=
+SYSTEM_POPPLER=
+SYSTEM_POSTGRESQL=
+SYSTEM_PYTHON=
+SYSTEM_ZXCVBN=
+SYSTEM_ZXING=
+SYSTEM_QXP=
+SYSTEM_REDLAND=
+SYSTEM_REVENGE=
+SYSTEM_RHINO=
+SYSTEM_STAROFFICE=
+SYSTEM_VISIO=
+SYSTEM_WPD=
+SYSTEM_WPG=
+SYSTEM_WPS=
+SYSTEM_XMLSEC=
+SYSTEM_ZLIB=
+SYSTEM_ZMF=
+export SYSTEMD_ESCAPE=/usr/bin/systemd-escape
+export SYSTEMD_RUN=/usr/bin/systemd-run
+export TARFILE_LOCATION=/home/acidhax/libreoffice-wasm-build/libreoffice/external/tarballs
+export TESTINSTALLDIR=/home/acidhax/libreoffice-wasm-build/libreoffice/test-install
+export THES_SYSTEM_DIR=file:///usr/share/mythes
+export TLS=
+export TMPDIR=/tmp
+export TOUCH=/usr/bin/touch
+export UCRTSDKDIR=
+export UCRTVERSION=
+export UCRT_REDISTDIR=
+export UNIQ=/usr/bin/uniq
+export UNIX_DLAPI_LIBS=
+export USE_HEADLESS_CODE=TRUE
+export USE_LD=
+export USE_LIBRARY_BIN_TAR=
+export UUIDGEN=/usr/bin/uuidgen
+export VALGRIND_CFLAGS=$(gb_SPACE)
+export VCL_PLUGIN_INFO=
+export VCTOOLSET=
+export VCVER=
+export DEVENV=
+export VISIO_CFLAGS=$(gb_SPACE)
+export VISIO_LIBS=$(gb_SPACE)
+export WGET=wget
+export WINDOWS_BUILD_SIGNING=FALSE
+export WINDOWS_SDK_HOME=
+export WINDOWS_SDK_LIB_SUBDIR=
+export WINDOWS_SDK_VERSION=
+export WINDOWS_SDK_WILANGID=
+export WINDOWS_X64=
+export WITH_COMPAT_OOWRAPPERS=
+export WITH_COREDUMPCTL=
+export WITH_EXTENSION_INTEGRATION=
+export WITH_EXTRA_EXTENSIONS=
+export WITH_FONTS=TRUE
+export WITH_GALLERY_BUILD=
+export WITH_TEMPLATES=
+export WITH_GSSAPI=
+export WITH_KRB5=
+export WITH_LINKER_HASH_STYLE=gnu
+export WITH_LOCALES=en
+export WITH_MYSPELL_DICTS=
+export WITH_THEMES=colibre
+export WITH_WEBDAV=
+export WORKDIR=/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build
+export WORKDIR_FOR_BUILD=/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build
+export WPD_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/libwpd/inc
+export WPD_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/libwpd/src/lib/.libs -lwpd-0.10
+export WPG_CFLAGS=$(gb_SPACE)
+export WPG_LIBS=$(gb_SPACE)
+export WPS_CFLAGS=$(gb_SPACE)
+export WPS_LIBS=$(gb_SPACE)
+export XINERAMA_LINK=none
+export XMLLINT=
+export XMLSEC_CFLAGS=$(gb_SPACE)
+export XMLSEC_LIBS=$(gb_SPACE)
+export XRANDR_CFLAGS=$(gb_SPACE)
+export XRANDR_LIBS=$(gb_SPACE)
+export XRENDER_CFLAGS=$(gb_SPACE)
+export XRENDER_LIBS=$(gb_SPACE)
+export XSLTPROC=
+export XVFB_RUN=
+export ZLIB_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/UnpackedTarball/zlib
+export ZLIB_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build/LinkTarget/StaticLibrary -lzlib
+export ZMF_CFLAGS=$(gb_SPACE)
+export ZMF_LIBS=$(gb_SPACE)
+export GET_TASK_ALLOW_ENTITLEMENT=<!-- We want to be able to debug a hardened process when not building for release --><key>com.apple.security.get-task-allow</key><true/>
+
+# lang-related stuff
+include $(BUILDDIR)/config_$(gb_Side)_lang.mk
+
+# tarball names
+# does use some of the variables defined above
+include /home/acidhax/libreoffice-wasm-build/libreoffice/download.lst
+
+KEEP_AWAKE_CMD:=
+
+# used for WSL-as-helper-builds where the build runs from within git-bash/MSYS that otherwise would
+# mess with anything that looks like a path (starts with a /) but cannot be resolved to a target
+export MSYS_NO_PATHCONV=1
+STRAWBERRY_PERL=
+WSL=
+
+export BUILD_TYPE_FOR_HOST=LibO EMSCRIPTEN DESKTOP FONTCONFIG ZLIB LIBJPEG_TURBO EXPAT XMLSEC REVENGE ODFGEN WPD WPG WPS MWAW EBOOK ABW STAROFFICE LCMS2 CPPUNIT FREETYPE LIBXSLT LIBXML2 BOOST MDDS DRAGONBOX FROZEN GLM SANE ICU ORCUS GRAPHITE HARFBUZZ OPENSSL ARGON2 REDLAND HUNSPELL ZXCVBN BOX2D HYPHEN MYTHES LIBEXTTEXTCAT LIBNUMBERTEXT PDFIUM OPENSYMBOL MORE_FONTS CAIRO LIBLANGTAG LIBPNG LIBTIFF LIBWEBP
diff --git a/config_host.mk b/config_host.mk
new file mode 100644
index 000000000..c68122bc5
--- /dev/null
+++ b/config_host.mk
@@ -0,0 +1,801 @@
+ # config variable for LibreOffice
+ # this file is intended to be able to be included in a Makefile
+ # and not to be sourced in a shell session
+ #
+
+# Horrible hack to prepend spaces to expansions
+# Spaces are usually eaten by make parser but not if variable expands to space.
+# Space prefix is desirable because system CFLAGS may be completely empty,
+# which means that the variables defined here would need extra twiddling
+# to get them into invoked external configures and override pkg-config there.
+gb_SPACE:=$(gb_SPACE) $(gb_SPACE)
+export SRC_ROOT=/home/acidhax/libreoffice-wasm-build/libreoffice
+export BUILDDIR=/home/acidhax/libreoffice-wasm-build/libreoffice
+
+# export AFLAGS=
+export ABW_CFLAGS=$(gb_SPACE)
+export ABW_LIBS=$(gb_SPACE)
+export ANDROID_NDK_DIR=
+export ANDROID_NDK_VERSION=
+export ANDROID_API_LEVEL=
+export ANDROID_APP_ABI=
+export ANDROID_SDK_DIR=
+export ANDROID_SYSROOT_PLATFORM=
+export ANDROID_PACKAGE_NAME=
+export ANDROID_TOOLCHAIN=
+export ANDROID_GCC_TOOLCHAIN_VERSION=
+export ANT=
+export ANT_HOME=
+export ANT_LIB=
+export AR=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/emar
+export ASSERT_ALWAYS_ABORT=FALSE
+export ATL_INCLUDE=
+export ATL_LIB=
+export ATOMIC_LIB=
+export ATSPI2_CFLAGS=$(gb_SPACE)
+export ATSPI2_LIBS=$(gb_SPACE)
+export AVAHI_CFLAGS=$(gb_SPACE)
+export AVAHI_LIBS=$(gb_SPACE)
+export LIBATOMIC_OPS_CFLAGS=$(gb_SPACE)
+export LIBATOMIC_OPS_LIBS=$(gb_SPACE)
+export BACKTRACE_CFLAGS=
+export BACKTRACE_LIBS=
+export BINDIR=/usr/local/bin
+export BISON=/usr/bin/bison
+export BOOST_CPPFLAGS=-I/home/acidhax/libreoffice-wasm-build/libreoffice/external/boost/include -I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/boost
+export BOOST_CXXFLAGS=
+export BOOST_LOCALE_LIB=
+export BOOST_DATE_TIME_LIB=
+export BOOST_FILESYSTEM_LIB=
+export BOOST_IOSTREAMS_LIB=
+export BOOST_LDFLAGS=
+export BOOST_SYSTEM_LIB=
+export BOX2D_CFLAGS=
+export BOX2D_LIBS=
+export BRAND_INTRO_IMAGES=intro.png intro-highres.png
+export BREAKPAD_SYMBOL_CONFIG=
+export BSH_JAR=
+export BUILD_PLATFORM=x86_64-pc-linux-gnu
+export BUILD_POSTGRESQL_SDBC=
+export BUILD_TYPE=LibO EMSCRIPTEN DESKTOP FONTCONFIG ZLIB LIBJPEG_TURBO EXPAT XMLSEC REVENGE ODFGEN WPD WPG WPS MWAW EBOOK ABW STAROFFICE LCMS2 CPPUNIT FREETYPE LIBXSLT LIBXML2 BOOST MDDS DRAGONBOX FROZEN GLM SANE ICU ORCUS GRAPHITE HARFBUZZ OPENSSL ARGON2 REDLAND HUNSPELL ZXCVBN BOX2D HYPHEN MYTHES LIBEXTTEXTCAT LIBNUMBERTEXT PDFIUM OPENSYMBOL MORE_FONTS CAIRO LIBLANGTAG LIBPNG LIBTIFF LIBWEBP
+export BUILD_X64=
+export BUILD_X86=
+export BUILDING_PCH_WITH_OBJ=
+export BZIP2_CFLAGS=$(gb_SPACE)
+export BZIP2_LIBS=$(gb_SPACE)
+export CAIRO_CFLAGS=$(gb_SPACE)
+export CAIRO_LIBS=$(gb_SPACE)
+export CC=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/emcc
+export CC_FOR_BUILD=gcc
+export CCACHE_DEPEND_MODE=
+export CDR_CFLAGS=$(gb_SPACE)
+export CDR_LIBS=$(gb_SPACE)
+# export CFLAGS=
+export CLANG_USE_LD=
+export CLANGDIR=
+export CLANGLIBDIR=
+export CLANGSYSINCLUDE=
+export CLANGTOOLLIBS=
+export CLUCENE_CFLAGS=$(gb_SPACE)
+export CLUCENE_LIBS=$(gb_SPACE)
+export LIBCMIS_CFLAGS=$(gb_SPACE)
+export LIBCMIS_LIBS=$(gb_SPACE)
+export COM=GCC
+export COMPATH=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten
+export COMPILER_PLUGINS=
+export COMPILER_PLUGINS_ANALYZER_PCH=TRUE
+export COMPILER_PLUGINS_COM_IS_CLANG=
+export COMPILER_PLUGINS_CXX=
+export COMPILER_PLUGINS_CXXFLAGS=
+export COMPILER_PLUGINS_CXX_LINKFLAGS=
+export COMPILER_PLUGINS_DEBUG=
+export COMPILER_PLUGINS_TOOLING_ARGS=
+export COMPRESSIONTOOL=/usr/bin/gzip
+export COM_IS_CLANG=TRUE
+export COREDUMPCTL=
+export CPPU_ENV=gcc3
+export CPPU_ENV_FOR_BUILD=gcc3
+export CPPUNIT_CFLAGS=$(gb_SPACE)
+export CPPUNIT_LIBS=$(gb_SPACE)
+export CPUNAME=INTEL
+export CROSS_COMPILING=TRUE
+export CURL=/usr/bin/curl
+export CURL_CFLAGS=$(gb_SPACE)
+export CURL_LIBS=$(gb_SPACE)
+export CUSTOM_BRAND_DIR=
+export CUSTOM_BRAND_IMAGES=
+export CXX=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/em++
+export CXX_FOR_BUILD=g++
+export CXX_X64_BINARY=
+export CXX_X86_BINARY=
+# export CXXFLAGS=
+export CXXFLAGS_CXX11=-std=c++20
+export CXXFLAGS_INTRINSICS_SSE2=
+export CXXFLAGS_INTRINSICS_SSSE3=
+export CXXFLAGS_INTRINSICS_SSE41=
+export CXXFLAGS_INTRINSICS_SSE42=
+export CXXFLAGS_INTRINSICS_AVX=
+export CXXFLAGS_INTRINSICS_AVX2=
+export CXXFLAGS_INTRINSICS_AVX512=
+export CXXFLAGS_INTRINSICS_AVX512F=
+export CXXFLAGS_INTRINSICS_F16C=
+export CXXFLAGS_INTRINSICS_FMA=
+export DATADIR=/usr/local/share
+export DBUS_CFLAGS=$(gb_SPACE)
+export DBUS_LIBS=$(gb_SPACE)
+export DBUS_GLIB_CFLAGS=$(gb_SPACE)
+export DBUS_GLIB_LIBS=$(gb_SPACE)
+export DBUS_HAVE_GLIB=
+export DBUS_LAUNCH=
+export DCONF_CFLAGS=
+export DCONF_LIBS=
+export DEFAULT_BRAND_IMAGES=intro.png intro-highres.png logo.svg logo_inverted.svg logo-sc.svg logo-sc_inverted.svg about.svg
+export DICT_SYSTEM_DIR=file:///usr/share/hunspell
+export DISABLE_CVE_TESTS=TRUE
+export DISABLE_DYNLOADING=TRUE
+export DISABLE_PYTHON=TRUE
+export DOCDIR=/usr/local/share/doc/libreoffice
+export DOXYGEN=
+export DO_FETCH_TARBALLS=TRUE
+export DRAGONBOX_CFLAGS=
+export FROZEN_CFLAGS=
+export DPKG=
+export EBOOK_CFLAGS=$(gb_SPACE)
+export EBOOK_LIBS=$(gb_SPACE)
+export EMSDK_FILE_PACKAGER=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/tools/file_packager
+export EMSCRIPTEN_EXTRA_SOFFICE_POST_JS=
+export ENABLE_ANDROID_LOK=
+export ENABLE_ANDROID_EDITING=
+export ENABLE_AVAHI=
+export ENABLE_BREAKPAD=
+export DEFAULT_CRASHDUMP_VALUE=true
+export ENABLE_CAIRO_CANVAS=TRUE
+export ENABLE_CAIRO_RGBA=
+export ENABLE_CIPHER_OPENSSL_BACKEND=
+export ENABLE_CLUCENE=
+export ENABLE_LIBCMIS=
+export ENABLE_COINMP=
+SYSTEM_COINMP=
+export COINMP_CFLAGS=
+export COINMP_LIBS=
+export ENABLE_ATSPI_TESTS=
+export ENABLE_CUPS=
+export ENABLE_CURL=
+export ENABLE_DBGUTIL=
+export ENABLE_DBUS=
+export ENABLE_DCONF=
+export ENABLE_DEBUG=
+SYSTEM_DRAGONBOX=
+SYSTEM_FROZEN=
+export ENABLE_EPOXY=
+export ENABLE_EOT=
+export ENABLE_EVOAB2=
+export ENABLE_FIREBIRD_SDBC=
+export ENABLE_FORMULA_LOGGER=
+export ENABLE_GDB_INDEX=
+export ENABLE_GEN=
+export ENABLE_GIO=
+export ENABLE_GPGMEPP=
+export ENABLE_GSTREAMER_1_0=
+export ENABLE_GTK3=
+export ENABLE_GTK4=
+export ENABLE_GTKTILEDVIEWER=
+export DISABLE_GUI=TRUE
+export ENABLE_HARDENING_FLAGS=
+export HARDENING_CFLAGS= -grecord-gcc-switches -Wp,-D_GLIBCXX_ASSERTIONS
+export HARDENING_OPT_CFLAGS= -Wp,-U_FORTIFY_SOURCE,-D_FORTIFY_SOURCE=2
+export ENABLE_HEADLESS=TRUE
+export ENABLE_HTMLHELP=
+export ENABLE_JAVA=
+export ENABLE_JUMBO_SHEETS=
+export ENABLE_LDAP=
+export ENABLE_LPSOLVE=
+export ENABLE_LTO=
+export ENABLE_LWP=
+export ENABLE_MACOSX_SANDBOX=
+export ENABLE_MEDIAWIKI=
+export ENABLE_MARIADBC=
+export ENABLE_NSS=
+export ENABLE_ONLINE_UPDATE=
+export ENABLE_ONLINE_UPDATE_MAR=
+export ENABLE_EXTENSION_UPDATE=
+export ENABLE_OOENV=
+export ENABLE_OPENGL_TRANSITIONS=
+export ENABLE_OPENGL_CANVAS=
+export ENABLE_OPENSSL=TRUE
+export ENABLE_OPTIMIZED=TRUE
+export ENABLE_OPTIMIZED_DEBUG=
+export ENABLE_PAGEIN=
+export ENABLE_PCH=
+export ENABLE_PDFIMPORT=TRUE
+export ENABLE_PDFIUM=TRUE
+export ENABLE_POPPLER=
+export ENABLE_QT5=
+export ENABLE_QT6=
+export ENABLE_QT6_MULTIMEDIA=
+export ENABLE_KF5=
+export ENABLE_KF6=
+export ENABLE_GTK3_KDE5=
+export ENABLE_RANDR=
+export ENABLE_RELEASE_BUILD=
+export ENABLE_REPORTBUILDER=
+export ENABLE_RUNTIME_OPTIMIZATIONS=TRUE
+export ENABLE_SAL_LOG=TRUE
+export ENABLE_SCRIPTING_BEANSHELL=
+export ENABLE_SCRIPTING_JAVASCRIPT=
+export ENABLE_SDREMOTE=
+export ENABLE_SDREMOTE_BLUETOOTH=
+export ENABLE_CUSTOMTARGET_COMPONENTS=TRUE
+export ENABLE_SILENT_MSI=
+export ENABLE_SKIA=
+export ENABLE_SKIA_DEBUG=
+export ENABLE_SYMBOLS_FOR=
+export ENABLE_VALGRIND=
+export ENABLE_WASM_STRIP_ACCESSIBILITY=
+export ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=
+export ENABLE_WASM_STRIP_WRITER=
+export ENABLE_WASM_STRIP_CALC=
+export ENABLE_WASM_STRIP_CANVAS=
+export ENABLE_WASM_STRIP_CHART=
+export ENABLE_WASM_STRIP_DBACCESS=TRUE
+export ENABLE_WASM_STRIP_EPUB=TRUE
+export ENABLE_WASM_STRIP_EXTRA=TRUE
+export ENABLE_WASM_STRIP_GUESSLANG=TRUE
+export ENABLE_WASM_STRIP_HUNSPELL=
+export ENABLE_WASM_STRIP_LANGUAGETOOL=TRUE
+export ENABLE_WASM_STRIP_LOCALES=TRUE
+export ENABLE_WASM_STRIP_PINGUSER=TRUE
+export ENABLE_WASM_STRIP_PREMULTIPLY=TRUE
+export ENABLE_WASM_STRIP_RECENT=TRUE
+export ENABLE_WASM_STRIP_RECOVERYUI=TRUE
+export ENABLE_WASM_STRIP_SPLASH=TRUE
+export ENABLE_WASM_STRIP_SWEXPORTS=TRUE
+export ENABLE_WASM_STRIP_SCEXPORTS=TRUE
+export ENABLE_WERROR=
+ENABLE_WIX=
+export ENABLE_Z7_DEBUG=
+export ENDIANNESS=little
+export EPM=NO
+export EPM_FLAGS=
+export EPUBGEN_CFLAGS=$(gb_SPACE)
+export EPUBGEN_LIBS=$(gb_SPACE)
+export ETONYEK_CFLAGS=$(gb_SPACE)
+export ETONYEK_LIBS=$(gb_SPACE)
+export debug=
+export FIND=find
+export FIREBIRD_CFLAGS=$(gb_SPACE)
+export FIREBIRD_LIBS=$(gb_SPACE)
+export FLEX=/usr/bin/flex
+export FLUTE_JAR=
+export FONTCONFIG_CFLAGS=$(gb_SPACE)
+export FONTCONFIG_LIBS=$(gb_SPACE)
+export FONTFORGE=
+export FREEHAND_CFLAGS=$(gb_SPACE)
+export FREEHAND_LIBS=$(gb_SPACE)
+export FREETYPE_CFLAGS=$(gb_SPACE)-isystem /home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/freetype/include
+export FREETYPE_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/freetype/instdir/lib -lfreetype
+export GCC_VERSION=
+export GIO_CFLAGS=$(gb_SPACE)
+export GIO_LIBS=$(gb_SPACE)
+export GIT_REFERENCE_SRC=
+export GIT_LINK_SRC=
+export GIT_NEEDED_SUBMODULES=
+export EPOXY_CFLAGS=$(gb_SPACE)
+export EPOXY_LIBS=$(gb_SPACE)
+export GLM_CFLAGS=$(gb_SPACE)-isystem /home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/glm
+export GPG_ERROR_CFLAGS=$(gb_SPACE)
+export GPG_ERROR_LIBS=$(gb_SPACE)
+export GPGMEPP_CFLAGS=$(gb_SPACE)
+export GPGMEPP_LIBS=$(gb_SPACE)
+export PARALLELISM?=32
+ export GNUCOPY=/usr/bin/cp
+export GNUPATCH=/usr/bin/patch
+export GNUTAR=tar
+export GOBJECT_CFLAGS=$(gb_SPACE)
+export GOBJECT_LIBS=$(gb_SPACE)
+export GPERF=/usr/bin/gperf
+export GRAPHITE_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/graphite/include -DGRAPHITE2_STATIC
+export GRAPHITE_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/LinkTarget/StaticLibrary -lgraphite
+export HARFBUZZ_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/harfbuzz/src
+export HARFBUZZ_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/harfbuzz/src/.libs -lharfbuzz
+# export GREP=
+export GSSAPI_LIBS=
+export GSTREAMER_1_0_CFLAGS=$(gb_SPACE)
+export GSTREAMER_1_0_LIBS=$(gb_SPACE)
+export GTK3_CFLAGS=$(gb_SPACE)
+export GTK3_LIBS=$(gb_SPACE)
+export GTK4_CFLAGS=$(gb_SPACE)
+export GTK4_LIBS=$(gb_SPACE)
+export USING_X11=
+export HAMCREST_JAR=
+export HAVE_ASM_END_BRANCH_INS_SUPPORT=
+export HAVE_BROKEN_GCC_WMAYBE_UNINITIALIZED=
+export HAVE_BROKEN_GCC_WSTRINGOP_OVERFLOW=
+export HAVE_CLANG_DEBUG_INFO_KIND_CONSTRUCTOR=TRUE
+export HAVE_CXX20_ATOMIC_REF=
+export HAVE_DLLEXPORTINLINES=
+export HAVE_EXTERNAL_DWARF=TRUE
+export HAVE_LO_CLANG_DLLEXPORTINLINES=
+export HAVE_GCC_AVX=
+export HAVE_GCC_BUILTIN_ATOMIC=TRUE
+export HAVE_GCC_FNO_ENFORCE_EH_SPECS=
+export HAVE_GCC_FNO_SIZED_DEALLOCATION=TRUE
+export HAVE_GCC_GGDB2=
+export HAVE_GCC_STACK_CLASH_PROTECTION=
+export HAVE_LD_BSYMBOLIC_FUNCTIONS=
+export HAVE_LD_HASH_STYLE=FALSE
+export HAVE_LIBCPP=TRUE
+export HAVE_LIBSTDCPP=
+export HAVE_POSIX_FALLOCATE=YES
+export HAVE_WDEPRECATED_COPY_DTOR=TRUE
+export HELP_ONLINE=
+export HELP_OMINDEX_PAGE=
+export HOST_PLATFORM=wasm32-local-emscripten
+export HSQLDB_JAR=
+export HUNSPELL_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/hunspell/src/hunspell
+export HUNSPELL_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/hunspell/src/hunspell/.libs -lhunspell-1.7
+export HYPHEN_LIB=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/hyphen/.libs -lhyphen
+export HYPH_SYSTEM_DIR=file:///usr/share/hyphen
+export ICECREAM_RUN=
+# export ICECC_VERSION=
+export ICU_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/icu/source/i18n -I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/icu/source/common
+export ICU_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/icu/source/lib
+export ICU_MAJOR=74
+export ICU_MINOR=2
+export INTROSPECTION_SCANNER=
+export ILIB=
+export ILIB_FOR_BUILD=
+export INSTALLDIR=/usr/local/lib/libreoffice
+export INSTALLDIRNAME=libreoffice
+export INSTALL_NAME_TOOL=
+export INSTDIR=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir
+export INSTDIR_FOR_BUILD=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir_for_build
+export INSTROOT=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir
+export INSTROOTBASE=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir
+export INSTROOT_FOR_BUILD=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir_for_build
+export JAVACOMPILER=
+export JAVADOC=
+export JAVADOCISGJDOC=
+export JAVACFLAGS=
+export JAVAIFLAGS=
+export JAVAIFLAGS_FOR_BUILD=
+export JAVAINTERPRETER=
+export JAVA_HOME=
+export JAVA_HOME_FOR_BUILD=
+export JAVA_SOURCE_VER=
+export JAVA_TARGET_VER=
+export JAWTLIB=
+export JDK=
+export JDK_FOR_BUILD=
+export JDK_SECURITYMANAGER_DISALLOWED_FOR_BUILD=
+export JFREEREPORT_JAR=
+export JITC_PROCESSOR_TYPE=
+export JQ=
+export JVM_ONE_PATH_CHECK=
+export KF5_CFLAGS=$(gb_SPACE)
+export KF5_LIBS=$(gb_SPACE)
+export KF6_CFLAGS=$(gb_SPACE)
+export KF6_LIBS=$(gb_SPACE)
+export KRB5_LIBS=
+export LCMS2_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/lcms2/include -Wno-long-long
+export LCMS2_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/lcms2/src/.libs -llcms2
+export LD=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/emcc
+export LD_GC_SECTIONS=-Wl,--gc-sections
+export LD_PLUGIN=
+# export LDFLAGS=
+export LFS_CFLAGS=
+export LIBASSUAN_CFLAGS=$(gb_SPACE)
+export LIBASSUAN_LIBS=$(gb_SPACE)
+export LIBBASE_JAR=
+export LIBCPP_DEBUG=
+export LIBDIR=/usr/local/lib
+export LIBEOT_CFLAGS=$(gb_SPACE)
+export LIBEOT_LIBS=$(gb_SPACE)
+export LIBEXSLT_CFLAGS=$(gb_SPACE)
+export LIBEXSLT_LIBS=$(gb_SPACE)
+export LIBEXTTEXTCAT_CFLAGS=$(gb_SPACE)
+export LIBEXTTEXTCAT_LIBS=$(gb_SPACE)
+export LIBFONTS_JAR=
+export LIBFORMULA_JAR=
+export LIBJPEG_CFLAGS=$(gb_SPACE)
+export LIBJPEG_LIBS=$(gb_SPACE)
+export LIBLANGTAG_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/liblangtag
+export LIBLANGTAG_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/liblangtag/liblangtag/.libs -llangtag
+export LIBLAYOUT_JAR=
+export LIBLOADER_JAR=
+export LIBNUMBERTEXT_CFLAGS=$(gb_SPACE)
+export LIBNUMBERTEXT_LIBS=$(gb_SPACE)
+export LIB_FUZZING_ENGINE=
+export LIBO_BIN_FOLDER=program
+export LIBO_BIN_FOLDER_FOR_BUILD=program
+export LIBO_ETC_FOLDER=program
+export LIBO_LIB_FOLDER=program
+export LIBO_LIB_FOLDER_FOR_BUILD=program
+export LIBO_LIB_PYUNO_FOLDER=program
+export LIBO_SHARE_FOLDER=share
+export LIBO_SHARE_HELP_FOLDER=help
+export LIBO_SHARE_JAVA_FOLDER=program/classes
+export LIBO_SHARE_PRESETS_FOLDER=presets
+export LIBO_SHARE_READMES_FOLDER=readmes
+export LIBO_SHARE_RESOURCE_FOLDER=program/resource
+export LIBO_URE_BIN_FOLDER=program
+export LIBO_URE_ETC_FOLDER=program
+export LIBO_URE_LIB_FOLDER=program
+export LIBO_URE_LIB_FOLDER_FOR_BUILD=program
+export LIBO_URE_MISC_FOLDER=program
+export LIBO_URE_MISC_FOLDER_FOR_BUILD=program
+export LIBO_URE_SHARE_JAVA_FOLDER=program/classes
+export LIBO_VERSION_MAJOR=24
+export LIBO_VERSION_MICRO=8
+export LIBO_VERSION_MINOR=8
+export LIBO_VERSION_PATCH=0
+export LIBO_VERSION_SUFFIX=.0
+export LIBO_VERSION_SUFFIX_SUFFIX=+
+export LIBPNG_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libpng
+export LIBPNG_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/LinkTarget/StaticLibrary -llibpng
+export LIBREPOSITORY_JAR=
+export LIBSERIALIZER_JAR=
+export LIBTIFF_CFLAGS=$(gb_SPACE)
+export LIBTIFF_LIBS=$(gb_SPACE)
+export LIBTOMMATH_CFLAGS=
+export LIBTOMMATH_LIBS=
+export LIBTOOL=
+export LIBWEBP_CFLAGS=$(gb_SPACE)
+export LIBWEBP_LIBS=$(gb_SPACE)
+export LIBXML_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libxml2/include
+export LIBXML_JAR=
+export LIBXML_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libxml2/.libs -lxml2 -lm
+export LIBXSLT_CFLAGS=$(gb_SPACE)
+export LIBXSLT_LIBS=$(gb_SPACE)
+export LIBFIXMATH_LIBS=$(gb_SPACE)
+export LOCKFILE=
+export LO_CLANG_CC=
+export LO_CLANG_CXX=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSE2=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSSE3=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSE41=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSE42=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX2=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX512=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX512F=
+export LO_CLANG_CXXFLAGS_INTRINSICS_F16C=
+export LO_CLANG_CXXFLAGS_INTRINSICS_FMA=
+export LO_CLANG_SHOWINCLUDES_PREFIX=
+export LO_CLANG_VERSION=
+# export LO_ELFCHECK_ALLOWLIST=
+# export LS=
+export MACOSX_BUNDLE_IDENTIFIER=
+export MACOSX_CODESIGNING_IDENTITY=
+export MACOSX_DEPLOYMENT_TARGET=
+export MACOSX_PACKAGE_SIGNING_IDENTITY=
+export MACOSX_PROVISIONING_PROFILE=
+export MACOSX_SDK_PATH=
+export MAC_OS_X_VERSION_MIN_REQUIRED=
+export MANDIR=/usr/local/share/man
+export MARIADBC_MAJOR=1
+export MARIADBC_MICRO=2
+export MARIADBC_MINOR=0
+export MARIADB_CFLAGS=$(gb_SPACE)
+export MARIADB_LIBS=$(gb_SPACE)
+export LIBMARIADB=
+export LIBMARIADB_PATH=
+export BUNDLE_MARIADB_CONNECTOR_C=
+export MDDS_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/mdds/include
+export MDDS_LIBS=$(gb_SPACE)
+export MERGELIBS=
+export MERGELIBS_MORE=
+export ML_EXE=
+export MOC5=
+export MOC6=
+MODULAR_JAVA=
+export MPL_SUBSET=
+export MSGFMT=
+export MSGUNIQ=
+export MSM_PATH=
+export MSPUB_CFLAGS=$(gb_SPACE)
+export MSPUB_LIBS=$(gb_SPACE)
+export MSVC_CXX=
+export MSVC_DLLS=
+export MSVC_DLL_PATH=
+export MSVC_USE_DEBUG_RUNTIME=
+export MWAW_CFLAGS=$(gb_SPACE)
+export MWAW_LIBS=$(gb_SPACE)
+export MYTHES_CFLAGS=$(gb_SPACE)
+export MYTHES_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/mythes/.libs -lmythes-1.2
+export NASM=
+export NAFLAGS=
+export NM=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/bin/llvm-nm
+export NSS_CFLAGS=$(gb_SPACE)
+export NSS_LIBS=$(gb_SPACE)
+export NUMBERTEXT_EXTENSION_PACK=
+export nodep=
+# export OBJCFLAGS=
+# export OBJCXXFLAGS=
+export OBJDUMP=objdump
+export ODFGEN_CFLAGS=$(gb_SPACE)
+export ODFGEN_LIBS=$(gb_SPACE)
+export ODFVALIDATOR=
+export OFFICEOTRON=
+export BFFVALIDATOR=
+export ONLINEUPDATE_MAR_BASEURL=
+export ONLINEUPDATE_MAR_CERTIFICATEDER=
+export ONLINEUPDATE_MAR_CERTIFICATENAME=
+export ONLINEUPDATE_MAR_CERTIFICATEPATH=
+export OOO_JUNIT_JAR=
+export OOO_VENDOR=acidhax
+export OPENSSL_CFLAGS=$(gb_SPACE)
+export OPENSSL_LIBS=$(gb_SPACE)
+export ORCUS_CFLAGS=$(gb_SPACE)
+export ORCUS_LIBS=$(gb_SPACE)
+export OS=EMSCRIPTEN
+export OS_FOR_BUILD=LINUX
+export PATH=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/bin:/home/acidhax/.cursor-server/bin/56f0a83df8e9eb48585fcc4858a9440db4cc7770/bin/remote-cli:/home/acidhax/libreoffice-wasm-build/emsdk:/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten:/home/acidhax/libreoffice-wasm-build/emsdk/node/22.16.0_64bit/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v13.0/bin/x64:/mnt/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v13.0/bin:/mnt/c/Program Files/Microsoft SDKs/Azure/CLI2/wbin:/mnt/c/Program Files/Eclipse Adoptium/jdk-21.0.7.6-hotspot/bin:/mnt/c/Program Files/Oculus/Support/oculus-runtime:/mnt/c/Python313/Scripts/:/mnt/c/Python313/:/mnt/c/Program Files (x86)/Razer Chroma SDK/bin:/mnt/c/Program Files/Razer Chroma SDK/bin:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/NVIDIA Corporation/PhysX/Common:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA app/NvDLISR:/mnt/c/Users/mail/AppData/Roaming/nvm:/mnt/c/Program Files/nodejs:/mnt/c/Users/mail/AppData/Local/Programs/cursor/resources/app/bin:/mnt/c/WINDOWS/system32/config/systemprofile/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/mail/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/astral-sh.uv_Microsoft.Winget.Source_8wekyb3d8bbwe:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/SQLite.SQLite_Microsoft.Winget.Source_8wekyb3d8bbwe:/mnt/c/Users/mail/AppData/Local/Programs/Windsurf/bin:/mnt/c/Users/mail/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Program Files/PuTTY/:/mnt/c/ProgramData/chocolatey/bin:/mnt/c/Program Files/Git/cmd:/mnt/c/Program Files/GitHub CLI/:/mnt/c/ProgramData/chocolatey/lib/cunit/lib:/mnt/c/ProgramData/chocolatey/lib/tinyxml2/lib:/mnt/c/ProgramData/chocolatey/lib/bullet/lib:/mnt/c/Program Files (x86)/cloudflared/:/mnt/c/Program Files/usbipd-win/:/mnt/c/Program Files/Arduino CLI/:/mnt/c/Users/mail/AppData/Local/Muse Hub/lib:/mnt/c/Program Files (x86)/Windows Kits/10/Windows Performance Toolkit/:/mnt/c/Program Files/Amazon/AWSCLIV2/:/mnt/c/Program Files/Cloudflare/Cloudflare WARP/:/mnt/c/Program Files/Go/bin:/mnt/c/Program Files/cursor/resources/app/bin:/mnt/c/Program Files/CMake/bin:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Users/mail/.cargo/bin:/mnt/c/Users/mail/anaconda3:/mnt/c/Users/mail/anaconda3/Library/mingw-w64/bin:/mnt/c/Users/mail/anaconda3/Library/usr/bin:/mnt/c/Users/mail/anaconda3/Library/bin:/mnt/c/Users/mail/anaconda3/Scripts:/mnt/c/Users/mail/.dotnet/tools:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/Gyan.FFmpeg_Microsoft.Winget.Source_8wekyb3d8bbwe/ffmpeg-7.1.1-full_build/bin:/mnt/c/Users/mail/AppData/Roaming/Code/User/globalStorage/ms-vscode-remote.remote-containers/cli-bin:/mnt/c/Program Files/OpenSSL-Win64/bin:/mnt/c/Users/mail/AppData/Local/slack-cli/bin:/mnt/c/Users/mail/.deno/bin:/mnt/c/Users/mail/AppData/Local/Programs/Ollama:/mnt/c/Users/mail/.bun/bin:/mnt/c/Users/mail/AppData/Local/Programs/Azure Dev CLI/:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Links:/mnt/c/Users/mail/AppData/Local/Programs/Microsoft VS Code Insiders/bin:/mnt/c/Users/mail/go/bin:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/MartinStorsjo.LLVM-MinGW.MSVCRT_Microsoft.Winget.Source_8wekyb3d8bbwe/llvm-mingw-20251104-msvcrt-x86_64/bin:/mnt/c/Users/mail/AppData/Local/Programs/Antigravity/bin:/snap/bin
+export LIBO_PATH_SEPARATOR=:
+export PAGEMAKER_CFLAGS=$(gb_SPACE)
+export PAGEMAKER_LIBS=$(gb_SPACE)
+export PCH_INSTANTIATE_TEMPLATES=
+export PCH_CODEGEN=
+export PCH_DEBUGINFO=
+export PCH_NO_CODEGEN=
+export PERL=/usr/bin/perl
+export PKGFORMAT?=
+export PKGMK=
+export PKG_CONFIG=/usr/bin/pkg-config
+ifneq (,)
+export PKG_CONFIG_PATH=
+else
+unexport PKG_CONFIG_PATH
+endif
+ifneq (/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/local/lib/pkgconfig:/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/lib/pkgconfig,)
+export PKG_CONFIG_LIBDIR=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/local/lib/pkgconfig:/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/lib/pkgconfig
+else
+unexport PKG_CONFIG_LIBDIR
+endif
+export PLATFORMID=linux_x86
+export POPPLER_CFLAGS=$(gb_SPACE)
+export POPPLER_LIBS=$(gb_SPACE)
+export POSTGRESQL_INC=
+export POSTGRESQL_LIB=
+export PREFIXDIR=/usr/local
+export PRIVACY_POLICY_URL=undefined
+export PRODUCTNAME=LibreOfficeDev
+export PRODUCTNAME_WITHOUT_SPACES=LibreOfficeDev
+export PRODUCTVERSION=24.8
+export PROGRESSBARCOLOR=
+export PROGRESSFRAMECOLOR=
+export PROGRESSPOSITION=
+export PROGRESSSIZE=
+export PROGRESSTEXTBASELINE=
+export PROGRESSTEXTCOLOR=
+export PTHREAD_CFLAGS=
+export PTHREAD_LIBS=
+export PYTHON_CFLAGS=$(gb_SPACE)
+export PYTHON_FOR_BUILD=/usr/bin/python
+export PYTHON_LIBS=$(gb_SPACE)
+export PYTHON_VERSION=
+export PYTHON_VERSION_MAJOR=
+export PYTHON_VERSION_MINOR=
+export PYTHONWARNINGS=
+export ENABLE_ZXING=
+export ZXING_CFLAGS=$(gb_SPACE)
+export ZXING_LIBS=$(gb_SPACE)
+export QT5_CFLAGS=$(gb_SPACE)
+export QT5_LIBS=$(gb_SPACE)
+export QT5_GOBJECT_CFLAGS=$(gb_SPACE)
+export QT5_GOBJECT_LIBS=$(gb_SPACE)
+export QT5_HAVE_GOBJECT=
+export QT5_PLATFORMS_SRCDIR=
+export QT6_CFLAGS=$(gb_SPACE)
+export QT6_LIBS=$(gb_SPACE)
+export QT6_PLATFORMS_SRCDIR=
+export QXP_CFLAGS=$(gb_SPACE)
+export QXP_LIBS=$(gb_SPACE)
+export RANLIB=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/emranlib
+export RAPTOR_MAJOR=0
+export RASQAL_MAJOR=3
+export READELF=readelf
+export REDLAND_CFLAGS=$(gb_SPACE)
+export REDLAND_LIBS=$(gb_SPACE)
+export REDLAND_MAJOR=0
+export REVENGE_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/librevenge/inc
+export REVENGE_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/librevenge/src/lib/.libs -lrevenge-0.0
+export RHINO_JAR=
+export RPM=
+export RTL_ARCH=x86
+export RTL_OS=Emscripten
+export SAC_JAR=
+export SAL_ENABLE_FILE_LOCKING=1
+export SCPDEFS= -DDISABLE_SCRIPTING -DWITHOUT_EXTENSION_MEDIAWIKI -DWITHOUT_SCRIPTING_BEANSHELL -DWITHOUT_SCRIPTING_JAVASCRIPT
+export SDKDIRNAME=sdk
+export SDKDIRNAME_FOR_BUILD=sdk
+export SHA256SUM=shasum -a 256
+export SHOWINCLUDES_PREFIX=
+export SIZEOF_SIZE_T=4
+export SKIA_DISABLE_VMA_USE_STL_SHARED_MUTEX=@SKIA_DISABLE_VMA_USE_STL_SHARED_MUTEX@
+export SKIA_GPU=
+export SOLARINC= 
+export SORT=sort
+export SPLIT_APP_MODULES=
+export SPLIT_OPT_FEATURES=
+export SRCDIR=/home/acidhax/libreoffice-wasm-build/libreoffice
+export STAROFFICE_CFLAGS=$(gb_SPACE)
+export STAROFFICE_LIBS=$(gb_SPACE)
+export STRIP=strip
+export STRIP_COMPONENTS=--strip-components
+export SYSBASE=
+SYSTEM_ABSEIL=
+export ABSEIL_CFLAGS=
+export ABSEIL_LIBS=
+SYSTEM_ABW=
+ARGON2_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/argon2/include
+ARGON2_LIBS=$(gb_SPACE)/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/argon2/libargon2.a
+SYSTEM_ARGON2=
+SYSTEM_BLUEZ=
+# FIXME: concat-deps reads SYSTEM_BOOST from env
+SYSTEM_BOOST=
+SYSTEM_BSH=
+SYSTEM_BOX2D=
+SYSTEM_BZIP2=
+SYSTEM_CAIRO=
+SYSTEM_CLUCENE=
+SYSTEM_CPPUNIT=
+SYSTEM_CURL=
+SYSTEM_DICTS=TRUE
+SYSTEM_EXPAT=
+SYSTEM_FONTCONFIG=
+SYSTEM_FREETYPE=
+SYSTEM_FIREBIRD=
+SYSTEM_GENBRK=
+SYSTEM_GENCCODE=
+SYSTEM_GENCMN=
+SYSTEM_EPOXY=
+SYSTEM_GLM=
+SYSTEM_GPGMEPP=
+SYSTEM_GRAPHITE=
+SYSTEM_HARFBUZZ=
+SYSTEM_HSQLDB=
+SYSTEM_HUNSPELL=
+SYSTEM_HYPH=
+SYSTEM_ICU=
+SYSTEM_JFREEREPORT=
+SYSTEM_LIBJPEG=
+SYSTEM_LCMS2=
+SYSTEM_CDR=
+SYSTEM_LIBCMIS=
+SYSTEM_EBOOK=
+SYSTEM_ETONYEK=
+SYSTEM_EPUBGEN=
+SYSTEM_FREEHAND=
+SYSTEM_LIBATOMIC_OPS=
+SYSTEM_LIBEOT=
+SYSTEM_LIBEXTTEXTCAT=
+SYSTEM_LIBEXTTEXTCAT_DATA=
+SYSTEM_LIBFIXMATH=
+SYSTEM_LIBLANGTAG=
+SYSTEM_LIBNUMBERTEXT=
+SYSTEM_LIBNUMBERTEXT_DATA=
+SYSTEM_LIBORCUS=
+SYSTEM_LIBPNG=
+SYSTEM_LIBTIFF=
+SYSTEM_LIBTOMMATH=
+SYSTEM_LIBWEBP=
+SYSTEM_LIBXML=
+SYSTEM_LIBXML_FOR_BUILD=
+SYSTEM_LIBXSLT=
+SYSTEM_LIBXSLT_FOR_BUILD=
+SYSTEM_LPSOLVE=
+SYSTEM_MDDS=
+SYSTEM_MARIADB_CONNECTOR_C=
+SYSTEM_MSPUB=
+SYSTEM_MWAW=
+SYSTEM_MYTHES=
+SYSTEM_NSS=
+SYSTEM_ODBC_HEADERS=
+SYSTEM_ODFGEN=
+SYSTEM_OPENJPEG2=FALSE
+export OPENJPEG2_CFLAGS=
+export OPENJPEG2_LIBS=
+SYSTEM_OPENLDAP=
+SYSTEM_OPENSSL=
+SYSTEM_PAGEMAKER=
+SYSTEM_POPPLER=
+SYSTEM_POSTGRESQL=
+SYSTEM_PYTHON=
+SYSTEM_ZXCVBN=
+SYSTEM_ZXING=
+SYSTEM_QXP=
+SYSTEM_REDLAND=
+SYSTEM_REVENGE=
+SYSTEM_RHINO=
+SYSTEM_STAROFFICE=
+SYSTEM_VISIO=
+SYSTEM_WPD=
+SYSTEM_WPG=
+SYSTEM_WPS=
+SYSTEM_XMLSEC=
+SYSTEM_ZLIB=
+SYSTEM_ZMF=
+export SYSTEMD_ESCAPE=
+export SYSTEMD_RUN=
+export TARFILE_LOCATION=/home/acidhax/libreoffice-wasm-build/libreoffice/external/tarballs
+export TESTINSTALLDIR=/home/acidhax/libreoffice-wasm-build/libreoffice/test-install
+export THES_SYSTEM_DIR=file:///usr/share/mythes
+export TLS=OPENSSL
+export TMPDIR=/tmp
+export TOUCH=/usr/bin/touch
+export UCRTSDKDIR=
+export UCRTVERSION=
+export UCRT_REDISTDIR=
+export UNIQ=/usr/bin/uniq
+export UNIX_DLAPI_LIBS=
+export USE_HEADLESS_CODE=TRUE
+export USE_LD=
+export USE_LIBRARY_BIN_TAR=
+export UUIDGEN=/usr/bin/uuidgen
+export VALGRIND_CFLAGS=$(gb_SPACE)
+export VCL_PLUGIN_INFO=
+export VCTOOLSET=
+export VCVER=
+export DEVENV=
+export VISIO_CFLAGS=$(gb_SPACE)
+export VISIO_LIBS=$(gb_SPACE)
+export WGET=wget
+export WINDOWS_BUILD_SIGNING=FALSE
+export WINDOWS_SDK_HOME=
+export WINDOWS_SDK_LIB_SUBDIR=
+export WINDOWS_SDK_VERSION=
+export WINDOWS_SDK_WILANGID=
+export WINDOWS_X64=
+export WITH_COMPAT_OOWRAPPERS=
+export WITH_COREDUMPCTL=
+export WITH_EXTENSION_INTEGRATION=
+export WITH_EXTRA_EXTENSIONS=
+export WITH_FONTS=TRUE
+export WITH_GALLERY_BUILD=
+export WITH_TEMPLATES=
+export WITH_GSSAPI=
+export WITH_KRB5=
+export WITH_LINKER_HASH_STYLE=
+export WITH_LOCALES=en
+export WITH_MYSPELL_DICTS=
+export WITH_THEMES=colibre
+export WITH_WEBDAV=
+export WORKDIR=/home/acidhax/libreoffice-wasm-build/libreoffice/workdir
+export WORKDIR_FOR_BUILD=/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build
+export WPD_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libwpd/inc
+export WPD_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libwpd/src/lib/.libs -lwpd-0.10
+export WPG_CFLAGS=$(gb_SPACE)
+export WPG_LIBS=$(gb_SPACE)
+export WPS_CFLAGS=$(gb_SPACE)
+export WPS_LIBS=$(gb_SPACE)
+export XINERAMA_LINK=none
+export XMLLINT=
+export XMLSEC_CFLAGS=$(gb_SPACE)
+export XMLSEC_LIBS=$(gb_SPACE)
+export XRANDR_CFLAGS=$(gb_SPACE)
+export XRANDR_LIBS=$(gb_SPACE)
+export XRENDER_CFLAGS=$(gb_SPACE)
+export XRENDER_LIBS=$(gb_SPACE)
+export XSLTPROC=
+export XVFB_RUN=
+export ZLIB_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/zlib
+export ZLIB_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/LinkTarget/StaticLibrary -lzlib
+export ZMF_CFLAGS=$(gb_SPACE)
+export ZMF_LIBS=$(gb_SPACE)
+export GET_TASK_ALLOW_ENTITLEMENT=<!-- We want to be able to debug a hardened process when not building for release --><key>com.apple.security.get-task-allow</key><true/>
+
+# lang-related stuff
+include $(BUILDDIR)/config_$(gb_Side)_lang.mk
+
+# tarball names
+# does use some of the variables defined above
+include /home/acidhax/libreoffice-wasm-build/libreoffice/download.lst
+
+KEEP_AWAKE_CMD:=
+
+# used for WSL-as-helper-builds where the build runs from within git-bash/MSYS that otherwise would
+# mess with anything that looks like a path (starts with a /) but cannot be resolved to a target
+export MSYS_NO_PATHCONV=1
+STRAWBERRY_PERL=
+WSL=
diff --git a/config_host.mk.bak b/config_host.mk.bak
new file mode 100644
index 000000000..a22bcd029
--- /dev/null
+++ b/config_host.mk.bak
@@ -0,0 +1,801 @@
+ # config variable for LibreOffice
+ # this file is intended to be able to be included in a Makefile
+ # and not to be sourced in a shell session
+ #
+
+# Horrible hack to prepend spaces to expansions
+# Spaces are usually eaten by make parser but not if variable expands to space.
+# Space prefix is desirable because system CFLAGS may be completely empty,
+# which means that the variables defined here would need extra twiddling
+# to get them into invoked external configures and override pkg-config there.
+gb_SPACE:=$(gb_SPACE) $(gb_SPACE)
+export SRC_ROOT=/home/acidhax/libreoffice-wasm-build/libreoffice
+export BUILDDIR=/home/acidhax/libreoffice-wasm-build/libreoffice
+
+# export AFLAGS=
+export ABW_CFLAGS=$(gb_SPACE)
+export ABW_LIBS=$(gb_SPACE)
+export ANDROID_NDK_DIR=
+export ANDROID_NDK_VERSION=
+export ANDROID_API_LEVEL=
+export ANDROID_APP_ABI=
+export ANDROID_SDK_DIR=
+export ANDROID_SYSROOT_PLATFORM=
+export ANDROID_PACKAGE_NAME=
+export ANDROID_TOOLCHAIN=
+export ANDROID_GCC_TOOLCHAIN_VERSION=
+export ANT=
+export ANT_HOME=
+export ANT_LIB=
+export AR=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/emar
+export ASSERT_ALWAYS_ABORT=FALSE
+export ATL_INCLUDE=
+export ATL_LIB=
+export ATOMIC_LIB=
+export ATSPI2_CFLAGS=$(gb_SPACE)
+export ATSPI2_LIBS=$(gb_SPACE)
+export AVAHI_CFLAGS=$(gb_SPACE)
+export AVAHI_LIBS=$(gb_SPACE)
+export LIBATOMIC_OPS_CFLAGS=$(gb_SPACE)
+export LIBATOMIC_OPS_LIBS=$(gb_SPACE)
+export BACKTRACE_CFLAGS=
+export BACKTRACE_LIBS=
+export BINDIR=/usr/local/bin
+export BISON=/usr/bin/bison
+export BOOST_CPPFLAGS=-I/home/acidhax/libreoffice-wasm-build/libreoffice/external/boost/include -I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/boost
+export BOOST_CXXFLAGS=
+export BOOST_LOCALE_LIB=
+export BOOST_DATE_TIME_LIB=
+export BOOST_FILESYSTEM_LIB=
+export BOOST_IOSTREAMS_LIB=
+export BOOST_LDFLAGS=
+export BOOST_SYSTEM_LIB=
+export BOX2D_CFLAGS=
+export BOX2D_LIBS=
+export BRAND_INTRO_IMAGES=intro.png intro-highres.png
+export BREAKPAD_SYMBOL_CONFIG=
+export BSH_JAR=
+export BUILD_PLATFORM=x86_64-pc-linux-gnu
+export BUILD_POSTGRESQL_SDBC=
+export BUILD_TYPE=LibO EMSCRIPTEN DESKTOP FONTCONFIG ZLIB LIBJPEG_TURBO EXPAT XMLSEC REVENGE ODFGEN WPD WPG WPS MWAW EBOOK ABW STAROFFICE LCMS2 CPPUNIT FREETYPE LIBXSLT LIBXML2 BOOST MDDS DRAGONBOX FROZEN GLM SANE ICU ORCUS GRAPHITE HARFBUZZ OPENSSL ARGON2 REDLAND HUNSPELL ZXCVBN BOX2D HYPHEN MYTHES LIBEXTTEXTCAT LIBNUMBERTEXT OPENSYMBOL MORE_FONTS CAIRO LIBLANGTAG LIBPNG LIBTIFF LIBWEBP
+export BUILD_X64=
+export BUILD_X86=
+export BUILDING_PCH_WITH_OBJ=
+export BZIP2_CFLAGS=$(gb_SPACE)
+export BZIP2_LIBS=$(gb_SPACE)
+export CAIRO_CFLAGS=$(gb_SPACE)
+export CAIRO_LIBS=$(gb_SPACE)
+export CC=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/emcc
+export CC_FOR_BUILD=gcc
+export CCACHE_DEPEND_MODE=
+export CDR_CFLAGS=$(gb_SPACE)
+export CDR_LIBS=$(gb_SPACE)
+# export CFLAGS=
+export CLANG_USE_LD=
+export CLANGDIR=
+export CLANGLIBDIR=
+export CLANGSYSINCLUDE=
+export CLANGTOOLLIBS=
+export CLUCENE_CFLAGS=$(gb_SPACE)
+export CLUCENE_LIBS=$(gb_SPACE)
+export LIBCMIS_CFLAGS=$(gb_SPACE)
+export LIBCMIS_LIBS=$(gb_SPACE)
+export COM=GCC
+export COMPATH=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten
+export COMPILER_PLUGINS=
+export COMPILER_PLUGINS_ANALYZER_PCH=TRUE
+export COMPILER_PLUGINS_COM_IS_CLANG=
+export COMPILER_PLUGINS_CXX=
+export COMPILER_PLUGINS_CXXFLAGS=
+export COMPILER_PLUGINS_CXX_LINKFLAGS=
+export COMPILER_PLUGINS_DEBUG=
+export COMPILER_PLUGINS_TOOLING_ARGS=
+export COMPRESSIONTOOL=/usr/bin/gzip
+export COM_IS_CLANG=TRUE
+export COREDUMPCTL=
+export CPPU_ENV=gcc3
+export CPPU_ENV_FOR_BUILD=gcc3
+export CPPUNIT_CFLAGS=$(gb_SPACE)
+export CPPUNIT_LIBS=$(gb_SPACE)
+export CPUNAME=INTEL
+export CROSS_COMPILING=TRUE
+export CURL=/home/acidhax/anaconda3/bin/curl
+export CURL_CFLAGS=$(gb_SPACE)
+export CURL_LIBS=$(gb_SPACE)
+export CUSTOM_BRAND_DIR=
+export CUSTOM_BRAND_IMAGES=
+export CXX=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/em++
+export CXX_FOR_BUILD=g++
+export CXX_X64_BINARY=
+export CXX_X86_BINARY=
+# export CXXFLAGS=
+export CXXFLAGS_CXX11=-std=c++20
+export CXXFLAGS_INTRINSICS_SSE2=
+export CXXFLAGS_INTRINSICS_SSSE3=
+export CXXFLAGS_INTRINSICS_SSE41=
+export CXXFLAGS_INTRINSICS_SSE42=
+export CXXFLAGS_INTRINSICS_AVX=
+export CXXFLAGS_INTRINSICS_AVX2=
+export CXXFLAGS_INTRINSICS_AVX512=
+export CXXFLAGS_INTRINSICS_AVX512F=
+export CXXFLAGS_INTRINSICS_F16C=
+export CXXFLAGS_INTRINSICS_FMA=
+export DATADIR=/usr/local/share
+export DBUS_CFLAGS=$(gb_SPACE)
+export DBUS_LIBS=$(gb_SPACE)
+export DBUS_GLIB_CFLAGS=$(gb_SPACE)
+export DBUS_GLIB_LIBS=$(gb_SPACE)
+export DBUS_HAVE_GLIB=
+export DBUS_LAUNCH=
+export DCONF_CFLAGS=
+export DCONF_LIBS=
+export DEFAULT_BRAND_IMAGES=intro.png intro-highres.png logo.svg logo_inverted.svg logo-sc.svg logo-sc_inverted.svg about.svg
+export DICT_SYSTEM_DIR=file:///usr/share/hunspell
+export DISABLE_CVE_TESTS=
+export DISABLE_DYNLOADING=TRUE
+export DISABLE_PYTHON=TRUE
+export DOCDIR=/usr/local/share/doc/libreoffice
+export DOXYGEN=
+export DO_FETCH_TARBALLS=TRUE
+export DRAGONBOX_CFLAGS=
+export FROZEN_CFLAGS=
+export DPKG=
+export EBOOK_CFLAGS=$(gb_SPACE)
+export EBOOK_LIBS=$(gb_SPACE)
+export EMSDK_FILE_PACKAGER=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/tools/file_packager
+export EMSCRIPTEN_EXTRA_SOFFICE_POST_JS=
+export ENABLE_ANDROID_LOK=
+export ENABLE_ANDROID_EDITING=
+export ENABLE_AVAHI=
+export ENABLE_BREAKPAD=
+export DEFAULT_CRASHDUMP_VALUE=true
+export ENABLE_CAIRO_CANVAS=
+export ENABLE_CAIRO_RGBA=
+export ENABLE_CIPHER_OPENSSL_BACKEND=
+export ENABLE_CLUCENE=
+export ENABLE_LIBCMIS=
+export ENABLE_COINMP=
+SYSTEM_COINMP=
+export COINMP_CFLAGS=
+export COINMP_LIBS=
+export ENABLE_ATSPI_TESTS=
+export ENABLE_CUPS=
+export ENABLE_CURL=
+export ENABLE_DBGUTIL=
+export ENABLE_DBUS=
+export ENABLE_DCONF=
+export ENABLE_DEBUG=
+SYSTEM_DRAGONBOX=
+SYSTEM_FROZEN=
+export ENABLE_EPOXY=
+export ENABLE_EOT=
+export ENABLE_EVOAB2=
+export ENABLE_FIREBIRD_SDBC=
+export ENABLE_FORMULA_LOGGER=
+export ENABLE_GDB_INDEX=
+export ENABLE_GEN=
+export ENABLE_GIO=
+export ENABLE_GPGMEPP=
+export ENABLE_GSTREAMER_1_0=
+export ENABLE_GTK3=
+export ENABLE_GTK4=
+export ENABLE_GTKTILEDVIEWER=
+export DISABLE_GUI=TRUE
+export ENABLE_HARDENING_FLAGS=
+export HARDENING_CFLAGS= -grecord-gcc-switches -Wp,-D_GLIBCXX_ASSERTIONS
+export HARDENING_OPT_CFLAGS= -Wp,-U_FORTIFY_SOURCE,-D_FORTIFY_SOURCE=2
+export ENABLE_HEADLESS=TRUE
+export ENABLE_HTMLHELP=
+export ENABLE_JAVA=
+export ENABLE_JUMBO_SHEETS=
+export ENABLE_LDAP=
+export ENABLE_LPSOLVE=
+export ENABLE_LTO=
+export ENABLE_LWP=
+export ENABLE_MACOSX_SANDBOX=
+export ENABLE_MEDIAWIKI=
+export ENABLE_MARIADBC=
+export ENABLE_NSS=
+export ENABLE_ONLINE_UPDATE=
+export ENABLE_ONLINE_UPDATE_MAR=
+export ENABLE_EXTENSION_UPDATE=
+export ENABLE_OOENV=
+export ENABLE_OPENGL_TRANSITIONS=
+export ENABLE_OPENGL_CANVAS=
+export ENABLE_OPENSSL=TRUE
+export ENABLE_OPTIMIZED=TRUE
+export ENABLE_OPTIMIZED_DEBUG=
+export ENABLE_PAGEIN=
+export ENABLE_PCH=
+export ENABLE_PDFIMPORT=
+export ENABLE_PDFIUM=
+export ENABLE_POPPLER=
+export ENABLE_QT5=
+export ENABLE_QT6=
+export ENABLE_QT6_MULTIMEDIA=
+export ENABLE_KF5=
+export ENABLE_KF6=
+export ENABLE_GTK3_KDE5=
+export ENABLE_RANDR=
+export ENABLE_RELEASE_BUILD=
+export ENABLE_REPORTBUILDER=
+export ENABLE_RUNTIME_OPTIMIZATIONS=TRUE
+export ENABLE_SAL_LOG=TRUE
+export ENABLE_SCRIPTING_BEANSHELL=
+export ENABLE_SCRIPTING_JAVASCRIPT=
+export ENABLE_SDREMOTE=
+export ENABLE_SDREMOTE_BLUETOOTH=
+export ENABLE_CUSTOMTARGET_COMPONENTS=TRUE
+export ENABLE_SILENT_MSI=
+export ENABLE_SKIA=
+export ENABLE_SKIA_DEBUG=
+export ENABLE_SYMBOLS_FOR=
+export ENABLE_VALGRIND=
+export ENABLE_WASM_STRIP_ACCESSIBILITY=
+export ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=TRUE
+export ENABLE_WASM_STRIP_WRITER=
+export ENABLE_WASM_STRIP_CALC=
+export ENABLE_WASM_STRIP_CANVAS=TRUE
+export ENABLE_WASM_STRIP_CHART=
+export ENABLE_WASM_STRIP_DBACCESS=TRUE
+export ENABLE_WASM_STRIP_EPUB=TRUE
+export ENABLE_WASM_STRIP_EXTRA=TRUE
+export ENABLE_WASM_STRIP_GUESSLANG=TRUE
+export ENABLE_WASM_STRIP_HUNSPELL=
+export ENABLE_WASM_STRIP_LANGUAGETOOL=TRUE
+export ENABLE_WASM_STRIP_LOCALES=TRUE
+export ENABLE_WASM_STRIP_PINGUSER=TRUE
+export ENABLE_WASM_STRIP_PREMULTIPLY=TRUE
+export ENABLE_WASM_STRIP_RECENT=TRUE
+export ENABLE_WASM_STRIP_RECOVERYUI=TRUE
+export ENABLE_WASM_STRIP_SPLASH=TRUE
+export ENABLE_WASM_STRIP_SWEXPORTS=TRUE
+export ENABLE_WASM_STRIP_SCEXPORTS=TRUE
+export ENABLE_WERROR=
+ENABLE_WIX=
+export ENABLE_Z7_DEBUG=
+export ENDIANNESS=little
+export EPM=NO
+export EPM_FLAGS=
+export EPUBGEN_CFLAGS=$(gb_SPACE)
+export EPUBGEN_LIBS=$(gb_SPACE)
+export ETONYEK_CFLAGS=$(gb_SPACE)
+export ETONYEK_LIBS=$(gb_SPACE)
+export debug=
+export FIND=find
+export FIREBIRD_CFLAGS=$(gb_SPACE)
+export FIREBIRD_LIBS=$(gb_SPACE)
+export FLEX=/usr/bin/flex
+export FLUTE_JAR=
+export FONTCONFIG_CFLAGS=$(gb_SPACE)
+export FONTCONFIG_LIBS=$(gb_SPACE)
+export FONTFORGE=
+export FREEHAND_CFLAGS=$(gb_SPACE)
+export FREEHAND_LIBS=$(gb_SPACE)
+export FREETYPE_CFLAGS=$(gb_SPACE)-isystem /home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/freetype/include
+export FREETYPE_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/freetype/instdir/lib -lfreetype
+export GCC_VERSION=
+export GIO_CFLAGS=$(gb_SPACE)
+export GIO_LIBS=$(gb_SPACE)
+export GIT_REFERENCE_SRC=
+export GIT_LINK_SRC=
+export GIT_NEEDED_SUBMODULES=
+export EPOXY_CFLAGS=$(gb_SPACE)
+export EPOXY_LIBS=$(gb_SPACE)
+export GLM_CFLAGS=$(gb_SPACE)-isystem /home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/glm
+export GPG_ERROR_CFLAGS=$(gb_SPACE)
+export GPG_ERROR_LIBS=$(gb_SPACE)
+export GPGMEPP_CFLAGS=$(gb_SPACE)
+export GPGMEPP_LIBS=$(gb_SPACE)
+export PARALLELISM?=32
+ export GNUCOPY=/usr/bin/cp
+export GNUPATCH=/home/acidhax/anaconda3/bin/patch
+export GNUTAR=tar
+export GOBJECT_CFLAGS=$(gb_SPACE)
+export GOBJECT_LIBS=$(gb_SPACE)
+export GPERF=/usr/bin/gperf
+export GRAPHITE_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/graphite/include -DGRAPHITE2_STATIC
+export GRAPHITE_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/LinkTarget/StaticLibrary -lgraphite
+export HARFBUZZ_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/harfbuzz/src
+export HARFBUZZ_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/harfbuzz/src/.libs -lharfbuzz
+# export GREP=
+export GSSAPI_LIBS=
+export GSTREAMER_1_0_CFLAGS=$(gb_SPACE)
+export GSTREAMER_1_0_LIBS=$(gb_SPACE)
+export GTK3_CFLAGS=$(gb_SPACE)
+export GTK3_LIBS=$(gb_SPACE)
+export GTK4_CFLAGS=$(gb_SPACE)
+export GTK4_LIBS=$(gb_SPACE)
+export USING_X11=
+export HAMCREST_JAR=
+export HAVE_ASM_END_BRANCH_INS_SUPPORT=
+export HAVE_BROKEN_GCC_WMAYBE_UNINITIALIZED=
+export HAVE_BROKEN_GCC_WSTRINGOP_OVERFLOW=
+export HAVE_CLANG_DEBUG_INFO_KIND_CONSTRUCTOR=TRUE
+export HAVE_CXX20_ATOMIC_REF=
+export HAVE_DLLEXPORTINLINES=
+export HAVE_EXTERNAL_DWARF=TRUE
+export HAVE_LO_CLANG_DLLEXPORTINLINES=
+export HAVE_GCC_AVX=
+export HAVE_GCC_BUILTIN_ATOMIC=TRUE
+export HAVE_GCC_FNO_ENFORCE_EH_SPECS=
+export HAVE_GCC_FNO_SIZED_DEALLOCATION=TRUE
+export HAVE_GCC_GGDB2=
+export HAVE_GCC_STACK_CLASH_PROTECTION=
+export HAVE_LD_BSYMBOLIC_FUNCTIONS=
+export HAVE_LD_HASH_STYLE=FALSE
+export HAVE_LIBCPP=TRUE
+export HAVE_LIBSTDCPP=
+export HAVE_POSIX_FALLOCATE=YES
+export HAVE_WDEPRECATED_COPY_DTOR=TRUE
+export HELP_ONLINE=
+export HELP_OMINDEX_PAGE=
+export HOST_PLATFORM=wasm32-local-emscripten
+export HSQLDB_JAR=
+export HUNSPELL_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/hunspell/src/hunspell
+export HUNSPELL_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/hunspell/src/hunspell/.libs -lhunspell-1.7
+export HYPHEN_LIB=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/hyphen/.libs -lhyphen
+export HYPH_SYSTEM_DIR=file:///usr/share/hyphen
+export ICECREAM_RUN=
+# export ICECC_VERSION=
+export ICU_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/icu/source/i18n -I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/icu/source/common
+export ICU_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/icu/source/lib
+export ICU_MAJOR=74
+export ICU_MINOR=2
+export INTROSPECTION_SCANNER=
+export ILIB=
+export ILIB_FOR_BUILD=
+export INSTALLDIR=/usr/local/lib/libreoffice
+export INSTALLDIRNAME=libreoffice
+export INSTALL_NAME_TOOL=
+export INSTDIR=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir
+export INSTDIR_FOR_BUILD=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir_for_build
+export INSTROOT=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir
+export INSTROOTBASE=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir
+export INSTROOT_FOR_BUILD=/home/acidhax/libreoffice-wasm-build/libreoffice/instdir_for_build
+export JAVACOMPILER=
+export JAVADOC=
+export JAVADOCISGJDOC=
+export JAVACFLAGS=
+export JAVAIFLAGS=
+export JAVAIFLAGS_FOR_BUILD=
+export JAVAINTERPRETER=
+export JAVA_HOME=
+export JAVA_HOME_FOR_BUILD=
+export JAVA_SOURCE_VER=
+export JAVA_TARGET_VER=
+export JAWTLIB=
+export JDK=
+export JDK_FOR_BUILD=
+export JDK_SECURITYMANAGER_DISALLOWED_FOR_BUILD=
+export JFREEREPORT_JAR=
+export JITC_PROCESSOR_TYPE=
+export JQ=
+export JVM_ONE_PATH_CHECK=
+export KF5_CFLAGS=$(gb_SPACE)
+export KF5_LIBS=$(gb_SPACE)
+export KF6_CFLAGS=$(gb_SPACE)
+export KF6_LIBS=$(gb_SPACE)
+export KRB5_LIBS=
+export LCMS2_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/lcms2/include -Wno-long-long
+export LCMS2_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/lcms2/src/.libs -llcms2
+export LD=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/emcc
+export LD_GC_SECTIONS=-Wl,--gc-sections
+export LD_PLUGIN=
+# export LDFLAGS=
+export LFS_CFLAGS=
+export LIBASSUAN_CFLAGS=$(gb_SPACE)
+export LIBASSUAN_LIBS=$(gb_SPACE)
+export LIBBASE_JAR=
+export LIBCPP_DEBUG=
+export LIBDIR=/usr/local/lib
+export LIBEOT_CFLAGS=$(gb_SPACE)
+export LIBEOT_LIBS=$(gb_SPACE)
+export LIBEXSLT_CFLAGS=$(gb_SPACE)
+export LIBEXSLT_LIBS=$(gb_SPACE)
+export LIBEXTTEXTCAT_CFLAGS=$(gb_SPACE)
+export LIBEXTTEXTCAT_LIBS=$(gb_SPACE)
+export LIBFONTS_JAR=
+export LIBFORMULA_JAR=
+export LIBJPEG_CFLAGS=$(gb_SPACE)
+export LIBJPEG_LIBS=$(gb_SPACE)
+export LIBLANGTAG_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/liblangtag
+export LIBLANGTAG_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/liblangtag/liblangtag/.libs -llangtag
+export LIBLAYOUT_JAR=
+export LIBLOADER_JAR=
+export LIBNUMBERTEXT_CFLAGS=$(gb_SPACE)
+export LIBNUMBERTEXT_LIBS=$(gb_SPACE)
+export LIB_FUZZING_ENGINE=
+export LIBO_BIN_FOLDER=program
+export LIBO_BIN_FOLDER_FOR_BUILD=program
+export LIBO_ETC_FOLDER=program
+export LIBO_LIB_FOLDER=program
+export LIBO_LIB_FOLDER_FOR_BUILD=program
+export LIBO_LIB_PYUNO_FOLDER=program
+export LIBO_SHARE_FOLDER=share
+export LIBO_SHARE_HELP_FOLDER=help
+export LIBO_SHARE_JAVA_FOLDER=program/classes
+export LIBO_SHARE_PRESETS_FOLDER=presets
+export LIBO_SHARE_READMES_FOLDER=readmes
+export LIBO_SHARE_RESOURCE_FOLDER=program/resource
+export LIBO_URE_BIN_FOLDER=program
+export LIBO_URE_ETC_FOLDER=program
+export LIBO_URE_LIB_FOLDER=program
+export LIBO_URE_LIB_FOLDER_FOR_BUILD=program
+export LIBO_URE_MISC_FOLDER=program
+export LIBO_URE_MISC_FOLDER_FOR_BUILD=program
+export LIBO_URE_SHARE_JAVA_FOLDER=program/classes
+export LIBO_VERSION_MAJOR=24
+export LIBO_VERSION_MICRO=8
+export LIBO_VERSION_MINOR=8
+export LIBO_VERSION_PATCH=0
+export LIBO_VERSION_SUFFIX=.0
+export LIBO_VERSION_SUFFIX_SUFFIX=+
+export LIBPNG_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libpng
+export LIBPNG_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/LinkTarget/StaticLibrary -llibpng
+export LIBREPOSITORY_JAR=
+export LIBSERIALIZER_JAR=
+export LIBTIFF_CFLAGS=$(gb_SPACE)
+export LIBTIFF_LIBS=$(gb_SPACE)
+export LIBTOMMATH_CFLAGS=
+export LIBTOMMATH_LIBS=
+export LIBTOOL=
+export LIBWEBP_CFLAGS=$(gb_SPACE)
+export LIBWEBP_LIBS=$(gb_SPACE)
+export LIBXML_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libxml2/include
+export LIBXML_JAR=
+export LIBXML_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libxml2/.libs -lxml2 -lm
+export LIBXSLT_CFLAGS=$(gb_SPACE)
+export LIBXSLT_LIBS=$(gb_SPACE)
+export LIBFIXMATH_LIBS=$(gb_SPACE)
+export LOCKFILE=
+export LO_CLANG_CC=
+export LO_CLANG_CXX=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSE2=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSSE3=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSE41=
+export LO_CLANG_CXXFLAGS_INTRINSICS_SSE42=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX2=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX512=
+export LO_CLANG_CXXFLAGS_INTRINSICS_AVX512F=
+export LO_CLANG_CXXFLAGS_INTRINSICS_F16C=
+export LO_CLANG_CXXFLAGS_INTRINSICS_FMA=
+export LO_CLANG_SHOWINCLUDES_PREFIX=
+export LO_CLANG_VERSION=
+# export LO_ELFCHECK_ALLOWLIST=
+# export LS=
+export MACOSX_BUNDLE_IDENTIFIER=
+export MACOSX_CODESIGNING_IDENTITY=
+export MACOSX_DEPLOYMENT_TARGET=
+export MACOSX_PACKAGE_SIGNING_IDENTITY=
+export MACOSX_PROVISIONING_PROFILE=
+export MACOSX_SDK_PATH=
+export MAC_OS_X_VERSION_MIN_REQUIRED=
+export MANDIR=/usr/local/share/man
+export MARIADBC_MAJOR=1
+export MARIADBC_MICRO=2
+export MARIADBC_MINOR=0
+export MARIADB_CFLAGS=$(gb_SPACE)
+export MARIADB_LIBS=$(gb_SPACE)
+export LIBMARIADB=
+export LIBMARIADB_PATH=
+export BUNDLE_MARIADB_CONNECTOR_C=
+export MDDS_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/mdds/include
+export MDDS_LIBS=$(gb_SPACE)
+export MERGELIBS=
+export MERGELIBS_MORE=
+export ML_EXE=
+export MOC5=
+export MOC6=
+MODULAR_JAVA=
+export MPL_SUBSET=
+export MSGFMT=
+export MSGUNIQ=
+export MSM_PATH=
+export MSPUB_CFLAGS=$(gb_SPACE)
+export MSPUB_LIBS=$(gb_SPACE)
+export MSVC_CXX=
+export MSVC_DLLS=
+export MSVC_DLL_PATH=
+export MSVC_USE_DEBUG_RUNTIME=
+export MWAW_CFLAGS=$(gb_SPACE)
+export MWAW_LIBS=$(gb_SPACE)
+export MYTHES_CFLAGS=$(gb_SPACE)
+export MYTHES_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/mythes/.libs -lmythes-1.2
+export NASM=
+export NAFLAGS=
+export NM=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/bin/llvm-nm
+export NSS_CFLAGS=$(gb_SPACE)
+export NSS_LIBS=$(gb_SPACE)
+export NUMBERTEXT_EXTENSION_PACK=
+export nodep=
+# export OBJCFLAGS=
+# export OBJCXXFLAGS=
+export OBJDUMP=objdump
+export ODFGEN_CFLAGS=$(gb_SPACE)
+export ODFGEN_LIBS=$(gb_SPACE)
+export ODFVALIDATOR=
+export OFFICEOTRON=
+export BFFVALIDATOR=
+export ONLINEUPDATE_MAR_BASEURL=
+export ONLINEUPDATE_MAR_CERTIFICATEDER=
+export ONLINEUPDATE_MAR_CERTIFICATENAME=
+export ONLINEUPDATE_MAR_CERTIFICATEPATH=
+export OOO_JUNIT_JAR=
+export OOO_VENDOR=acidhax
+export OPENSSL_CFLAGS=$(gb_SPACE)
+export OPENSSL_LIBS=$(gb_SPACE)
+export ORCUS_CFLAGS=$(gb_SPACE)
+export ORCUS_LIBS=$(gb_SPACE)
+export OS=EMSCRIPTEN
+export OS_FOR_BUILD=LINUX
+export PATH=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/bin:/home/acidhax/libreoffice-wasm-build/emsdk:/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten:/home/acidhax/.local/bin:/home/acidhax/.cursor-server/bin/60d42bed27e5775c43ec0428d8c653c49e58e260/bin/remote-cli:/home/acidhax/.nvm/versions/node/v22.17.1/bin:/home/acidhax/.cargo/bin:/home/acidhax/anaconda3/bin:/home/acidhax/anaconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v13.0/bin/x64:/mnt/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v13.0/bin:/mnt/c/Program Files/Microsoft SDKs/Azure/CLI2/wbin:/mnt/c/Program Files/Eclipse Adoptium/jdk-21.0.7.6-hotspot/bin:/mnt/c/Program Files/Oculus/Support/oculus-runtime:/mnt/c/Python313/Scripts:/mnt/c/Python313:/mnt/c/Program Files (x86)/Razer Chroma SDK/bin:/mnt/c/Program Files/Razer Chroma SDK/bin:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0:/mnt/c/WINDOWS/System32/OpenSSH:/mnt/c/Program Files/dotnet:/mnt/c/Program Files (x86)/NVIDIA Corporation/PhysX/Common:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA app/NvDLISR:/mnt/c/Users/mail/AppData/Roaming/nvm:/mnt/c/Program Files/nodejs:/mnt/c/Users/mail/AppData/Local/Programs/cursor/resources/app/bin:/mnt/c/WINDOWS/system32/config/systemprofile/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/mail/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/astral-sh.uv_Microsoft.Winget.Source_8wekyb3d8bbwe:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/SQLite.SQLite_Microsoft.Winget.Source_8wekyb3d8bbwe:/mnt/c/Users/mail/AppData/Local/Programs/Windsurf/bin:/mnt/c/Users/mail/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Program Files/PuTTY:/mnt/c/ProgramData/chocolatey/bin:/mnt/c/Program Files/Git/cmd:/mnt/c/Program Files/GitHub CLI:/mnt/c/ProgramData/chocolatey/lib/cunit/lib:/mnt/c/ProgramData/chocolatey/lib/tinyxml2/lib:/mnt/c/ProgramData/chocolatey/lib/bullet/lib:/mnt/c/Program Files (x86)/cloudflared:/mnt/c/Program Files/usbipd-win:/mnt/c/Program Files/Arduino CLI:/mnt/c/Users/mail/AppData/Local/Muse Hub/lib:/mnt/c/Program Files (x86)/Windows Kits/10/Windows Performance Toolkit:/mnt/c/Program Files/Amazon/AWSCLIV2:/mnt/c/Program Files/Cloudflare/Cloudflare WARP:/mnt/c/Program Files/Go/bin:/mnt/c/Program Files/cursor/resources/app/bin:/mnt/c/Program Files/CMake/bin:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Users/mail/.cargo/bin:/mnt/c/Users/mail/anaconda3:/mnt/c/Users/mail/anaconda3/Library/mingw-w64/bin:/mnt/c/Users/mail/anaconda3/Library/usr/bin:/mnt/c/Users/mail/anaconda3/Library/bin:/mnt/c/Users/mail/anaconda3/Scripts:/mnt/c/Users/mail/.dotnet/tools:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/Gyan.FFmpeg_Microsoft.Winget.Source_8wekyb3d8bbwe/ffmpeg-7.1.1-full_build/bin:/mnt/c/Users/mail/AppData/Roaming/Code/User/globalStorage/ms-vscode-remote.remote-containers/cli-bin:/mnt/c/Program Files/OpenSSL-Win64/bin:/mnt/c/Users/mail/AppData/Local/slack-cli/bin:/mnt/c/Users/mail/.deno/bin:/mnt/c/Users/mail/AppData/Local/Programs/Ollama:/mnt/c/Users/mail/.bun/bin:/mnt/c/Users/mail/AppData/Local/Programs/Azure Dev CLI:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Links:/mnt/c/Users/mail/AppData/Local/Programs/Microsoft VS Code Insiders/bin:/mnt/c/Users/mail/go/bin:/mnt/c/Users/mail/AppData/Local/Microsoft/WinGet/Packages/MartinStorsjo.LLVM-MinGW.MSVCRT_Microsoft.Winget.Source_8wekyb3d8bbwe/llvm-mingw-20251104-msvcrt-x86_64/bin:/snap/bin
+export LIBO_PATH_SEPARATOR=:
+export PAGEMAKER_CFLAGS=$(gb_SPACE)
+export PAGEMAKER_LIBS=$(gb_SPACE)
+export PCH_INSTANTIATE_TEMPLATES=
+export PCH_CODEGEN=
+export PCH_DEBUGINFO=
+export PCH_NO_CODEGEN=
+export PERL=/usr/bin/perl
+export PKGFORMAT?=
+export PKGMK=
+export PKG_CONFIG=/usr/bin/pkg-config
+ifneq (,)
+export PKG_CONFIG_PATH=
+else
+unexport PKG_CONFIG_PATH
+endif
+ifneq (/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/local/lib/pkgconfig:/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/lib/pkgconfig,)
+export PKG_CONFIG_LIBDIR=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/local/lib/pkgconfig:/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/cache/sysroot/lib/pkgconfig
+else
+unexport PKG_CONFIG_LIBDIR
+endif
+export PLATFORMID=linux_x86
+export POPPLER_CFLAGS=$(gb_SPACE)
+export POPPLER_LIBS=$(gb_SPACE)
+export POSTGRESQL_INC=
+export POSTGRESQL_LIB=
+export PREFIXDIR=/usr/local
+export PRIVACY_POLICY_URL=undefined
+export PRODUCTNAME=LibreOfficeDev
+export PRODUCTNAME_WITHOUT_SPACES=LibreOfficeDev
+export PRODUCTVERSION=24.8
+export PROGRESSBARCOLOR=
+export PROGRESSFRAMECOLOR=
+export PROGRESSPOSITION=
+export PROGRESSSIZE=
+export PROGRESSTEXTBASELINE=
+export PROGRESSTEXTCOLOR=
+export PTHREAD_CFLAGS=
+export PTHREAD_LIBS=
+export PYTHON_CFLAGS=$(gb_SPACE)
+export PYTHON_FOR_BUILD=/home/acidhax/anaconda3/bin/python
+export PYTHON_LIBS=$(gb_SPACE)
+export PYTHON_VERSION=
+export PYTHON_VERSION_MAJOR=
+export PYTHON_VERSION_MINOR=
+export PYTHONWARNINGS=
+export ENABLE_ZXING=
+export ZXING_CFLAGS=$(gb_SPACE)
+export ZXING_LIBS=$(gb_SPACE)
+export QT5_CFLAGS=$(gb_SPACE)
+export QT5_LIBS=$(gb_SPACE)
+export QT5_GOBJECT_CFLAGS=$(gb_SPACE)
+export QT5_GOBJECT_LIBS=$(gb_SPACE)
+export QT5_HAVE_GOBJECT=
+export QT5_PLATFORMS_SRCDIR=
+export QT6_CFLAGS=$(gb_SPACE)
+export QT6_LIBS=$(gb_SPACE)
+export QT6_PLATFORMS_SRCDIR=
+export QXP_CFLAGS=$(gb_SPACE)
+export QXP_LIBS=$(gb_SPACE)
+export RANLIB=/home/acidhax/libreoffice-wasm-build/emsdk/upstream/emscripten/emranlib
+export RAPTOR_MAJOR=0
+export RASQAL_MAJOR=3
+export READELF=readelf
+export REDLAND_CFLAGS=$(gb_SPACE)
+export REDLAND_LIBS=$(gb_SPACE)
+export REDLAND_MAJOR=0
+export REVENGE_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/librevenge/inc
+export REVENGE_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/librevenge/src/lib/.libs -lrevenge-0.0
+export RHINO_JAR=
+export RPM=
+export RTL_ARCH=x86
+export RTL_OS=Emscripten
+export SAC_JAR=
+export SAL_ENABLE_FILE_LOCKING=1
+export SCPDEFS= -DDISABLE_SCRIPTING -DWITHOUT_EXTENSION_MEDIAWIKI -DWITHOUT_SCRIPTING_BEANSHELL -DWITHOUT_SCRIPTING_JAVASCRIPT
+export SDKDIRNAME=sdk
+export SDKDIRNAME_FOR_BUILD=sdk
+export SHA256SUM=shasum -a 256
+export SHOWINCLUDES_PREFIX=
+export SIZEOF_SIZE_T=4
+export SKIA_DISABLE_VMA_USE_STL_SHARED_MUTEX=@SKIA_DISABLE_VMA_USE_STL_SHARED_MUTEX@
+export SKIA_GPU=
+export SOLARINC= 
+export SORT=sort
+export SPLIT_APP_MODULES=
+export SPLIT_OPT_FEATURES=
+export SRCDIR=/home/acidhax/libreoffice-wasm-build/libreoffice
+export STAROFFICE_CFLAGS=$(gb_SPACE)
+export STAROFFICE_LIBS=$(gb_SPACE)
+export STRIP=strip
+export STRIP_COMPONENTS=--strip-components
+export SYSBASE=
+SYSTEM_ABSEIL=
+export ABSEIL_CFLAGS=
+export ABSEIL_LIBS=
+SYSTEM_ABW=
+ARGON2_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/argon2/include
+ARGON2_LIBS=$(gb_SPACE)/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/argon2/libargon2.a
+SYSTEM_ARGON2=
+SYSTEM_BLUEZ=
+# FIXME: concat-deps reads SYSTEM_BOOST from env
+SYSTEM_BOOST=
+SYSTEM_BSH=
+SYSTEM_BOX2D=
+SYSTEM_BZIP2=
+SYSTEM_CAIRO=
+SYSTEM_CLUCENE=
+SYSTEM_CPPUNIT=
+SYSTEM_CURL=
+SYSTEM_DICTS=TRUE
+SYSTEM_EXPAT=
+SYSTEM_FONTCONFIG=
+SYSTEM_FREETYPE=
+SYSTEM_FIREBIRD=
+SYSTEM_GENBRK=
+SYSTEM_GENCCODE=
+SYSTEM_GENCMN=
+SYSTEM_EPOXY=
+SYSTEM_GLM=
+SYSTEM_GPGMEPP=
+SYSTEM_GRAPHITE=
+SYSTEM_HARFBUZZ=
+SYSTEM_HSQLDB=
+SYSTEM_HUNSPELL=
+SYSTEM_HYPH=
+SYSTEM_ICU=
+SYSTEM_JFREEREPORT=
+SYSTEM_LIBJPEG=
+SYSTEM_LCMS2=
+SYSTEM_CDR=
+SYSTEM_LIBCMIS=
+SYSTEM_EBOOK=
+SYSTEM_ETONYEK=
+SYSTEM_EPUBGEN=
+SYSTEM_FREEHAND=
+SYSTEM_LIBATOMIC_OPS=
+SYSTEM_LIBEOT=
+SYSTEM_LIBEXTTEXTCAT=
+SYSTEM_LIBEXTTEXTCAT_DATA=
+SYSTEM_LIBFIXMATH=
+SYSTEM_LIBLANGTAG=
+SYSTEM_LIBNUMBERTEXT=
+SYSTEM_LIBNUMBERTEXT_DATA=
+SYSTEM_LIBORCUS=
+SYSTEM_LIBPNG=
+SYSTEM_LIBTIFF=
+SYSTEM_LIBTOMMATH=
+SYSTEM_LIBWEBP=
+SYSTEM_LIBXML=
+SYSTEM_LIBXML_FOR_BUILD=
+SYSTEM_LIBXSLT=
+SYSTEM_LIBXSLT_FOR_BUILD=
+SYSTEM_LPSOLVE=
+SYSTEM_MDDS=
+SYSTEM_MARIADB_CONNECTOR_C=
+SYSTEM_MSPUB=
+SYSTEM_MWAW=
+SYSTEM_MYTHES=
+SYSTEM_NSS=
+SYSTEM_ODBC_HEADERS=
+SYSTEM_ODFGEN=
+SYSTEM_OPENJPEG2=
+export OPENJPEG2_CFLAGS=
+export OPENJPEG2_LIBS=
+SYSTEM_OPENLDAP=
+SYSTEM_OPENSSL=
+SYSTEM_PAGEMAKER=
+SYSTEM_POPPLER=
+SYSTEM_POSTGRESQL=
+SYSTEM_PYTHON=
+SYSTEM_ZXCVBN=
+SYSTEM_ZXING=
+SYSTEM_QXP=
+SYSTEM_REDLAND=
+SYSTEM_REVENGE=
+SYSTEM_RHINO=
+SYSTEM_STAROFFICE=
+SYSTEM_VISIO=
+SYSTEM_WPD=
+SYSTEM_WPG=
+SYSTEM_WPS=
+SYSTEM_XMLSEC=
+SYSTEM_ZLIB=
+SYSTEM_ZMF=
+export SYSTEMD_ESCAPE=
+export SYSTEMD_RUN=
+export TARFILE_LOCATION=/home/acidhax/libreoffice-wasm-build/libreoffice/external/tarballs
+export TESTINSTALLDIR=/home/acidhax/libreoffice-wasm-build/libreoffice/test-install
+export THES_SYSTEM_DIR=file:///usr/share/mythes
+export TLS=OPENSSL
+export TMPDIR=/tmp
+export TOUCH=/usr/bin/touch
+export UCRTSDKDIR=
+export UCRTVERSION=
+export UCRT_REDISTDIR=
+export UNIQ=/usr/bin/uniq
+export UNIX_DLAPI_LIBS=
+export USE_HEADLESS_CODE=TRUE
+export USE_LD=
+export USE_LIBRARY_BIN_TAR=
+export UUIDGEN=/usr/bin/uuidgen
+export VALGRIND_CFLAGS=$(gb_SPACE)
+export VCL_PLUGIN_INFO=
+export VCTOOLSET=
+export VCVER=
+export DEVENV=
+export VISIO_CFLAGS=$(gb_SPACE)
+export VISIO_LIBS=$(gb_SPACE)
+export WGET=wget
+export WINDOWS_BUILD_SIGNING=FALSE
+export WINDOWS_SDK_HOME=
+export WINDOWS_SDK_LIB_SUBDIR=
+export WINDOWS_SDK_VERSION=
+export WINDOWS_SDK_WILANGID=
+export WINDOWS_X64=
+export WITH_COMPAT_OOWRAPPERS=
+export WITH_COREDUMPCTL=
+export WITH_EXTENSION_INTEGRATION=
+export WITH_EXTRA_EXTENSIONS=
+export WITH_FONTS=TRUE
+export WITH_GALLERY_BUILD=
+export WITH_TEMPLATES=
+export WITH_GSSAPI=
+export WITH_KRB5=
+export WITH_LINKER_HASH_STYLE=
+export WITH_LOCALES=en
+export WITH_MYSPELL_DICTS=
+export WITH_THEMES=colibre
+export WITH_WEBDAV=
+export WORKDIR=/home/acidhax/libreoffice-wasm-build/libreoffice/workdir
+export WORKDIR_FOR_BUILD=/home/acidhax/libreoffice-wasm-build/libreoffice/workdir_for_build
+export WPD_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libwpd/inc
+export WPD_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/libwpd/src/lib/.libs -lwpd-0.10
+export WPG_CFLAGS=$(gb_SPACE)
+export WPG_LIBS=$(gb_SPACE)
+export WPS_CFLAGS=$(gb_SPACE)
+export WPS_LIBS=$(gb_SPACE)
+export XINERAMA_LINK=none
+export XMLLINT=
+export XMLSEC_CFLAGS=$(gb_SPACE)
+export XMLSEC_LIBS=$(gb_SPACE)
+export XRANDR_CFLAGS=$(gb_SPACE)
+export XRANDR_LIBS=$(gb_SPACE)
+export XRENDER_CFLAGS=$(gb_SPACE)
+export XRENDER_LIBS=$(gb_SPACE)
+export XSLTPROC=
+export XVFB_RUN=
+export ZLIB_CFLAGS=$(gb_SPACE)-I/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/UnpackedTarball/zlib
+export ZLIB_LIBS=$(gb_SPACE)-L/home/acidhax/libreoffice-wasm-build/libreoffice/workdir/LinkTarget/StaticLibrary -lzlib
+export ZMF_CFLAGS=$(gb_SPACE)
+export ZMF_LIBS=$(gb_SPACE)
+export GET_TASK_ALLOW_ENTITLEMENT=<!-- We want to be able to debug a hardened process when not building for release --><key>com.apple.security.get-task-allow</key><true/>
+
+# lang-related stuff
+include $(BUILDDIR)/config_$(gb_Side)_lang.mk
+
+# tarball names
+# does use some of the variables defined above
+include /home/acidhax/libreoffice-wasm-build/libreoffice/download.lst
+
+KEEP_AWAKE_CMD:=
+
+# used for WSL-as-helper-builds where the build runs from within git-bash/MSYS that otherwise would
+# mess with anything that looks like a path (starts with a /) but cannot be resolved to a target
+export MSYS_NO_PATHCONV=1
+STRAWBERRY_PERL=
+WSL=
diff --git a/config_host.mk.in b/config_host.mk.in
index a3a965364..d991d5611 100644
--- a/config_host.mk.in
+++ b/config_host.mk.in
@@ -232,10 +232,10 @@ export ENABLE_SKIA_DEBUG=@ENABLE_SKIA_DEBUG@
 export ENABLE_SYMBOLS_FOR=@ENABLE_SYMBOLS_FOR@
 export ENABLE_VALGRIND=@ENABLE_VALGRIND@
 export ENABLE_WASM_STRIP_ACCESSIBILITY=@ENABLE_WASM_STRIP_CALC@
-export ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=@ENABLE_WASM_STRIP@
+export ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=@ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS@
 export ENABLE_WASM_STRIP_WRITER=@ENABLE_WASM_STRIP_WRITER@
 export ENABLE_WASM_STRIP_CALC=@ENABLE_WASM_STRIP_CALC@
-export ENABLE_WASM_STRIP_CANVAS=@ENABLE_WASM_STRIP@
+export ENABLE_WASM_STRIP_CANVAS=@ENABLE_WASM_STRIP_CANVAS@
 export ENABLE_WASM_STRIP_CHART=
 export ENABLE_WASM_STRIP_DBACCESS=@ENABLE_WASM_STRIP@
 export ENABLE_WASM_STRIP_EPUB=@ENABLE_WASM_STRIP@
diff --git a/config_host_lang.mk b/config_host_lang.mk
new file mode 100644
index 000000000..6d26111d9
--- /dev/null
+++ b/config_host_lang.mk
@@ -0,0 +1,9 @@
+ # language-related config variables for LibreOffice
+ # this file is intended to be able to be included in a Makefile
+ # and not to be sourced in a shell session
+ #
+
+ALL_LANGS=en-US af am ar as ast be bg bn bn-IN bo br brx bs ca ca-valencia ckb cs cy da de dgo dsb dz el en-GB en-ZA eo es et eu fa fi fr fur fy ga gd gl gu gug he hi hr hsb hu hy id is it ja ka kab kk km kmr-Latn kn ko kok ks lb lo lt lv mai mk ml mn mni mr my nb ne nl nn nr nso oc om or pa-IN pl pt pt-BR ro ru rw sa-IN sat sd si sid sk sl sq sr sr-Latn ss st sun sv sw-TZ szl ta te tg th tl tn tr ts tt ug uk uz ve vec vi xh zh-CN zh-TW zu qtz
+WITH_LANG=
+WITH_LANG_LIST=en-US
+WITH_POOR_HELP_LOCALIZATIONS=
diff --git a/configure b/configure
new file mode 100755
index 000000000..5194c53f7
--- /dev/null
+++ b/configure
@@ -0,0 +1,50647 @@
+#! /bin/sh
+# Guess values for system-dependent variables and create Makefiles.
+# Generated by GNU Autoconf 2.71 for LibreOffice 24.8.8.0.0+.
+#
+#
+# Copyright (C) 1992-1996, 1998-2017, 2020-2021 Free Software Foundation,
+# Inc.
+#
+#
+# This configure script is free software; the Free Software Foundation
+# gives unlimited permission to copy, distribute and modify it.
+## -------------------- ##
+## M4sh Initialization. ##
+## -------------------- ##
+
+# Be more Bourne compatible
+DUALCASE=1; export DUALCASE # for MKS sh
+as_nop=:
+if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
+then :
+  emulate sh
+  NULLCMD=:
+  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+  setopt NO_GLOB_SUBST
+else $as_nop
+  case `(set -o) 2>/dev/null` in #(
+  *posix*) :
+    set -o posix ;; #(
+  *) :
+     ;;
+esac
+fi
+
+
+
+# Reset variables that may have inherited troublesome values from
+# the environment.
+
+# IFS needs to be set, to space, tab, and newline, in precisely that order.
+# (If _AS_PATH_WALK were called with IFS unset, it would have the
+# side effect of setting IFS to empty, thus disabling word splitting.)
+# Quoting is to prevent editors from complaining about space-tab.
+as_nl='
+'
+export as_nl
+IFS=" ""	$as_nl"
+
+PS1='$ '
+PS2='> '
+PS4='+ '
+
+# Ensure predictable behavior from utilities with locale-dependent output.
+LC_ALL=C
+export LC_ALL
+LANGUAGE=C
+export LANGUAGE
+
+# We cannot yet rely on "unset" to work, but we need these variables
+# to be unset--not just set to an empty or harmless value--now, to
+# avoid bugs in old shells (e.g. pre-3.0 UWIN ksh).  This construct
+# also avoids known problems related to "unset" and subshell syntax
+# in other old shells (e.g. bash 2.01 and pdksh 5.2.14).
+for as_var in BASH_ENV ENV MAIL MAILPATH CDPATH
+do eval test \${$as_var+y} \
+  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
+done
+
+# Ensure that fds 0, 1, and 2 are open.
+if (exec 3>&0) 2>/dev/null; then :; else exec 0</dev/null; fi
+if (exec 3>&1) 2>/dev/null; then :; else exec 1>/dev/null; fi
+if (exec 3>&2)            ; then :; else exec 2>/dev/null; fi
+
+# The user is always right.
+if ${PATH_SEPARATOR+false} :; then
+  PATH_SEPARATOR=:
+  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
+    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
+      PATH_SEPARATOR=';'
+  }
+fi
+
+
+# Find who we are.  Look in the path if we contain no directory separator.
+as_myself=
+case $0 in #((
+  *[\\/]* ) as_myself=$0 ;;
+  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    test -r "$as_dir$0" && as_myself=$as_dir$0 && break
+  done
+IFS=$as_save_IFS
+
+     ;;
+esac
+# We did not find ourselves, most probably we were run as `sh COMMAND'
+# in which case we are not to be found in the path.
+if test "x$as_myself" = x; then
+  as_myself=$0
+fi
+if test ! -f "$as_myself"; then
+  printf "%s\n" "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
+  exit 1
+fi
+
+
+# Use a proper internal environment variable to ensure we don't fall
+  # into an infinite loop, continuously re-executing ourselves.
+  if test x"${_as_can_reexec}" != xno && test "x$CONFIG_SHELL" != x; then
+    _as_can_reexec=no; export _as_can_reexec;
+    # We cannot yet assume a decent shell, so we have to provide a
+# neutralization value for shells without unset; and this also
+# works around shells that cannot unset nonexistent variables.
+# Preserve -v and -x to the replacement shell.
+BASH_ENV=/dev/null
+ENV=/dev/null
+(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
+case $- in # ((((
+  *v*x* | *x*v* ) as_opts=-vx ;;
+  *v* ) as_opts=-v ;;
+  *x* ) as_opts=-x ;;
+  * ) as_opts= ;;
+esac
+exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
+# Admittedly, this is quite paranoid, since all the known shells bail
+# out after a failed `exec'.
+printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
+exit 255
+  fi
+  # We don't want this to propagate to other subprocesses.
+          { _as_can_reexec=; unset _as_can_reexec;}
+if test "x$CONFIG_SHELL" = x; then
+  as_bourne_compatible="as_nop=:
+if test \${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
+then :
+  emulate sh
+  NULLCMD=:
+  # Pre-4.2 versions of Zsh do word splitting on \${1+\"\$@\"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '\${1+\"\$@\"}'='\"\$@\"'
+  setopt NO_GLOB_SUBST
+else \$as_nop
+  case \`(set -o) 2>/dev/null\` in #(
+  *posix*) :
+    set -o posix ;; #(
+  *) :
+     ;;
+esac
+fi
+"
+  as_required="as_fn_return () { (exit \$1); }
+as_fn_success () { as_fn_return 0; }
+as_fn_failure () { as_fn_return 1; }
+as_fn_ret_success () { return 0; }
+as_fn_ret_failure () { return 1; }
+
+exitcode=0
+as_fn_success || { exitcode=1; echo as_fn_success failed.; }
+as_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }
+as_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }
+as_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }
+if ( set x; as_fn_ret_success y && test x = \"\$1\" )
+then :
+
+else \$as_nop
+  exitcode=1; echo positional parameters were not saved.
+fi
+test x\$exitcode = x0 || exit 1
+blah=\$(echo \$(echo blah))
+test x\"\$blah\" = xblah || exit 1
+test -x / || exit 1"
+  as_suggested="  as_lineno_1=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_1a=\$LINENO
+  as_lineno_2=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_2a=\$LINENO
+  eval 'test \"x\$as_lineno_1'\$as_run'\" != \"x\$as_lineno_2'\$as_run'\" &&
+  test \"x\`expr \$as_lineno_1'\$as_run' + 1\`\" = \"x\$as_lineno_2'\$as_run'\"' || exit 1
+test \$(( 1 + 1 )) = 2 || exit 1"
+  if (eval "$as_required") 2>/dev/null
+then :
+  as_have_required=yes
+else $as_nop
+  as_have_required=no
+fi
+  if test x$as_have_required = xyes && (eval "$as_suggested") 2>/dev/null
+then :
+
+else $as_nop
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_found=false
+for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+  as_found=:
+  case $as_dir in #(
+	 /*)
+	   for as_base in sh bash ksh sh5; do
+	     # Try only shells that exist, to save several forks.
+	     as_shell=$as_dir$as_base
+	     if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
+		    as_run=a "$as_shell" -c "$as_bourne_compatible""$as_required" 2>/dev/null
+then :
+  CONFIG_SHELL=$as_shell as_have_required=yes
+		   if as_run=a "$as_shell" -c "$as_bourne_compatible""$as_suggested" 2>/dev/null
+then :
+  break 2
+fi
+fi
+	   done;;
+       esac
+  as_found=false
+done
+IFS=$as_save_IFS
+if $as_found
+then :
+
+else $as_nop
+  if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
+	      as_run=a "$SHELL" -c "$as_bourne_compatible""$as_required" 2>/dev/null
+then :
+  CONFIG_SHELL=$SHELL as_have_required=yes
+fi
+fi
+
+
+      if test "x$CONFIG_SHELL" != x
+then :
+  export CONFIG_SHELL
+             # We cannot yet assume a decent shell, so we have to provide a
+# neutralization value for shells without unset; and this also
+# works around shells that cannot unset nonexistent variables.
+# Preserve -v and -x to the replacement shell.
+BASH_ENV=/dev/null
+ENV=/dev/null
+(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
+case $- in # ((((
+  *v*x* | *x*v* ) as_opts=-vx ;;
+  *v* ) as_opts=-v ;;
+  *x* ) as_opts=-x ;;
+  * ) as_opts= ;;
+esac
+exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
+# Admittedly, this is quite paranoid, since all the known shells bail
+# out after a failed `exec'.
+printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
+exit 255
+fi
+
+    if test x$as_have_required = xno
+then :
+  printf "%s\n" "$0: This script requires a shell more modern than all"
+  printf "%s\n" "$0: the shells that I found on your system."
+  if test ${ZSH_VERSION+y} ; then
+    printf "%s\n" "$0: In particular, zsh $ZSH_VERSION has bugs and should"
+    printf "%s\n" "$0: be upgraded to zsh 4.3.4 or later."
+  else
+    printf "%s\n" "$0: Please tell bug-autoconf@gnu.org about your system,
+$0: including any error possibly output before this
+$0: message. Then install a modern shell, or manually run
+$0: the script under such a shell if you do have one."
+  fi
+  exit 1
+fi
+fi
+fi
+SHELL=${CONFIG_SHELL-/bin/sh}
+export SHELL
+# Unset more variables known to interfere with behavior of common tools.
+CLICOLOR_FORCE= GREP_OPTIONS=
+unset CLICOLOR_FORCE GREP_OPTIONS
+
+## --------------------- ##
+## M4sh Shell Functions. ##
+## --------------------- ##
+# as_fn_unset VAR
+# ---------------
+# Portably unset VAR.
+as_fn_unset ()
+{
+  { eval $1=; unset $1;}
+}
+as_unset=as_fn_unset
+
+
+# as_fn_set_status STATUS
+# -----------------------
+# Set $? to STATUS, without forking.
+as_fn_set_status ()
+{
+  return $1
+} # as_fn_set_status
+
+# as_fn_exit STATUS
+# -----------------
+# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
+as_fn_exit ()
+{
+  set +e
+  as_fn_set_status $1
+  exit $1
+} # as_fn_exit
+# as_fn_nop
+# ---------
+# Do nothing but, unlike ":", preserve the value of $?.
+as_fn_nop ()
+{
+  return $?
+}
+as_nop=as_fn_nop
+
+# as_fn_mkdir_p
+# -------------
+# Create "$as_dir" as a directory, including parents if necessary.
+as_fn_mkdir_p ()
+{
+
+  case $as_dir in #(
+  -*) as_dir=./$as_dir;;
+  esac
+  test -d "$as_dir" || eval $as_mkdir_p || {
+    as_dirs=
+    while :; do
+      case $as_dir in #(
+      *\'*) as_qdir=`printf "%s\n" "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
+      *) as_qdir=$as_dir;;
+      esac
+      as_dirs="'$as_qdir' $as_dirs"
+      as_dir=`$as_dirname -- "$as_dir" ||
+$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$as_dir" : 'X\(//\)[^/]' \| \
+	 X"$as_dir" : 'X\(//\)$' \| \
+	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
+printf "%s\n" X"$as_dir" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+      test -d "$as_dir" && break
+    done
+    test -z "$as_dirs" || eval "mkdir $as_dirs"
+  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
+
+
+} # as_fn_mkdir_p
+
+# as_fn_executable_p FILE
+# -----------------------
+# Test if FILE is an executable regular file.
+as_fn_executable_p ()
+{
+  test -f "$1" && test -x "$1"
+} # as_fn_executable_p
+# as_fn_append VAR VALUE
+# ----------------------
+# Append the text in VALUE to the end of the definition contained in VAR. Take
+# advantage of any shell optimizations that allow amortized linear growth over
+# repeated appends, instead of the typical quadratic growth present in naive
+# implementations.
+if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null
+then :
+  eval 'as_fn_append ()
+  {
+    eval $1+=\$2
+  }'
+else $as_nop
+  as_fn_append ()
+  {
+    eval $1=\$$1\$2
+  }
+fi # as_fn_append
+
+# as_fn_arith ARG...
+# ------------------
+# Perform arithmetic evaluation on the ARGs, and store the result in the
+# global $as_val. Take advantage of shells that can avoid forks. The arguments
+# must be portable across $(()) and expr.
+if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null
+then :
+  eval 'as_fn_arith ()
+  {
+    as_val=$(( $* ))
+  }'
+else $as_nop
+  as_fn_arith ()
+  {
+    as_val=`expr "$@" || test $? -eq 1`
+  }
+fi # as_fn_arith
+
+# as_fn_nop
+# ---------
+# Do nothing but, unlike ":", preserve the value of $?.
+as_fn_nop ()
+{
+  return $?
+}
+as_nop=as_fn_nop
+
+# as_fn_error STATUS ERROR [LINENO LOG_FD]
+# ----------------------------------------
+# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
+# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
+# script with STATUS, using 1 if that was 0.
+as_fn_error ()
+{
+  as_status=$1; test $as_status -eq 0 && as_status=1
+  if test "$4"; then
+    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
+  fi
+  printf "%s\n" "$as_me: error: $2" >&2
+  as_fn_exit $as_status
+} # as_fn_error
+
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
+  as_dirname=dirname
+else
+  as_dirname=false
+fi
+
+as_me=`$as_basename -- "$0" ||
+$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
+printf "%s\n" X/"$0" |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+
+  as_lineno_1=$LINENO as_lineno_1a=$LINENO
+  as_lineno_2=$LINENO as_lineno_2a=$LINENO
+  eval 'test "x$as_lineno_1'$as_run'" != "x$as_lineno_2'$as_run'" &&
+  test "x`expr $as_lineno_1'$as_run' + 1`" = "x$as_lineno_2'$as_run'"' || {
+  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)
+  sed -n '
+    p
+    /[$]LINENO/=
+  ' <$as_myself |
+    sed '
+      s/[$]LINENO.*/&-/
+      t lineno
+      b
+      :lineno
+      N
+      :loop
+      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
+      t loop
+      s/-\n.*//
+    ' >$as_me.lineno &&
+  chmod +x "$as_me.lineno" ||
+    { printf "%s\n" "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2; as_fn_exit 1; }
+
+  # If we had to re-execute with $CONFIG_SHELL, we're ensured to have
+  # already done that, so ensure we don't try to do so again and fall
+  # in an infinite loop.  This has already happened in practice.
+  _as_can_reexec=no; export _as_can_reexec
+  # Don't try to exec as it changes $[0], causing all sort of problems
+  # (the dirname of $[0] is not the place where we might find the
+  # original and so on.  Autoconf is especially sensitive to this).
+  . "./$as_me.lineno"
+  # Exit status is that of the last command.
+  exit
+}
+
+
+# Determine whether it's possible to make 'echo' print without a newline.
+# These variables are no longer used directly by Autoconf, but are AC_SUBSTed
+# for compatibility with existing Makefiles.
+ECHO_C= ECHO_N= ECHO_T=
+case `echo -n x` in #(((((
+-n*)
+  case `echo 'xy\c'` in
+  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
+  xy)  ECHO_C='\c';;
+  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
+       ECHO_T='	';;
+  esac;;
+*)
+  ECHO_N='-n';;
+esac
+
+# For backward compatibility with old third-party macros, we provide
+# the shell variables $as_echo and $as_echo_n.  New code should use
+# AS_ECHO(["message"]) and AS_ECHO_N(["message"]), respectively.
+as_echo='printf %s\n'
+as_echo_n='printf %s'
+
+
+rm -f conf$$ conf$$.exe conf$$.file
+if test -d conf$$.dir; then
+  rm -f conf$$.dir/conf$$.file
+else
+  rm -f conf$$.dir
+  mkdir conf$$.dir 2>/dev/null
+fi
+if (echo >conf$$.file) 2>/dev/null; then
+  if ln -s conf$$.file conf$$ 2>/dev/null; then
+    as_ln_s='ln -s'
+    # ... but there are two gotchas:
+    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+    # In both cases, we have to default to `cp -pR'.
+    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
+      as_ln_s='cp -pR'
+  elif ln conf$$.file conf$$ 2>/dev/null; then
+    as_ln_s=ln
+  else
+    as_ln_s='cp -pR'
+  fi
+else
+  as_ln_s='cp -pR'
+fi
+rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
+rmdir conf$$.dir 2>/dev/null
+
+if mkdir -p . 2>/dev/null; then
+  as_mkdir_p='mkdir -p "$as_dir"'
+else
+  test -d ./-p && rmdir ./-p
+  as_mkdir_p=false
+fi
+
+as_test_x='test -x'
+as_executable_p=as_fn_executable_p
+
+# Sed expression to map a string onto a valid CPP name.
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
+
+# Sed expression to map a string onto a valid variable name.
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
+
+
+test -n "$DJDIR" || exec 7<&0 </dev/null
+exec 6>&1
+
+# Name of the host.
+# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,
+# so uname gets run too.
+ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
+
+#
+# Initializations.
+#
+ac_default_prefix=/usr/local
+ac_clean_files=
+ac_config_libobj_dir=.
+LIBOBJS=
+cross_compiling=no
+subdirs=
+MFLAGS=
+MAKEFLAGS=
+
+# Identity of this package.
+PACKAGE_NAME='LibreOffice'
+PACKAGE_TARNAME='libreoffice'
+PACKAGE_VERSION='24.8.8.0.0+'
+PACKAGE_STRING='LibreOffice 24.8.8.0.0+'
+PACKAGE_BUGREPORT=''
+PACKAGE_URL='http://documentfoundation.org/'
+
+# Factoring default headers for most tests.
+ac_includes_default="\
+#include <stddef.h>
+#ifdef HAVE_STDIO_H
+# include <stdio.h>
+#endif
+#ifdef HAVE_STDLIB_H
+# include <stdlib.h>
+#endif
+#ifdef HAVE_STRING_H
+# include <string.h>
+#endif
+#ifdef HAVE_INTTYPES_H
+# include <inttypes.h>
+#endif
+#ifdef HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#ifdef HAVE_STRINGS_H
+# include <strings.h>
+#endif
+#ifdef HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#ifdef HAVE_SYS_STAT_H
+# include <sys/stat.h>
+#endif
+#ifdef HAVE_UNISTD_H
+# include <unistd.h>
+#endif"
+
+ac_header_c_list=
+ac_subst_vars='LTLIBOBJS
+LIBOBJS
+LO_ELFCHECK_ALLOWLIST
+x_LO_ELFCHECK_ALLOWLIST
+LO_PATH
+CYGWIN_BASH
+TEMP_DIRECTORY
+SOLARINC
+BUILD_TYPE
+WIN_TOUCH
+WIN_LS
+WIN_GREP
+SORT
+FIND
+ATL_LIB
+ATL_INCLUDE
+KEEP_AWAKE_CMD
+WITH_COREDUMPCTL
+SYSTEMD_RUN
+SYSTEMD_ESCAPE
+JQ
+COREDUMPCTL
+ENABLE_FORMULA_LOGGER
+LICENSE
+MPL_SUBSET
+ICECC_VERSION
+x_ICECC_VERSION
+ICECREAM_RUN
+MERGELIBS_MORE
+MERGELIBS
+ILIB_FOR_BUILD
+ILIB
+PARALLELISM
+nodep
+TESTINSTALLDIR
+INSTALLDIR
+BINDIR
+DOCDIR
+MANDIR
+DATADIR
+LIBDIR
+PREFIXDIR
+INSTALLDIRNAME
+WITH_COMPAT_OOWRAPPERS
+ANDROID_PACKAGE_NAME
+OOO_VENDOR
+PROGRESSTEXTBASELINE
+PROGRESSTEXTCOLOR
+PROGRESSFRAMECOLOR
+PROGRESSPOSITION
+PROGRESSSIZE
+PROGRESSBARCOLOR
+DEFAULT_BRAND_IMAGES
+CUSTOM_BRAND_IMAGES
+CUSTOM_BRAND_DIR
+BRAND_INTRO_IMAGES
+GIT_LINK_SRC
+GIT_REFERENCE_SRC
+WITH_LOCALES
+WITH_POOR_HELP_LOCALIZATIONS
+GIT_NEEDED_SUBMODULES
+WITH_LANG_LIST
+WITH_LANG
+ALL_LANGS
+MSGUNIQ
+MSGFMT
+SHA256SUM
+CURL
+WGET
+SCPDEFS
+HAMCREST_JAR
+OOO_JUNIT_JAR
+ANT_LIB
+ANT_HOME
+ANT
+JVM_ONE_PATH_CHECK
+SYSTEM_LIBWEBP
+ENABLE_LIBWEBP
+LIBWEBP_LIBS
+LIBWEBP_CFLAGS
+SYSTEM_LIBTIFF
+ENABLE_LIBTIFF
+LIBTIFF_LIBS
+LIBTIFF_CFLAGS
+SYSTEM_LIBPNG
+ENABLE_LIBPNG
+LIBPNG_LIBS
+LIBPNG_CFLAGS
+SYSTEM_LIBLANGTAG
+LIBLANGTAG_LIBS
+LIBLANGTAG_CFLAGS
+ENABLE_AVAHI
+AVAHI_LIBS
+AVAHI_CFLAGS
+SYSTEM_CAIRO
+ENABLE_CAIRO_CANVAS
+CAIRO_LIBS
+CAIRO_CFLAGS
+ENABLE_CAIRO_RGBA
+XINERAMA_LINK
+ENABLE_WIX
+ENABLE_SILENT_MSI
+ENABLE_EXTENSION_UPDATE
+SYSTEM_BZIP2
+BZIP2_LIBS
+BZIP2_CFLAGS
+PRIVACY_POLICY_URL
+ONLINEUPDATE_MAR_CERTIFICATEPATH
+ONLINEUPDATE_MAR_CERTIFICATENAME
+ONLINEUPDATE_MAR_CERTIFICATEDER
+ONLINEUPDATE_MAR_BASEURL
+ENABLE_ONLINE_UPDATE_MAR
+ENABLE_ONLINE_UPDATE
+WITH_FONTS
+FONTFORGE
+NLPSOLVER_EXTENSION_PACK
+NUMBERTEXT_EXTENSION_PACK
+WITH_EXTRA_EXTENSIONS
+WITH_EXTENSION_INTEGRATION
+WITH_THEMES
+ENABLE_EVOAB2
+GOBJECT_LIBS
+GOBJECT_CFLAGS
+KF6_LIBS
+KF6_CFLAGS
+KF5_LIBS
+KF5_CFLAGS
+KF5_CONFIG
+ENABLE_QT6_MULTIMEDIA
+QT6_PLATFORMS_SRCDIR
+QT6_LIBS
+QT6_CFLAGS
+MOC6
+QT6_XCB_LIBS
+QT6_XCB_CFLAGS
+QMAKE6
+QT5_PLATFORMS_SRCDIR
+QT5_HAVE_GOBJECT
+QT5_LIBS
+QT5_CFLAGS
+QT5_GOBJECT_LIBS
+QT5_GOBJECT_CFLAGS
+MOC5
+QT5_XCB_LIBS
+QT5_XCB_CFLAGS
+QMAKE5
+RHINO_JAR
+SYSTEM_RHINO
+ENABLE_SCRIPTING_JAVASCRIPT
+BSH_JAR
+SYSTEM_BSH
+ENABLE_SCRIPTING_BEANSHELL
+LIBSERIALIZER_JAR
+LIBFONTS_JAR
+LIBREPOSITORY_JAR
+LIBFORMULA_JAR
+LIBLOADER_JAR
+LIBLAYOUT_JAR
+LIBBASE_JAR
+JFREEREPORT_JAR
+FLUTE_JAR
+LIBXML_JAR
+SAC_JAR
+SYSTEM_JFREEREPORT
+ENABLE_REPORTBUILDER
+ENABLE_MEDIAWIKI
+ENABLE_JAVA_WEBSOCKET
+GPGMEPP_LIBS
+GPGMEPP_CFLAGS
+LIBASSUAN_LIBS
+LIBASSUAN_CFLAGS
+GPG_ERROR_LIBS
+GPG_ERROR_CFLAGS
+SYSTEM_GPGMEPP
+ENABLE_GPGMEPP
+GPGCONF
+GPG
+HAVE_LO_CLANG_DLLEXPORTINLINES
+CLANG_USE_LD
+LO_CLANG_VERSION
+LO_CLANG_SHOWINCLUDES_PREFIX
+LO_CLANG_CXXFLAGS_INTRINSICS_FMA
+LO_CLANG_CXXFLAGS_INTRINSICS_F16C
+LO_CLANG_CXXFLAGS_INTRINSICS_AVX512F
+LO_CLANG_CXXFLAGS_INTRINSICS_AVX512
+LO_CLANG_CXXFLAGS_INTRINSICS_AVX2
+LO_CLANG_CXXFLAGS_INTRINSICS_AVX
+LO_CLANG_CXXFLAGS_INTRINSICS_SSE42
+LO_CLANG_CXXFLAGS_INTRINSICS_SSE41
+LO_CLANG_CXXFLAGS_INTRINSICS_SSSE3
+LO_CLANG_CXXFLAGS_INTRINSICS_SSE2
+LO_CLANG_CXX
+LO_CLANG_CC
+ENABLE_SKIA_DEBUG
+ENABLE_SKIA
+SKIA_GPU
+SYSTEM_POPPLER
+ENABLE_PDFIMPORT
+POPPLER_LIBS
+POPPLER_CFLAGS
+ENABLE_POPPLER
+SYSTEM_ABSEIL
+SYSTEM_OPENJPEG2
+ABSEIL_LIBS
+ABSEIL_CFLAGS
+OPENJPEG2_LIBS
+OPENJPEG2_CFLAGS
+ENABLE_PDFIUM
+ENABLE_DCONF
+DCONF_LIBS
+DCONF_CFLAGS
+ENABLE_OPENGL_CANVAS
+ENABLE_OPENGL_TRANSITIONS
+ENABLE_GSTREAMER_1_0
+GSTREAMER_1_0_LIBS
+GSTREAMER_1_0_CFLAGS
+SPLIT_OPT_FEATURES
+SPLIT_APP_MODULES
+ENABLE_GIO
+GIO_LIBS
+GIO_CFLAGS
+SYSTEM_BLUEZ
+SDREMOTE_ENTITLEMENT
+ENABLE_SDREMOTE_BLUETOOTH
+ENABLE_SDREMOTE
+DBUS_HAVE_GLIB
+ENABLE_DBUS
+DBUS_GLIB_LIBS
+DBUS_GLIB_CFLAGS
+DBUS_LIBS
+DBUS_CFLAGS
+ENABLE_ATSPI_TESTS
+ATSPI2_2_32_LIBS
+ATSPI2_2_32_CFLAGS
+ATSPI2_LIBS
+ATSPI2_CFLAGS
+DBUS_LAUNCH
+XVFB_RUN
+INTROSPECTION_MAKEFILE
+INTROSPECTION_LIBS
+INTROSPECTION_CFLAGS
+INTROSPECTION_TYPELIBDIR
+INTROSPECTION_GIRDIR
+INTROSPECTION_GENERATE
+INTROSPECTION_COMPILER
+INTROSPECTION_SCANNER
+GTK4_LIBS
+GTK4_CFLAGS
+ENABLE_GTKTILEDVIEWER
+GTK3_LIBS
+GTK3_CFLAGS
+VCL_PLUGIN_INFO
+ENABLE_QT6
+ENABLE_QT5
+ENABLE_KF6
+ENABLE_KF5
+ENABLE_GTK4
+ENABLE_GTK3_KDE5
+ENABLE_GTK3
+ENABLE_GEN
+SYSTEM_EPOXY
+ENABLE_EPOXY
+EPOXY_LIBS
+EPOXY_CFLAGS
+TOUCH
+UNZIP
+ZIP
+ML_EXE
+x_GNUCP
+GNUPATCH
+GNUCP
+PATCH
+UNIQ
+DIFF
+FLEX
+BISON
+UUIDGEN
+SYSTEM_LIBNUMBERTEXT_DATA
+SYSTEM_LIBNUMBERTEXT
+ENABLE_LIBNUMBERTEXT
+LIBNUMBERTEXT_LIBS
+LIBNUMBERTEXT_CFLAGS
+SYSTEM_LIBEXTTEXTCAT_DATA
+SYSTEM_LIBEXTTEXTCAT
+ENABLE_LIBEXTTEXTCAT
+LIBEXTTEXTCAT_LIBS
+LIBEXTTEXTCAT_CFLAGS
+SYSTEM_LPSOLVE
+ENABLE_LPSOLVE
+SYSTEM_COINMP
+ENABLE_COINMP
+COINMP_LIBS
+COINMP_CFLAGS
+SYSTEM_MYTHES
+MYTHES_LIBS
+MYTHES_CFLAGS
+HYPHEN_LIB
+SYSTEM_HYPH
+BOX2D_LIBS
+BOX2D_CFLAGS
+SYSTEM_BOX2D
+ZXING_LIBS
+ZXING_CFLAGS
+ENABLE_ZXING
+SYSTEM_ZXING
+HAVE_ZXING_TOSVG
+SYSTEM_ZXCVBN
+SYSTEM_HUNSPELL
+HUNSPELL_LIBS
+HUNSPELL_CFLAGS
+REDLAND_MAJOR
+RASQAL_MAJOR
+RAPTOR_MAJOR
+SYSTEM_REDLAND
+ENABLE_REDLAND
+REDLAND_LIBS
+REDLAND_CFLAGS
+SYSTEM_ARGON2
+ENABLE_ARGON2
+ARGON2_LIBS
+ARGON2_CFLAGS
+ENABLE_CIPHER_OPENSSL_BACKEND
+SYSTEM_OPENSSL
+ENABLE_OPENSSL
+OPENSSL_LIBS
+OPENSSL_CFLAGS
+DISABLE_CVE_TESTS
+WITH_WEBDAV
+ENABLE_RANDR
+XRANDR_LIBS
+XRANDR_CFLAGS
+XRENDER_LIBS
+XRENDER_CFLAGS
+X_EXTRA_LIBS
+X_LIBS
+X_PRE_LIBS
+X_CFLAGS
+XMKMF
+SYSTEM_HARFBUZZ
+ENABLE_HARFBUZZ
+HARFBUZZ_LIBS
+HARFBUZZ_CFLAGS
+SYSTEM_GRAPHITE
+ENABLE_GRAPHITE
+GRAPHITE_LIBS
+GRAPHITE_CFLAGS
+SYSTEM_LIBORCUS
+BOOST_SYSTEM_LIB
+SYSTEM_ORCUS
+ENABLE_ORCUS
+ORCUS_LIBS
+ORCUS_CFLAGS
+DEFAULT_CRASHDUMP_VALUE
+ENABLE_BREAKPAD
+BREAKPAD_SYMBOL_CONFIG
+ICU_MINOR
+ICU_MAJOR
+SYSTEM_GENCMN
+SYSTEM_GENCCODE
+SYSTEM_GENBRK
+SYSTEM_ICU
+ENABLE_ICU
+ICU_LIBS
+ICU_CFLAGS
+TLS
+SYSTEM_OPENLDAP
+ENABLE_LDAP
+SYSTEM_NSS
+ENABLE_NSS
+NSS_LIBS
+NSS_CFLAGS
+SYSTEM_ODBC_HEADERS
+SYSTEM_GLM
+GLM_CFLAGS
+LIBFIXMATH_LIBS
+SYSTEM_LIBFIXMATH
+FROZEN_CFLAGS
+SYSTEM_FROZEN
+DRAGONBOX_CFLAGS
+SYSTEM_DRAGONBOX
+SYSTEM_MDDS
+ENABLE_MDDS
+MDDS_LIBS
+MDDS_CFLAGS
+SYSTEM_BOOST
+BOOST_LOCALE_LIB
+BOOST_IOSTREAMS_LIB
+BOOST_FILESYSTEM_LIB
+BOOST_DATE_TIME_LIB
+BOOST_LDFLAGS
+BOOST_CPPFLAGS
+SYSTEM_CURL
+ENABLE_CURL
+CURL_LIBS
+CURL_CFLAGS
+LIBTOMMATH_LIBS
+LIBTOMMATH_CFLAGS
+SYSTEM_LIBTOMMATH
+SYSTEM_FIREBIRD
+ENABLE_FIREBIRD_SDBC
+SYSTEM_LIBATOMIC_OPS
+ENABLE_LIBATOMIC_OPS
+LIBATOMIC_OPS_LIBS
+LIBATOMIC_OPS_CFLAGS
+FIREBIRD_LIBS
+FIREBIRD_CFLAGS
+FIREBIRDCONFIG
+POSTGRESQL_LIB
+POSTGRESQL_INC
+SYSTEM_POSTGRESQL
+BUILD_POSTGRESQL_SDBC
+KRB5_LIBS
+GSSAPI_LIBS
+WITH_GSSAPI
+WITH_KRB5
+POSTGRESQL_LIBS
+POSTGRESQL_CFLAGS
+PGCONFIG
+HSQLDB_JAR
+SYSTEM_HSQLDB
+BUNDLE_MARIADB_CONNECTOR_C
+LIBMARIADB_PATH
+LIBMARIADB
+MARIADB_LIBS
+MARIADB_CFLAGS
+SYSTEM_MARIADB_CONNECTOR_C
+MARIADBCONFIG
+MARIADBC_MICRO
+MARIADBC_MINOR
+MARIADBC_MAJOR
+ENABLE_MARIADBC
+ENABLE_LIBRELOGO
+PYTHON_VERSION_MINOR
+PYTHON_VERSION_MAJOR
+PYTHON_LIBS
+PYTHON_FOR_BUILD
+PYTHON_CFLAGS
+SYSTEM_PYTHON
+DISABLE_PYTHON
+pkgpyexecdir
+pyexecdir
+pkgpythondir
+pythondir
+PYTHON_EXEC_PREFIX
+PYTHON_PREFIX
+PYTHON_PLATFORM
+PYTHON_VERSION
+PYTHON
+SYSTEM_LIBXML_FOR_BUILD
+SYSTEM_LIBXML
+XMLLINT
+LIBXML_LIBS
+LIBXML_CFLAGS
+SYSTEM_LIBXSLT_FOR_BUILD
+SYSTEM_LIBXSLT
+XSLTPROC
+LIBEXSLT_LIBS
+LIBEXSLT_CFLAGS
+LIBXSLT_LIBS
+LIBXSLT_CFLAGS
+SYSTEM_FREETYPE
+ENABLE_FREETYPE
+FREETYPE_LIBS
+FREETYPE_CFLAGS
+SYSTEM_CPPUNIT
+ENABLE_CPPUNIT
+CPPUNIT_LIBS
+CPPUNIT_CFLAGS
+SYSTEM_LCMS2
+ENABLE_LCMS2
+LCMS2_LIBS
+LCMS2_CFLAGS
+SYSTEM_STAROFFICE
+ENABLE_STAROFFICE
+STAROFFICE_LIBS
+STAROFFICE_CFLAGS
+SYSTEM_ZMF
+ENABLE_ZMF
+ZMF_LIBS
+ZMF_CFLAGS
+SYSTEM_QXP
+ENABLE_QXP
+QXP_LIBS
+QXP_CFLAGS
+SYSTEM_PAGEMAKER
+ENABLE_PAGEMAKER
+PAGEMAKER_LIBS
+PAGEMAKER_CFLAGS
+SYSTEM_ABW
+ENABLE_ABW
+ABW_LIBS
+ABW_CFLAGS
+SYSTEM_EBOOK
+ENABLE_EBOOK
+EBOOK_LIBS
+EBOOK_CFLAGS
+SYSTEM_FREEHAND
+ENABLE_FREEHAND
+FREEHAND_LIBS
+FREEHAND_CFLAGS
+SYSTEM_ETONYEK
+ENABLE_ETONYEK
+ETONYEK_LIBS
+ETONYEK_CFLAGS
+SYSTEM_MWAW
+ENABLE_MWAW
+MWAW_LIBS
+MWAW_CFLAGS
+SYSTEM_MSPUB
+ENABLE_MSPUB
+MSPUB_LIBS
+MSPUB_CFLAGS
+SYSTEM_CDR
+ENABLE_CDR
+CDR_LIBS
+CDR_CFLAGS
+SYSTEM_VISIO
+ENABLE_VISIO
+VISIO_LIBS
+VISIO_CFLAGS
+SYSTEM_WPS
+ENABLE_WPS
+WPS_LIBS
+WPS_CFLAGS
+SYSTEM_WPG
+ENABLE_WPG
+WPG_LIBS
+WPG_CFLAGS
+SYSTEM_WPD
+ENABLE_WPD
+WPD_LIBS
+WPD_CFLAGS
+SYSTEM_EPUBGEN
+ENABLE_EPUBGEN
+EPUBGEN_LIBS
+EPUBGEN_CFLAGS
+SYSTEM_ODFGEN
+ENABLE_ODFGEN
+ODFGEN_LIBS
+ODFGEN_CFLAGS
+SYSTEM_REVENGE
+ENABLE_REVENGE
+REVENGE_LIBS
+REVENGE_CFLAGS
+ENABLE_EOT
+SYSTEM_LIBEOT
+ENABLE_LIBEOT
+LIBEOT_LIBS
+LIBEOT_CFLAGS
+SYSTEM_XMLSEC
+ENABLE_XMLSEC
+XMLSEC_LIBS
+XMLSEC_CFLAGS
+SYSTEM_EXPAT
+ENABLE_EXPAT
+EXPAT_LIBS
+EXPAT_CFLAGS
+SYSTEM_CLUCENE
+ENABLE_CLUCENE
+CLUCENE_LIBS
+CLUCENE_CFLAGS
+SYSTEM_LIBJPEG
+LIBJPEG_LIBS
+LIBJPEG_CFLAGS
+NAFLAGS
+NASM
+SYSTEM_ZLIB
+ZLIB_LIBS
+ZLIB_CFLAGS
+LIB_FUZZING_ENGINE
+DOXYGEN
+ENABLE_LWP
+RPM
+PKGMK
+DPKG
+EPM
+BFFVALIDATOR
+BFFVALIDATOR_EXE
+WINE
+OFFICEOTRON_JAR
+OFFICEOTRON
+ODFVALIDATOR_JAR
+ODFVALIDATOR
+MODULAR_JAVA
+JAVA_TARGET_VER
+JAVA_SOURCE_VER
+JDK_SECURITYMANAGER_DISALLOWED_FOR_BUILD
+JDK_FOR_BUILD
+JDK
+JAVA_HOME_FOR_BUILD
+JAVA_HOME
+JAVAIFLAGS_FOR_BUILD
+JAVAIFLAGS
+JAVACFLAGS
+JAWTLIB
+JAVADOCISGJDOC
+JAVADOC
+JAVACOMPILER
+JAVAINTERPRETER
+MSM_PATH
+MSVC_DLLS
+MSVC_DLL_PATH
+UCRT_REDISTDIR
+JITC_PROCESSOR_TYPE
+HAVE_POSIX_FALLOCATE
+LD_PLUGIN
+CLANGSYSINCLUDE
+CLANGTOOLLIBS
+CLANGLIBDIR
+CLANGDIR
+COMPILER_PLUGINS_TOOLING_ARGS
+COMPILER_PLUGINS_DEBUG
+COMPILER_PLUGINS_CXX_LINKFLAGS
+COMPILER_PLUGINS_CXXFLAGS
+COMPILER_PLUGINS_CXX
+COMPILER_PLUGINS_ANALYZER_PCH
+COMPILER_PLUGINS
+COMPILER_PLUGINS_COM_IS_CLANG
+LLVM_CONFIG
+HAVE_GCC_FNO_ENFORCE_EH_SPECS
+HAVE_ASM_END_BRANCH_INS_SUPPORT
+CXXFLAGS_INTRINSICS_FMA
+CXXFLAGS_INTRINSICS_F16C
+CXXFLAGS_INTRINSICS_AVX512F
+CXXFLAGS_INTRINSICS_AVX512
+CXXFLAGS_INTRINSICS_AVX2
+CXXFLAGS_INTRINSICS_AVX
+CXXFLAGS_INTRINSICS_SSE42
+CXXFLAGS_INTRINSICS_SSE41
+CXXFLAGS_INTRINSICS_SSSE3
+CXXFLAGS_INTRINSICS_SSE2
+HAVE_DLLEXPORTINLINES
+HAVE_BROKEN_GCC_WSTRINGOP_OVERFLOW
+HAVE_BROKEN_GCC_WMAYBE_UNINITIALIZED
+HAVE_WDEPRECATED_COPY_DTOR
+HAVE_CXX20_ATOMIC_REF
+HAVE_GCC_FNO_SIZED_DEALLOCATION
+ATOMIC_LIB
+CXXFLAGS_CXX11
+SYSTEM_LIBCMIS
+ENABLE_LIBCMIS
+LIBCMIS_LIBS
+LIBCMIS_CFLAGS
+GPERF
+LIBCPP_DEBUG
+HAVE_LIBCPP
+HAVE_LIBSTDCPP
+HARDENING_OPT_CFLAGS
+HARDENING_CFLAGS
+HAVE_GCC_STACK_CLASH_PROTECTION
+HAVE_GCC_BUILTIN_ATOMIC
+HAVE_GCC_AVX
+VALGRIND_CFLAGS
+ENABLE_VALGRIND
+ENABLE_RUNTIME_OPTIMIZATIONS
+ENABLE_JUMBO_SHEETS
+SIZEOF_SIZE_T
+LFS_CFLAGS
+CPP
+BOOST_CXXFLAGS
+CXXCPP
+ac_ct_CXX
+CXX
+WINDOWS_SDK_WILANGID
+WINDOWS_SDK_VERSION
+WINDOWS_SDK_LIB_SUBDIR
+WINDOWS_SDK_HOME
+ac_ct_STRIP
+STRIP
+ac_ct_READELF
+READELF
+ac_ct_OBJDUMP
+OBJDUMP
+ac_ct_RANLIB
+RANLIB
+ac_ct_NM
+NM
+ac_ct_AR
+AR
+PERL
+WITH_LINKER_HASH_STYLE
+HAVE_LD_HASH_STYLE
+PCH_DEBUGINFO
+PCH_NO_CODEGEN
+PCH_CODEGEN
+BUILDING_PCH_WITH_OBJ
+PCH_INSTANTIATE_TEMPLATES
+CCACHE_BIN
+ENABLE_PCH
+THES_SYSTEM_DIR
+HYPH_SYSTEM_DIR
+DICT_SYSTEM_DIR
+SYSTEM_DICTS
+WITH_MYSPELL_DICTS
+DO_FETCH_TARBALLS
+TARFILE_LOCATION_NATIVE
+TARFILE_LOCATION
+SYSTEM_FONTCONFIG
+ENABLE_FONTCONFIG
+FONTCONFIG_LIBS
+FONTCONFIG_CFLAGS
+ENABLE_CUPS
+ENABLE_PAGEIN
+ENABLE_OOENV
+ASSERT_ALWAYS_ABORT
+PYTHONWARNINGS
+ENABLE_WERROR
+LOCKFILE
+CPPU_ENV_FOR_BUILD
+CXX_FOR_BUILD
+CC_FOR_BUILD
+WORKDIR_FOR_BUILD
+SDKDIRNAME_FOR_BUILD
+LIBO_URE_MISC_FOLDER_FOR_BUILD
+LIBO_URE_LIB_FOLDER_FOR_BUILD
+LIBO_LIB_FOLDER_FOR_BUILD
+LIBO_BIN_FOLDER_FOR_BUILD
+INSTROOT_FOR_BUILD
+INSTDIR_FOR_BUILD
+OS_FOR_BUILD
+HELP_ONLINE
+HELP_OMINDEX_PAGE
+ENABLE_HTMLHELP
+PKGFORMAT
+FAKEROOT
+CPPU_ENV
+WINDOWS_X64
+PLATFORMID
+WORKDIR
+P_SEP
+OS
+INSTROOTBASE
+INSTROOT
+INSTDIR
+USING_X11
+EPM_FLAGS
+RTL_ARCH
+RTL_OS
+CPUNAME
+COM
+DISABLE_GUI
+ENABLE_OPTIMIZED_DEBUG
+ENABLE_OPTIMIZED
+ENABLE_SYMBOLS_FOR
+ENABLE_SAL_LOG
+ENABLE_GDB_INDEX
+HAVE_CLANG_DEBUG_INFO_KIND_CONSTRUCTOR
+HAVE_EXTERNAL_DWARF
+LD_GC_SECTIONS
+HAVE_LD_BSYMBOLIC_FUNCTIONS
+LD
+USE_LD
+ENABLE_DEBUG
+MSVC_USE_DEBUG_RUNTIME
+ENABLE_DBGUTIL
+GCC_VERSION
+HAVE_GCC_GGDB2
+SHOWINCLUDES_PREFIX
+COM_IS_CLANG
+MSVC_CXX
+DEVENV
+VCTOOLSET
+VCVER
+CXX_X86_BINARY
+BUILD_X86
+CXX_X64_BINARY
+BUILD_X64
+UCRTVERSION
+UCRTSDKDIR
+ISYSTEM
+ENABLE_WASM_STRIP_CANVAS
+ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS
+ENABLE_WASM_STRIP_CALC
+ENABLE_WASM_STRIP_WRITER
+ENABLE_WASM_STRIP
+CROSS_COMPILING
+LIBO_URE_SHARE_JAVA_FOLDER
+LIBO_URE_MISC_FOLDER
+LIBO_URE_LIB_FOLDER
+LIBO_URE_ETC_FOLDER
+LIBO_URE_BIN_FOLDER
+LIBO_SHARE_RESOURCE_FOLDER
+LIBO_SHARE_READMES_FOLDER
+LIBO_SHARE_PRESETS_FOLDER
+LIBO_SHARE_JAVA_FOLDER
+LIBO_SHARE_HELP_FOLDER
+LIBO_SHARE_FOLDER
+LIBO_LIB_PYUNO_FOLDER
+LIBO_LIB_FOLDER
+LIBO_ETC_FOLDER
+LIBO_BIN_FOLDER
+MACOSX_XCODE_BUILD_VERSION
+MACOSX_SDK_BUILD_VERSION
+MACOSX_PROVISIONING_PROFILE
+MACOSX_PROVISIONING_INFO
+MACOSX_BUNDLE_IDENTIFIER
+ENABLE_MACOSX_SANDBOX
+MACOSX_PACKAGE_SIGNING_IDENTITY
+MACOSX_CODESIGNING_IDENTITY
+LIBTOOL
+INSTALL_NAME_TOOL
+MAC_OS_X_VERSION_MIN_REQUIRED
+MACOSX_DEPLOYMENT_TARGET
+MACOSX_SDK_PATH
+ENABLE_JAVA
+COMPATH
+GCC_HOME
+ENABLE_Z7_DEBUG
+CCACHE_DEPEND_MODE
+CCACHE
+WITH_TEMPLATES
+WITH_GALLERY_BUILD
+SYSBASE
+ENABLE_CUSTOMTARGET_COMPONENTS
+DISABLE_DYNLOADING
+STRIP_COMPONENTS
+GNUTAR
+COMPRESSIONTOOL
+BASH
+AWK
+WINDOWS_BUILD_SIGNING
+ENABLE_HARDENING_FLAGS
+GET_TASK_ALLOW_ENTITLEMENT
+ENABLE_RELEASE_BUILD
+USE_LIBRARY_BIN_TAR
+EMSCRIPTEN_EXTRA_SOFFICE_POST_JS
+EMSDK_FILE_PACKAGER
+PKG_CONFIG_LIBDIR
+PKG_CONFIG_PATH
+PKG_CONFIG
+BACKTRACE_LIBS
+BACKTRACE_CFLAGS
+UNIX_DLAPI_LIBS
+ENDIANNESS
+OBJEXT
+EXEEXT
+ac_ct_CC
+CPPFLAGS
+CC
+x_LDFLAGS
+x_OBJCXXFLAGS
+x_OBJCFLAGS
+x_CXXFLAGS
+x_CFLAGS
+x_AFLAGS
+LDFLAGS
+OBJCXXFLAGS
+OBJCFLAGS
+CXXFLAGS
+CFLAGS
+AFLAGS
+PTHREAD_LIBS
+PTHREAD_CFLAGS
+SDKDIRNAME
+USE_HEADLESS_CODE
+ENABLE_HEADLESS
+HOST_PLATFORM
+ENABLE_ANDROID_EDITING
+ENABLE_ANDROID_LOK
+ANDROID_SDK_DIR
+ANDROID_TOOLCHAIN
+ANDROID_SYSROOT_PLATFORM
+ANDROID_GCC_TOOLCHAIN_VERSION
+ANDROID_APP_ABI
+ANDROID_API_LEVEL
+ANDROID_NDK_VERSION
+ANDROID_NDK_DIR
+ENABLE_LTO
+SED
+x_Cygwin
+BUILDDIR
+SRC_ROOT
+EGREP
+GREP
+PRODUCTVERSION
+MACOSX_BUNDLE_VERSION
+MACOSX_BUNDLE_SHORTVERSION
+LIBO_VERSION_SUFFIX_SUFFIX
+LIBO_VERSION_SUFFIX
+LIBO_VERSION_PATCH
+LIBO_VERSION_MICRO
+LIBO_VERSION_MINOR
+LIBO_VERSION_MAJOR
+PRODUCTNAME_WITHOUT_SPACES
+PRODUCTNAME
+host_os
+host_vendor
+host_cpu
+host
+build_os
+build_vendor
+build_cpu
+build
+WSL
+STRAWBERRY_PERL
+target_alias
+host_alias
+build_alias
+LIBS
+ECHO_T
+ECHO_N
+ECHO_C
+DEFS
+mandir
+localedir
+libdir
+psdir
+pdfdir
+dvidir
+htmldir
+infodir
+docdir
+oldincludedir
+includedir
+runstatedir
+localstatedir
+sharedstatedir
+sysconfdir
+datadir
+datarootdir
+libexecdir
+sbindir
+bindir
+program_transform_name
+prefix
+exec_prefix
+PACKAGE_URL
+PACKAGE_BUGREPORT
+PACKAGE_STRING
+PACKAGE_VERSION
+PACKAGE_TARNAME
+PACKAGE_NAME
+PATH_SEPARATOR
+SHELL'
+ac_subst_files=''
+ac_user_opts='
+enable_option_checking
+with_strawberry_perl_portable
+with_wsl_command
+enable_fuzz_options
+with_android_ndk
+with_android_ndk_toolchain_version
+with_android_sdk
+with_android_api_level
+enable_android_lok
+enable_android_editing
+enable_ios_simulator
+enable_extension_integration
+enable_avmedia
+enable_database_connectivity
+enable_extensions
+enable_scripting
+enable_dynamic_loading
+enable_report_builder
+enable_ext_wiki_publisher
+enable_lpsolve
+enable_coinmp
+enable_pdfimport
+enable_pdfium
+enable_skia
+enable_mergelibs
+enable_breakpad
+enable_crashdump
+enable_fetch_external
+enable_fuzzers
+enable_pch
+enable_epm
+enable_odk
+enable_mpl_subset
+enable_evolution2
+enable_avahi
+enable_werror
+enable_assert_always_abort
+enable_dbgutil
+enable_debug
+enable_split_debug
+enable_gdb_index
+enable_sal_log
+enable_symbols
+enable_optimized
+enable_runtime_optimizations
+with_valgrind
+enable_compiler_plugins
+enable_compiler_plugins_analyzer_pch
+enable_ooenv
+enable_lto
+enable_python
+enable_gtk3
+enable_gtk4
+enable_atspi_tests
+enable_introspection
+enable_split_app_modules
+enable_split_opt_features
+enable_cairo_canvas
+enable_dbus
+enable_sdremote
+enable_sdremote_bluetooth
+enable_gio
+enable_qt5
+enable_qt6
+enable_qt6_multimedia
+enable_kf5
+enable_kf6
+enable_gtk3_kde5
+enable_gen
+enable_gui
+enable_randr
+enable_gstreamer_1_0
+enable_eot
+enable_cve_tests
+enable_build_opensymbol
+enable_dependency_tracking
+enable_icecream
+enable_ld
+enable_cups
+enable_ccache
+enable_z7_debug
+enable_online_update
+enable_online_update_mar
+with_online_update_mar_baseurl
+with_online_update_mar_certificateder
+with_online_update_mar_certificatename
+with_online_update_mar_certificatepath
+enable_extension_update
+enable_release_build
+enable_hardening_flags
+enable_windows_build_signing
+enable_silent_msi
+enable_wix
+enable_macosx_code_signing
+enable_macosx_package_signing
+enable_macosx_sandbox
+with_macosx_bundle_identifier
+with_macosx_provisioning_profile
+with_product_name
+enable_community_flavor
+with_package_version
+enable_readonly_installset
+enable_mariadb_sdbc
+enable_postgresql_sdbc
+enable_lotuswordpro
+enable_firebird_sdbc
+enable_bogus_pkg_config
+enable_openssl
+enable_cipher_openssl_backend
+enable_nss
+enable_library_bin_tar
+enable_dconf
+enable_formula_logger
+enable_ldap
+enable_opencl
+enable_librelogo
+enable_wasm_strip
+with_main_module
+enable_xmlhelp
+enable_customtarget_components
+with_gcc_home
+with_gnu_patch
+with_build_platform_configure_options
+with_gnu_cp
+with_external_tar
+with_referenced_git
+with_linked_git
+with_galleries
+with_templates
+with_theme
+with_helppack_integration
+with_fonts
+with_epm
+with_package_format
+with_tls
+with_system_libs
+with_system_bzip2
+with_system_headers
+with_system_jars
+with_system_cairo
+with_system_epoxy
+with_myspell_dicts
+with_system_dicts
+with_external_dict_dir
+with_external_hyph_dir
+with_external_thes_dir
+with_system_zlib
+with_system_jpeg
+with_system_expat
+with_system_libxml
+with_system_openldap
+enable_poppler
+with_system_poppler
+with_system_abseil
+with_system_openjpeg
+enable_gpgmepp
+with_system_gpgmepp
+with_system_mariadb
+enable_bundle_mariadb
+with_system_postgresql
+with_libpq_path
+with_system_firebird
+with_system_libtommath
+with_system_hsqldb
+with_hsqldb_jar
+enable_scripting_beanshell
+with_system_beanshell
+with_beanshell_jar
+enable_scripting_javascript
+with_system_rhino
+with_rhino_jar
+with_system_jfreereport
+with_sac_jar
+with_libxml_jar
+with_flute_jar
+with_jfreereport_jar
+with_liblayout_jar
+with_libloader_jar
+with_libformula_jar
+with_librepository_jar
+with_libfonts_jar
+with_libserializer_jar
+with_libbase_jar
+with_system_odbc
+with_system_sane
+with_system_bluez
+with_system_boost
+with_system_dragonbox
+with_system_frozen
+with_system_libfixmath
+with_system_glm
+with_system_hunspell
+enable_cairo_rgba
+enable_zxing
+with_system_zxing
+with_system_zxcvbn
+with_system_box2d
+with_system_mythes
+with_system_altlinuxhyph
+with_system_lpsolve
+with_system_coinmp
+with_system_liblangtag
+with_system_lockfile
+with_webdav
+with_linker_hash_style
+with_jdk_home
+with_help
+with_omindex
+with_java
+with_jvm_path
+with_ant_home
+with_symbol_config
+with_export_validation
+with_bffvalidator
+with_junit
+with_hamcrest
+with_perl_home
+with_doxygen
+with_visual_studio
+with_windows_sdk
+with_lang
+with_locales
+with_krb5
+with_gssapi
+with_lxml
+with_latest_c__
+with_gtk3_build
+with_keep_awake
+with_branding
+with_extra_buildid
+with_vendor
+with_privacy_policy_url
+with_android_package_name
+with_compat_oowrappers
+with_os_version
+with_parallelism
+with_all_tarballs
+with_gdrive_client_id
+with_gdrive_client_secret
+with_alfresco_cloud_client_id
+with_alfresco_cloud_client_secret
+with_onedrive_client_id
+with_onedrive_client_secret
+with_coredumpctl
+with_buildconfig_recorded
+with_macosx_version_min_required
+with_system_fontconfig
+enable_largefile
+enable_libcmis
+with_system_libcmis
+with_ucrt_dir
+with_system_clucene
+with_system_xmlsec
+with_system_libeot
+with_system_librevenge
+with_system_libodfgen
+with_system_libepubgen
+with_system_libwpd
+with_system_libwpg
+with_system_libwps
+with_system_libvisio
+with_system_libcdr
+with_system_libmspub
+with_system_libmwaw
+with_system_libetonyek
+with_system_libfreehand
+with_system_libebook
+with_system_libabw
+with_system_libpagemaker
+with_system_libqxp
+with_system_libzmf
+with_system_libstaroffice
+with_system_lcms2
+with_system_cppunit
+with_system_freetype
+with_python_sys_prefix
+with_python_prefix
+with_python_exec_prefix
+with_system_libatomic_ops
+enable_curl
+with_system_curl
+with_boost
+with_boost_libdir
+with_boost_date_time
+with_boost_filesystem
+with_boost_iostreams
+with_boost_locale
+with_system_mdds
+with_system_nss
+with_system_icu
+with_system_orcus
+with_boost_system
+with_system_graphite
+with_system_harfbuzz
+with_x
+with_system_openssl
+with_system_argon2
+with_system_redland
+with_system_libexttextcat
+with_system_libnumbertext
+enable_ext_numbertext
+enable_ext_nlpsolver
+with_system_libpng
+with_system_libtiff
+with_system_libwebp
+'
+      ac_precious_vars='build_alias
+host_alias
+target_alias
+CC
+CFLAGS
+LDFLAGS
+LIBS
+CPPFLAGS
+BACKTRACE_CFLAGS
+BACKTRACE_LIBS
+PKG_CONFIG
+PKG_CONFIG_PATH
+PKG_CONFIG_LIBDIR
+FONTCONFIG_CFLAGS
+FONTCONFIG_LIBS
+CXX
+CXXFLAGS
+CCC
+CXXCPP
+CPP
+LIBCMIS_CFLAGS
+LIBCMIS_LIBS
+CLUCENE_CFLAGS
+CLUCENE_LIBS
+EXPAT_CFLAGS
+EXPAT_LIBS
+XMLSEC_CFLAGS
+XMLSEC_LIBS
+LIBEOT_CFLAGS
+LIBEOT_LIBS
+REVENGE_CFLAGS
+REVENGE_LIBS
+ODFGEN_CFLAGS
+ODFGEN_LIBS
+EPUBGEN_CFLAGS
+EPUBGEN_LIBS
+WPD_CFLAGS
+WPD_LIBS
+WPG_CFLAGS
+WPG_LIBS
+WPS_CFLAGS
+WPS_LIBS
+VISIO_CFLAGS
+VISIO_LIBS
+CDR_CFLAGS
+CDR_LIBS
+MSPUB_CFLAGS
+MSPUB_LIBS
+MWAW_CFLAGS
+MWAW_LIBS
+ETONYEK_CFLAGS
+ETONYEK_LIBS
+FREEHAND_CFLAGS
+FREEHAND_LIBS
+EBOOK_CFLAGS
+EBOOK_LIBS
+ABW_CFLAGS
+ABW_LIBS
+PAGEMAKER_CFLAGS
+PAGEMAKER_LIBS
+QXP_CFLAGS
+QXP_LIBS
+ZMF_CFLAGS
+ZMF_LIBS
+STAROFFICE_CFLAGS
+STAROFFICE_LIBS
+LCMS2_CFLAGS
+LCMS2_LIBS
+CPPUNIT_CFLAGS
+CPPUNIT_LIBS
+FREETYPE_CFLAGS
+FREETYPE_LIBS
+LIBXSLT_CFLAGS
+LIBXSLT_LIBS
+LIBEXSLT_CFLAGS
+LIBEXSLT_LIBS
+LIBXML_CFLAGS
+LIBXML_LIBS
+PYTHON
+POSTGRESQL_CFLAGS
+POSTGRESQL_LIBS
+FIREBIRD_CFLAGS
+FIREBIRD_LIBS
+LIBATOMIC_OPS_CFLAGS
+LIBATOMIC_OPS_LIBS
+CURL_CFLAGS
+CURL_LIBS
+MDDS_CFLAGS
+MDDS_LIBS
+NSS_CFLAGS
+NSS_LIBS
+ICU_CFLAGS
+ICU_LIBS
+ORCUS_CFLAGS
+ORCUS_LIBS
+GRAPHITE_CFLAGS
+GRAPHITE_LIBS
+HARFBUZZ_CFLAGS
+HARFBUZZ_LIBS
+XMKMF
+XRENDER_CFLAGS
+XRENDER_LIBS
+XRANDR_CFLAGS
+XRANDR_LIBS
+OPENSSL_CFLAGS
+OPENSSL_LIBS
+ARGON2_CFLAGS
+ARGON2_LIBS
+REDLAND_CFLAGS
+REDLAND_LIBS
+HUNSPELL_CFLAGS
+HUNSPELL_LIBS
+MYTHES_CFLAGS
+MYTHES_LIBS
+COINMP_CFLAGS
+COINMP_LIBS
+LIBEXTTEXTCAT_CFLAGS
+LIBEXTTEXTCAT_LIBS
+LIBNUMBERTEXT_CFLAGS
+LIBNUMBERTEXT_LIBS
+EPOXY_CFLAGS
+EPOXY_LIBS
+GTK3_CFLAGS
+GTK3_LIBS
+GTK4_CFLAGS
+GTK4_LIBS
+ATSPI2_CFLAGS
+ATSPI2_LIBS
+ATSPI2_2_32_CFLAGS
+ATSPI2_2_32_LIBS
+DBUS_CFLAGS
+DBUS_LIBS
+DBUS_GLIB_CFLAGS
+DBUS_GLIB_LIBS
+GIO_CFLAGS
+GIO_LIBS
+GSTREAMER_1_0_CFLAGS
+GSTREAMER_1_0_LIBS
+DCONF_CFLAGS
+DCONF_LIBS
+OPENJPEG2_CFLAGS
+OPENJPEG2_LIBS
+ABSEIL_CFLAGS
+ABSEIL_LIBS
+POPPLER_CFLAGS
+POPPLER_LIBS
+QT5_XCB_CFLAGS
+QT5_XCB_LIBS
+QT5_GOBJECT_CFLAGS
+QT5_GOBJECT_LIBS
+QT6_XCB_CFLAGS
+QT6_XCB_LIBS
+GOBJECT_CFLAGS
+GOBJECT_LIBS
+BZIP2_CFLAGS
+BZIP2_LIBS
+CAIRO_CFLAGS
+CAIRO_LIBS
+AVAHI_CFLAGS
+AVAHI_LIBS
+LIBLANGTAG_CFLAGS
+LIBLANGTAG_LIBS
+LIBPNG_CFLAGS
+LIBPNG_LIBS
+LIBTIFF_CFLAGS
+LIBTIFF_LIBS
+LIBWEBP_CFLAGS
+LIBWEBP_LIBS'
+
+
+# Initialize some variables set by options.
+ac_init_help=
+ac_init_version=false
+ac_unrecognized_opts=
+ac_unrecognized_sep=
+# The variables have the same names as the options, with
+# dashes changed to underlines.
+cache_file=/dev/null
+exec_prefix=NONE
+no_create=
+no_recursion=
+prefix=NONE
+program_prefix=NONE
+program_suffix=NONE
+program_transform_name=s,x,x,
+silent=
+site=
+srcdir=
+verbose=
+x_includes=NONE
+x_libraries=NONE
+
+# Installation directory options.
+# These are left unexpanded so users can "make install exec_prefix=/foo"
+# and all the variables that are supposed to be based on exec_prefix
+# by default will actually change.
+# Use braces instead of parens because sh, perl, etc. also accept them.
+# (The list follows the same order as the GNU Coding Standards.)
+bindir='${exec_prefix}/bin'
+sbindir='${exec_prefix}/sbin'
+libexecdir='${exec_prefix}/libexec'
+datarootdir='${prefix}/share'
+datadir='${datarootdir}'
+sysconfdir='${prefix}/etc'
+sharedstatedir='${prefix}/com'
+localstatedir='${prefix}/var'
+runstatedir='${localstatedir}/run'
+includedir='${prefix}/include'
+oldincludedir='/usr/include'
+docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
+infodir='${datarootdir}/info'
+htmldir='${docdir}'
+dvidir='${docdir}'
+pdfdir='${docdir}'
+psdir='${docdir}'
+libdir='${exec_prefix}/lib'
+localedir='${datarootdir}/locale'
+mandir='${datarootdir}/man'
+
+ac_prev=
+ac_dashdash=
+for ac_option
+do
+  # If the previous option needs an argument, assign it.
+  if test -n "$ac_prev"; then
+    eval $ac_prev=\$ac_option
+    ac_prev=
+    continue
+  fi
+
+  case $ac_option in
+  *=?*) ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
+  *=)   ac_optarg= ;;
+  *)    ac_optarg=yes ;;
+  esac
+
+  case $ac_dashdash$ac_option in
+  --)
+    ac_dashdash=yes ;;
+
+  -bindir | --bindir | --bindi | --bind | --bin | --bi)
+    ac_prev=bindir ;;
+  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
+    bindir=$ac_optarg ;;
+
+  -build | --build | --buil | --bui | --bu)
+    ac_prev=build_alias ;;
+  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
+    build_alias=$ac_optarg ;;
+
+  -cache-file | --cache-file | --cache-fil | --cache-fi \
+  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
+    ac_prev=cache_file ;;
+  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
+  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
+    cache_file=$ac_optarg ;;
+
+  --config-cache | -C)
+    cache_file=config.cache ;;
+
+  -datadir | --datadir | --datadi | --datad)
+    ac_prev=datadir ;;
+  -datadir=* | --datadir=* | --datadi=* | --datad=*)
+    datadir=$ac_optarg ;;
+
+  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
+  | --dataroo | --dataro | --datar)
+    ac_prev=datarootdir ;;
+  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
+  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
+    datarootdir=$ac_optarg ;;
+
+  -disable-* | --disable-*)
+    ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
+      as_fn_error $? "invalid feature name: \`$ac_useropt'"
+    ac_useropt_orig=$ac_useropt
+    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
+    case $ac_user_opts in
+      *"
+"enable_$ac_useropt"
+"*) ;;
+      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig"
+	 ac_unrecognized_sep=', ';;
+    esac
+    eval enable_$ac_useropt=no ;;
+
+  -docdir | --docdir | --docdi | --doc | --do)
+    ac_prev=docdir ;;
+  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
+    docdir=$ac_optarg ;;
+
+  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
+    ac_prev=dvidir ;;
+  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
+    dvidir=$ac_optarg ;;
+
+  -enable-* | --enable-*)
+    ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
+      as_fn_error $? "invalid feature name: \`$ac_useropt'"
+    ac_useropt_orig=$ac_useropt
+    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
+    case $ac_user_opts in
+      *"
+"enable_$ac_useropt"
+"*) ;;
+      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig"
+	 ac_unrecognized_sep=', ';;
+    esac
+    eval enable_$ac_useropt=\$ac_optarg ;;
+
+  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
+  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
+  | --exec | --exe | --ex)
+    ac_prev=exec_prefix ;;
+  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
+  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
+  | --exec=* | --exe=* | --ex=*)
+    exec_prefix=$ac_optarg ;;
+
+  -gas | --gas | --ga | --g)
+    # Obsolete; use --with-gas.
+    with_gas=yes ;;
+
+  -help | --help | --hel | --he | -h)
+    ac_init_help=long ;;
+  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
+    ac_init_help=recursive ;;
+  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
+    ac_init_help=short ;;
+
+  -host | --host | --hos | --ho)
+    ac_prev=host_alias ;;
+  -host=* | --host=* | --hos=* | --ho=*)
+    host_alias=$ac_optarg ;;
+
+  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
+    ac_prev=htmldir ;;
+  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
+  | --ht=*)
+    htmldir=$ac_optarg ;;
+
+  -includedir | --includedir | --includedi | --included | --include \
+  | --includ | --inclu | --incl | --inc)
+    ac_prev=includedir ;;
+  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
+  | --includ=* | --inclu=* | --incl=* | --inc=*)
+    includedir=$ac_optarg ;;
+
+  -infodir | --infodir | --infodi | --infod | --info | --inf)
+    ac_prev=infodir ;;
+  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
+    infodir=$ac_optarg ;;
+
+  -libdir | --libdir | --libdi | --libd)
+    ac_prev=libdir ;;
+  -libdir=* | --libdir=* | --libdi=* | --libd=*)
+    libdir=$ac_optarg ;;
+
+  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
+  | --libexe | --libex | --libe)
+    ac_prev=libexecdir ;;
+  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
+  | --libexe=* | --libex=* | --libe=*)
+    libexecdir=$ac_optarg ;;
+
+  -localedir | --localedir | --localedi | --localed | --locale)
+    ac_prev=localedir ;;
+  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
+    localedir=$ac_optarg ;;
+
+  -localstatedir | --localstatedir | --localstatedi | --localstated \
+  | --localstate | --localstat | --localsta | --localst | --locals)
+    ac_prev=localstatedir ;;
+  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
+  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
+    localstatedir=$ac_optarg ;;
+
+  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
+    ac_prev=mandir ;;
+  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
+    mandir=$ac_optarg ;;
+
+  -nfp | --nfp | --nf)
+    # Obsolete; use --without-fp.
+    with_fp=no ;;
+
+  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
+  | --no-cr | --no-c | -n)
+    no_create=yes ;;
+
+  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
+  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
+    no_recursion=yes ;;
+
+  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
+  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
+  | --oldin | --oldi | --old | --ol | --o)
+    ac_prev=oldincludedir ;;
+  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
+  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
+  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
+    oldincludedir=$ac_optarg ;;
+
+  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
+    ac_prev=prefix ;;
+  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
+    prefix=$ac_optarg ;;
+
+  -program-prefix | --program-prefix | --program-prefi | --program-pref \
+  | --program-pre | --program-pr | --program-p)
+    ac_prev=program_prefix ;;
+  -program-prefix=* | --program-prefix=* | --program-prefi=* \
+  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
+    program_prefix=$ac_optarg ;;
+
+  -program-suffix | --program-suffix | --program-suffi | --program-suff \
+  | --program-suf | --program-su | --program-s)
+    ac_prev=program_suffix ;;
+  -program-suffix=* | --program-suffix=* | --program-suffi=* \
+  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
+    program_suffix=$ac_optarg ;;
+
+  -program-transform-name | --program-transform-name \
+  | --program-transform-nam | --program-transform-na \
+  | --program-transform-n | --program-transform- \
+  | --program-transform | --program-transfor \
+  | --program-transfo | --program-transf \
+  | --program-trans | --program-tran \
+  | --progr-tra | --program-tr | --program-t)
+    ac_prev=program_transform_name ;;
+  -program-transform-name=* | --program-transform-name=* \
+  | --program-transform-nam=* | --program-transform-na=* \
+  | --program-transform-n=* | --program-transform-=* \
+  | --program-transform=* | --program-transfor=* \
+  | --program-transfo=* | --program-transf=* \
+  | --program-trans=* | --program-tran=* \
+  | --progr-tra=* | --program-tr=* | --program-t=*)
+    program_transform_name=$ac_optarg ;;
+
+  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
+    ac_prev=pdfdir ;;
+  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
+    pdfdir=$ac_optarg ;;
+
+  -psdir | --psdir | --psdi | --psd | --ps)
+    ac_prev=psdir ;;
+  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
+    psdir=$ac_optarg ;;
+
+  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+  | -silent | --silent | --silen | --sile | --sil)
+    silent=yes ;;
+
+  -runstatedir | --runstatedir | --runstatedi | --runstated \
+  | --runstate | --runstat | --runsta | --runst | --runs \
+  | --run | --ru | --r)
+    ac_prev=runstatedir ;;
+  -runstatedir=* | --runstatedir=* | --runstatedi=* | --runstated=* \
+  | --runstate=* | --runstat=* | --runsta=* | --runst=* | --runs=* \
+  | --run=* | --ru=* | --r=*)
+    runstatedir=$ac_optarg ;;
+
+  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
+    ac_prev=sbindir ;;
+  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
+  | --sbi=* | --sb=*)
+    sbindir=$ac_optarg ;;
+
+  -sharedstatedir | --sharedstatedir | --sharedstatedi \
+  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
+  | --sharedst | --shareds | --shared | --share | --shar \
+  | --sha | --sh)
+    ac_prev=sharedstatedir ;;
+  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
+  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
+  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
+  | --sha=* | --sh=*)
+    sharedstatedir=$ac_optarg ;;
+
+  -site | --site | --sit)
+    ac_prev=site ;;
+  -site=* | --site=* | --sit=*)
+    site=$ac_optarg ;;
+
+  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
+    ac_prev=srcdir ;;
+  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
+    srcdir=$ac_optarg ;;
+
+  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
+  | --syscon | --sysco | --sysc | --sys | --sy)
+    ac_prev=sysconfdir ;;
+  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
+  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
+    sysconfdir=$ac_optarg ;;
+
+  -target | --target | --targe | --targ | --tar | --ta | --t)
+    ac_prev=target_alias ;;
+  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
+    target_alias=$ac_optarg ;;
+
+  -v | -verbose | --verbose | --verbos | --verbo | --verb)
+    verbose=yes ;;
+
+  -version | --version | --versio | --versi | --vers | -V)
+    ac_init_version=: ;;
+
+  -with-* | --with-*)
+    ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
+      as_fn_error $? "invalid package name: \`$ac_useropt'"
+    ac_useropt_orig=$ac_useropt
+    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
+    case $ac_user_opts in
+      *"
+"with_$ac_useropt"
+"*) ;;
+      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig"
+	 ac_unrecognized_sep=', ';;
+    esac
+    eval with_$ac_useropt=\$ac_optarg ;;
+
+  -without-* | --without-*)
+    ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
+      as_fn_error $? "invalid package name: \`$ac_useropt'"
+    ac_useropt_orig=$ac_useropt
+    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
+    case $ac_user_opts in
+      *"
+"with_$ac_useropt"
+"*) ;;
+      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig"
+	 ac_unrecognized_sep=', ';;
+    esac
+    eval with_$ac_useropt=no ;;
+
+  --x)
+    # Obsolete; use --with-x.
+    with_x=yes ;;
+
+  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
+  | --x-incl | --x-inc | --x-in | --x-i)
+    ac_prev=x_includes ;;
+  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
+  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
+    x_includes=$ac_optarg ;;
+
+  -x-libraries | --x-libraries | --x-librarie | --x-librari \
+  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
+    ac_prev=x_libraries ;;
+  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
+  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
+    x_libraries=$ac_optarg ;;
+
+  -*) as_fn_error $? "unrecognized option: \`$ac_option'
+Try \`$0 --help' for more information"
+    ;;
+
+  *=*)
+    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
+    # Reject names that are not valid shell variable names.
+    case $ac_envvar in #(
+      '' | [0-9]* | *[!_$as_cr_alnum]* )
+      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
+    esac
+    eval $ac_envvar=\$ac_optarg
+    export $ac_envvar ;;
+
+  *)
+    # FIXME: should be removed in autoconf 3.0.
+    printf "%s\n" "$as_me: WARNING: you should use --build, --host, --target" >&2
+    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+      printf "%s\n" "$as_me: WARNING: invalid host type: $ac_option" >&2
+    : "${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}"
+    ;;
+
+  esac
+done
+
+if test -n "$ac_prev"; then
+  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
+  as_fn_error $? "missing argument to $ac_option"
+fi
+
+if test -n "$ac_unrecognized_opts"; then
+  case $enable_option_checking in
+    no) ;;
+    fatal) as_fn_error $? "unrecognized options: $ac_unrecognized_opts" ;;
+    *)     printf "%s\n" "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2 ;;
+  esac
+fi
+
+# Check all directory arguments for consistency.
+for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
+		datadir sysconfdir sharedstatedir localstatedir includedir \
+		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
+		libdir localedir mandir runstatedir
+do
+  eval ac_val=\$$ac_var
+  # Remove trailing slashes.
+  case $ac_val in
+    */ )
+      ac_val=`expr "X$ac_val" : 'X\(.*[^/]\)' \| "X$ac_val" : 'X\(.*\)'`
+      eval $ac_var=\$ac_val;;
+  esac
+  # Be sure to have absolute directory names.
+  case $ac_val in
+    [\\/$]* | ?:[\\/]* )  continue;;
+    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
+  esac
+  as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
+done
+
+# There might be people who depend on the old broken behavior: `$host'
+# used to hold the argument of --host etc.
+# FIXME: To remove some day.
+build=$build_alias
+host=$host_alias
+target=$target_alias
+
+# FIXME: To remove some day.
+if test "x$host_alias" != x; then
+  if test "x$build_alias" = x; then
+    cross_compiling=maybe
+  elif test "x$build_alias" != "x$host_alias"; then
+    cross_compiling=yes
+  fi
+fi
+
+ac_tool_prefix=
+test -n "$host_alias" && ac_tool_prefix=$host_alias-
+
+test "$silent" = yes && exec 6>/dev/null
+
+
+ac_pwd=`pwd` && test -n "$ac_pwd" &&
+ac_ls_di=`ls -di .` &&
+ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
+  as_fn_error $? "working directory cannot be determined"
+test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
+  as_fn_error $? "pwd does not report name of working directory"
+
+
+# Find the source files, if location was not specified.
+if test -z "$srcdir"; then
+  ac_srcdir_defaulted=yes
+  # Try the directory containing this script, then the parent directory.
+  ac_confdir=`$as_dirname -- "$as_myself" ||
+$as_expr X"$as_myself" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$as_myself" : 'X\(//\)[^/]' \| \
+	 X"$as_myself" : 'X\(//\)$' \| \
+	 X"$as_myself" : 'X\(/\)' \| . 2>/dev/null ||
+printf "%s\n" X"$as_myself" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+  srcdir=$ac_confdir
+  if test ! -r "$srcdir/$ac_unique_file"; then
+    srcdir=..
+  fi
+else
+  ac_srcdir_defaulted=no
+fi
+if test ! -r "$srcdir/$ac_unique_file"; then
+  test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
+  as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
+fi
+ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
+ac_abs_confdir=`(
+	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
+	pwd)`
+# When building in place, set srcdir=.
+if test "$ac_abs_confdir" = "$ac_pwd"; then
+  srcdir=.
+fi
+# Remove unnecessary trailing slashes from srcdir.
+# Double slashes in file names in object file debugging info
+# mess up M-x gdb in Emacs.
+case $srcdir in
+*/) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
+esac
+for ac_var in $ac_precious_vars; do
+  eval ac_env_${ac_var}_set=\${${ac_var}+set}
+  eval ac_env_${ac_var}_value=\$${ac_var}
+  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
+  eval ac_cv_env_${ac_var}_value=\$${ac_var}
+done
+
+#
+# Report the --help message.
+#
+if test "$ac_init_help" = "long"; then
+  # Omit some internal or obsolete options to make the list less imposing.
+  # This message is too long to be a string in the A/UX 3.1 sh.
+  cat <<_ACEOF
+\`configure' configures LibreOffice 24.8.8.0.0+ to adapt to many kinds of systems.
+
+Usage: $0 [OPTION]... [VAR=VALUE]...
+
+To assign environment variables (e.g., CC, CFLAGS...), specify them as
+VAR=VALUE.  See below for descriptions of some of the useful variables.
+
+Defaults for the options are specified in brackets.
+
+Configuration:
+  -h, --help              display this help and exit
+      --help=short        display options specific to this package
+      --help=recursive    display the short help of all the included packages
+  -V, --version           display version information and exit
+  -q, --quiet, --silent   do not print \`checking ...' messages
+      --cache-file=FILE   cache test results in FILE [disabled]
+  -C, --config-cache      alias for \`--cache-file=config.cache'
+  -n, --no-create         do not create output files
+      --srcdir=DIR        find the sources in DIR [configure dir or \`..']
+
+Installation directories:
+  --prefix=PREFIX         install architecture-independent files in PREFIX
+                          [$ac_default_prefix]
+  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
+                          [PREFIX]
+
+By default, \`make install' will install all the files in
+\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
+an installation prefix other than \`$ac_default_prefix' using \`--prefix',
+for instance \`--prefix=\$HOME'.
+
+For better control, use the options below.
+
+Fine tuning of the installation directories:
+  --bindir=DIR            user executables [EPREFIX/bin]
+  --sbindir=DIR           system admin executables [EPREFIX/sbin]
+  --libexecdir=DIR        program executables [EPREFIX/libexec]
+  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]
+  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]
+  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]
+  --runstatedir=DIR       modifiable per-process data [LOCALSTATEDIR/run]
+  --libdir=DIR            object code libraries [EPREFIX/lib]
+  --includedir=DIR        C header files [PREFIX/include]
+  --oldincludedir=DIR     C header files for non-gcc [/usr/include]
+  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]
+  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]
+  --infodir=DIR           info documentation [DATAROOTDIR/info]
+  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]
+  --mandir=DIR            man documentation [DATAROOTDIR/man]
+  --docdir=DIR            documentation root [DATAROOTDIR/doc/libreoffice]
+  --htmldir=DIR           html documentation [DOCDIR]
+  --dvidir=DIR            dvi documentation [DOCDIR]
+  --pdfdir=DIR            pdf documentation [DOCDIR]
+  --psdir=DIR             ps documentation [DOCDIR]
+_ACEOF
+
+  cat <<\_ACEOF
+
+X features:
+  --x-includes=DIR    X include files are in DIR
+  --x-libraries=DIR   X library files are in DIR
+
+System types:
+  --build=BUILD     configure for building on BUILD [guessed]
+  --host=HOST       cross-compile to build programs to run on HOST [BUILD]
+_ACEOF
+fi
+
+if test -n "$ac_init_help"; then
+  case $ac_init_help in
+     short | recursive ) echo "Configuration of LibreOffice 24.8.8.0.0+:";;
+   esac
+  cat <<\_ACEOF
+
+Optional Features:
+  --disable-option-checking  ignore unrecognized --enable/--with options
+  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
+  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+  --enable-fuzz-options   Randomly enable or disable each of those
+                          configurable options that are supposed to be freely
+                          selectable without interdependencies, or where bad
+                          interaction from interdependencies is automatically
+                          avoided.
+
+  --enable-android-lok    The Android app from the android/ subdir needs
+                          several tweaks all over the place that break the LOK
+                          when used in the Online-based Android app. This
+                          switch indicates that the intent of this build is
+                          actually the Online-based, non-modified LOK.
+
+  --enable-android-editing
+                          Enable the experimental editing feature on Android.
+
+  --enable-ios-simulator  build for iOS simulator
+
+  --disable-extension-integration
+                          Disable integration of the built extensions in the
+                          installer of the product. Use this switch to disable
+                          the integration.
+
+  --disable-avmedia       Disable displaying and inserting AV media in
+                          documents. Work in progress, use only if you are
+                          hacking on it.
+  --disable-database-connectivity
+                          Disable various database connectivity. Work in
+                          progress, use only if you are hacking on it.
+
+  --disable-extensions    Disable all add-on extension functionality. Work in
+                          progress, use only if you are hacking on it.
+
+  --disable-scripting     Disable BASIC, Java and Python. Work in progress,
+                          use only if you are hacking on it.
+  --disable-dynamic-loading
+                          Disable any use of dynamic loading of code. Work in
+                          progress, use only if you are hacking on it.
+
+  --disable-report-builder
+                          Disable the Report Builder.
+
+  --enable-ext-wiki-publisher
+                          Enable the Wiki Publisher extension.
+
+  --disable-lpsolve       Disable compilation of the lp solve solver
+
+  --disable-coinmp        Disable compilation of the CoinMP solver
+
+  --disable-pdfimport     Disable building the PDF import feature.
+
+  --disable-pdfium        Disable building PDFium. Results in insecure PDF
+                          signature verification.
+
+  --disable-skia          Disable building Skia. Use --enable-skia=debug to
+                          build without optimizations.
+
+  --enable-mergelibs=yes/no/more
+                          Merge several of the smaller libraries into one big
+                          "merged" library. The "more" option will link even
+                          more of the smaller libraries. "more" not
+                          appropriate for distros which split up LibreOffice
+                          into multiple packages. It is only appropriate for
+                          situations where all of LO is delivered in a single
+                          install/package.
+
+  --enable-breakpad       Enables breakpad for crash reporting.
+
+  --disable-crashdump     Disable dump.ini and dump-file, when
+                          --enable-breakpad
+
+  --disable-fetch-external
+                          Disables fetching external tarballs from web
+                          sources.
+
+  --enable-fuzzers        Enables building libfuzzer targets for fuzz testing.
+
+  --enable-pch=<yes/no/system/base/normal/full>
+                          Enables precompiled header support for C++. Forced
+                          default on Windows/VC build. Using 'system' will
+                          include only external headers, 'base' will add also
+                          headers from base modules, 'normal' will also add
+                          all headers except from the module built, 'full'
+                          will use all suitable headers even from a module
+                          itself.
+
+  --enable-epm            LibreOffice includes self-packaging code, that
+                          requires epm, however epm is useless for large scale
+                          package building.
+
+  --enable-odk            Enable building the Office Development Kit, the part
+                          that extensions need to build against
+
+  --enable-mpl-subset     Don't compile any pieces which are not MPL or more
+                          liberally licensed
+
+  --enable-evolution2     Allows the built-in evolution 2 addressbook
+                          connectivity build to be enabled.
+
+  --enable-avahi          Determines whether to use Avahi to advertise Impress
+                          to remote controls.
+
+  --enable-werror         Turn warnings to errors. (Has no effect in modules
+                          where the treating of warnings as errors is disabled
+                          explicitly.)
+  --enable-assert-always-abort
+                          make assert() failures abort even when building
+                          without --enable-debug or --enable-dbgutil.
+  --enable-dbgutil        Provide debugging support from --enable-debug and
+                          include additional debugging utilities such as
+                          object counting or more expensive checks. This is
+                          the recommended option for developers. Note that
+                          this makes the build ABI incompatible, it is not
+                          possible to mix object files or libraries from a
+                          --enable-dbgutil and a --disable-dbgutil build.
+  --enable-debug          Include debugging information, disable compiler
+                          optimization and inlining plus extra debugging code
+                          like assertions. Extra large build! (enables -g
+                          compiler flag).
+  --disable-split-debug   Disable using split debug information (-gsplit-dwarf
+                          compile flag). Split debug information saves disk
+                          space and build time, but requires tools that
+                          support it (both build tools and debuggers).
+  --disable-gdb-index     Disables creating debug information in the gdb index
+                          format, which makes gdb start faster. The feature
+                          requires a linker that supports the --gdb-index
+                          option.
+  --enable-sal-log        Make SAL_INFO and SAL_WARN calls do something even
+                          in a non-debug build.
+  --enable-symbols        Generate debug information. By default, enabled for
+                          --enable-debug and --enable-dbgutil, disabled
+                          otherwise. It is possible to explicitly specify
+                          gbuild build targets (where 'all' means everything,
+                          '-' prepended means to not enable, '/' appended
+                          means everything in the directory; there is no
+                          ordering, more specific overrides more general, and
+                          disabling takes precedence). Example:
+                          --enable-symbols="all -sw/ -Library_sc".
+  --enable-optimized=<yes/no/debug>
+                          Whether to compile with optimization flags. By
+                          default, disabled for --enable-debug and
+                          --enable-dbgutil, enabled otherwise. Using 'debug'
+                          will try to use only optimizations that should not
+                          interfere with debugging. For Emscripten we default
+                          to optimized (-O1) debug build, as otherwise
+                          binaries become too large.
+  --disable-runtime-optimizations
+                          Statically disable certain runtime optimizations
+                          (like rtl/alloc.h or JVM JIT) that are known to
+                          interact badly with certain dynamic analysis tools
+                          (like -fsanitize=address or Valgrind). By default,
+                          disabled iff CC contains "-fsanitize=*". (For
+                          Valgrind, those runtime optimizations are typically
+                          disabled dynamically via RUNNING_ON_VALGRIND.)
+  --enable-compiler-plugins
+                          Enable compiler plugins that will perform additional
+                          checks during building. Enabled automatically by
+                          --enable-dbgutil. Use
+                          --enable-compiler-plugins=debug to also enable debug
+                          code in the plugins.
+  --disable-compiler-plugins-analyzer-pch
+                          Disable use of precompiled headers when running the
+                          Clang compiler plugin analyzer. Not relevant in the
+                          --disable-compiler-plugins case.
+  --enable-ooenv          Enable ooenv for the instdir installation.
+  --enable-lto            Enable link-time optimization. Suitable for
+                          (optimised) product builds. Building might take
+                          longer but libraries and executables are optimized
+                          for speed. For GCC, best to use the 'gold' linker.)
+  --enable-python=<no/auto/system/internal/fully-internal>
+                          Enables or disables Python support at run-time. Also
+                          specifies what Python to use at build-time.
+                          'fully-internal' even forces the internal version
+                          for uses of Python during the build. On macOS the
+                          only choices are 'internal' (default) or
+                          'fully-internal'. Otherwise the default is 'auto'.
+  --disable-gtk3          Determines whether to use Gtk+ 3.0 vclplug on
+                          platforms where Gtk+ 3.0 is available.
+  --enable-gtk4           Determines whether to use Gtk+ 4.0 vclplug on
+                          platforms where Gtk+ 4.0 is available.
+  --disable-atspi-tests   Determines whether to enable AT-SPI2 tests for the
+                          GTK3 vclplug.
+  --enable-introspection  Generate files for GObject introspection. Requires
+                          --enable-gtk3. (Typically used by Linux
+                          distributions.)
+  --enable-split-app-modules
+                          Split file lists for app modules, e.g. base, calc.
+                          Has effect only with make distro-pack-install
+  --enable-split-opt-features
+                          Split file lists for some optional features, e.g.
+                          pyuno, testtool. Has effect only with make
+                          distro-pack-install
+  --disable-cairo-canvas  Determines whether to build the Cairo canvas on
+                          platforms where Cairo is available.
+  --disable-dbus          Determines whether to enable features that depend on
+                          dbus. e.g. Presentation mode screensaver control,
+                          bluetooth presentation control, automatic font
+                          install
+  --disable-sdremote      Determines whether to enable Impress remote control
+                          (i.e. the server component).
+  --disable-sdremote-bluetooth
+                          Determines whether to build sdremote with bluetooth
+                          support. Requires dbus on Linux.
+  --disable-gio           Determines whether to use the GIO support.
+  --enable-qt5            Determines whether to use Qt5 vclplug on platforms
+                          where Qt5 is available.
+  --enable-qt6            Determines whether to use Qt6 vclplug on platforms
+                          where Qt6 is available.
+  --disable-qt6-multimedia
+                          Determines whether to enable media playback using
+                          QtMultimedia when using the qt6/kf6 VCL plugins.
+  --enable-kf5            Determines whether to use Qt5/KF5 vclplug on
+                          platforms where Qt5 and KF5 are available.
+  --enable-kf6            Determines whether to use KF6 vclplug on platforms
+                          where Qt6 and KF6 are available.
+  --enable-gtk3-kde5      Determines whether to use Gtk3 vclplug with KF5 file
+                          dialogs on platforms where Gtk3, Qt5 and Plasma is
+                          available.
+  --enable-gen            To select the gen backend in case of
+                          --disable-dynamic-loading. Per default auto-enabled
+                          when X11 is used.
+  --disable-gui           Disable use of X11 or Wayland to reduce dependencies
+                          (e.g. for building LibreOfficeKit).
+  --disable-randr         Disable RandR support in the vcl project.
+  --disable-gstreamer-1-0 Disable building with the gstreamer 1.0 avmedia
+                          backend.
+  --enable-eot            Enable support for Embedded OpenType fonts.
+  --disable-cve-tests     Prevent CVE tests to be executed
+  --enable-build-opensymbol
+                          Do not use the prebuilt opens___.ttf. Build it
+                          instead. This needs fontforge installed.
+  --enable-dependency-tracking
+                          Do not reject slow dependency extractors.
+  --disable-dependency-tracking
+                          Disables generation of dependency information.
+                          Speed up one-time builds.
+  --enable-icecream       Use the 'icecream' distributed compiling tool to
+                          speedup the compilation. It defaults to
+                          /opt/icecream for the location of the icecream
+                          gcc/g++ wrappers, you can override that using
+                          --with-gcc-home=/the/path switch.
+  --enable-ld=<linker>    Use the specified linker. Both 'gold' and 'lld'
+                          linkers generally use less memory and link faster.
+                          By default tries to use the best linker possible,
+                          use --disable-ld to use the default linker. If
+                          <linker> contains any ':', the part before the first
+                          ':' is used as the value of -fuse-ld, while the part
+                          after the first ':' is used as the value of
+                          --ld-path (which is needed for Clang 12).
+  --disable-cups          Do not build cups support.
+
+  --disable-ccache        Do not try to use ccache automatically. By default
+                          we will try to detect if ccache is available; in
+                          that case if CC/CXX are not yet set, and
+                          --enable-icecream is not given, we attempt to use
+                          ccache. --disable-ccache disables ccache completely.
+                          Additionally ccache's depend mode is enabled if
+                          possible, use --enable-ccache=nodepend to enable
+                          ccache without depend mode.
+  --enable-z7-debug       Makes the MSVC compiler use -Z7 for debugging
+                          instead of the default -Zi. Using this option takes
+                          more disk spaces but allows to use ccache. Final PDB
+                          files are created even with this option enabled.
+                          Enabled by default if ccache is detected.
+  --enable-online-update  Enable the online update service that will check for
+                          new versions of LibreOffice. Disabled by default.
+                          Requires --with-privacy-policy-url to be set.
+  --enable-online-update-mar
+                          Enable the Mozilla-like online update service that
+                          will check for new versions of LibreOffice.
+                          Currently only works for Windows and Linux. Disabled
+                          by default.
+  --disable-extension-update
+                          Disable possibility to update installed extensions.
+  --enable-release-build  Enable release build. Note that the "release build"
+                          choice is orthogonal to whether symbols are present,
+                          debug info is generated, or optimization is done.
+                          See
+                          https://wiki.documentfoundation.org/Development/DevBuild
+  --enable-hardening-flags
+                          Enable automatically using hardening compiler flags.
+                          Distros typically instead use their default
+                          configuration via CXXFLAGS, etc. But this provides a
+                          convenient set of default hardening flags for
+                          non-distros
+  --enable-windows-build-signing
+                          Enable signing of windows binaries (*.exe, *.dll)
+  --enable-silent-msi     Enable MSI with LIMITUI=1 (silent install).
+  --enable-wix            Build Windows installer using WiX.
+  --enable-macosx-code-signing=<identity>
+                          Sign executables, dylibs, frameworks and the app
+                          bundle. If you don't provide an identity the first
+                          suitable certificate in your keychain is used.
+  --enable-macosx-package-signing=<identity>
+                          Create a .pkg suitable for uploading to the Mac App
+                          Store and sign it. If you don't provide an identity
+                          the first suitable certificate in your keychain is
+                          used.
+  --enable-macosx-sandbox Make the app bundle run in a sandbox. Requires code
+                          signing. Is required by apps distributed in the Mac
+                          App Store, and implies adherence to App Store rules.
+  --disable-community-flavor
+                          Disable the Community branding.
+  --enable-readonly-installset
+                          Prevents any attempts by LibreOffice to write into
+                          its installation. That means at least that no
+                          "system-wide" extensions can be added. Partly
+                          experimental work in progress, probably not fully
+                          implemented. Always enabled for macOS.
+  --disable-mariadb-sdbc  Disable the build of the MariaDB/MySQL-SDBC driver.
+
+  --disable-postgresql-sdbc
+                          Disable the build of the PostgreSQL-SDBC driver.
+
+  --disable-lotuswordpro  Disable the build of the Lotus Word Pro filter.
+  --disable-firebird-sdbc Disable the build of the Firebird-SDBC driver if it
+                          doesn't compile for you.
+  --enable-bogus-pkg-config
+                          MACOSX only: on MacOSX pkg-config can cause trouble.
+                          by default if one is found in the PATH, an error is
+                          issued. This flag turn that error into a warning.
+  --disable-openssl       Disable using libssl/libcrypto from OpenSSL. If
+                          disabled, components will use NSS. Work in progress,
+                          use only if you are hacking on it.
+  --enable-cipher-openssl-backend
+                          Enable using OpenSSL as the actual implementation of
+                          the rtl/cipher.h functionality. Requires
+                          --enable-openssl.
+  --disable-nss           Disable using NSS. If disabled, components will use
+                          openssl. Work in progress, use only if you are
+                          hacking on it.
+  --enable-library-bin-tar
+                          Enable the building and reused of tarball of binary
+                          build for some 'external' libraries. Some libraries
+                          can save their build result in a tarball stored in
+                          TARFILE_LOCATION. That binary tarball is uniquely
+                          identified by the source tarball, the content of the
+                          config_host.mk file and the content of the top-level
+                          directory in core for that library If this option is
+                          enabled, then if such a tarfile exist, it will be
+                          untarred instead of the source tarfile, and the
+                          build step will be skipped for that library. If a
+                          proper tarfile does not exist, then the normal
+                          source-based build is done for that library and a
+                          proper binary tarfile is created for the next time.
+  --disable-dconf         Disable the dconf configuration backend (enabled by
+                          default where available).
+  --enable-formula-logger Enable formula logger for logging formula
+                          calculation flow in Calc.
+
+  --disable-ldap          Disable LDAP support.
+  --disable-opencl        Disable OpenCL support.
+  --disable-librelogo     Do not build LibreLogo.
+  --enable-wasm-strip     Strip the static build like for WASM/emscripten
+                          platform.
+  --disable-xmlhelp       Disable XML help support
+  --enable-customtarget-components
+                          Generates the static UNO object constructor mapping
+                          from the build.
+  --disable-poppler       Disable building Poppler.
+
+  --disable-gpgmepp       Disable building gpgmepp. Do not use in normal cases
+                          unless you want to fix potential problems it causes.
+
+  --enable-bundle-mariadb When using MariaDB/MySQL libraries already on
+                          system, bundle them with the MariaDB
+                          Connector/LibreOffice.
+
+  --disable-scripting-beanshell
+                          Disable support for scripts in BeanShell.
+  --disable-scripting-javascript
+                          Disable support for scripts in JavaScript.
+  --enable-cairo-rgba     Use RGBA order, instead of default BRGA. Not
+                          possible with --with-system-cairo
+  --disable-zxing         Disable use of zxing external library.
+  --disable-largefile     omit support for large files
+  --disable-libcmis       Disable libcmis support.
+  --disable-curl          Disable curl support.
+  --enable-ext-numbertext Enable the Numbertext extension
+
+  --enable-ext-nlpsolver  Enable the NLPSolver extension
+
+
+Optional Packages:
+  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
+  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
+  --with-strawberry-perl-portable
+                          Specify the base path to strawberry perl portable
+  --with-wsl-command      Specify your wsl distro command if it isn't the
+                          default/the one used with just wsl.exe  for
+                          example: wsl.exe -d MyDistro -u NonDefaultUser
+  --with-android-ndk      Specify location of the Android Native Development
+                          Kit. Mandatory when building for Android.
+  --with-android-ndk-toolchain-version
+                          Specify which toolchain version to use, of those
+                          present in the Android NDK you are using. The
+                          default (and only supported version currently) is
+                          "clang5.0"
+  --with-android-sdk      Specify location of the Android SDK. Mandatory when
+                          building for Android.
+  --with-android-api-level
+                          Specify the API level when building for Android.
+                          Defaults to 16 for ARM and x86 and to 21 for ARM64
+                          and x86-64
+  --with-valgrind         Make availability of Valgrind headers a hard
+                          requirement.
+  --with-online-update-mar-baseurl=...
+                          Set the base URL value for
+                          --enable-online-update-mar. (Can be left off for
+                          debug purposes, even if that may render the feature
+                          non-functional.)
+  --with-online-update-mar-certificateder=...
+                          Set the certificate DER value for
+                          --enable-online-update-mar. (Can be left off for
+                          debug purposes, even if that may render the feature
+                          non-functional.)
+  --with-online-update-mar-certificatename=...
+                          Set the certificate name value for
+                          --enable-online-update-mar. (Can be left off for
+                          debug purposes, even if that may render the feature
+                          non-functional.)
+  --with-online-update-mar-certificatepath=...
+                          Set the certificate path value for
+                          --enable-online-update-mar. (Can be left off for
+                          debug purposes, even if that may render the feature
+                          non-functional.)
+  --with-macosx-bundle-identifier=tld.mumble.orifice.TheOffice
+                          Define the macOS bundle identifier. Default is the
+                          somewhat weird org.libreoffice.script ("script",
+                          huh?).
+  --with-macosx-provisioning-profile=/path/to/mac.provisionprofile
+                          Specify the path to a provisioning profile to use
+  --with-product-name='My Own Office Suite'
+                          Define the product name. Default is LibreOffice.
+  --with-package-version='3.1.4.5'
+                          Define the package version. Default is
+                          24.8.8.0.0+. Use only if you distribute an
+                          own build for macOS.
+  --with-main-module=<writer/calc>
+                          Specify which main module to build for wasm. Default
+                          value is 'writer'.
+  --with-gcc-home         Specify the location of gcc/g++ manually. This can
+                          be used in conjunction with --enable-icecream when
+                          icecream gcc/g++ wrappers are installed in a
+                          non-default path.
+  --with-gnu-patch        Specify location of GNU patch on Solaris or FreeBSD.
+  --with-build-platform-configure-options
+                          Specify options for the configure script run for the
+                          *build* platform in a cross-compilation
+  --with-gnu-cp           Specify location of GNU cp on Solaris or FreeBSD.
+  --with-external-tar=<TARFILE_PATH>
+                          Specify an absolute path of where to find (and
+                          store) tarfiles.
+  --with-referenced-git=<OTHER_CHECKOUT_DIR>
+                          Specify another checkout directory to reference.
+                          This makes use of git submodule update --reference,
+                          and saves a lot of diskspace when having multiple
+                          trees side-by-side.
+  --with-linked-git=<submodules repo basedir>
+                          Specify a directory where the repositories of
+                          submodules are located. This uses a method similar
+                          to git-new-workdir to get submodules.
+  --with-galleries        Specify how galleries should be built. It is
+                          possible either to build these internally from
+                          source ("build"), or to disable them ("no")
+  --with-templates        Specify we build with or without template files. It
+                          is possible either to build with templates ("yes"),
+                          or to disable them ("no")
+  --with-theme="theme1 theme2..."
+                          Choose which themes to include. By default those
+                          themes with an '*' are included. Possible choices:
+                          *breeze, *breeze_dark, *breeze_dark_svg,
+                          *breeze_svg, *colibre, *colibre_svg, *colibre_dark,
+                          *colibre_dark_svg, *elementary, *elementary_svg,
+                          *karasa_jaga, *karasa_jaga_svg, *sifr, *sifr_dark,
+                          *sifr_dark_svg, *sifr_svg, *sukapura,
+                          *sukapura_dark, *sukapura_dark_svg, *sukapura_svg.
+  --without-helppack-integration
+                          It will not integrate the helppacks to the installer
+                          of the product. Please use this switch to use the
+                          online help or separate help packages.
+  --without-fonts         LibreOffice includes some third-party fonts to
+                          provide a reliable basis for help content,
+                          templates, samples, etc. When these fonts are
+                          already known to be available on the system then you
+                          should use this option.
+  --with-epm              Decides which epm to use. Default is to use the one
+                          from the system if one is built. When either this is
+                          not there or you say =internal epm will be built.
+  --with-package-format   Specify package format(s) for LibreOffice
+                          installation sets. The implicit
+                          --without-package-format leads to no installation
+                          sets being generated. Possible values: archive, bsd,
+                          deb, dmg, installed, msi, pkg, and rpm. Example:
+                          --with-package-format='deb rpm'
+  --with-tls              Decides which TLS/SSL and cryptographic
+                          implementations to use for LibreOffice's code.
+                          Default is to use NSS although OpenSSL is also
+                          possible. Notice that selecting NSS restricts the
+                          usage of OpenSSL in LO's code but selecting OpenSSL
+                          doesn't restrict by now the usage of NSS in LO's
+                          code. Possible values: openssl, nss. Example:
+                          --with-tls="nss"
+  --with-system-libs      Use libraries already on system -- enables all
+                          --with-system-* flags.
+  --with-system-bzip2     Use bzip2 already on system. Used when
+                          --enable-online-update-mar or
+                          --enable-python=internal
+  --with-system-headers   Use headers already on system -- enables all
+                          --with-system-* flags for external packages whose
+                          headers are the only entities used i.e.
+                          boost/odbc/sane-header(s).
+  --without-system-jars   When building with --with-system-libs, also the
+                          needed jars are expected on the system. Use this to
+                          disable that
+  --with-system-cairo     Use cairo libraries already on system. Happens
+                          automatically for (implicit) --enable-gtk3.
+  --with-system-epoxy     Use epoxy libraries already on system. Happens
+                          automatically for (implicit) --enable-gtk3.
+  --with-myspell-dicts    Adds myspell dictionaries to the LibreOffice
+                          installation set
+  --without-system-dicts  Do not use dictionaries from system paths.
+  --with-external-dict-dir
+                          Specify external dictionary dir.
+  --with-external-hyph-dir
+                          Specify external hyphenation pattern dir.
+  --with-external-thes-dir
+                          Specify external thesaurus dir.
+  --with-system-zlib      Use zlib already on system.
+  --with-system-jpeg      Use jpeg already on system.
+  --with-system-expat     Use expat already on system.
+  --with-system-libxml    Use libxml/libxslt already on system.
+  --with-system-openldap  Use the OpenLDAP LDAP SDK already on system.
+  --with-system-poppler   Use system poppler (only needed for PDF import).
+  --with-system-abseil    Use the abseil libraries already on system.
+  --with-system-openjpeg  Use the OpenJPEG library already on system.
+  --with-system-gpgmepp   Use gpgmepp already on system
+  --with-system-mariadb   Use MariaDB/MySQL libraries already on system.
+  --with-system-postgresql
+                          Use PostgreSQL libraries already on system, for
+                          building the PostgreSQL-SDBC driver. If pg_config is
+                          not in PATH, use PGCONFIG to point to it.
+  --with-libpq-path=<absolute path to your libpq installation>
+                          Use this PostgreSQL C interface (libpq) installation
+                          for building the PostgreSQL-SDBC extension.
+  --with-system-firebird  Use Firebird libraries already on system, for
+                          building the Firebird-SDBC driver. If fb_config is
+                          not in PATH, use FBCONFIG to point to it.
+  --with-system-libtommath
+                          Use libtommath already on system
+  --with-system-hsqldb    Use hsqldb already on system.
+  --with-hsqldb-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-system-beanshell Use beanshell already on system.
+  --with-beanshell-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-system-rhino     Use rhino already on system.
+  --with-rhino-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-system-jfreereport
+                          Use JFreeReport already on system.
+  --with-sac-jar=JARFILE  Specify path to jarfile manually.
+  --with-libxml-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-flute-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-jfreereport-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-liblayout-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-libloader-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-libformula-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-librepository-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-libfonts-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-libserializer-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-libbase-jar=JARFILE
+                          Specify path to jarfile manually.
+  --with-system-odbc      Use the odbc headers already on system.
+  --with-system-sane      Use sane.h already on system.
+  --with-system-bluez     Use bluetooth.h already on system.
+  --with-system-boost     Use boost already on system.
+  --with-system-dragonbox Use dragonbox already on system.
+  --with-system-frozen    Use frozen already on system.
+  --with-system-libfixmath
+                          Use libfixmath already on system.
+  --with-system-glm       Use glm already on system.
+  --with-system-hunspell  Use libhunspell already on system.
+  --with-system-zxing     Use libzxing already on system.
+  --with-system-zxcvbn    Use libzxcvbn already on system.
+  --with-system-box2d     Use box2d already on system.
+  --with-system-mythes    Use mythes already on system.
+  --with-system-altlinuxhyph
+                          Use ALTLinuxhyph already on system.
+  --with-system-lpsolve   Use lpsolve already on system.
+  --with-system-coinmp    Use CoinMP already on system.
+  --with-system-liblangtag
+                          Use liblangtag library already on system.
+  --with-system-lockfile=file
+                          Detect a system lockfile program or use the \$file
+                          argument.
+  --without-webdav        Disable WebDAV support in the UCB.
+  --with-linker-hash-style
+                          Use linker with --hash-style=<style> when linking
+                          shared objects. Possible values: "sysv", "gnu",
+                          "both". The default value is "gnu" if supported on
+                          the build system, and "sysv" otherwise.
+  --with-jdk-home=<absolute path to JDK home>
+                          If you have installed JDK 8 or later on your system
+                          please supply the path here. Note that this is not
+                          the location of the java command but the location of
+                          the entire distribution. In case of cross-compiling,
+                          this is the JDK of the host os. Use
+                          --with-build-platform-configure-options to point to
+                          a different build platform JDK.
+  --with-help             Enable the build of help. There is a special
+                          parameter "common" that can be used to bundle only
+                          the common part, .e.g help-specific icons. This is
+                          useful when you build the helpcontent separately.
+
+                          Usage:     --with-help    build the old local help
+                                 --without-help     no local help (default)
+                                 --with-help=html   build the new HTML local help
+                                 --with-help=online build the new HTML online help
+
+  --with-omindex          Enable the support of xapian-omega index for online
+                          help.
+
+                         Usage: --with-omindex=server prepare the pages for omindex
+                                but let xapian-omega be built in server.
+                                --with-omindex=noxap do not prepare online pages
+                                for xapian-omega
+
+  --with-java=<java command>
+                          Specify the name of the Java interpreter command.
+                          Typically "java" which is the default. To build
+                          without support for Java components, applets,
+                          accessibility or the XML filters written in Java,
+                          use --without-java or --with-java=no.
+  --with-jvm-path=<absolute path to parent of jvm home>
+                          Use a specific JVM search path at runtime. e.g. use
+                          --with-jvm-path=/usr/lib/ to find JRE/JDK in
+                          /usr/lib/jvm/
+  --with-ant-home=<absolute path to Ant home>
+                          If you have installed Apache Ant on your system,
+                          please supply the path here. Note that this is not
+                          the location of the Ant binary but the location of
+                          the entire distribution.
+  --with-symbol-config    Configuration for the crashreport symbol upload
+  --without-export-validation
+                          Disable validating OOXML and ODF files as exported
+                          from in-tree tests.
+  --with-bffvalidator=<absolute path to BFFValidator>
+                          Enables export validation for Microsoft Binary
+                          formats (doc, xls, ppt). Requires installed
+                          Microsoft Office Binary File Format Validator. Note:
+                          export-validation (--with-export-validation) is
+                          required to be turned on. See
+                          https://web.archive.org/web/20200804155745/https://www.microsoft.com/en-us/download/details.aspx?id=26794
+  --with-junit=<absolute path to JUnit 4 jar>
+                          Specifies the JUnit 4 jar file to use for
+                          JUnit-based tests. --without-junit disables those
+                          tests. Not relevant in the --without-java case.
+  --with-hamcrest=<absolute path to hamcrest jar>
+                          Specifies the hamcrest jar file to use for
+                          JUnit-based tests. --without-junit disables those
+                          tests. Not relevant in the --without-java case.
+  --with-perl-home=<abs. path to Perl 5 home>
+                          If you have installed Perl 5 Distribution, on your
+                          system, please supply the path here. Note that this
+                          is not the location of the Perl binary but the
+                          location of the entire distribution.
+  --with-doxygen=<absolute path to doxygen executable>
+                          Specifies the doxygen executable to use when
+                          generating ODK C/C++ documentation.
+                          --without-doxygen disables generation of ODK C/C++
+                          documentation. Not relevant in the --disable-odk
+                          case.
+  --with-visual-studio=<2019/2022/2022preview>
+                          Specify which Visual Studio version to use in case
+                          several are installed. Currently 2019 (default) and
+                          2022 are supported.
+  --with-windows-sdk=<8.0(A)/8.1(A)/10.0>
+                          Specify which Windows SDK, or "Windows Kit", version
+                          to use in case the one that came with the selected
+                          Visual Studio is not what you want for some reason.
+                          Note that not all compiler/SDK combinations are
+                          supported. The intent is that this option should not
+                          be needed.
+  --with-lang="es sw tu cs sk"
+                          Use this option to build LibreOffice with additional
+                          UI language support. English (US) is always included
+                          by default. Separate multiple languages with space.
+                          For all languages, use --with-lang=ALL.
+  --with-locales="en es pt fr zh kr ja"
+                          Use this option to limit the locale information
+                          built in. Separate multiple locales with space. Very
+                          experimental and might well break stuff. Just a
+                          desperate measure to shrink code and data size. By
+                          default all the locales available is included. Just
+                          works with --disable-dynloading. Defaults to "ALL".
+                          This option is completely unrelated to --with-lang.
+
+                          Affects also our character encoding conversion
+                          tables for encodings mainly targeted for a
+                          particular locale, like EUC-CN and EUC-TW for
+                          zh, ISO-2022-JP for ja.
+
+                          Affects also our add-on break iterator data for
+                          some languages.
+
+                          For the default, all locales, don't use this switch at all.
+                          Specifying just the language part of a locale means all matching
+                          locales will be included.
+
+  --with-krb5             Enable MIT Kerberos 5 support in modules that
+                          support it. By default automatically enabled on
+                          platforms where a good system Kerberos 5 is
+                          available.
+  --with-gssapi           Enable GSSAPI support in modules that support it. By
+                          default automatically enabled on platforms where a
+                          good system GSSAPI is available.
+  --without-lxml          gla11y will use python lxml when available,
+                          potentially building a local copy if necessary.
+                          --without-lxml tells it to not use python lxml at
+                          all, which means that gla11y will only report widget
+                          classes and ids.
+  --with-latest-c++       Try to enable the latest features of the C++
+                          compiler, even if they are not yet part of a
+                          published standard. This option is ignored when
+                          CXXFLAGS_CXX11 is set explicitly.
+  --with-gtk3-build=<absolute path to GTK3 build>
+                          (Windows-only) In order to build GtkTiledViewer on
+                          Windows, pass the path to a GTK3 build, like
+                          '--with-gtk3-build=C:/gtk-build/gtk/x64/release'.
+  --with-keep-awake       command to prefix make with in order to prevent the
+                          system from going to sleep/suspend while building.
+                          If no command is specified, defaults to using Awake
+                          (from Microsoft PowerToys) on Windows and caffeinate
+                          on macOS
+  --with-branding=/path/to/images
+                          Use given path to retrieve branding images set.
+
+                          Search for intro.png about.svg and logo.svg.
+                          If any is missing, default ones will be used instead.
+
+                          Search also progress.conf for progress
+                          settings on intro screen :
+
+                          PROGRESSBARCOLOR="255,255,255" Set color of
+                          progress bar. Comma separated RGB decimal values.
+                          PROGRESSSIZE="407,6" Set size of progress bar.
+                          Comma separated decimal values (width, height).
+                          PROGRESSPOSITION="61,317" Set position of progress
+                          bar from left,top. Comma separated decimal values.
+                          PROGRESSFRAMECOLOR="20,136,3" Set color of progress
+                          bar frame. Comma separated RGB decimal values.
+                          PROGRESSTEXTCOLOR="0,0,0" Set color of progress
+                          bar text. Comma separated RGB decimal values.
+                          PROGRESSTEXTBASELINE="287" Set vertical position of
+                          progress bar text from top. Decimal value.
+
+                          Default values will be used if not found.
+
+  --with-extra-buildid="Tinderbox: Win-x86@6, Branch:master, Date:2012-11-26_00.29.34"
+                          Show addition build identification in about dialog.
+  --with-vendor="John the Builder"
+                          Set vendor of the build.
+  --with-privacy-policy-url="https://yourdomain/privacy-policy"
+                          The URL to your privacy policy (needed when enabling
+                          online-update or crashreporting via breakpad)
+  --with-android-package-name="org.libreoffice"
+                          Set Android package name of the build.
+  --with-compat-oowrappers
+                          Install oo* wrappers in parallel with lo* ones to
+                          keep backward compatibility. Has effect only with
+                          make distro-pack-install
+  --with-os-version=<OSVERSION>
+                          For FreeBSD users, use this option to override the
+                          detected OSVERSION.
+  --with-parallelism      Number of jobs to run simultaneously during build.
+                          Parallel builds can save a lot of time on multi-cpu
+                          machines. Defaults to the number of CPUs on the
+                          machine, unless you configure --enable-icecream -
+                          then to 40.
+  --with-all-tarballs     Download all external tarballs unconditionally
+  --with-gdrive-client-id Provides the client id of the application for OAuth2
+                          authentication on Google Drive. If either this or
+                          --with-gdrive-client-secret is empty, the feature
+                          will be disabled
+  --with-gdrive-client-secret
+                          Provides the client secret of the application for
+                          OAuth2 authentication on Google Drive. If either
+                          this or --with-gdrive-client-id is empty, the
+                          feature will be disabled
+  --with-alfresco-cloud-client-id
+                          Provides the client id of the application for OAuth2
+                          authentication on Alfresco Cloud. If either this or
+                          --with-alfresco-cloud-client-secret is empty, the
+                          feature will be disabled
+  --with-alfresco-cloud-client-secret
+                          Provides the client secret of the application for
+                          OAuth2 authentication on Alfresco Cloud. If either
+                          this or --with-alfresco-cloud-client-id is empty,
+                          the feature will be disabled
+  --with-onedrive-client-id
+                          Provides the client id of the application for OAuth2
+                          authentication on OneDrive. If either this or
+                          --with-onedrive-client-secret is empty, the feature
+                          will be disabled
+  --with-onedrive-client-secret
+                          Provides the client secret of the application for
+                          OAuth2 authentication on OneDrive. If either this or
+                          --with-onedrive-client-id is empty, the feature will
+                          be disabled
+  --with-coredumpctl      Use coredumpctl (together with systemd-run) to
+                          retrieve core dumps of crashing test processes.
+  --with-buildconfig-recorded
+                          Put build config into version info reported by LOK.
+                          Incompatible with reproducible builds.
+  --with-macosx-version-min-required=<version>
+                          set the minimum OS version needed to run the built
+                          LibreOffice
+
+                          e. g.: --with-macosx-version-min-required=10.15
+
+  --without-system-fontconfig
+                          Build and bundle the internal fontconfig.
+  --with-system-libcmis   Use libcmis from the operating system.
+  --with-ucrt-dir         path to the directory with the arch-specific MSU
+                          packages of the Windows Universal CRT
+                          redistributables (MS KB 2999226) for packaging into
+                          the installsets (without those the target system
+                          needs to install the UCRT or Visual C++ Runtimes
+                          manually). The directory must contain the following
+                          6 files: Windows6.1-KB2999226-x64.msu
+                          Windows6.1-KB2999226-x86.msu
+                          Windows8.1-KB2999226-x64.msu
+                          Windows8.1-KB2999226-x86.msu
+                          Windows8-RT-KB2999226-x64.msu
+                          Windows8-RT-KB2999226-x86.msu A zip archive
+                          including those files is available from Microsoft
+                          site:
+                          https://www.microsoft.com/en-us/download/details.aspx?id=48234
+  --with-system-clucene   Use clucene from the operating system.
+  --with-system-expat     Use expat from the operating system.
+  --with-system-xmlsec    Use xmlsec from the operating system.
+  --with-system-libeot    Use libeot from the operating system.
+  --with-system-librevenge
+                          Use librevenge from the operating system.
+  --with-system-libodfgen Use libodfgen from the operating system.
+  --with-system-libepubgen
+                          Use libepubgen from the operating system.
+  --with-system-libwpd    Use libwpd from the operating system.
+  --with-system-libwpg    Use libwpg from the operating system.
+  --with-system-libwps    Use libwps from the operating system.
+  --with-system-libvisio  Use libvisio from the operating system.
+  --with-system-libcdr    Use libcdr from the operating system.
+  --with-system-libmspub  Use libmspub from the operating system.
+  --with-system-libmwaw   Use libmwaw from the operating system.
+  --with-system-libetonyek
+                          Use libetonyek from the operating system.
+  --with-system-libfreehand
+                          Use libfreehand from the operating system.
+  --with-system-libebook  Use libebook from the operating system.
+  --with-system-libabw    Use libabw from the operating system.
+  --with-system-libpagemaker
+                          Use libpagemaker from the operating system.
+  --with-system-libqxp    Use libqxp from the operating system.
+  --with-system-libzmf    Use libzmf from the operating system.
+  --with-system-libstaroffice
+                          Use libstaroffice from the operating system.
+  --with-system-lcms2     Use lcms2 from the operating system.
+  --with-system-cppunit   Use cppunit from the operating system.
+  --without-system-freetype
+                          Build and bundle the internal freetype.
+  --with-python-sys-prefix
+                          use Python's sys.prefix and sys.exec_prefix values
+  --with-python_prefix    override the default PYTHON_PREFIX
+  --with-python_exec_prefix
+                          override the default PYTHON_EXEC_PREFIX
+  --with-system-libatomic_ops
+                          Use libatomic_ops from the operating system.
+  --with-system-curl      Use curl from the operating system.
+  --with-boost[=ARG]      use Boost library from a standard location
+                          (ARG=yes), from the specified location (ARG=<path>),
+                          or disable it (ARG=no) [ARG=yes]
+  --with-boost-libdir=LIB_DIR
+                          Force given directory for boost libraries. Note that
+                          this will override library path detection, so use
+                          this parameter only if default library detection
+                          fails and you know exactly where your boost
+                          libraries are located.
+  --with-boost-date-time[=special-lib]
+                          use the Date_Time library from boost - it is
+                          possible to specify a certain library for the linker
+                          e.g.
+                          --with-boost-date-time=boost_date_time-gcc-mt-d-1_33_1
+  --with-boost-filesystem[=special-lib]
+                          use the Filesystem library from boost - it is
+                          possible to specify a certain library for the linker
+                          e.g. --with-boost-filesystem=boost_filesystem-gcc-mt
+  --with-boost-iostreams[=special-lib]
+                          use the IOStreams library from boost - it is
+                          possible to specify a certain library for the linker
+                          e.g.
+                          --with-boost-iostreams=boost_iostreams-gcc-mt-d-1_33_1
+  --with-boost-locale[=special-lib]
+                          use the Locale library from boost - it is possible
+                          to specify a certain library for the linker e.g.
+                          --with-boost-locale=boost_locale-gcc-mt
+  --with-system-mdds      Use mdds from the operating system.
+  --with-system-nss       Use nss from the operating system.
+  --with-system-icu       Use icu from the operating system.
+  --with-system-orcus     Use orcus from the operating system.
+  --with-boost-system[=special-lib]
+                          use the System library from boost - it is possible
+                          to specify a certain library for the linker e.g.
+                          --with-boost-system=boost_system-gcc-mt
+  --with-system-graphite  Use graphite from the operating system.
+  --with-system-harfbuzz  Use harfbuzz from the operating system.
+  --with-x                use the X Window System
+  --with-system-openssl   Use openssl from the operating system.
+  --with-system-argon2    Use argon2 from the operating system.
+  --with-system-redland   Use redland from the operating system.
+  --with-system-libexttextcat
+                          Use libexttextcat from the operating system.
+  --with-system-libnumbertext
+                          Use libnumbertext from the operating system.
+  --with-system-epoxy     Use epoxy from the operating system.
+  --with-system-libpng    Use libpng from the operating system.
+  --with-system-libtiff   Use libtiff from the operating system.
+  --with-system-libwebp   Use libwebp from the operating system.
+
+Some influential environment variables:
+  CC          C compiler command
+  CFLAGS      C compiler flags
+  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
+              nonstandard directory <lib dir>
+  LIBS        libraries to pass to the linker, e.g. -l<library>
+  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if
+              you have headers in a nonstandard directory <include dir>
+  BACKTRACE_CFLAGS
+              Compiler flags needed to use backtrace(3)
+  BACKTRACE_LIBS
+              Linker flags needed to use backtrace(3)
+  PKG_CONFIG  path to pkg-config utility
+  PKG_CONFIG_PATH
+              directories to add to pkg-config's search path
+  PKG_CONFIG_LIBDIR
+              path overriding pkg-config's built-in search path
+  FONTCONFIG_CFLAGS
+              C compiler flags for FONTCONFIG, overriding pkg-config
+  FONTCONFIG_LIBS
+              linker flags for FONTCONFIG, overriding pkg-config
+  CXX         C++ compiler command
+  CXXFLAGS    C++ compiler flags
+  CXXCPP      C++ preprocessor
+  CPP         C preprocessor
+  LIBCMIS_CFLAGS
+              C compiler flags for LIBCMIS, overriding pkg-config
+  LIBCMIS_LIBS
+              linker flags for LIBCMIS, overriding pkg-config
+  CLUCENE_CFLAGS
+              C compiler flags for CLUCENE, overriding pkg-config
+  CLUCENE_LIBS
+              linker flags for CLUCENE, overriding pkg-config
+  EXPAT_CFLAGS
+              C compiler flags for EXPAT, overriding pkg-config
+  EXPAT_LIBS  linker flags for EXPAT, overriding pkg-config
+  XMLSEC_CFLAGS
+              C compiler flags for XMLSEC, overriding pkg-config
+  XMLSEC_LIBS linker flags for XMLSEC, overriding pkg-config
+  LIBEOT_CFLAGS
+              C compiler flags for LIBEOT, overriding pkg-config
+  LIBEOT_LIBS linker flags for LIBEOT, overriding pkg-config
+  REVENGE_CFLAGS
+              C compiler flags for REVENGE, overriding pkg-config
+  REVENGE_LIBS
+              linker flags for REVENGE, overriding pkg-config
+  ODFGEN_CFLAGS
+              C compiler flags for ODFGEN, overriding pkg-config
+  ODFGEN_LIBS linker flags for ODFGEN, overriding pkg-config
+  EPUBGEN_CFLAGS
+              C compiler flags for EPUBGEN, overriding pkg-config
+  EPUBGEN_LIBS
+              linker flags for EPUBGEN, overriding pkg-config
+  WPD_CFLAGS  C compiler flags for WPD, overriding pkg-config
+  WPD_LIBS    linker flags for WPD, overriding pkg-config
+  WPG_CFLAGS  C compiler flags for WPG, overriding pkg-config
+  WPG_LIBS    linker flags for WPG, overriding pkg-config
+  WPS_CFLAGS  C compiler flags for WPS, overriding pkg-config
+  WPS_LIBS    linker flags for WPS, overriding pkg-config
+  VISIO_CFLAGS
+              C compiler flags for VISIO, overriding pkg-config
+  VISIO_LIBS  linker flags for VISIO, overriding pkg-config
+  CDR_CFLAGS  C compiler flags for CDR, overriding pkg-config
+  CDR_LIBS    linker flags for CDR, overriding pkg-config
+  MSPUB_CFLAGS
+              C compiler flags for MSPUB, overriding pkg-config
+  MSPUB_LIBS  linker flags for MSPUB, overriding pkg-config
+  MWAW_CFLAGS C compiler flags for MWAW, overriding pkg-config
+  MWAW_LIBS   linker flags for MWAW, overriding pkg-config
+  ETONYEK_CFLAGS
+              C compiler flags for ETONYEK, overriding pkg-config
+  ETONYEK_LIBS
+              linker flags for ETONYEK, overriding pkg-config
+  FREEHAND_CFLAGS
+              C compiler flags for FREEHAND, overriding pkg-config
+  FREEHAND_LIBS
+              linker flags for FREEHAND, overriding pkg-config
+  EBOOK_CFLAGS
+              C compiler flags for EBOOK, overriding pkg-config
+  EBOOK_LIBS  linker flags for EBOOK, overriding pkg-config
+  ABW_CFLAGS  C compiler flags for ABW, overriding pkg-config
+  ABW_LIBS    linker flags for ABW, overriding pkg-config
+  PAGEMAKER_CFLAGS
+              C compiler flags for PAGEMAKER, overriding pkg-config
+  PAGEMAKER_LIBS
+              linker flags for PAGEMAKER, overriding pkg-config
+  QXP_CFLAGS  C compiler flags for QXP, overriding pkg-config
+  QXP_LIBS    linker flags for QXP, overriding pkg-config
+  ZMF_CFLAGS  C compiler flags for ZMF, overriding pkg-config
+  ZMF_LIBS    linker flags for ZMF, overriding pkg-config
+  STAROFFICE_CFLAGS
+              C compiler flags for STAROFFICE, overriding pkg-config
+  STAROFFICE_LIBS
+              linker flags for STAROFFICE, overriding pkg-config
+  LCMS2_CFLAGS
+              C compiler flags for LCMS2, overriding pkg-config
+  LCMS2_LIBS  linker flags for LCMS2, overriding pkg-config
+  CPPUNIT_CFLAGS
+              C compiler flags for CPPUNIT, overriding pkg-config
+  CPPUNIT_LIBS
+              linker flags for CPPUNIT, overriding pkg-config
+  FREETYPE_CFLAGS
+              C compiler flags for FREETYPE, overriding pkg-config
+  FREETYPE_LIBS
+              linker flags for FREETYPE, overriding pkg-config
+  LIBXSLT_CFLAGS
+              C compiler flags for LIBXSLT, overriding pkg-config
+  LIBXSLT_LIBS
+              linker flags for LIBXSLT, overriding pkg-config
+  LIBEXSLT_CFLAGS
+              C compiler flags for LIBEXSLT, overriding pkg-config
+  LIBEXSLT_LIBS
+              linker flags for LIBEXSLT, overriding pkg-config
+  LIBXML_CFLAGS
+              C compiler flags for LIBXML, overriding pkg-config
+  LIBXML_LIBS linker flags for LIBXML, overriding pkg-config
+  PYTHON      the Python interpreter
+  POSTGRESQL_CFLAGS
+              C compiler flags for POSTGRESQL, overriding pkg-config
+  POSTGRESQL_LIBS
+              linker flags for POSTGRESQL, overriding pkg-config
+  FIREBIRD_CFLAGS
+              C compiler flags for FIREBIRD, overriding pkg-config
+  FIREBIRD_LIBS
+              linker flags for FIREBIRD, overriding pkg-config
+  LIBATOMIC_OPS_CFLAGS
+              C compiler flags for LIBATOMIC_OPS, overriding pkg-config
+  LIBATOMIC_OPS_LIBS
+              linker flags for LIBATOMIC_OPS, overriding pkg-config
+  CURL_CFLAGS C compiler flags for CURL, overriding pkg-config
+  CURL_LIBS   linker flags for CURL, overriding pkg-config
+  MDDS_CFLAGS C compiler flags for MDDS, overriding pkg-config
+  MDDS_LIBS   linker flags for MDDS, overriding pkg-config
+  NSS_CFLAGS  C compiler flags for NSS, overriding pkg-config
+  NSS_LIBS    linker flags for NSS, overriding pkg-config
+  ICU_CFLAGS  C compiler flags for ICU, overriding pkg-config
+  ICU_LIBS    linker flags for ICU, overriding pkg-config
+  ORCUS_CFLAGS
+              C compiler flags for ORCUS, overriding pkg-config
+  ORCUS_LIBS  linker flags for ORCUS, overriding pkg-config
+  GRAPHITE_CFLAGS
+              C compiler flags for GRAPHITE, overriding pkg-config
+  GRAPHITE_LIBS
+              linker flags for GRAPHITE, overriding pkg-config
+  HARFBUZZ_CFLAGS
+              C compiler flags for HARFBUZZ, overriding pkg-config
+  HARFBUZZ_LIBS
+              linker flags for HARFBUZZ, overriding pkg-config
+  XMKMF       Path to xmkmf, Makefile generator for X Window System
+  XRENDER_CFLAGS
+              C compiler flags for XRENDER, overriding pkg-config
+  XRENDER_LIBS
+              linker flags for XRENDER, overriding pkg-config
+  XRANDR_CFLAGS
+              C compiler flags for XRANDR, overriding pkg-config
+  XRANDR_LIBS linker flags for XRANDR, overriding pkg-config
+  OPENSSL_CFLAGS
+              C compiler flags for OPENSSL, overriding pkg-config
+  OPENSSL_LIBS
+              linker flags for OPENSSL, overriding pkg-config
+  ARGON2_CFLAGS
+              C compiler flags for ARGON2, overriding pkg-config
+  ARGON2_LIBS linker flags for ARGON2, overriding pkg-config
+  REDLAND_CFLAGS
+              C compiler flags for REDLAND, overriding pkg-config
+  REDLAND_LIBS
+              linker flags for REDLAND, overriding pkg-config
+  HUNSPELL_CFLAGS
+              C compiler flags for HUNSPELL, overriding pkg-config
+  HUNSPELL_LIBS
+              linker flags for HUNSPELL, overriding pkg-config
+  MYTHES_CFLAGS
+              C compiler flags for MYTHES, overriding pkg-config
+  MYTHES_LIBS linker flags for MYTHES, overriding pkg-config
+  COINMP_CFLAGS
+              C compiler flags for COINMP, overriding pkg-config
+  COINMP_LIBS linker flags for COINMP, overriding pkg-config
+  LIBEXTTEXTCAT_CFLAGS
+              C compiler flags for LIBEXTTEXTCAT, overriding pkg-config
+  LIBEXTTEXTCAT_LIBS
+              linker flags for LIBEXTTEXTCAT, overriding pkg-config
+  LIBNUMBERTEXT_CFLAGS
+              C compiler flags for LIBNUMBERTEXT, overriding pkg-config
+  LIBNUMBERTEXT_LIBS
+              linker flags for LIBNUMBERTEXT, overriding pkg-config
+  EPOXY_CFLAGS
+              C compiler flags for EPOXY, overriding pkg-config
+  EPOXY_LIBS  linker flags for EPOXY, overriding pkg-config
+  GTK3_CFLAGS C compiler flags for GTK3, overriding pkg-config
+  GTK3_LIBS   linker flags for GTK3, overriding pkg-config
+  GTK4_CFLAGS C compiler flags for GTK4, overriding pkg-config
+  GTK4_LIBS   linker flags for GTK4, overriding pkg-config
+  ATSPI2_CFLAGS
+              C compiler flags for ATSPI2, overriding pkg-config
+  ATSPI2_LIBS linker flags for ATSPI2, overriding pkg-config
+  ATSPI2_2_32_CFLAGS
+              C compiler flags for ATSPI2_2_32, overriding pkg-config
+  ATSPI2_2_32_LIBS
+              linker flags for ATSPI2_2_32, overriding pkg-config
+  DBUS_CFLAGS C compiler flags for DBUS, overriding pkg-config
+  DBUS_LIBS   linker flags for DBUS, overriding pkg-config
+  DBUS_GLIB_CFLAGS
+              C compiler flags for DBUS_GLIB, overriding pkg-config
+  DBUS_GLIB_LIBS
+              linker flags for DBUS_GLIB, overriding pkg-config
+  GIO_CFLAGS  C compiler flags for GIO, overriding pkg-config
+  GIO_LIBS    linker flags for GIO, overriding pkg-config
+  GSTREAMER_1_0_CFLAGS
+              C compiler flags for GSTREAMER_1_0, overriding pkg-config
+  GSTREAMER_1_0_LIBS
+              linker flags for GSTREAMER_1_0, overriding pkg-config
+  DCONF_CFLAGS
+              C compiler flags for DCONF, overriding pkg-config
+  DCONF_LIBS  linker flags for DCONF, overriding pkg-config
+  OPENJPEG2_CFLAGS
+              C compiler flags for OPENJPEG2, overriding pkg-config
+  OPENJPEG2_LIBS
+              linker flags for OPENJPEG2, overriding pkg-config
+  ABSEIL_CFLAGS
+              C compiler flags for ABSEIL, overriding pkg-config
+  ABSEIL_LIBS linker flags for ABSEIL, overriding pkg-config
+  POPPLER_CFLAGS
+              C compiler flags for POPPLER, overriding pkg-config
+  POPPLER_LIBS
+              linker flags for POPPLER, overriding pkg-config
+  QT5_XCB_CFLAGS
+              C compiler flags for QT5_XCB, overriding pkg-config
+  QT5_XCB_LIBS
+              linker flags for QT5_XCB, overriding pkg-config
+  QT5_GOBJECT_CFLAGS
+              C compiler flags for QT5_GOBJECT, overriding pkg-config
+  QT5_GOBJECT_LIBS
+              linker flags for QT5_GOBJECT, overriding pkg-config
+  QT6_XCB_CFLAGS
+              C compiler flags for QT6_XCB, overriding pkg-config
+  QT6_XCB_LIBS
+              linker flags for QT6_XCB, overriding pkg-config
+  GOBJECT_CFLAGS
+              C compiler flags for GOBJECT, overriding pkg-config
+  GOBJECT_LIBS
+              linker flags for GOBJECT, overriding pkg-config
+  BZIP2_CFLAGS
+              C compiler flags for BZIP2, overriding pkg-config
+  BZIP2_LIBS  linker flags for BZIP2, overriding pkg-config
+  CAIRO_CFLAGS
+              C compiler flags for CAIRO, overriding pkg-config
+  CAIRO_LIBS  linker flags for CAIRO, overriding pkg-config
+  AVAHI_CFLAGS
+              C compiler flags for AVAHI, overriding pkg-config
+  AVAHI_LIBS  linker flags for AVAHI, overriding pkg-config
+  LIBLANGTAG_CFLAGS
+              C compiler flags for LIBLANGTAG, overriding pkg-config
+  LIBLANGTAG_LIBS
+              linker flags for LIBLANGTAG, overriding pkg-config
+  LIBPNG_CFLAGS
+              C compiler flags for LIBPNG, overriding pkg-config
+  LIBPNG_LIBS linker flags for LIBPNG, overriding pkg-config
+  LIBTIFF_CFLAGS
+              C compiler flags for LIBTIFF, overriding pkg-config
+  LIBTIFF_LIBS
+              linker flags for LIBTIFF, overriding pkg-config
+  LIBWEBP_CFLAGS
+              C compiler flags for LIBWEBP, overriding pkg-config
+  LIBWEBP_LIBS
+              linker flags for LIBWEBP, overriding pkg-config
+
+Use these variables to override the choices made by `configure' or to help
+it to find libraries and programs with nonstandard names/locations.
+
+Report bugs to the package provider.
+LibreOffice home page: <http://documentfoundation.org/>.
+_ACEOF
+ac_status=$?
+fi
+
+if test "$ac_init_help" = "recursive"; then
+  # If there are subdirs, report their specific --help.
+  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
+    test -d "$ac_dir" ||
+      { cd "$srcdir" && ac_pwd=`pwd` && srcdir=. && test -d "$ac_dir"; } ||
+      continue
+    ac_builddir=.
+
+case "$ac_dir" in
+.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
+*)
+  ac_dir_suffix=/`printf "%s\n" "$ac_dir" | sed 's|^\.[\\/]||'`
+  # A ".." for each directory in $ac_dir_suffix.
+  ac_top_builddir_sub=`printf "%s\n" "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
+  case $ac_top_builddir_sub in
+  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
+  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
+  esac ;;
+esac
+ac_abs_top_builddir=$ac_pwd
+ac_abs_builddir=$ac_pwd$ac_dir_suffix
+# for backward compatibility:
+ac_top_builddir=$ac_top_build_prefix
+
+case $srcdir in
+  .)  # We are building in place.
+    ac_srcdir=.
+    ac_top_srcdir=$ac_top_builddir_sub
+    ac_abs_top_srcdir=$ac_pwd ;;
+  [\\/]* | ?:[\\/]* )  # Absolute name.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir
+    ac_abs_top_srcdir=$srcdir ;;
+  *) # Relative name.
+    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_build_prefix$srcdir
+    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
+esac
+ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
+
+    cd "$ac_dir" || { ac_status=$?; continue; }
+    # Check for configure.gnu first; this name is used for a wrapper for
+    # Metaconfig's "Configure" on case-insensitive file systems.
+    if test -f "$ac_srcdir/configure.gnu"; then
+      echo &&
+      $SHELL "$ac_srcdir/configure.gnu" --help=recursive
+    elif test -f "$ac_srcdir/configure"; then
+      echo &&
+      $SHELL "$ac_srcdir/configure" --help=recursive
+    else
+      printf "%s\n" "$as_me: WARNING: no configuration information is in $ac_dir" >&2
+    fi || ac_status=$?
+    cd "$ac_pwd" || { ac_status=$?; break; }
+  done
+fi
+
+test -n "$ac_init_help" && exit $ac_status
+if $ac_init_version; then
+  cat <<\_ACEOF
+LibreOffice configure 24.8.8.0.0+
+generated by GNU Autoconf 2.71
+
+Copyright (C) 2021 Free Software Foundation, Inc.
+This configure script is free software; the Free Software Foundation
+gives unlimited permission to copy, distribute and modify it.
+_ACEOF
+  exit
+fi
+
+## ------------------------ ##
+## Autoconf initialization. ##
+## ------------------------ ##
+
+# ac_fn_c_try_compile LINENO
+# --------------------------
+# Try to compile conftest.$ac_ext, and return whether this succeeded.
+ac_fn_c_try_compile ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  rm -f conftest.$ac_objext conftest.beam
+  if { { ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_compile") 2>conftest.err
+  ac_status=$?
+  if test -s conftest.err; then
+    grep -v '^ *+' conftest.err >conftest.er1
+    cat conftest.er1 >&5
+    mv -f conftest.er1 conftest.err
+  fi
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext
+then :
+  ac_retval=0
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_retval=1
+fi
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  as_fn_set_status $ac_retval
+
+} # ac_fn_c_try_compile
+
+# ac_fn_c_try_run LINENO
+# ----------------------
+# Try to run conftest.$ac_ext, and return whether this succeeded. Assumes that
+# executables *can* be run.
+ac_fn_c_try_run ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  if { { ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_link") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
+  { { case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; }
+then :
+  ac_retval=0
+else $as_nop
+  printf "%s\n" "$as_me: program exited with status $ac_status" >&5
+       printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+       ac_retval=$ac_status
+fi
+  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  as_fn_set_status $ac_retval
+
+} # ac_fn_c_try_run
+
+# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES
+# -------------------------------------------------------
+# Tests whether HEADER exists and can be compiled using the include files in
+# INCLUDES, setting the cache variable VAR accordingly.
+ac_fn_c_check_header_compile ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
+printf %s "checking for $2... " >&6; }
+if eval test \${$3+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$4
+#include <$2>
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  eval "$3=yes"
+else $as_nop
+  eval "$3=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+eval ac_res=\$$3
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+
+} # ac_fn_c_check_header_compile
+
+# ac_fn_c_try_link LINENO
+# -----------------------
+# Try to link conftest.$ac_ext, and return whether this succeeded.
+ac_fn_c_try_link ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  rm -f conftest.$ac_objext conftest.beam conftest$ac_exeext
+  if { { ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_link") 2>conftest.err
+  ac_status=$?
+  if test -s conftest.err; then
+    grep -v '^ *+' conftest.err >conftest.er1
+    cat conftest.er1 >&5
+    mv -f conftest.er1 conftest.err
+  fi
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext && {
+	 test "$cross_compiling" = yes ||
+	 test -x conftest$ac_exeext
+       }
+then :
+  ac_retval=0
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_retval=1
+fi
+  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
+  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
+  # interfere with the next link command; also delete a directory that is
+  # left behind by Apple's compiler.  We do this before executing the actions.
+  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  as_fn_set_status $ac_retval
+
+} # ac_fn_c_try_link
+
+# ac_fn_c_check_func LINENO FUNC VAR
+# ----------------------------------
+# Tests whether FUNC exists, setting the cache variable VAR accordingly
+ac_fn_c_check_func ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
+printf %s "checking for $2... " >&6; }
+if eval test \${$3+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+/* Define $2 to an innocuous variant, in case <limits.h> declares $2.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $2 innocuous_$2
+
+/* System header to define __stub macros and hopefully few prototypes,
+   which can conflict with char $2 (); below.  */
+
+#include <limits.h>
+#undef $2
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char $2 ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined __stub_$2 || defined __stub___$2
+choke me
+#endif
+
+int
+main (void)
+{
+return $2 ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$3=yes"
+else $as_nop
+  eval "$3=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+fi
+eval ac_res=\$$3
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+
+} # ac_fn_c_check_func
+
+# ac_fn_cxx_try_compile LINENO
+# ----------------------------
+# Try to compile conftest.$ac_ext, and return whether this succeeded.
+ac_fn_cxx_try_compile ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  rm -f conftest.$ac_objext conftest.beam
+  if { { ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_compile") 2>conftest.err
+  ac_status=$?
+  if test -s conftest.err; then
+    grep -v '^ *+' conftest.err >conftest.er1
+    cat conftest.er1 >&5
+    mv -f conftest.er1 conftest.err
+  fi
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } && {
+	 test -z "$ac_cxx_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext
+then :
+  ac_retval=0
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_retval=1
+fi
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  as_fn_set_status $ac_retval
+
+} # ac_fn_cxx_try_compile
+
+# ac_fn_cxx_try_cpp LINENO
+# ------------------------
+# Try to preprocess conftest.$ac_ext, and return whether this succeeded.
+ac_fn_cxx_try_cpp ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  if { { ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.err
+  ac_status=$?
+  if test -s conftest.err; then
+    grep -v '^ *+' conftest.err >conftest.er1
+    cat conftest.er1 >&5
+    mv -f conftest.er1 conftest.err
+  fi
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } > conftest.i && {
+	 test -z "$ac_cxx_preproc_warn_flag$ac_cxx_werror_flag" ||
+	 test ! -s conftest.err
+       }
+then :
+  ac_retval=0
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+    ac_retval=1
+fi
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  as_fn_set_status $ac_retval
+
+} # ac_fn_cxx_try_cpp
+
+# ac_fn_c_try_cpp LINENO
+# ----------------------
+# Try to preprocess conftest.$ac_ext, and return whether this succeeded.
+ac_fn_c_try_cpp ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  if { { ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.err
+  ac_status=$?
+  if test -s conftest.err; then
+    grep -v '^ *+' conftest.err >conftest.er1
+    cat conftest.er1 >&5
+    mv -f conftest.er1 conftest.err
+  fi
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } > conftest.i && {
+	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       }
+then :
+  ac_retval=0
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+    ac_retval=1
+fi
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  as_fn_set_status $ac_retval
+
+} # ac_fn_c_try_cpp
+
+# ac_fn_c_compute_int LINENO EXPR VAR INCLUDES
+# --------------------------------------------
+# Tries to find the compile-time value of EXPR in a program that includes
+# INCLUDES, setting VAR accordingly. Returns whether the value could be
+# computed
+ac_fn_c_compute_int ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  if test "$cross_compiling" = yes; then
+    # Depending upon the size, compute the lo and hi bounds.
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$4
+int
+main (void)
+{
+static int test_array [1 - 2 * !(($2) >= 0)];
+test_array [0] = 0;
+return test_array [0];
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_lo=0 ac_mid=0
+  while :; do
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$4
+int
+main (void)
+{
+static int test_array [1 - 2 * !(($2) <= $ac_mid)];
+test_array [0] = 0;
+return test_array [0];
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_hi=$ac_mid; break
+else $as_nop
+  as_fn_arith $ac_mid + 1 && ac_lo=$as_val
+			if test $ac_lo -le $ac_mid; then
+			  ac_lo= ac_hi=
+			  break
+			fi
+			as_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+  done
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$4
+int
+main (void)
+{
+static int test_array [1 - 2 * !(($2) < 0)];
+test_array [0] = 0;
+return test_array [0];
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_hi=-1 ac_mid=-1
+  while :; do
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$4
+int
+main (void)
+{
+static int test_array [1 - 2 * !(($2) >= $ac_mid)];
+test_array [0] = 0;
+return test_array [0];
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_lo=$ac_mid; break
+else $as_nop
+  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val
+			if test $ac_mid -le $ac_hi; then
+			  ac_lo= ac_hi=
+			  break
+			fi
+			as_fn_arith 2 '*' $ac_mid && ac_mid=$as_val
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+  done
+else $as_nop
+  ac_lo= ac_hi=
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+# Binary search between lo and hi bounds.
+while test "x$ac_lo" != "x$ac_hi"; do
+  as_fn_arith '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo && ac_mid=$as_val
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$4
+int
+main (void)
+{
+static int test_array [1 - 2 * !(($2) <= $ac_mid)];
+test_array [0] = 0;
+return test_array [0];
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_hi=$ac_mid
+else $as_nop
+  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+done
+case $ac_lo in #((
+?*) eval "$3=\$ac_lo"; ac_retval=0 ;;
+'') ac_retval=1 ;;
+esac
+  else
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$4
+static long int longval (void) { return $2; }
+static unsigned long int ulongval (void) { return $2; }
+#include <stdio.h>
+#include <stdlib.h>
+int
+main (void)
+{
+
+  FILE *f = fopen ("conftest.val", "w");
+  if (! f)
+    return 1;
+  if (($2) < 0)
+    {
+      long int i = longval ();
+      if (i != ($2))
+	return 1;
+      fprintf (f, "%ld", i);
+    }
+  else
+    {
+      unsigned long int i = ulongval ();
+      if (i != ($2))
+	return 1;
+      fprintf (f, "%lu", i);
+    }
+  /* Do not output a trailing newline, as this causes \r\n confusion
+     on some platforms.  */
+  return ferror (f) || fclose (f) != 0;
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_run "$LINENO"
+then :
+  echo >>conftest.val; read $3 <conftest.val; ac_retval=0
+else $as_nop
+  ac_retval=1
+fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
+rm -f conftest.val
+
+  fi
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  as_fn_set_status $ac_retval
+
+} # ac_fn_c_compute_int
+
+# ac_fn_cxx_try_link LINENO
+# -------------------------
+# Try to link conftest.$ac_ext, and return whether this succeeded.
+ac_fn_cxx_try_link ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  rm -f conftest.$ac_objext conftest.beam conftest$ac_exeext
+  if { { ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_link") 2>conftest.err
+  ac_status=$?
+  if test -s conftest.err; then
+    grep -v '^ *+' conftest.err >conftest.er1
+    cat conftest.er1 >&5
+    mv -f conftest.er1 conftest.err
+  fi
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } && {
+	 test -z "$ac_cxx_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext && {
+	 test "$cross_compiling" = yes ||
+	 test -x conftest$ac_exeext
+       }
+then :
+  ac_retval=0
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_retval=1
+fi
+  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
+  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
+  # interfere with the next link command; also delete a directory that is
+  # left behind by Apple's compiler.  We do this before executing the actions.
+  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  as_fn_set_status $ac_retval
+
+} # ac_fn_cxx_try_link
+
+# ac_fn_cxx_try_run LINENO
+# ------------------------
+# Try to run conftest.$ac_ext, and return whether this succeeded. Assumes that
+# executables *can* be run.
+ac_fn_cxx_try_run ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  if { { ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_link") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
+  { { case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; }
+then :
+  ac_retval=0
+else $as_nop
+  printf "%s\n" "$as_me: program exited with status $ac_status" >&5
+       printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+       ac_retval=$ac_status
+fi
+  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  as_fn_set_status $ac_retval
+
+} # ac_fn_cxx_try_run
+
+# ac_fn_cxx_check_header_compile LINENO HEADER VAR INCLUDES
+# ---------------------------------------------------------
+# Tests whether HEADER exists and can be compiled using the include files in
+# INCLUDES, setting the cache variable VAR accordingly.
+ac_fn_cxx_check_header_compile ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
+printf %s "checking for $2... " >&6; }
+if eval test \${$3+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$4
+#include <$2>
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  eval "$3=yes"
+else $as_nop
+  eval "$3=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+eval ac_res=\$$3
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+
+} # ac_fn_cxx_check_header_compile
+
+# ac_fn_c_check_member LINENO AGGR MEMBER VAR INCLUDES
+# ----------------------------------------------------
+# Tries to find if the field MEMBER exists in type AGGR, after including
+# INCLUDES, setting cache variable VAR accordingly.
+ac_fn_c_check_member ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2.$3" >&5
+printf %s "checking for $2.$3... " >&6; }
+if eval test \${$4+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$5
+int
+main (void)
+{
+static $2 ac_aggr;
+if (ac_aggr.$3)
+return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  eval "$4=yes"
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$5
+int
+main (void)
+{
+static $2 ac_aggr;
+if (sizeof ac_aggr.$3)
+return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  eval "$4=yes"
+else $as_nop
+  eval "$4=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+eval ac_res=\$$4
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+
+} # ac_fn_c_check_member
+ac_configure_args_raw=
+for ac_arg
+do
+  case $ac_arg in
+  *\'*)
+    ac_arg=`printf "%s\n" "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
+  esac
+  as_fn_append ac_configure_args_raw " '$ac_arg'"
+done
+
+case $ac_configure_args_raw in
+  *$as_nl*)
+    ac_safe_unquote= ;;
+  *)
+    ac_unsafe_z='|&;<>()$`\\"*?[ ''	' # This string ends in space, tab.
+    ac_unsafe_a="$ac_unsafe_z#~"
+    ac_safe_unquote="s/ '\\([^$ac_unsafe_a][^$ac_unsafe_z]*\\)'/ \\1/g"
+    ac_configure_args_raw=`      printf "%s\n" "$ac_configure_args_raw" | sed "$ac_safe_unquote"`;;
+esac
+
+cat >config.log <<_ACEOF
+This file contains any messages produced by compilers while
+running configure, to aid debugging if configure makes a mistake.
+
+It was created by LibreOffice $as_me 24.8.8.0.0+, which was
+generated by GNU Autoconf 2.71.  Invocation command line was
+
+  $ $0$ac_configure_args_raw
+
+_ACEOF
+exec 5>>config.log
+{
+cat <<_ASUNAME
+## --------- ##
+## Platform. ##
+## --------- ##
+
+hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
+uname -m = `(uname -m) 2>/dev/null || echo unknown`
+uname -r = `(uname -r) 2>/dev/null || echo unknown`
+uname -s = `(uname -s) 2>/dev/null || echo unknown`
+uname -v = `(uname -v) 2>/dev/null || echo unknown`
+
+/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
+/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`
+
+/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
+/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
+/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
+/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
+/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
+/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
+
+_ASUNAME
+
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    printf "%s\n" "PATH: $as_dir"
+  done
+IFS=$as_save_IFS
+
+} >&5
+
+cat >&5 <<_ACEOF
+
+
+## ----------- ##
+## Core tests. ##
+## ----------- ##
+
+_ACEOF
+
+
+# Keep a trace of the command line.
+# Strip out --no-create and --no-recursion so they do not pile up.
+# Strip out --silent because we don't want to record it for future runs.
+# Also quote any args containing shell meta-characters.
+# Make two passes to allow for proper duplicate-argument suppression.
+ac_configure_args=
+ac_configure_args0=
+ac_configure_args1=
+ac_must_keep_next=false
+for ac_pass in 1 2
+do
+  for ac_arg
+  do
+    case $ac_arg in
+    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
+    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+    | -silent | --silent | --silen | --sile | --sil)
+      continue ;;
+    *\'*)
+      ac_arg=`printf "%s\n" "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
+    esac
+    case $ac_pass in
+    1) as_fn_append ac_configure_args0 " '$ac_arg'" ;;
+    2)
+      as_fn_append ac_configure_args1 " '$ac_arg'"
+      if test $ac_must_keep_next = true; then
+	ac_must_keep_next=false # Got value, back to normal.
+      else
+	case $ac_arg in
+	  *=* | --config-cache | -C | -disable-* | --disable-* \
+	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
+	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
+	  | -with-* | --with-* | -without-* | --without-* | --x)
+	    case "$ac_configure_args0 " in
+	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
+	    esac
+	    ;;
+	  -* ) ac_must_keep_next=true ;;
+	esac
+      fi
+      as_fn_append ac_configure_args " '$ac_arg'"
+      ;;
+    esac
+  done
+done
+{ ac_configure_args0=; unset ac_configure_args0;}
+{ ac_configure_args1=; unset ac_configure_args1;}
+
+# When interrupted or exit'd, cleanup temporary files, and complete
+# config.log.  We remove comments because anyway the quotes in there
+# would cause problems or look ugly.
+# WARNING: Use '\'' to represent an apostrophe within the trap.
+# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
+trap 'exit_status=$?
+  # Sanitize IFS.
+  IFS=" ""	$as_nl"
+  # Save into config.log some information that might help in debugging.
+  {
+    echo
+
+    printf "%s\n" "## ---------------- ##
+## Cache variables. ##
+## ---------------- ##"
+    echo
+    # The following way of writing the cache mishandles newlines in values,
+(
+  for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
+    eval ac_val=\$$ac_var
+    case $ac_val in #(
+    *${as_nl}*)
+      case $ac_var in #(
+      *_cv_*) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
+printf "%s\n" "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
+      esac
+      case $ac_var in #(
+      _ | IFS | as_nl) ;; #(
+      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
+      *) { eval $ac_var=; unset $ac_var;} ;;
+      esac ;;
+    esac
+  done
+  (set) 2>&1 |
+    case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
+    *${as_nl}ac_space=\ *)
+      sed -n \
+	"s/'\''/'\''\\\\'\'''\''/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
+      ;; #(
+    *)
+      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
+      ;;
+    esac |
+    sort
+)
+    echo
+
+    printf "%s\n" "## ----------------- ##
+## Output variables. ##
+## ----------------- ##"
+    echo
+    for ac_var in $ac_subst_vars
+    do
+      eval ac_val=\$$ac_var
+      case $ac_val in
+      *\'\''*) ac_val=`printf "%s\n" "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
+      esac
+      printf "%s\n" "$ac_var='\''$ac_val'\''"
+    done | sort
+    echo
+
+    if test -n "$ac_subst_files"; then
+      printf "%s\n" "## ------------------- ##
+## File substitutions. ##
+## ------------------- ##"
+      echo
+      for ac_var in $ac_subst_files
+      do
+	eval ac_val=\$$ac_var
+	case $ac_val in
+	*\'\''*) ac_val=`printf "%s\n" "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
+	esac
+	printf "%s\n" "$ac_var='\''$ac_val'\''"
+      done | sort
+      echo
+    fi
+
+    if test -s confdefs.h; then
+      printf "%s\n" "## ----------- ##
+## confdefs.h. ##
+## ----------- ##"
+      echo
+      cat confdefs.h
+      echo
+    fi
+    test "$ac_signal" != 0 &&
+      printf "%s\n" "$as_me: caught signal $ac_signal"
+    printf "%s\n" "$as_me: exit $exit_status"
+  } >&5
+  rm -f core *.core core.conftest.* &&
+    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
+    exit $exit_status
+' 0
+for ac_signal in 1 2 13 15; do
+  trap 'ac_signal='$ac_signal'; as_fn_exit 1' $ac_signal
+done
+ac_signal=0
+
+# confdefs.h avoids OS command line length limits that DEFS can exceed.
+rm -f -r conftest* confdefs.h
+
+printf "%s\n" "/* confdefs.h */" > confdefs.h
+
+# Predefined preprocessor variables.
+
+printf "%s\n" "#define PACKAGE_NAME \"$PACKAGE_NAME\"" >>confdefs.h
+
+printf "%s\n" "#define PACKAGE_TARNAME \"$PACKAGE_TARNAME\"" >>confdefs.h
+
+printf "%s\n" "#define PACKAGE_VERSION \"$PACKAGE_VERSION\"" >>confdefs.h
+
+printf "%s\n" "#define PACKAGE_STRING \"$PACKAGE_STRING\"" >>confdefs.h
+
+printf "%s\n" "#define PACKAGE_BUGREPORT \"$PACKAGE_BUGREPORT\"" >>confdefs.h
+
+printf "%s\n" "#define PACKAGE_URL \"$PACKAGE_URL\"" >>confdefs.h
+
+
+# Let the site file select an alternate cache file if it wants to.
+# Prefer an explicitly selected file to automatically selected ones.
+if test -n "$CONFIG_SITE"; then
+  ac_site_files="$CONFIG_SITE"
+elif test "x$prefix" != xNONE; then
+  ac_site_files="$prefix/share/config.site $prefix/etc/config.site"
+else
+  ac_site_files="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
+fi
+
+for ac_site_file in $ac_site_files
+do
+  case $ac_site_file in #(
+  */*) :
+     ;; #(
+  *) :
+    ac_site_file=./$ac_site_file ;;
+esac
+  if test -f "$ac_site_file" && test -r "$ac_site_file"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file" >&5
+printf "%s\n" "$as_me: loading site script $ac_site_file" >&6;}
+    sed 's/^/| /' "$ac_site_file" >&5
+    . "$ac_site_file" \
+      || { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "failed to load site script $ac_site_file
+See \`config.log' for more details" "$LINENO" 5; }
+  fi
+done
+
+if test -r "$cache_file"; then
+  # Some versions of bash will fail to source /dev/null (special files
+  # actually), so we avoid doing that.  DJGPP emulates it as a regular file.
+  if test /dev/null != "$cache_file" && test -f "$cache_file"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: loading cache $cache_file" >&5
+printf "%s\n" "$as_me: loading cache $cache_file" >&6;}
+    case $cache_file in
+      [\\/]* | ?:[\\/]* ) . "$cache_file";;
+      *)                      . "./$cache_file";;
+    esac
+  fi
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: creating cache $cache_file" >&5
+printf "%s\n" "$as_me: creating cache $cache_file" >&6;}
+  >$cache_file
+fi
+
+# Test code for whether the C compiler supports C89 (global declarations)
+ac_c_conftest_c89_globals='
+/* Does the compiler advertise C89 conformance?
+   Do not test the value of __STDC__, because some compilers set it to 0
+   while being otherwise adequately conformant. */
+#if !defined __STDC__
+# error "Compiler does not advertise C89 conformance"
+#endif
+
+#include <stddef.h>
+#include <stdarg.h>
+struct stat;
+/* Most of the following tests are stolen from RCS 5.7 src/conf.sh.  */
+struct buf { int x; };
+struct buf * (*rcsopen) (struct buf *, struct stat *, int);
+static char *e (p, i)
+     char **p;
+     int i;
+{
+  return p[i];
+}
+static char *f (char * (*g) (char **, int), char **p, ...)
+{
+  char *s;
+  va_list v;
+  va_start (v,p);
+  s = g (p, va_arg (v,int));
+  va_end (v);
+  return s;
+}
+
+/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
+   function prototypes and stuff, but not \xHH hex character constants.
+   These do not provoke an error unfortunately, instead are silently treated
+   as an "x".  The following induces an error, until -std is added to get
+   proper ANSI mode.  Curiously \x00 != x always comes out true, for an
+   array size at least.  It is necessary to write \x00 == 0 to get something
+   that is true only with -std.  */
+int osf4_cc_array ['\''\x00'\'' == 0 ? 1 : -1];
+
+/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
+   inside strings and character constants.  */
+#define FOO(x) '\''x'\''
+int xlc6_cc_array[FOO(a) == '\''x'\'' ? 1 : -1];
+
+int test (int i, double x);
+struct s1 {int (*f) (int a);};
+struct s2 {int (*f) (double a);};
+int pairnames (int, char **, int *(*)(struct buf *, struct stat *, int),
+               int, int);'
+
+# Test code for whether the C compiler supports C89 (body of main).
+ac_c_conftest_c89_main='
+ok |= (argc == 0 || f (e, argv, 0) != argv[0] || f (e, argv, 1) != argv[1]);
+'
+
+# Test code for whether the C compiler supports C99 (global declarations)
+ac_c_conftest_c99_globals='
+// Does the compiler advertise C99 conformance?
+#if !defined __STDC_VERSION__ || __STDC_VERSION__ < 199901L
+# error "Compiler does not advertise C99 conformance"
+#endif
+
+#include <stdbool.h>
+extern int puts (const char *);
+extern int printf (const char *, ...);
+extern int dprintf (int, const char *, ...);
+extern void *malloc (size_t);
+
+// Check varargs macros.  These examples are taken from C99 6.10.3.5.
+// dprintf is used instead of fprintf to avoid needing to declare
+// FILE and stderr.
+#define debug(...) dprintf (2, __VA_ARGS__)
+#define showlist(...) puts (#__VA_ARGS__)
+#define report(test,...) ((test) ? puts (#test) : printf (__VA_ARGS__))
+static void
+test_varargs_macros (void)
+{
+  int x = 1234;
+  int y = 5678;
+  debug ("Flag");
+  debug ("X = %d\n", x);
+  showlist (The first, second, and third items.);
+  report (x>y, "x is %d but y is %d", x, y);
+}
+
+// Check long long types.
+#define BIG64 18446744073709551615ull
+#define BIG32 4294967295ul
+#define BIG_OK (BIG64 / BIG32 == 4294967297ull && BIG64 % BIG32 == 0)
+#if !BIG_OK
+  #error "your preprocessor is broken"
+#endif
+#if BIG_OK
+#else
+  #error "your preprocessor is broken"
+#endif
+static long long int bignum = -9223372036854775807LL;
+static unsigned long long int ubignum = BIG64;
+
+struct incomplete_array
+{
+  int datasize;
+  double data[];
+};
+
+struct named_init {
+  int number;
+  const wchar_t *name;
+  double average;
+};
+
+typedef const char *ccp;
+
+static inline int
+test_restrict (ccp restrict text)
+{
+  // See if C++-style comments work.
+  // Iterate through items via the restricted pointer.
+  // Also check for declarations in for loops.
+  for (unsigned int i = 0; *(text+i) != '\''\0'\''; ++i)
+    continue;
+  return 0;
+}
+
+// Check varargs and va_copy.
+static bool
+test_varargs (const char *format, ...)
+{
+  va_list args;
+  va_start (args, format);
+  va_list args_copy;
+  va_copy (args_copy, args);
+
+  const char *str = "";
+  int number = 0;
+  float fnumber = 0;
+
+  while (*format)
+    {
+      switch (*format++)
+	{
+	case '\''s'\'': // string
+	  str = va_arg (args_copy, const char *);
+	  break;
+	case '\''d'\'': // int
+	  number = va_arg (args_copy, int);
+	  break;
+	case '\''f'\'': // float
+	  fnumber = va_arg (args_copy, double);
+	  break;
+	default:
+	  break;
+	}
+    }
+  va_end (args_copy);
+  va_end (args);
+
+  return *str && number && fnumber;
+}
+'
+
+# Test code for whether the C compiler supports C99 (body of main).
+ac_c_conftest_c99_main='
+  // Check bool.
+  _Bool success = false;
+  success |= (argc != 0);
+
+  // Check restrict.
+  if (test_restrict ("String literal") == 0)
+    success = true;
+  char *restrict newvar = "Another string";
+
+  // Check varargs.
+  success &= test_varargs ("s, d'\'' f .", "string", 65, 34.234);
+  test_varargs_macros ();
+
+  // Check flexible array members.
+  struct incomplete_array *ia =
+    malloc (sizeof (struct incomplete_array) + (sizeof (double) * 10));
+  ia->datasize = 10;
+  for (int i = 0; i < ia->datasize; ++i)
+    ia->data[i] = i * 1.234;
+
+  // Check named initializers.
+  struct named_init ni = {
+    .number = 34,
+    .name = L"Test wide string",
+    .average = 543.34343,
+  };
+
+  ni.number = 58;
+
+  int dynamic_array[ni.number];
+  dynamic_array[0] = argv[0][0];
+  dynamic_array[ni.number - 1] = 543;
+
+  // work around unused variable warnings
+  ok |= (!success || bignum == 0LL || ubignum == 0uLL || newvar[0] == '\''x'\''
+	 || dynamic_array[ni.number - 1] != 543);
+'
+
+# Test code for whether the C compiler supports C11 (global declarations)
+ac_c_conftest_c11_globals='
+// Does the compiler advertise C11 conformance?
+#if !defined __STDC_VERSION__ || __STDC_VERSION__ < 201112L
+# error "Compiler does not advertise C11 conformance"
+#endif
+
+// Check _Alignas.
+char _Alignas (double) aligned_as_double;
+char _Alignas (0) no_special_alignment;
+extern char aligned_as_int;
+char _Alignas (0) _Alignas (int) aligned_as_int;
+
+// Check _Alignof.
+enum
+{
+  int_alignment = _Alignof (int),
+  int_array_alignment = _Alignof (int[100]),
+  char_alignment = _Alignof (char)
+};
+_Static_assert (0 < -_Alignof (int), "_Alignof is signed");
+
+// Check _Noreturn.
+int _Noreturn does_not_return (void) { for (;;) continue; }
+
+// Check _Static_assert.
+struct test_static_assert
+{
+  int x;
+  _Static_assert (sizeof (int) <= sizeof (long int),
+                  "_Static_assert does not work in struct");
+  long int y;
+};
+
+// Check UTF-8 literals.
+#define u8 syntax error!
+char const utf8_literal[] = u8"happens to be ASCII" "another string";
+
+// Check duplicate typedefs.
+typedef long *long_ptr;
+typedef long int *long_ptr;
+typedef long_ptr long_ptr;
+
+// Anonymous structures and unions -- taken from C11 6.7.2.1 Example 1.
+struct anonymous
+{
+  union {
+    struct { int i; int j; };
+    struct { int k; long int l; } w;
+  };
+  int m;
+} v1;
+'
+
+# Test code for whether the C compiler supports C11 (body of main).
+ac_c_conftest_c11_main='
+  _Static_assert ((offsetof (struct anonymous, i)
+		   == offsetof (struct anonymous, w.k)),
+		  "Anonymous union alignment botch");
+  v1.i = 2;
+  v1.w.k = 5;
+  ok |= v1.i != 5;
+'
+
+# Test code for whether the C compiler supports C11 (complete).
+ac_c_conftest_c11_program="${ac_c_conftest_c89_globals}
+${ac_c_conftest_c99_globals}
+${ac_c_conftest_c11_globals}
+
+int
+main (int argc, char **argv)
+{
+  int ok = 0;
+  ${ac_c_conftest_c89_main}
+  ${ac_c_conftest_c99_main}
+  ${ac_c_conftest_c11_main}
+  return ok;
+}
+"
+
+# Test code for whether the C compiler supports C99 (complete).
+ac_c_conftest_c99_program="${ac_c_conftest_c89_globals}
+${ac_c_conftest_c99_globals}
+
+int
+main (int argc, char **argv)
+{
+  int ok = 0;
+  ${ac_c_conftest_c89_main}
+  ${ac_c_conftest_c99_main}
+  return ok;
+}
+"
+
+# Test code for whether the C compiler supports C89 (complete).
+ac_c_conftest_c89_program="${ac_c_conftest_c89_globals}
+
+int
+main (int argc, char **argv)
+{
+  int ok = 0;
+  ${ac_c_conftest_c89_main}
+  return ok;
+}
+"
+
+as_fn_append ac_header_c_list " stdio.h stdio_h HAVE_STDIO_H"
+as_fn_append ac_header_c_list " stdlib.h stdlib_h HAVE_STDLIB_H"
+as_fn_append ac_header_c_list " string.h string_h HAVE_STRING_H"
+as_fn_append ac_header_c_list " inttypes.h inttypes_h HAVE_INTTYPES_H"
+as_fn_append ac_header_c_list " stdint.h stdint_h HAVE_STDINT_H"
+as_fn_append ac_header_c_list " strings.h strings_h HAVE_STRINGS_H"
+as_fn_append ac_header_c_list " sys/stat.h sys_stat_h HAVE_SYS_STAT_H"
+as_fn_append ac_header_c_list " sys/types.h sys_types_h HAVE_SYS_TYPES_H"
+as_fn_append ac_header_c_list " unistd.h unistd_h HAVE_UNISTD_H"
+# Test code for whether the C++ compiler supports C++98 (global declarations)
+ac_cxx_conftest_cxx98_globals='
+// Does the compiler advertise C++98 conformance?
+#if !defined __cplusplus || __cplusplus < 199711L
+# error "Compiler does not advertise C++98 conformance"
+#endif
+
+// These inclusions are to reject old compilers that
+// lack the unsuffixed header files.
+#include <cstdlib>
+#include <exception>
+
+// <cassert> and <cstring> are *not* freestanding headers in C++98.
+extern void assert (int);
+namespace std {
+  extern int strcmp (const char *, const char *);
+}
+
+// Namespaces, exceptions, and templates were all added after "C++ 2.0".
+using std::exception;
+using std::strcmp;
+
+namespace {
+
+void test_exception_syntax()
+{
+  try {
+    throw "test";
+  } catch (const char *s) {
+    // Extra parentheses suppress a warning when building autoconf itself,
+    // due to lint rules shared with more typical C programs.
+    assert (!(strcmp) (s, "test"));
+  }
+}
+
+template <typename T> struct test_template
+{
+  T const val;
+  explicit test_template(T t) : val(t) {}
+  template <typename U> T add(U u) { return static_cast<T>(u) + val; }
+};
+
+} // anonymous namespace
+'
+
+# Test code for whether the C++ compiler supports C++98 (body of main)
+ac_cxx_conftest_cxx98_main='
+  assert (argc);
+  assert (! argv[0]);
+{
+  test_exception_syntax ();
+  test_template<double> tt (2.0);
+  assert (tt.add (4) == 6.0);
+  assert (true && !false);
+}
+'
+
+# Test code for whether the C++ compiler supports C++11 (global declarations)
+ac_cxx_conftest_cxx11_globals='
+// Does the compiler advertise C++ 2011 conformance?
+#if !defined __cplusplus || __cplusplus < 201103L
+# error "Compiler does not advertise C++11 conformance"
+#endif
+
+namespace cxx11test
+{
+  constexpr int get_val() { return 20; }
+
+  struct testinit
+  {
+    int i;
+    double d;
+  };
+
+  class delegate
+  {
+  public:
+    delegate(int n) : n(n) {}
+    delegate(): delegate(2354) {}
+
+    virtual int getval() { return this->n; };
+  protected:
+    int n;
+  };
+
+  class overridden : public delegate
+  {
+  public:
+    overridden(int n): delegate(n) {}
+    virtual int getval() override final { return this->n * 2; }
+  };
+
+  class nocopy
+  {
+  public:
+    nocopy(int i): i(i) {}
+    nocopy() = default;
+    nocopy(const nocopy&) = delete;
+    nocopy & operator=(const nocopy&) = delete;
+  private:
+    int i;
+  };
+
+  // for testing lambda expressions
+  template <typename Ret, typename Fn> Ret eval(Fn f, Ret v)
+  {
+    return f(v);
+  }
+
+  // for testing variadic templates and trailing return types
+  template <typename V> auto sum(V first) -> V
+  {
+    return first;
+  }
+  template <typename V, typename... Args> auto sum(V first, Args... rest) -> V
+  {
+    return first + sum(rest...);
+  }
+}
+'
+
+# Test code for whether the C++ compiler supports C++11 (body of main)
+ac_cxx_conftest_cxx11_main='
+{
+  // Test auto and decltype
+  auto a1 = 6538;
+  auto a2 = 48573953.4;
+  auto a3 = "String literal";
+
+  int total = 0;
+  for (auto i = a3; *i; ++i) { total += *i; }
+
+  decltype(a2) a4 = 34895.034;
+}
+{
+  // Test constexpr
+  short sa[cxx11test::get_val()] = { 0 };
+}
+{
+  // Test initializer lists
+  cxx11test::testinit il = { 4323, 435234.23544 };
+}
+{
+  // Test range-based for
+  int array[] = {9, 7, 13, 15, 4, 18, 12, 10, 5, 3,
+                 14, 19, 17, 8, 6, 20, 16, 2, 11, 1};
+  for (auto &x : array) { x += 23; }
+}
+{
+  // Test lambda expressions
+  using cxx11test::eval;
+  assert (eval ([](int x) { return x*2; }, 21) == 42);
+  double d = 2.0;
+  assert (eval ([&](double x) { return d += x; }, 3.0) == 5.0);
+  assert (d == 5.0);
+  assert (eval ([=](double x) mutable { return d += x; }, 4.0) == 9.0);
+  assert (d == 5.0);
+}
+{
+  // Test use of variadic templates
+  using cxx11test::sum;
+  auto a = sum(1);
+  auto b = sum(1, 2);
+  auto c = sum(1.0, 2.0, 3.0);
+}
+{
+  // Test constructor delegation
+  cxx11test::delegate d1;
+  cxx11test::delegate d2();
+  cxx11test::delegate d3(45);
+}
+{
+  // Test override and final
+  cxx11test::overridden o1(55464);
+}
+{
+  // Test nullptr
+  char *c = nullptr;
+}
+{
+  // Test template brackets
+  test_template<::test_template<int>> v(test_template<int>(12));
+}
+{
+  // Unicode literals
+  char const *utf8 = u8"UTF-8 string \u2500";
+  char16_t const *utf16 = u"UTF-8 string \u2500";
+  char32_t const *utf32 = U"UTF-32 string \u2500";
+}
+'
+
+# Test code for whether the C compiler supports C++11 (complete).
+ac_cxx_conftest_cxx11_program="${ac_cxx_conftest_cxx98_globals}
+${ac_cxx_conftest_cxx11_globals}
+
+int
+main (int argc, char **argv)
+{
+  int ok = 0;
+  ${ac_cxx_conftest_cxx98_main}
+  ${ac_cxx_conftest_cxx11_main}
+  return ok;
+}
+"
+
+# Test code for whether the C compiler supports C++98 (complete).
+ac_cxx_conftest_cxx98_program="${ac_cxx_conftest_cxx98_globals}
+int
+main (int argc, char **argv)
+{
+  int ok = 0;
+  ${ac_cxx_conftest_cxx98_main}
+  return ok;
+}
+"
+
+
+# Auxiliary files required by this configure script.
+ac_aux_files="config.guess config.sub"
+
+# Locations in which to look for auxiliary files.
+ac_aux_dir_candidates="${srcdir}${PATH_SEPARATOR}${srcdir}/..${PATH_SEPARATOR}${srcdir}/../.."
+
+# Search for a directory containing all of the required auxiliary files,
+# $ac_aux_files, from the $PATH-style list $ac_aux_dir_candidates.
+# If we don't find one directory that contains all the files we need,
+# we report the set of missing files from the *first* directory in
+# $ac_aux_dir_candidates and give up.
+ac_missing_aux_files=""
+ac_first_candidate=:
+printf "%s\n" "$as_me:${as_lineno-$LINENO}: looking for aux files: $ac_aux_files" >&5
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_found=false
+for as_dir in $ac_aux_dir_candidates
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+  as_found=:
+
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}:  trying $as_dir" >&5
+  ac_aux_dir_found=yes
+  ac_install_sh=
+  for ac_aux in $ac_aux_files
+  do
+    # As a special case, if "install-sh" is required, that requirement
+    # can be satisfied by any of "install-sh", "install.sh", or "shtool",
+    # and $ac_install_sh is set appropriately for whichever one is found.
+    if test x"$ac_aux" = x"install-sh"
+    then
+      if test -f "${as_dir}install-sh"; then
+        printf "%s\n" "$as_me:${as_lineno-$LINENO}:   ${as_dir}install-sh found" >&5
+        ac_install_sh="${as_dir}install-sh -c"
+      elif test -f "${as_dir}install.sh"; then
+        printf "%s\n" "$as_me:${as_lineno-$LINENO}:   ${as_dir}install.sh found" >&5
+        ac_install_sh="${as_dir}install.sh -c"
+      elif test -f "${as_dir}shtool"; then
+        printf "%s\n" "$as_me:${as_lineno-$LINENO}:   ${as_dir}shtool found" >&5
+        ac_install_sh="${as_dir}shtool install -c"
+      else
+        ac_aux_dir_found=no
+        if $ac_first_candidate; then
+          ac_missing_aux_files="${ac_missing_aux_files} install-sh"
+        else
+          break
+        fi
+      fi
+    else
+      if test -f "${as_dir}${ac_aux}"; then
+        printf "%s\n" "$as_me:${as_lineno-$LINENO}:   ${as_dir}${ac_aux} found" >&5
+      else
+        ac_aux_dir_found=no
+        if $ac_first_candidate; then
+          ac_missing_aux_files="${ac_missing_aux_files} ${ac_aux}"
+        else
+          break
+        fi
+      fi
+    fi
+  done
+  if test "$ac_aux_dir_found" = yes; then
+    ac_aux_dir="$as_dir"
+    break
+  fi
+  ac_first_candidate=false
+
+  as_found=false
+done
+IFS=$as_save_IFS
+if $as_found
+then :
+
+else $as_nop
+  as_fn_error $? "cannot find required auxiliary files:$ac_missing_aux_files" "$LINENO" 5
+fi
+
+
+# These three variables are undocumented and unsupported,
+# and are intended to be withdrawn in a future Autoconf release.
+# They can cause serious problems if a builder's source tree is in a directory
+# whose full name contains unusual characters.
+if test -f "${ac_aux_dir}config.guess"; then
+  ac_config_guess="$SHELL ${ac_aux_dir}config.guess"
+fi
+if test -f "${ac_aux_dir}config.sub"; then
+  ac_config_sub="$SHELL ${ac_aux_dir}config.sub"
+fi
+if test -f "$ac_aux_dir/configure"; then
+  ac_configure="$SHELL ${ac_aux_dir}configure"
+fi
+
+# Check that the precious variables saved in the cache have kept the same
+# value.
+ac_cache_corrupted=false
+for ac_var in $ac_precious_vars; do
+  eval ac_old_set=\$ac_cv_env_${ac_var}_set
+  eval ac_new_set=\$ac_env_${ac_var}_set
+  eval ac_old_val=\$ac_cv_env_${ac_var}_value
+  eval ac_new_val=\$ac_env_${ac_var}_value
+  case $ac_old_set,$ac_new_set in
+    set,)
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
+printf "%s\n" "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
+      ac_cache_corrupted=: ;;
+    ,set)
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was not set in the previous run" >&5
+printf "%s\n" "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
+      ac_cache_corrupted=: ;;
+    ,);;
+    *)
+      if test "x$ac_old_val" != "x$ac_new_val"; then
+	# differences in whitespace do not lead to failure.
+	ac_old_val_w=`echo x $ac_old_val`
+	ac_new_val_w=`echo x $ac_new_val`
+	if test "$ac_old_val_w" != "$ac_new_val_w"; then
+	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' has changed since the previous run:" >&5
+printf "%s\n" "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
+	  ac_cache_corrupted=:
+	else
+	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&5
+printf "%s\n" "$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&2;}
+	  eval $ac_var=\$ac_old_val
+	fi
+	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   former value:  \`$ac_old_val'" >&5
+printf "%s\n" "$as_me:   former value:  \`$ac_old_val'" >&2;}
+	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   current value: \`$ac_new_val'" >&5
+printf "%s\n" "$as_me:   current value: \`$ac_new_val'" >&2;}
+      fi;;
+  esac
+  # Pass precious variables to config.status.
+  if test "$ac_new_set" = set; then
+    case $ac_new_val in
+    *\'*) ac_arg=$ac_var=`printf "%s\n" "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
+    *) ac_arg=$ac_var=$ac_new_val ;;
+    esac
+    case " $ac_configure_args " in
+      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
+      *) as_fn_append ac_configure_args " '$ac_arg'" ;;
+    esac
+  fi
+done
+if $ac_cache_corrupted; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
+printf "%s\n" "$as_me: error: changes in the environment can compromise the build" >&2;}
+  as_fn_error $? "run \`${MAKE-make} distclean' and/or \`rm $cache_file'
+	    and start over" "$LINENO" 5
+fi
+## -------------------- ##
+## Main body of script. ##
+## -------------------- ##
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+
+
+
+
+if test -n "$BUILD_TYPE"; then
+    as_fn_error $? "You have sourced config_host.mk in this shell.  This may lead to trouble, please run in a fresh (login) shell." "$LINENO" 5
+fi
+
+save_CC=$CC
+save_CXX=$CXX
+
+first_arg_basename()
+{
+    for i in $1; do
+        basename "$i"
+        break
+    done
+}
+
+CC_BASE=`first_arg_basename "$CC"`
+CXX_BASE=`first_arg_basename "$CXX"`
+
+BUILD_TYPE="LibO"
+SCPDEFS=""
+GIT_NEEDED_SUBMODULES=""
+LO_PATH= # used by path_munge to construct a PATH variable
+
+
+FilterLibs()
+{
+    # Return value: $filteredlibs
+
+    filteredlibs=
+    if test "$COM" = "MSC"; then
+        for f in $1; do
+            if test "x$f" != "x${f#-L}"; then
+                filteredlibs="$filteredlibs -LIBPATH:${f:2}"
+            elif test "x$f" != "x${f#-l}"; then
+                filteredlibs="$filteredlibs ${f:2}.lib"
+            else
+                filteredlibs="$filteredlibs $f"
+            fi
+        done
+    else
+        for f in $1; do
+            case "$f" in
+                # let's start with Fedora's paths for now
+                -L/lib|-L/lib/|-L/lib64|-L/lib64/|-L/usr/lib|-L/usr/lib/|-L/usr/lib64|-L/usr/lib64/)
+                    # ignore it: on UNIXoids it is searched by default anyway
+                    # but if it's given explicitly then it may override other paths
+                    # (on macOS it would be an error to use it instead of SDK)
+                    ;;
+                *)
+                    filteredlibs="$filteredlibs $f"
+                    ;;
+            esac
+        done
+    fi
+}
+
+PathFormat()
+{
+    # Args: $1: A pathname. On Cygwin and WSL, in either the Unix or the Windows format. Note that this
+    # function is called also on Unix.
+    #
+    # Return value: $formatted_path and $formatted_path_unix.
+    #
+    # $formatted_path is the argument in Windows format, but using forward slashes instead of
+    # backslashes, using 8.3 pathname components if necessary (if it otherwise would contains spaces
+    # or shell metacharacters).
+    #
+    # $formatted_path_unix is the argument in a form usable in Cygwin or WSL, using 8.3 components if
+    # necessary. On Cygwin, it is the same as $formatted_path, but on WSL it is $formatted_path as a
+    # Unix pathname.
+    #
+    # Errors out if 8.3 names are needed but aren't present for some of the path components.
+
+    # Examples:
+    #
+    # /home/tml/lo/master-optimised => C:/cygwin64/home/tml/lo/master-optimised
+    #
+    # C:\Program Files (x86)\Microsoft Visual Studio\Installer\vswhere.exe => C:/PROGRA~2/MICROS~3/INSTAL~1/vswhere.exe
+    #
+    # C:\Program Files (x86)\Microsoft Visual Studio\2019\Community => C:/PROGRA~2/MICROS~3/2019/COMMUN~1
+    #
+    # C:/PROGRA~2/WI3CF2~1/10/Include/10.0.18362.0/ucrt => C:/PROGRA~2/WI3CF2~1/10/Include/10.0.18362.0/ucrt
+    #
+    # /cygdrive/c/PROGRA~2/WI3CF2~1/10 => C:/PROGRA~2/WI3CF2~1/10
+    #
+    # C:\Program Files (x86)\Windows Kits\NETFXSDK\4.8\ => C:/PROGRA~2/WI3CF2~1/NETFXSDK/4.8/
+    #
+    # /usr/bin/find.exe => C:/cygwin64/bin/find.exe
+
+    if test -n "$UNITTEST_WSL_PATHFORMAT"; then
+        printf "PathFormat $1 ==> "
+    fi
+
+    formatted_path="$1"
+    if test "$build_os" = "cygwin" -o "$build_os" = "wsl"; then
+        if test "$build_os" = "wsl"; then
+            formatted_path=$(echo "$formatted_path" | tr -d '\r')
+        fi
+
+        pf_conv_to_dos=
+        # spaces,parentheses,brackets,braces are problematic in pathname
+        # so are backslashes
+        case "$formatted_path" in
+            *\ * | *\)* | *\(* | *\{* | *\}* | *\* | *\* | *\\* )
+                pf_conv_to_dos="yes"
+            ;;
+        esac
+        if test "$pf_conv_to_dos" = "yes"; then
+            if test "$build_os" = "wsl"; then
+                case "$formatted_path" in
+                    /*)
+                        formatted_path=$(wslpath -w "$formatted_path")
+                        ;;
+                esac
+                formatted_path=$($WSL_LO_HELPER --8.3 "$formatted_path")
+            elif test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+                formatted_path=`cygpath -sm "$formatted_path"`
+            else
+                formatted_path=`cygpath -d "$formatted_path"`
+            fi
+            if test $? -ne 0;  then
+                as_fn_error $? "path conversion failed for \"$1\"." "$LINENO" 5
+            fi
+        fi
+        fp_count_colon=`echo "$formatted_path" | $GREP -c ":"`
+        fp_count_slash=`echo "$formatted_path" | $GREP -c "/"`
+        if test "$fp_count_slash$fp_count_colon" != "00"; then
+            if test "$fp_count_colon" = "0"; then
+                new_formatted_path=`realpath "$formatted_path"`
+                if test $? -ne 0;  then
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: realpath failed for \"$formatted_path\", not necessarily a problem." >&5
+printf "%s\n" "$as_me: WARNING: realpath failed for \"$formatted_path\", not necessarily a problem." >&2;}
+                else
+                    formatted_path="$new_formatted_path"
+                fi
+            fi
+            if test "$build_os" = "wsl"; then
+                if test "$fp_count_colon" != "0"; then
+                    formatted_path=$(wslpath "$formatted_path")
+                    local final_slash=
+                    case "$formatted_path" in
+                        */)
+                            final_slash=/
+                            ;;
+                    esac
+                    formatted_path=$(wslpath -m $formatted_path)
+                    case "$formatted_path" in
+                        */)
+                            ;;
+                        *)
+                            formatted_path="$formatted_path"$final_slash
+                            ;;
+                    esac
+                else
+                    formatted_path=$(wslpath -m "$formatted_path")
+                fi
+            else
+                formatted_path=`cygpath -m "$formatted_path"`
+            fi
+            if test $? -ne 0;  then
+                as_fn_error $? "path conversion failed for \"$1\"." "$LINENO" 5
+            fi
+        fi
+        fp_count_space=`echo "$formatted_path" | $GREP -c " "`
+        if test "$fp_count_space" != "0"; then
+            as_fn_error $? "converted path \"$formatted_path\" still contains spaces. Short filenames (8.3 filenames) support was disabled on this system?" "$LINENO" 5
+        fi
+    fi
+    if test "$build_os" = "wsl"; then
+        # WSL can't run Windows binaries from Windows pathnames so we need a separate return value in Unix format
+        formatted_path_unix=$(wslpath "$formatted_path")
+    else
+        # But Cygwin can
+        formatted_path_unix="$formatted_path"
+    fi
+    if test -n "$WSL_ONLY_AS_HELPER"; then
+        # if already in unix format, switch to windows format to create shortened path
+        case "$formatted_path" in
+            /*)
+                formatted_path=$(wslpath -m "$formatted_path")
+                ;;
+        esac
+
+        # cd to /mnt/c to avoid wsl/cmd complaining about not supporting UNC paths/the current working directory
+        formatted_path_unix=$(wslpath -u "$(cd /mnt/c; cmd.exe /c $shortpath_cmd "$formatted_path" | tr -d '\r')")
+        # WSL can't run Windows binaries from Windows pathnames so we need a separate return value in Unix format
+        formatted_path=$(wslpath -m "$formatted_path_unix")
+    fi
+}
+
+AbsolutePath()
+{
+    # There appears to be no simple and portable method to get an absolute and
+    # canonical path, so we try creating the directory if does not exist and
+    # utilizing the shell and pwd.
+
+    # Args: $1: A possibly relative pathname
+    # Return value: $absolute_path
+
+    # Convert to unix path, mkdir would treat c:/path as a relative path.
+    PathFormat "$1"
+    local rel="$formatted_path_unix"
+    absolute_path=""
+    test ! -e "$rel" && mkdir -p "$rel"
+    if test -d "$rel" ; then
+        cd "$rel" || as_fn_error $? "absolute path resolution failed for \"$rel\"." "$LINENO" 5
+        absolute_path="$(pwd)"
+        cd - > /dev/null
+    else
+        as_fn_error $? "Failed to resolve absolute path.  \"$rel\" does not exist or is not a directory." "$LINENO" 5
+    fi
+}
+
+WARNINGS_FILE=config.warn
+WARNINGS_FILE_FOR_BUILD=config.Build.warn
+rm -f "$WARNINGS_FILE" "$WARNINGS_FILE_FOR_BUILD"
+have_WARNINGS="no"
+add_warning()
+{
+    if test "$have_WARNINGS" = "no"; then
+        echo "*************************************" > "$WARNINGS_FILE"
+        have_WARNINGS="yes"
+        if command -v tput >/dev/null && test "`tput colors 2>/dev/null || echo 0`" -ge 8; then
+                        COLORWARN='*[1;33;40m WARNING [0m:'
+        else
+            COLORWARN="* WARNING :"
+        fi
+    fi
+    echo "$COLORWARN $@" >> "$WARNINGS_FILE"
+}
+
+
+mac_sanitize_path()
+{
+    mac_path="$LODE_HOME/opt/bin:/usr/bin:/bin:/usr/sbin:/sbin"
+    mac_git_path=`command -v git`
+    if test -n "$mac_git_path" -a -x "$mac_git_path" -a "$mac_git_path" != "/usr/bin/git" ; then
+        mac_path="$mac_path:`dirname $mac_git_path`"
+    fi
+    mac_gpg_path=`command -v gpg`
+    if test -n "$mac_gpg_path" -a -x "$mac_gpg_path" -a "$mac_gpg_path" != "/usr/bin/gpg" ; then
+        mac_path="$mac_path:`dirname $mac_gpg_path`"
+    fi
+    PATH="$mac_path"
+    unset mac_path
+    unset mac_git_path
+    unset mac_gpg_path
+}
+
+
+check_semantic_version_three()
+{
+    test "$4" -gt "$1" \
+        -o \( "$4" -eq "$1" -a "$5" -gt "$2" \) \
+        -o \( "$4" -eq "$1" -a "$5" -eq "$2" -a "$6" -ge "$3" \)
+    return $?
+}
+
+
+check_semantic_version_three_prefixed()
+{
+    eval local MIN_MAJOR="\$${1}_${2}_MAJOR"
+    eval local MIN_MINOR="\$${1}_${2}_MINOR"
+    eval local MIN_TINY="\$${1}_${2}_TINY"
+    eval local CUR_MAJOR="\$${1}_MAJOR"
+    eval local CUR_MINOR="\$${1}_MINOR"
+    eval local CUR_TINY="\$${1}_TINY"
+    check_semantic_version_three $MIN_MAJOR $MIN_MINOR $MIN_TINY $CUR_MAJOR $CUR_MINOR $CUR_TINY
+    return $?
+}
+
+echo "********************************************************************"
+echo "*"
+echo "*   Running ${PACKAGE_NAME} build configuration."
+echo "*"
+echo "********************************************************************"
+echo ""
+
+
+# are we running in wsl but are called from git-bash/env with mingw64 in path?
+# if so, we aim to run nearly everything in the Windows realm, and only run autogen/configure
+# in wsl and run a few tools via wsl
+WSL_ONLY_AS_HELPER=
+if test -n "$WSL_DISTRO_NAME" && $(echo $PATH |grep -q mingw64); then
+    WSL_ONLY_AS_HELPER=TRUE
+
+# Check whether --with-strawberry-perl-portable was given.
+if test ${with_strawberry_perl_portable+y}
+then :
+  withval=$with_strawberry_perl_portable;
+else $as_nop
+  as_fn_error $? "for the moment strawberry-perl-portable is a requirement, feel free to replace it" "$LINENO" 5
+fi
+
+    shortpath_cmd=$(wslpath -m $srcdir/solenv/bin/shortpath.cmd)
+    PathFormat "$with_strawberry_perl_portable"
+    if test ! -f "$formatted_path_unix/perl/bin/perl.exe" -o ! -d "$formatted_path_unix/c/bin"; then
+        as_fn_error $? "$formatted_path doesn't contain perl or the utilities - sure you provided the base path?" "$LINENO" 5
+    fi
+    STRAWBERRY_TOOLS="$formatted_path/c/bin"
+    STRAWBERRY_PERL="$formatted_path/perl/bin/perl.exe"
+    STRAWBERRY_PERL_UNIX="$formatted_path_unix/perl/bin/perl.exe"
+
+# Check whether --with-wsl-command was given.
+if test ${with_wsl_command+y}
+then :
+  withval=$with_wsl_command;
+else $as_nop
+  with_wsl_command="wsl.exe"
+fi
+
+    WSL="$with_wsl_command"
+fi
+
+
+
+# Check for WSL (version 2, at least). But if --host is explicitly specified (to really do build for
+# Linux on WSL) trust that.
+if test -z "$host" -a -z "$build" -a "`wslsys -v 2>/dev/null`" != ""; then
+    ac_cv_host="x86_64-pc-wsl"
+    ac_cv_host_cpu="x86_64"
+    ac_cv_host_os="wsl"
+    ac_cv_build="$ac_cv_host"
+    ac_cv_build_cpu="$ac_cv_host_cpu"
+    ac_cv_build_os="$ac_cv_host_os"
+
+    # Emulation of Cygwin's cygpath command for WSL.
+    cygpath()
+    {
+        if test -n "$UNITTEST_WSL_CYGPATH"; then
+            echo -n cygpath "$@" "==> "
+        fi
+
+        # Cygwin's real cygpath has a plethora of options but we use only a few here.
+        local args="$@"
+        local opt
+        local opt_d opt_m opt_u opt_w opt_l opt_s opt_p
+        OPTIND=1
+
+        while getopts dmuwlsp opt; do
+            case "$opt" in
+                \?)
+                    as_fn_error $? "Unimplemented cygpath emulation option in invocation: cygpath $args" "$LINENO" 5
+                    ;;
+                ?)
+                    eval opt_$opt=yes
+                    ;;
+            esac
+        done
+
+        shift $((OPTIND-1))
+
+        if test $# -ne 1; then
+            as_fn_error $? "Invalid cygpath emulation invocation: Pathname missing" "$LINENO" 5;
+        fi
+
+        local input="$1"
+
+        local result
+
+        if test -n "$opt_d" -o -n "$opt_m" -o -n "$opt_w"; then
+            # Print Windows path, possibly in 8.3 form (-d) or with forward slashes (-m)
+
+            if test -n "$opt_u"; then
+                as_fn_error $? "Invalid cygpath invocation: Both Windows and Unix path output requested" "$LINENO" 5
+            fi
+
+            case "$input" in
+                /mnt/*)
+                    # A Windows file in WSL format
+                    input=$(wslpath -w "$input")
+                    ;;
+                [a-zA-Z]:\\* | \\* | [a-zA-Z]:/* | /*)
+                    # Already in Windows format
+                    ;;
+                /*)
+                    input=$(wslpath -w "$input")
+                    ;;
+                *)
+                    as_fn_error $? "Invalid cygpath invocation: Path '$input' is not absolute" "$LINENO" 5
+                    ;;
+            esac
+            if test -n "$opt_d" -o -n "$opt_s"; then
+                input=$($WSL_LO_HELPER --8.3 "$input")
+            fi
+            if test -n "$opt_m"; then
+                input="${input//\\//}"
+            fi
+            echo "$input"
+        else
+            # Print Unix path
+
+            case "$input" in
+                [a-zA-Z]:\\* | \\* | [a-zA-Z]:/* | /*)
+                    wslpath -u "$input"
+                    ;;
+                /)
+                    echo "$input"
+                    ;;
+                *)
+                    as_fn_error $? "Invalid cygpath invocation: Path '$input' is not absolute" "$LINENO" 5
+                    ;;
+            esac
+        fi
+    }
+
+    if test -n "$UNITTEST_WSL_CYGPATH"; then
+        BUILDDIR=.
+
+        # Nothing special with these file names, just arbitrary ones picked to test with
+        cygpath -d /usr/lib64/ld-linux-x86-64.so.2
+        cygpath -w /usr/lib64/ld-linux-x86-64.so.2
+        cygpath -m /usr/lib64/ld-linux-x86-64.so.2
+        cygpath -m -s /usr/lib64/ld-linux-x86-64.so.2
+        # At least on my machine for instance this file does have an 8.3 name
+        cygpath -d /mnt/c/windows/WindowsUpdate.log
+        # But for instance this one doesn't
+        cygpath -w /mnt/c/windows/system32/AboutSettingsHandlers.dll
+        cygpath -ws /mnt/c/windows/WindowsUpdate.log
+        cygpath -m /mnt/c/windows/system32/AboutSettingsHandlers.dll
+        cygpath -ms /mnt/c/windows/WindowsUpdate.log
+
+        cygpath -u 'c:\windows\system32\AboutSettingsHandlers.dll'
+        cygpath -u 'c:/windows/system32/AboutSettingsHandlers.dll'
+
+        exit 0
+    fi
+
+    if test -z "$WSL_LO_HELPER"; then
+        if test -n "$LODE_HOME" -a -x "$LODE_HOME/opt/bin/wsl-lo-helper" ; then
+            WSL_LO_HELPER="$LODE_HOME/opt/bin/wsl-lo-helper"
+        elif test -x "/opt/lo/bin/wsl-lo-helper"; then
+            WSL_LO_HELPER="/opt/lo/bin/wsl-lo-helper"
+        fi
+    fi
+    if test -z "$WSL_LO_HELPER"; then
+        as_fn_error $? "wsl-lo-helper not found. See solenv/wsl/README." "$LINENO" 5
+    fi
+fi
+
+
+
+
+  # Make sure we can run config.sub.
+$SHELL "${ac_aux_dir}config.sub" sun4 >/dev/null 2>&1 ||
+  as_fn_error $? "cannot run $SHELL ${ac_aux_dir}config.sub" "$LINENO" 5
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
+printf %s "checking build system type... " >&6; }
+if test ${ac_cv_build+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_build_alias=$build_alias
+test "x$ac_build_alias" = x &&
+  ac_build_alias=`$SHELL "${ac_aux_dir}config.guess"`
+test "x$ac_build_alias" = x &&
+  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
+ac_cv_build=`$SHELL "${ac_aux_dir}config.sub" $ac_build_alias` ||
+  as_fn_error $? "$SHELL ${ac_aux_dir}config.sub $ac_build_alias failed" "$LINENO" 5
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
+printf "%s\n" "$ac_cv_build" >&6; }
+case $ac_cv_build in
+*-*-*) ;;
+*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5;;
+esac
+build=$ac_cv_build
+ac_save_IFS=$IFS; IFS='-'
+set x $ac_cv_build
+shift
+build_cpu=$1
+build_vendor=$2
+shift; shift
+# Remember, the first character of IFS is used to create $*,
+# except with old shells:
+build_os=$*
+IFS=$ac_save_IFS
+case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking host system type" >&5
+printf %s "checking host system type... " >&6; }
+if test ${ac_cv_host+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test "x$host_alias" = x; then
+  ac_cv_host=$ac_cv_build
+else
+  ac_cv_host=`$SHELL "${ac_aux_dir}config.sub" $host_alias` ||
+    as_fn_error $? "$SHELL ${ac_aux_dir}config.sub $host_alias failed" "$LINENO" 5
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
+printf "%s\n" "$ac_cv_host" >&6; }
+case $ac_cv_host in
+*-*-*) ;;
+*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5;;
+esac
+host=$ac_cv_host
+ac_save_IFS=$IFS; IFS='-'
+set x $ac_cv_host
+shift
+host_cpu=$1
+host_vendor=$2
+shift; shift
+# Remember, the first character of IFS is used to create $*,
+# except with old shells:
+host_os=$*
+IFS=$ac_save_IFS
+case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac
+
+
+
+
+if test -n "$UNITTEST_WSL_PATHFORMAT"; then
+    BUILDDIR=.
+    GREP=grep
+
+    # Use of PathFormat must be after AC_CANONICAL_BUILD above
+    PathFormat /
+    printf "$formatted_path , $formatted_path_unix\n"
+
+    PathFormat $PWD
+    printf "$formatted_path , $formatted_path_unix\n"
+
+    PathFormat "$PROGRAMFILESX86"
+    printf "$formatted_path , $formatted_path_unix\n"
+
+    exit 0
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for product name" >&5
+printf %s "checking for product name... " >&6; }
+PRODUCTNAME="LibreOffice"
+if test -n "$with_product_name" -a "$with_product_name" != no; then
+    PRODUCTNAME="$with_product_name"
+fi
+if test "$enable_release_build" = "" -o "$enable_release_build" = "no"; then
+    PRODUCTNAME="${PRODUCTNAME}Dev"
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PRODUCTNAME" >&5
+printf "%s\n" "$PRODUCTNAME" >&6; }
+
+PRODUCTNAME_WITHOUT_SPACES=$(printf %s "$PRODUCTNAME" | sed 's/ //g')
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for package version" >&5
+printf %s "checking for package version... " >&6; }
+if test -n "$with_package_version" -a "$with_package_version" != no; then
+    PACKAGE_VERSION="$with_package_version"
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PACKAGE_VERSION" >&5
+printf "%s\n" "$PACKAGE_VERSION" >&6; }
+
+set `echo "$PACKAGE_VERSION" | sed "s/\./ /g"`
+
+LIBO_VERSION_MAJOR=$1
+LIBO_VERSION_MINOR=$2
+LIBO_VERSION_MICRO=$3
+LIBO_VERSION_PATCH=$4
+
+LIBO_VERSION_SUFFIX=$5
+
+# Split out LIBO_VERSION_SUFFIX_SUFFIX... horrible crack. But apparently wanted separately in
+# openoffice.lst as ABOUTBOXPRODUCTVERSIONSUFFIX. Note that the double brackets are for m4's sake,
+# they get undoubled before actually passed to sed.
+LIBO_VERSION_SUFFIX_SUFFIX=`echo "$LIBO_VERSION_SUFFIX" | sed -e 's/.*[a-zA-Z0-9]\([^a-zA-Z0-9]*\)$/\1/'`
+test -n "$LIBO_VERSION_SUFFIX_SUFFIX" && LIBO_VERSION_SUFFIX="${LIBO_VERSION_SUFFIX%${LIBO_VERSION_SUFFIX_SUFFIX}}"
+# LIBO_VERSION_SUFFIX, if non-empty, should include the period separator
+test -n "$LIBO_VERSION_SUFFIX" && LIBO_VERSION_SUFFIX=".$LIBO_VERSION_SUFFIX"
+
+# The value for key CFBundleVersion in the Info.plist file must be a period-separated list of at most
+# three non-negative integers. Please find more information about CFBundleVersion at
+# https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleversion
+
+# The value for key CFBundleShortVersionString in the Info.plist file must be a period-separated list
+# of at most three non-negative integers. Please find more information about
+# CFBundleShortVersionString at
+# https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleshortversionstring
+
+# But that is enforced only in the App Store, and we apparently want to break the rules otherwise.
+
+if test "$enable_macosx_sandbox" = yes; then
+    MACOSX_BUNDLE_SHORTVERSION=$LIBO_VERSION_MAJOR.$LIBO_VERSION_MINOR.`expr $LIBO_VERSION_MICRO '*' 1000 + $LIBO_VERSION_PATCH`
+    MACOSX_BUNDLE_VERSION=$MACOSX_BUNDLE_SHORTVERSION
+else
+    MACOSX_BUNDLE_SHORTVERSION=$LIBO_VERSION_MAJOR.$LIBO_VERSION_MINOR.$LIBO_VERSION_MICRO.$LIBO_VERSION_PATCH
+    MACOSX_BUNDLE_VERSION=$MACOSX_BUNDLE_SHORTVERSION$LIBO_VERSION_SUFFIX
+fi
+
+
+
+
+
+
+
+
+
+
+printf "%s\n" "#define LIBO_VERSION_MAJOR $LIBO_VERSION_MAJOR" >>confdefs.h
+
+printf "%s\n" "#define LIBO_VERSION_MINOR $LIBO_VERSION_MINOR" >>confdefs.h
+
+printf "%s\n" "#define LIBO_VERSION_MICRO $LIBO_VERSION_MICRO" >>confdefs.h
+
+printf "%s\n" "#define LIBO_VERSION_PATCH $LIBO_VERSION_PATCH" >>confdefs.h
+
+
+git_date=`git log -1 --pretty=format:"%cd" --date=format:'%Y' 2>/dev/null`
+LIBO_THIS_YEAR=${git_date:-2024}
+printf "%s\n" "#define LIBO_THIS_YEAR $LIBO_THIS_YEAR" >>confdefs.h
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for product version" >&5
+printf %s "checking for product version... " >&6; }
+PRODUCTVERSION="$LIBO_VERSION_MAJOR.$LIBO_VERSION_MINOR"
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PRODUCTVERSION" >&5
+printf "%s\n" "$PRODUCTVERSION" >&6; }
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
+printf %s "checking for grep that handles long lines and -e... " >&6; }
+if test ${ac_cv_path_GREP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -z "$GREP"; then
+  ac_path_GREP_found=false
+  # Loop through the user's path and test for each of PROGNAME-LIST
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_prog in grep ggrep
+   do
+    for ac_exec_ext in '' $ac_executable_extensions; do
+      ac_path_GREP="$as_dir$ac_prog$ac_exec_ext"
+      as_fn_executable_p "$ac_path_GREP" || continue
+# Check for GNU ac_path_GREP and select it if it is found.
+  # Check for GNU $ac_path_GREP
+case `"$ac_path_GREP" --version 2>&1` in
+*GNU*)
+  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
+*)
+  ac_count=0
+  printf %s 0123456789 >"conftest.in"
+  while :
+  do
+    cat "conftest.in" "conftest.in" >"conftest.tmp"
+    mv "conftest.tmp" "conftest.in"
+    cp "conftest.in" "conftest.nl"
+    printf "%s\n" 'GREP' >> "conftest.nl"
+    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
+    as_fn_arith $ac_count + 1 && ac_count=$as_val
+    if test $ac_count -gt ${ac_path_GREP_max-0}; then
+      # Best one so far, save it but keep looking for a better one
+      ac_cv_path_GREP="$ac_path_GREP"
+      ac_path_GREP_max=$ac_count
+    fi
+    # 10*(2^10) chars as input seems more than enough
+    test $ac_count -gt 10 && break
+  done
+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
+esac
+
+      $ac_path_GREP_found && break 3
+    done
+  done
+  done
+IFS=$as_save_IFS
+  if test -z "$ac_cv_path_GREP"; then
+    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+  fi
+else
+  ac_cv_path_GREP=$GREP
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
+printf "%s\n" "$ac_cv_path_GREP" >&6; }
+ GREP="$ac_cv_path_GREP"
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
+printf %s "checking for egrep... " >&6; }
+if test ${ac_cv_path_EGREP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
+   then ac_cv_path_EGREP="$GREP -E"
+   else
+     if test -z "$EGREP"; then
+  ac_path_EGREP_found=false
+  # Loop through the user's path and test for each of PROGNAME-LIST
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_prog in egrep
+   do
+    for ac_exec_ext in '' $ac_executable_extensions; do
+      ac_path_EGREP="$as_dir$ac_prog$ac_exec_ext"
+      as_fn_executable_p "$ac_path_EGREP" || continue
+# Check for GNU ac_path_EGREP and select it if it is found.
+  # Check for GNU $ac_path_EGREP
+case `"$ac_path_EGREP" --version 2>&1` in
+*GNU*)
+  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
+*)
+  ac_count=0
+  printf %s 0123456789 >"conftest.in"
+  while :
+  do
+    cat "conftest.in" "conftest.in" >"conftest.tmp"
+    mv "conftest.tmp" "conftest.in"
+    cp "conftest.in" "conftest.nl"
+    printf "%s\n" 'EGREP' >> "conftest.nl"
+    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
+    as_fn_arith $ac_count + 1 && ac_count=$as_val
+    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
+      # Best one so far, save it but keep looking for a better one
+      ac_cv_path_EGREP="$ac_path_EGREP"
+      ac_path_EGREP_max=$ac_count
+    fi
+    # 10*(2^10) chars as input seems more than enough
+    test $ac_count -gt 10 && break
+  done
+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
+esac
+
+      $ac_path_EGREP_found && break 3
+    done
+  done
+  done
+IFS=$as_save_IFS
+  if test -z "$ac_cv_path_EGREP"; then
+    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+  fi
+else
+  ac_cv_path_EGREP=$EGREP
+fi
+
+   fi
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
+printf "%s\n" "$ac_cv_path_EGREP" >&6; }
+ EGREP="$ac_cv_path_EGREP"
+
+
+# AC_PROG_EGREP doesn't set GREP on all systems as well
+# Extract the first word of "grep", so it can be a program name with args.
+set dummy grep; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_GREP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $GREP in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_GREP="$GREP" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_GREP="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+GREP=$ac_cv_path_GREP
+if test -n "$GREP"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GREP" >&5
+printf "%s\n" "$GREP" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+BUILDDIR=`pwd`
+cd $srcdir
+SRC_ROOT=`pwd`
+cd $BUILDDIR
+x_Cygwin=\#
+
+INTROSPECTION_REQUIRED_VERSION=1.32.0
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for GNU Make" >&5
+printf %s "checking for GNU Make... " >&6; }
+
+# try to use our own make if it is available and GNUMAKE was not already defined
+if test -z "$GNUMAKE"; then
+    if test -n "$LODE_HOME" -a -x "$LODE_HOME/opt/bin/make" ; then
+        GNUMAKE="$LODE_HOME/opt/bin/make"
+    elif test -x "/opt/lo/bin/make"; then
+        GNUMAKE="/opt/lo/bin/make"
+    fi
+fi
+
+GNUMAKE_WIN_NATIVE=
+for a in "$MAKE" "$GNUMAKE" make gmake gnumake; do
+    if test -n "$a"; then
+        $a --version 2> /dev/null | grep GNU  2>&1 > /dev/null
+        if test $? -eq 0;  then
+            if test "$build_os" = "cygwin"; then
+                if test -n "$($a -v | grep 'Built for Windows')" ; then
+                    GNUMAKE="$(cygpath -m "$(command -v "$(cygpath -u $a)")")"
+                    GNUMAKE_WIN_NATIVE="TRUE"
+                else
+                    GNUMAKE=`command -v $a`
+                fi
+            else
+                GNUMAKE=`command -v $a`
+            fi
+            break
+        fi
+    fi
+done
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GNUMAKE" >&5
+printf "%s\n" "$GNUMAKE" >&6; }
+if test -z "$GNUMAKE"; then
+    as_fn_error $? "not found. install GNU Make." "$LINENO" 5
+else
+    if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Using a native Win32 GNU Make version." >&5
+printf "%s\n" "$as_me: Using a native Win32 GNU Make version." >&6;}
+    fi
+fi
+
+win_short_path_for_make()
+{
+    local short_path="$1"
+    if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+        cygpath -sm "$short_path"
+    elif test -n "$WSL_ONLY_AS_HELPER"; then
+        # when already unix-style path, wslpath doesn't return anything
+        case "$short_path" in
+        /*)
+            echo $short_path
+            exit
+            ;;
+        esac
+        wslpath -m "$(wslpath -u "$short_path")"
+    else
+        cygpath -u "$(cygpath -d "$short_path")"
+    fi
+}
+
+
+if test "$build_os" = "cygwin"; then
+    PathFormat "$SRC_ROOT"
+    SRC_ROOT="$formatted_path"
+    PathFormat "$BUILDDIR"
+    BUILDDIR="$formatted_path"
+    x_Cygwin=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit COMSPEC" >&5
+printf %s "checking for explicit COMSPEC... " >&6; }
+    if test -z "$COMSPEC"; then
+        as_fn_error $? "COMSPEC not set in environment, please set it and rerun" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found: $COMSPEC" >&5
+printf "%s\n" "found: $COMSPEC" >&6; }
+    fi
+fi
+
+
+
+
+printf "%s\n" "#define SRCDIR \"$SRC_ROOT\"" >>confdefs.h
+
+printf "%s\n" "#define SRC_ROOT \"$SRC_ROOT\"" >>confdefs.h
+
+printf "%s\n" "#define BUILDDIR \"$BUILDDIR\"" >>confdefs.h
+
+
+if test "z$EUID" = "z0" -a "`uname -o 2>/dev/null`" = "Cygwin"; then
+    as_fn_error $? "You must build LibreOffice as a normal user - not using an administrative account" "$LINENO" 5
+fi
+
+# need sed in os checks...
+for ac_prog in sed
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_SED+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $SED in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_SED="$SED" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_SED="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+SED=$ac_cv_path_SED
+if test -n "$SED"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $SED" >&5
+printf "%s\n" "$SED" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$SED" && break
+done
+
+if test -z "$SED"; then
+    as_fn_error $? "install sed to run this script" "$LINENO" 5
+fi
+
+# Set the ENABLE_LTO variable
+# ===================================================================
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use link-time optimization" >&5
+printf %s "checking whether to use link-time optimization... " >&6; }
+if test -n "$enable_lto" -a "$enable_lto" != "no"; then
+    ENABLE_LTO="TRUE"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    ENABLE_LTO=""
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+# Check whether --enable-fuzz-options was given.
+if test ${enable_fuzz_options+y}
+then :
+  enableval=$enable_fuzz_options;
+fi
+
+
+
+
+# Check whether --with-android-ndk was given.
+if test ${with_android_ndk+y}
+then :
+  withval=$with_android_ndk;
+fi
+
+
+
+# Check whether --with-android-ndk-toolchain-version was given.
+if test ${with_android_ndk_toolchain_version+y}
+then :
+  withval=$with_android_ndk_toolchain_version;
+else $as_nop
+  with_android_ndk_toolchain_version=clang5.0
+fi
+
+
+
+# Check whether --with-android-sdk was given.
+if test ${with_android_sdk+y}
+then :
+  withval=$with_android_sdk;
+fi
+
+
+
+# Check whether --with-android-api-level was given.
+if test ${with_android_api_level+y}
+then :
+  withval=$with_android_api_level;
+fi
+
+
+ANDROID_NDK_DIR=
+if test -z "$with_android_ndk" -a -e "$SRC_ROOT/external/android-ndk" -a "$build" != "$host"; then
+    with_android_ndk="$SRC_ROOT/external/android-ndk"
+fi
+if test -n "$with_android_ndk"; then
+    eval ANDROID_NDK_DIR=$with_android_ndk
+
+    ANDROID_API_LEVEL=21
+    if test -n "$with_android_api_level" ; then
+        ANDROID_API_LEVEL="$with_android_api_level"
+    fi
+
+    if test $host_cpu = arm; then
+        LLVM_TRIPLE=armv7a-linux-androideabi
+        ANDROID_SYSROOT_PLATFORM=arm-linux-androideabi
+        ANDROID_APP_ABI=armeabi-v7a
+        ANDROIDCFLAGS="-mthumb -march=armv7-a -mfloat-abi=softfp -mfpu=neon -Wl,--fix-cortex-a8"
+    elif test $host_cpu = aarch64; then
+        LLVM_TRIPLE=aarch64-linux-android
+        ANDROID_SYSROOT_PLATFORM=$LLVM_TRIPLE
+        ANDROID_APP_ABI=arm64-v8a
+    elif test $host_cpu = x86_64; then
+        LLVM_TRIPLE=x86_64-linux-android
+        ANDROID_SYSROOT_PLATFORM=$LLVM_TRIPLE
+        ANDROID_APP_ABI=x86_64
+    else
+        # host_cpu is something like "i386" or "i686" I guess, NDK uses
+        # "x86" in some contexts
+        LLVM_TRIPLE=i686-linux-android
+        ANDROID_SYSROOT_PLATFORM=$LLVM_TRIPLE
+        ANDROID_APP_ABI=x86
+    fi
+
+    # Set up a lot of pre-canned defaults
+
+    if test ! -f $ANDROID_NDK_DIR/RELEASE.TXT; then
+        if test ! -f $ANDROID_NDK_DIR/source.properties; then
+            as_fn_error $? "Unrecognized Android NDK. Missing RELEASE.TXT or source.properties file in $ANDROID_NDK_DIR." "$LINENO" 5
+        fi
+        ANDROID_NDK_VERSION=`sed -n -e 's/Pkg.Revision = //p' $ANDROID_NDK_DIR/source.properties`
+    else
+        ANDROID_NDK_VERSION=`cut -f1 -d' ' <$ANDROID_NDK_DIR/RELEASE.TXT`
+    fi
+    if test -z "$ANDROID_NDK_VERSION";  then
+        as_fn_error $? "Failed to determine Android NDK version. Please check your installation." "$LINENO" 5
+    fi
+    case $ANDROID_NDK_VERSION in
+    r9*|r10*)
+        as_fn_error $? "Building for Android requires NDK version >= 23.*" "$LINENO" 5
+        ;;
+    11.1.*|12.1.*|13.1.*|14.1.*|16.*|17.*|18.*|19.*|20.*|21.*|22.*)
+        as_fn_error $? "Building for Android requires NDK version >= 23.*" "$LINENO" 5
+        ;;
+    23.*|24.*|25.*)
+        ;;
+    *)
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Untested Android NDK version $ANDROID_NDK_VERSION, only versions 23.* to 25.* have been used successfully. Proceed at your own risk." >&5
+printf "%s\n" "$as_me: WARNING: Untested Android NDK version $ANDROID_NDK_VERSION, only versions 23.* to 25.* have been used successfully. Proceed at your own risk." >&2;}
+        add_warning "Untested Android NDK version $ANDROID_NDK_VERSION, only versions 23.* to 25.* have been used successfully. Proceed at your own risk."
+        ;;
+    esac
+
+    case "$with_android_ndk_toolchain_version" in
+    clang5.0)
+        ANDROID_GCC_TOOLCHAIN_VERSION=4.9
+        ;;
+    *)
+        as_fn_error $? "Unrecognized value for the --with-android-ndk-toolchain-version option. Building for Android is only supported with Clang 5.*" "$LINENO" 5
+    esac
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: using the Android API level... $ANDROID_API_LEVEL" >&5
+printf "%s\n" "$as_me: using the Android API level... $ANDROID_API_LEVEL" >&6;}
+
+    # NDK 15 or later toolchain is 64bit-only, except for Windows that we don't support. Using a 64-bit
+    # linker is required if you compile large parts of the code with -g. A 32-bit linker just won't
+    # manage to link the (app-specific) single huge .so that is built for the app in
+    # android/source/ if there is debug information in a significant part of the object files.
+    # (A 64-bit ld.gold grows too much over 10 gigabytes of virtual space when linking such a .so if
+    # all objects have been built with debug information.)
+    case $build_os in
+    linux-gnu*)
+        android_HOST_TAG=linux-x86_64
+        ;;
+    darwin*)
+        android_HOST_TAG=darwin-x86_64
+        ;;
+    *)
+        as_fn_error $? "We only support building for Android from Linux or macOS" "$LINENO" 5
+        # ndk would also support windows and windows-x86_64
+        ;;
+    esac
+    ANDROID_TOOLCHAIN=$ANDROID_NDK_DIR/toolchains/llvm/prebuilt/$android_HOST_TAG
+    ANDROID_COMPILER_BIN=$ANDROID_TOOLCHAIN/bin
+
+    test -z "$AR" && AR=$ANDROID_COMPILER_BIN/llvm-ar
+    test -z "$NM" && NM=$ANDROID_COMPILER_BIN/llvm-nm
+    test -z "$OBJDUMP" && OBJDUMP=$ANDROID_COMPILER_BIN/llvm-objdump
+    test -z "$RANLIB" && RANLIB=$ANDROID_COMPILER_BIN/llvm-ranlib
+    test -z "$STRIP" && STRIP=$ANDROID_COMPILER_BIN/llvm-strip
+
+    ANDROIDCFLAGS="$ANDROIDCFLAGS -target ${LLVM_TRIPLE}${ANDROID_API_LEVEL}"
+    ANDROIDCFLAGS="$ANDROIDCFLAGS -no-canonical-prefixes -ffunction-sections -fdata-sections -Qunused-arguments"
+    if test "$ENABLE_LTO" = TRUE; then
+        # -flto comes from com_GCC_defs.mk, too, but we need to make sure it gets passed as part of
+        # $CC and $CXX when building external libraries
+        ANDROIDCFLAGS="$ANDROIDCFLAGS -flto -fuse-linker-plugin -O2"
+    fi
+
+    ANDROIDCXXFLAGS="$ANDROIDCFLAGS -stdlib=libc++"
+
+    if test -z "$CC"; then
+        CC="$ANDROID_COMPILER_BIN/clang $ANDROIDCFLAGS"
+        CC_BASE="clang"
+    fi
+    if test -z "$CXX"; then
+        CXX="$ANDROID_COMPILER_BIN/clang++ $ANDROIDCXXFLAGS"
+        CXX_BASE="clang++"
+    fi
+fi
+
+
+
+
+
+
+
+
+ANDROID_SDK_DIR=
+if test -z "$with_android_sdk" -a -e "$SRC_ROOT/external/android-sdk-linux" -a "$build" != "$host"; then
+    with_android_sdk="$SRC_ROOT/external/android-sdk-linux"
+fi
+if test -n "$with_android_sdk"; then
+    eval ANDROID_SDK_DIR=$with_android_sdk
+    PATH="$ANDROID_SDK_DIR/platform-tools:$ANDROID_SDK_DIR/tools:$PATH"
+fi
+
+
+# Check whether --enable-android-lok was given.
+if test ${enable_android_lok+y}
+then :
+  enableval=$enable_android_lok;
+fi
+
+ENABLE_ANDROID_LOK=
+if test -n "$ANDROID_NDK_DIR" ; then
+    if test "$enable_android_lok" = yes; then
+        ENABLE_ANDROID_LOK=TRUE
+        printf "%s\n" "#define HAVE_FEATURE_ANDROID_LOK 1" >>confdefs.h
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: building the Android version... for the Online-based Android app" >&5
+printf "%s\n" "$as_me: building the Android version... for the Online-based Android app" >&6;}
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: building the Android version... for the app from the android/ subdir" >&5
+printf "%s\n" "$as_me: building the Android version... for the app from the android/ subdir" >&6;}
+    fi
+fi
+
+
+
+    # Check whether --enable-android-editing was given.
+if test ${enable_android_editing+y}
+then :
+  enableval=$enable_android_editing;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_android_editing=yes
+            else
+                enable_android_editing=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-android-editing=$enable_android_editing" >&5
+printf "%s\n" "$as_me: Randomly set --enable-android-editing=$enable_android_editing" >&6;}
+            libo_fuzzed_enable_android_editing=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-android-editing="'$enable_android_editing'
+        fi
+
+fi
+
+
+ENABLE_ANDROID_EDITING=
+if test "$enable_android_editing" = yes; then
+    ENABLE_ANDROID_EDITING=TRUE
+fi
+
+
+disable_database_connectivity_dependencies()
+{
+    enable_evolution2=no
+    enable_firebird_sdbc=no
+    enable_mariadb_sdbc=no
+    enable_postgresql_sdbc=no
+    enable_report_builder=no
+}
+
+# ===================================================================
+#
+# Start initial platform setup
+#
+# The using_* variables reflect platform support and should not be
+# changed after the "End initial platform setup" block.
+# This is also true for most test_* variables.
+# ===================================================================
+build_crypto=yes
+test_clucene=no
+test_gdb_index=no
+test_openldap=yes
+test_split_debug=no
+test_webdav=yes
+usable_dlapi=yes
+
+# There is currently just iOS not using salplug, so this explicitly enables it.
+# must: using_freetype_fontconfig
+#  may: using_headless_plugin defaults to $using_freetype_fontconfig
+# must: using_x11
+
+# Default values, as such probably valid just for Linux, set
+# differently below just for Mac OSX, but at least better than
+# hardcoding these as we used to do. Much of this is duplicated also
+# in solenv for old build system and for gbuild, ideally we should
+# perhaps define stuff like this only here in configure.ac?
+
+LINKFLAGSSHL="-shared"
+PICSWITCH="-fpic"
+DLLPOST=".so"
+
+LINKFLAGSNOUNDEFS="-Wl,-z,defs"
+
+INSTROOTBASESUFFIX=
+INSTROOTCONTENTSUFFIX=
+SDKDIRNAME=sdk
+
+HOST_PLATFORM="$host"
+
+host_cpu_for_clang="$host_cpu"
+
+case "$host_os" in
+
+solaris*)
+    using_freetype_fontconfig=yes
+    using_x11=yes
+    build_skia=yes
+    _os=SunOS
+
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the Solaris operating system release" >&5
+printf %s "checking the Solaris operating system release... " >&6; }
+    _os_release=`echo $host_os | $SED -e s/solaris2\.//`
+    if test "$_os_release" -lt "10"; then
+        as_fn_error $? "use Solaris >= 10 to build LibreOffice" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok ($_os_release)" >&5
+printf "%s\n" "ok ($_os_release)" >&6; }
+    fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the processor type" >&5
+printf %s "checking the processor type... " >&6; }
+    if test "$host_cpu" = "sparc" -o "$host_cpu" = "i386"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok ($host_cpu)" >&5
+printf "%s\n" "ok ($host_cpu)" >&6; }
+    else
+        as_fn_error $? "only SPARC and i386 processors are supported" "$LINENO" 5
+    fi
+    ;;
+
+linux-gnu*|k*bsd*-gnu*|linux-musl*)
+    using_freetype_fontconfig=yes
+    using_x11=yes
+    build_skia=yes
+    test_gdb_index=yes
+    test_split_debug=yes
+    if test "$enable_fuzzers" = yes; then
+        test_system_freetype=no
+    fi
+    _os=Linux
+    ;;
+
+gnu)
+    using_freetype_fontconfig=yes
+    using_x11=no
+    _os=GNU
+     ;;
+
+cygwin*|wsl*)
+    # When building on Windows normally with MSVC under Cygwin,
+    # configure thinks that the host platform (the platform the
+    # built code will run on) is Cygwin, even if it obviously is
+    # Windows, which in Autoconf terminology is called
+    # "mingw32". (Which is misleading as MinGW is the name of the
+    # tool-chain, not an operating system.)
+
+    # Somewhat confusing, yes. But this configure script doesn't
+    # look at $host etc that much, it mostly uses its own $_os
+    # variable, set here in this case statement.
+
+    using_freetype_fontconfig=no
+    using_x11=no
+    test_unix_dlapi=no
+    test_openldap=no
+    enable_pagein=no
+    build_skia=yes
+    _os=WINNT
+
+    DLLPOST=".dll"
+    LINKFLAGSNOUNDEFS=
+
+    if test "$host_cpu" = "aarch64"; then
+        build_skia=no
+        enable_gpgmepp=no
+        enable_coinmp=no
+        enable_firebird_sdbc=no
+    fi
+    ;;
+
+darwin*) # macOS
+    using_freetype_fontconfig=no
+    using_x11=no
+    build_skia=yes
+    enable_pagein=no
+    if test -n "$LODE_HOME" ; then
+        mac_sanitize_path
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: sanitized the PATH to $PATH" >&5
+printf "%s\n" "$as_me: sanitized the PATH to $PATH" >&6;}
+    fi
+    _os=Darwin
+    INSTROOTBASESUFFIX=/$PRODUCTNAME_WITHOUT_SPACES.app
+    INSTROOTCONTENTSUFFIX=/Contents
+    SDKDIRNAME=${PRODUCTNAME_WITHOUT_SPACES}${PRODUCTVERSION}_SDK
+    # See "Default values, as such probably valid just for Linux" comment above the case "$host_os"
+    LINKFLAGSSHL="-dynamiclib"
+
+    # -fPIC is default
+    PICSWITCH=""
+
+    DLLPOST=".dylib"
+
+    # -undefined error is the default
+    LINKFLAGSNOUNDEFS=""
+    case "$host_cpu" in
+    aarch64|arm64)
+        # Apple's Clang uses "arm64"
+        host_cpu_for_clang=arm64
+    esac
+;;
+
+ios*) # iOS
+    using_freetype_fontconfig=no
+    using_x11=no
+    build_crypto=no
+    test_libcmis=no
+    test_openldap=no
+    test_webdav=no
+    with_gssapi=no
+    if test -n "$LODE_HOME" ; then
+        mac_sanitize_path
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: sanitized the PATH to $PATH" >&5
+printf "%s\n" "$as_me: sanitized the PATH to $PATH" >&6;}
+    fi
+    enable_gpgmepp=no
+    _os=iOS
+    enable_mpl_subset=yes
+    enable_lotuswordpro=no
+    disable_database_connectivity_dependencies
+    enable_coinmp=no
+    enable_lpsolve=no
+    enable_extension_integration=no
+    enable_xmlhelp=no
+    with_ppds=no
+    if test "$enable_ios_simulator" = "yes"; then
+        host=x86_64-apple-darwin
+    fi
+    # See "Default values, as such probably valid just for Linux" comment above the case "$host_os"
+    LINKFLAGSSHL="-dynamiclib"
+
+    # -fPIC is default
+    PICSWITCH=""
+
+    DLLPOST=".dylib"
+
+    # -undefined error is the default
+    LINKFLAGSNOUNDEFS=""
+
+    # HOST_PLATFORM is used for external projects and their configury typically doesn't like the "ios"
+    # part, so use aarch64-apple-darwin for now.
+    HOST_PLATFORM=aarch64-apple-darwin
+
+    # Apple's Clang uses "arm64"
+    host_cpu_for_clang=arm64
+;;
+
+freebsd*)
+    using_freetype_fontconfig=yes
+    using_x11=yes
+    build_skia=yes
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the FreeBSD operating system release" >&5
+printf %s "checking the FreeBSD operating system release... " >&6; }
+    if test -n "$with_os_version"; then
+        OSVERSION="$with_os_version"
+    else
+        OSVERSION=`/sbin/sysctl -n kern.osreldate`
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found OSVERSION=$OSVERSION" >&5
+printf "%s\n" "found OSVERSION=$OSVERSION" >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which thread library to use" >&5
+printf %s "checking which thread library to use... " >&6; }
+    if test "$OSVERSION" -lt "500016"; then
+        PTHREAD_CFLAGS="-D_THREAD_SAFE"
+        PTHREAD_LIBS="-pthread"
+    elif test "$OSVERSION" -lt "502102"; then
+        PTHREAD_CFLAGS="-D_THREAD_SAFE"
+        PTHREAD_LIBS="-lc_r"
+    else
+        PTHREAD_CFLAGS=""
+        PTHREAD_LIBS="-pthread"
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PTHREAD_LIBS" >&5
+printf "%s\n" "$PTHREAD_LIBS" >&6; }
+    _os=FreeBSD
+    ;;
+
+*netbsd*)
+    using_freetype_fontconfig=yes
+    using_x11=yes
+    test_gtk3_kde5=no
+    build_skia=yes
+    PTHREAD_LIBS="-pthread -lpthread"
+    _os=NetBSD
+    ;;
+
+openbsd*)
+    using_freetype_fontconfig=yes
+    using_x11=yes
+    PTHREAD_CFLAGS="-D_THREAD_SAFE"
+    PTHREAD_LIBS="-pthread"
+    _os=OpenBSD
+    ;;
+
+dragonfly*)
+    using_freetype_fontconfig=yes
+    using_x11=yes
+    build_skia=yes
+    PTHREAD_LIBS="-pthread"
+    _os=DragonFly
+    ;;
+
+linux-android*)
+    # API exists, but seems not really usable since Android 7 AFAIK
+    usable_dlapi=no
+    using_freetype_fontconfig=yes
+    using_headless_plugin=no
+    using_x11=no
+    build_crypto=no
+    test_openldap=no
+    test_system_freetype=no
+    test_webdav=no
+    with_gssapi=no
+    disable_database_connectivity_dependencies
+    enable_lotuswordpro=no
+    enable_mpl_subset=yes
+    enable_cairo_canvas=no
+    enable_coinmp=yes
+    enable_lpsolve=no
+    enable_odk=no
+    enable_python=no
+    enable_xmlhelp=no
+    _os=Android
+    ;;
+
+haiku*)
+    using_freetype_fontconfig=yes
+    using_x11=no
+    test_gtk3=no
+    test_gtk3_kde5=no
+    test_kf5=yes
+    test_kf6=yes
+    enable_odk=no
+    enable_coinmp=no
+    enable_pdfium=no
+    enable_sdremote=no
+    enable_postgresql_sdbc=no
+    enable_firebird_sdbc=no
+    _os=Haiku
+    ;;
+
+emscripten)
+    # API currently just exists in headers, not code
+    usable_dlapi=no
+    using_freetype_fontconfig=yes
+    using_x11=yes
+    test_openldap=no
+    test_qt5=yes
+    test_split_debug=yes
+    test_system_freetype=no
+    enable_compiler_plugins=no
+    enable_customtarget_components=yes
+    enable_split_debug=yes
+    test -z "$enable_wasm_strip" && enable_wasm_strip=yes
+    with_system_zlib=no
+    with_theme="colibre"
+    _os=Emscripten
+    ;;
+
+*)
+    as_fn_error $? "$host_os operating system is not suitable to build LibreOffice for!" "$LINENO" 5
+    ;;
+esac
+
+
+
+if test -z "$using_x11" -o -z "$using_freetype_fontconfig"; then
+    as_fn_error $? "You must set \$using_freetype_fontconfig and \$using_x11 for your platform" "$LINENO" 5
+fi
+
+# Set defaults, if not set by platform
+test "${test_cups+set}" = set || test_cups="$using_x11"
+test "${test_dbus+set}" = set || test_dbus="$using_x11"
+test "${test_gen+set}" = set || test_gen="$using_x11"
+test "${test_gstreamer_1_0+set}" = set || test_gstreamer_1_0="$using_x11"
+test "${test_gtk3+set}" = set || test_gtk3="$using_x11"
+test "${test_gtk4+set}" = set || test_gtk4="$using_x11"
+test "${test_kf5+set}" = set || test_kf5="$using_x11"
+test "${test_kf6+set}" = set || test_kf6="$using_x11"
+# don't handle test_qt5, so it can disable test_kf5 later
+test "${test_qt6+set}" = set || test_qt6="$using_x11"
+test "${test_randr+set}" = set || test_randr="$using_x11"
+test "${test_xrender+set}" = set || test_xrender="$using_x11"
+test "${using_headless_plugin+set}" = set || using_headless_plugin="$using_freetype_fontconfig"
+
+test "${test_gtk3_kde5+set}" != set -a "$test_kf5" = yes -a "$test_gtk3" = yes && test_gtk3_kde5="yes"
+# Make sure fontconfig and freetype test both either system or not
+test "${test_system_fontconfig+set}" != set -a "${test_system_freetype+set}" = set && test_system_fontconfig="$test_system_freetype"
+test "${test_system_freetype+set}" != set -a "${test_system_fontconfig+set}" = set && test_system_freetype="$test_system_fontconfig"
+
+# convenience / platform overriding "fixes"
+# Don't sort!
+test "$test_kf5" = yes -a "$test_qt5" = no && test_kf5=no
+test "$test_kf5" = yes && test_qt5=yes
+test "$test_gtk3" != yes && enable_gtk3=no
+test "$test_gtk3" != yes -o "$test_kf5" != yes && test_gtk3_kde5=no
+test "$using_freetype_fontconfig" = no && using_headless_plugin=no
+test "$using_freetype_fontconfig" = yes && test_cairo=yes
+
+# Keep in sync with the above $using_x11 depending test default list
+disable_x11_tests()
+{
+    test_cups=no
+    test_dbus=no
+    test_gen=no
+    test_gstreamer_1_0=no
+    test_gtk3_kde5=no
+    test_gtk3=no
+    test_gtk4=no
+    test_kf5=no
+    test_kf6=no
+    test_qt5=no
+    test_qt6=no
+    test_randr=no
+    test_xrender=no
+}
+
+test "$using_x11" = yes && USING_X11=TRUE
+
+if test "$using_freetype_fontconfig" = yes; then
+    printf "%s\n" "#define USE_HEADLESS_CODE 1" >>confdefs.h
+
+    USE_HEADLESS_CODE=TRUE
+    if test "$using_headless_plugin" = yes; then
+        printf "%s\n" "#define ENABLE_HEADLESS 1" >>confdefs.h
+
+        ENABLE_HEADLESS=TRUE
+    fi
+else
+    test_fontconfig=no
+    test_freetype=no
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: VCL platform has a usable dynamic loading API: $usable_dlapi" >&5
+printf "%s\n" "$as_me: VCL platform has a usable dynamic loading API: $usable_dlapi" >&6;}
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: VCL platform uses freetype+fontconfig: $using_freetype_fontconfig" >&5
+printf "%s\n" "$as_me: VCL platform uses freetype+fontconfig: $using_freetype_fontconfig" >&6;}
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: VCL platform uses headless plugin: $using_headless_plugin" >&5
+printf "%s\n" "$as_me: VCL platform uses headless plugin: $using_headless_plugin" >&6;}
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: VCL platform uses X11: $using_x11" >&5
+printf "%s\n" "$as_me: VCL platform uses X11: $using_x11" >&6;}
+
+# ===================================================================
+#
+# End initial platform setup
+#
+# ===================================================================
+
+if test "$_os" = "Android" ; then
+    # Verify that the NDK and SDK options are proper
+    if test -z "$with_android_ndk"; then
+        as_fn_error $? "the --with-android-ndk option is mandatory, unless it is available at external/android-ndk/." "$LINENO" 5
+    elif test ! -f "$ANDROID_NDK_DIR/meta/abis.json"; then
+        as_fn_error $? "the --with-android-ndk option does not point to an Android NDK" "$LINENO" 5
+    fi
+
+    if test -z "$ANDROID_SDK_DIR"; then
+        as_fn_error $? "the --with-android-sdk option is mandatory, unless it is available at external/android-sdk-linux/." "$LINENO" 5
+    elif test ! -d "$ANDROID_SDK_DIR/platforms"; then
+        as_fn_error $? "the --with-android-sdk option does not point to an Android SDK" "$LINENO" 5
+    fi
+fi
+
+
+
+
+
+
+# Check for explicit A/C/CXX/OBJC/OBJCXX/LDFLAGS.
+# By default use the ones specified by our build system,
+# but explicit override is possible.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit AFLAGS" >&5
+printf %s "checking for explicit AFLAGS... " >&6; }
+if test -n "$AFLAGS"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $AFLAGS" >&5
+printf "%s\n" "$AFLAGS" >&6; }
+    x_AFLAGS=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    x_AFLAGS=\#
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit CFLAGS" >&5
+printf %s "checking for explicit CFLAGS... " >&6; }
+if test -n "$CFLAGS"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CFLAGS" >&5
+printf "%s\n" "$CFLAGS" >&6; }
+    x_CFLAGS=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    x_CFLAGS=\#
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit CXXFLAGS" >&5
+printf %s "checking for explicit CXXFLAGS... " >&6; }
+if test -n "$CXXFLAGS"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CXXFLAGS" >&5
+printf "%s\n" "$CXXFLAGS" >&6; }
+    x_CXXFLAGS=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    x_CXXFLAGS=\#
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit OBJCFLAGS" >&5
+printf %s "checking for explicit OBJCFLAGS... " >&6; }
+if test -n "$OBJCFLAGS"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $OBJCFLAGS" >&5
+printf "%s\n" "$OBJCFLAGS" >&6; }
+    x_OBJCFLAGS=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    x_OBJCFLAGS=\#
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit OBJCXXFLAGS" >&5
+printf %s "checking for explicit OBJCXXFLAGS... " >&6; }
+if test -n "$OBJCXXFLAGS"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $OBJCXXFLAGS" >&5
+printf "%s\n" "$OBJCXXFLAGS" >&6; }
+    x_OBJCXXFLAGS=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    x_OBJCXXFLAGS=\#
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit LDFLAGS" >&5
+printf %s "checking for explicit LDFLAGS... " >&6; }
+if test -n "$LDFLAGS"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LDFLAGS" >&5
+printf "%s\n" "$LDFLAGS" >&6; }
+    x_LDFLAGS=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    x_LDFLAGS=\#
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+
+my_original_CFLAGS=$CFLAGS
+my_original_CXXFLAGS=$CXXFLAGS
+my_original_CPPFLAGS=$CPPFLAGS
+
+if test "$_os" != "WINNT"; then
+    # AC_PROG_CC sets CFLAGS to -g -O2 if not set, avoid that (and avoid -O2 during AC_PROG_CC,
+    # Clang 12.0.1 occasionally SEGVs on some of the test invocations during AC_PROG_CC with -O2):
+    save_CFLAGS=$CFLAGS
+    CFLAGS=-g
+
+
+
+
+
+
+
+
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
+set dummy ${ac_tool_prefix}gcc; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_CC="${ac_tool_prefix}gcc"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
+printf "%s\n" "$CC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_prog_CC"; then
+  ac_ct_CC=$CC
+  # Extract the first word of "gcc", so it can be a program name with args.
+set dummy gcc; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_CC"; then
+  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_CC="gcc"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_CC=$ac_cv_prog_ac_ct_CC
+if test -n "$ac_ct_CC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
+printf "%s\n" "$ac_ct_CC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+  if test "x$ac_ct_CC" = x; then
+    CC=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    CC=$ac_ct_CC
+  fi
+else
+  CC="$ac_cv_prog_CC"
+fi
+
+if test -z "$CC"; then
+          if test -n "$ac_tool_prefix"; then
+    # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
+set dummy ${ac_tool_prefix}cc; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_CC="${ac_tool_prefix}cc"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
+printf "%s\n" "$CC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  fi
+fi
+if test -z "$CC"; then
+  # Extract the first word of "cc", so it can be a program name with args.
+set dummy cc; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+  ac_prog_rejected=no
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    if test "$as_dir$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
+       ac_prog_rejected=yes
+       continue
+     fi
+    ac_cv_prog_CC="cc"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+if test $ac_prog_rejected = yes; then
+  # We found a bogon in the path, so make sure we never use it.
+  set dummy $ac_cv_prog_CC
+  shift
+  if test $# != 0; then
+    # We chose a different compiler from the bogus one.
+    # However, it has the same basename, so the bogon will be chosen
+    # first if we set CC to just the basename; use the full file name.
+    shift
+    ac_cv_prog_CC="$as_dir$ac_word${1+' '}$@"
+  fi
+fi
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
+printf "%s\n" "$CC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+fi
+if test -z "$CC"; then
+  if test -n "$ac_tool_prefix"; then
+  for ac_prog in cl.exe
+  do
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
+printf "%s\n" "$CC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    test -n "$CC" && break
+  done
+fi
+if test -z "$CC"; then
+  ac_ct_CC=$CC
+  for ac_prog in cl.exe
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_CC"; then
+  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_CC="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_CC=$ac_cv_prog_ac_ct_CC
+if test -n "$ac_ct_CC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
+printf "%s\n" "$ac_ct_CC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ac_ct_CC" && break
+done
+
+  if test "x$ac_ct_CC" = x; then
+    CC=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    CC=$ac_ct_CC
+  fi
+fi
+
+fi
+if test -z "$CC"; then
+  if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}clang", so it can be a program name with args.
+set dummy ${ac_tool_prefix}clang; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_CC="${ac_tool_prefix}clang"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
+printf "%s\n" "$CC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_prog_CC"; then
+  ac_ct_CC=$CC
+  # Extract the first word of "clang", so it can be a program name with args.
+set dummy clang; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_CC"; then
+  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_CC="clang"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_CC=$ac_cv_prog_ac_ct_CC
+if test -n "$ac_ct_CC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
+printf "%s\n" "$ac_ct_CC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+  if test "x$ac_ct_CC" = x; then
+    CC=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    CC=$ac_ct_CC
+  fi
+else
+  CC="$ac_cv_prog_CC"
+fi
+
+fi
+
+
+test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "no acceptable C compiler found in \$PATH
+See \`config.log' for more details" "$LINENO" 5; }
+
+# Provide some information about the compiler.
+printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
+set X $ac_compile
+ac_compiler=$2
+for ac_option in --version -v -V -qversion -version; do
+  { { ac_try="$ac_compiler $ac_option >&5"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
+  ac_status=$?
+  if test -s conftest.err; then
+    sed '10a\
+... rest of stderr output deleted ...
+         10q' conftest.err >conftest.er1
+    cat conftest.er1 >&5
+  fi
+  rm -f conftest.er1 conftest.err
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }
+done
+
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+ac_clean_files_save=$ac_clean_files
+ac_clean_files="$ac_clean_files a.out a.out.dSYM a.exe b.out"
+# Try to create an executable without -o first, disregard a.out.
+# It will help us diagnose broken compilers, and finding out an intuition
+# of exeext.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the C compiler works" >&5
+printf %s "checking whether the C compiler works... " >&6; }
+ac_link_default=`printf "%s\n" "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
+
+# The possible output files:
+ac_files="a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*"
+
+ac_rmfiles=
+for ac_file in $ac_files
+do
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
+    * ) ac_rmfiles="$ac_rmfiles $ac_file";;
+  esac
+done
+rm -f $ac_rmfiles
+
+if { { ac_try="$ac_link_default"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_link_default") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }
+then :
+  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
+# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
+# in a Makefile.  We should not override ac_cv_exeext if it was cached,
+# so that the user can short-circuit this test for compilers unknown to
+# Autoconf.
+for ac_file in $ac_files ''
+do
+  test -f "$ac_file" || continue
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )
+	;;
+    [ab].out )
+	# We found the default executable, but exeext='' is most
+	# certainly right.
+	break;;
+    *.* )
+	if test ${ac_cv_exeext+y} && test "$ac_cv_exeext" != no;
+	then :; else
+	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
+	fi
+	# We set ac_cv_exeext here because the later test for it is not
+	# safe: cross compilers may not add the suffix if given an `-o'
+	# argument, so we may need to know it at that point already.
+	# Even if this section looks crufty: it has the advantage of
+	# actually working.
+	break;;
+    * )
+	break;;
+  esac
+done
+test "$ac_cv_exeext" = no && ac_cv_exeext=
+
+else $as_nop
+  ac_file=''
+fi
+if test -z "$ac_file"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "C compiler cannot create executables
+See \`config.log' for more details" "$LINENO" 5; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name" >&5
+printf %s "checking for C compiler default output file name... " >&6; }
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_file" >&5
+printf "%s\n" "$ac_file" >&6; }
+ac_exeext=$ac_cv_exeext
+
+rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out
+ac_clean_files=$ac_clean_files_save
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for suffix of executables" >&5
+printf %s "checking for suffix of executables... " >&6; }
+if { { ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_link") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }
+then :
+  # If both `conftest.exe' and `conftest' are `present' (well, observable)
+# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
+# work properly (i.e., refer to `conftest.exe'), while it won't with
+# `rm'.
+for ac_file in conftest.exe conftest conftest.*; do
+  test -f "$ac_file" || continue
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
+    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
+	  break;;
+    * ) break;;
+  esac
+done
+else $as_nop
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "cannot compute suffix of executables: cannot compile and link
+See \`config.log' for more details" "$LINENO" 5; }
+fi
+rm -f conftest conftest$ac_cv_exeext
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
+printf "%s\n" "$ac_cv_exeext" >&6; }
+
+rm -f conftest.$ac_ext
+EXEEXT=$ac_cv_exeext
+ac_exeext=$EXEEXT
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <stdio.h>
+int
+main (void)
+{
+FILE *f = fopen ("conftest.out", "w");
+ return ferror (f) || fclose (f) != 0;
+
+  ;
+  return 0;
+}
+_ACEOF
+ac_clean_files="$ac_clean_files conftest.out"
+# Check that the compiler produces executables we can run.  If not, either
+# the compiler is broken, or we cross compile.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling" >&5
+printf %s "checking whether we are cross compiling... " >&6; }
+if test "$cross_compiling" != yes; then
+  { { ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_link") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }
+  if { ac_try='./conftest$ac_cv_exeext'
+  { { case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; }; then
+    cross_compiling=no
+  else
+    if test "$cross_compiling" = maybe; then
+	cross_compiling=yes
+    else
+	{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot run C compiled programs.
+If you meant to cross compile, use \`--host'.
+See \`config.log' for more details" "$LINENO" 5; }
+    fi
+  fi
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $cross_compiling" >&5
+printf "%s\n" "$cross_compiling" >&6; }
+
+rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out
+ac_clean_files=$ac_clean_files_save
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
+printf %s "checking for suffix of object files... " >&6; }
+if test ${ac_cv_objext+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.o conftest.obj
+if { { ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_compile") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }
+then :
+  for ac_file in conftest.o conftest.obj conftest.*; do
+  test -f "$ac_file" || continue;
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;
+    *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
+       break;;
+  esac
+done
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "cannot compute suffix of object files: cannot compile
+See \`config.log' for more details" "$LINENO" 5; }
+fi
+rm -f conftest.$ac_cv_objext conftest.$ac_ext
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext" >&5
+printf "%s\n" "$ac_cv_objext" >&6; }
+OBJEXT=$ac_cv_objext
+ac_objext=$OBJEXT
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the compiler supports GNU C" >&5
+printf %s "checking whether the compiler supports GNU C... " >&6; }
+if test ${ac_cv_c_compiler_gnu+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+#ifndef __GNUC__
+       choke me
+#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_compiler_gnu=yes
+else $as_nop
+  ac_compiler_gnu=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_cv_c_compiler_gnu=$ac_compiler_gnu
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
+printf "%s\n" "$ac_cv_c_compiler_gnu" >&6; }
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+if test $ac_compiler_gnu = yes; then
+  GCC=yes
+else
+  GCC=
+fi
+ac_test_CFLAGS=${CFLAGS+y}
+ac_save_CFLAGS=$CFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
+printf %s "checking whether $CC accepts -g... " >&6; }
+if test ${ac_cv_prog_cc_g+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_save_c_werror_flag=$ac_c_werror_flag
+   ac_c_werror_flag=yes
+   ac_cv_prog_cc_g=no
+   CFLAGS="-g"
+   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_prog_cc_g=yes
+else $as_nop
+  CFLAGS=""
+      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+
+else $as_nop
+  ac_c_werror_flag=$ac_save_c_werror_flag
+	 CFLAGS="-g"
+	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_prog_cc_g=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+   ac_c_werror_flag=$ac_save_c_werror_flag
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
+printf "%s\n" "$ac_cv_prog_cc_g" >&6; }
+if test $ac_test_CFLAGS; then
+  CFLAGS=$ac_save_CFLAGS
+elif test $ac_cv_prog_cc_g = yes; then
+  if test "$GCC" = yes; then
+    CFLAGS="-g -O2"
+  else
+    CFLAGS="-g"
+  fi
+else
+  if test "$GCC" = yes; then
+    CFLAGS="-O2"
+  else
+    CFLAGS=
+  fi
+fi
+ac_prog_cc_stdc=no
+if test x$ac_prog_cc_stdc = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C11 features" >&5
+printf %s "checking for $CC option to enable C11 features... " >&6; }
+if test ${ac_cv_prog_cc_c11+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_cv_prog_cc_c11=no
+ac_save_CC=$CC
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$ac_c_conftest_c11_program
+_ACEOF
+for ac_arg in '' -std=gnu11
+do
+  CC="$ac_save_CC $ac_arg"
+  if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_prog_cc_c11=$ac_arg
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+  test "x$ac_cv_prog_cc_c11" != "xno" && break
+done
+rm -f conftest.$ac_ext
+CC=$ac_save_CC
+fi
+
+if test "x$ac_cv_prog_cc_c11" = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
+printf "%s\n" "unsupported" >&6; }
+else $as_nop
+  if test "x$ac_cv_prog_cc_c11" = x
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
+printf "%s\n" "none needed" >&6; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
+printf "%s\n" "$ac_cv_prog_cc_c11" >&6; }
+     CC="$CC $ac_cv_prog_cc_c11"
+fi
+  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c11
+  ac_prog_cc_stdc=c11
+fi
+fi
+if test x$ac_prog_cc_stdc = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C99 features" >&5
+printf %s "checking for $CC option to enable C99 features... " >&6; }
+if test ${ac_cv_prog_cc_c99+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_cv_prog_cc_c99=no
+ac_save_CC=$CC
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$ac_c_conftest_c99_program
+_ACEOF
+for ac_arg in '' -std=gnu99 -std=c99 -c99 -qlanglvl=extc1x -qlanglvl=extc99 -AC99 -D_STDC_C99=
+do
+  CC="$ac_save_CC $ac_arg"
+  if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_prog_cc_c99=$ac_arg
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+  test "x$ac_cv_prog_cc_c99" != "xno" && break
+done
+rm -f conftest.$ac_ext
+CC=$ac_save_CC
+fi
+
+if test "x$ac_cv_prog_cc_c99" = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
+printf "%s\n" "unsupported" >&6; }
+else $as_nop
+  if test "x$ac_cv_prog_cc_c99" = x
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
+printf "%s\n" "none needed" >&6; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
+printf "%s\n" "$ac_cv_prog_cc_c99" >&6; }
+     CC="$CC $ac_cv_prog_cc_c99"
+fi
+  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c99
+  ac_prog_cc_stdc=c99
+fi
+fi
+if test x$ac_prog_cc_stdc = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C89 features" >&5
+printf %s "checking for $CC option to enable C89 features... " >&6; }
+if test ${ac_cv_prog_cc_c89+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_cv_prog_cc_c89=no
+ac_save_CC=$CC
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$ac_c_conftest_c89_program
+_ACEOF
+for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
+do
+  CC="$ac_save_CC $ac_arg"
+  if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_prog_cc_c89=$ac_arg
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+  test "x$ac_cv_prog_cc_c89" != "xno" && break
+done
+rm -f conftest.$ac_ext
+CC=$ac_save_CC
+fi
+
+if test "x$ac_cv_prog_cc_c89" = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
+printf "%s\n" "unsupported" >&6; }
+else $as_nop
+  if test "x$ac_cv_prog_cc_c89" = x
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
+printf "%s\n" "none needed" >&6; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
+printf "%s\n" "$ac_cv_prog_cc_c89" >&6; }
+     CC="$CC $ac_cv_prog_cc_c89"
+fi
+  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c89
+  ac_prog_cc_stdc=c89
+fi
+fi
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    CFLAGS=$save_CFLAGS
+    if test -z "$CC_BASE"; then
+        CC_BASE=`first_arg_basename "$CC"`
+    fi
+fi
+
+if test "$_os" != "WINNT"; then
+
+ac_header= ac_cache=
+for ac_item in $ac_header_c_list
+do
+  if test $ac_cache; then
+    ac_fn_c_check_header_compile "$LINENO" $ac_header ac_cv_header_$ac_cache "$ac_includes_default"
+    if eval test \"x\$ac_cv_header_$ac_cache\" = xyes; then
+      printf "%s\n" "#define $ac_item 1" >> confdefs.h
+    fi
+    ac_header= ac_cache=
+  elif test $ac_header; then
+    ac_cache=$ac_item
+  else
+    ac_header=$ac_item
+  fi
+done
+
+
+
+
+
+
+
+
+if test $ac_cv_header_stdlib_h = yes && test $ac_cv_header_string_h = yes
+then :
+
+printf "%s\n" "#define STDC_HEADERS 1" >>confdefs.h
+
+fi
+ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether byte ordering is bigendian" >&5
+printf %s "checking whether byte ordering is bigendian... " >&6; }
+if test ${ac_cv_c_bigendian+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_cv_c_bigendian=unknown
+    # See if we're dealing with a universal compiler.
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#ifndef __APPLE_CC__
+	       not a universal capable compiler
+	     #endif
+	     typedef int dummy;
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+
+	# Check for potential -arch flags.  It is not universal unless
+	# there are at least two -arch flags with different values.
+	ac_arch=
+	ac_prev=
+	for ac_word in $CC $CFLAGS $CPPFLAGS $LDFLAGS; do
+	 if test -n "$ac_prev"; then
+	   case $ac_word in
+	     i?86 | x86_64 | ppc | ppc64)
+	       if test -z "$ac_arch" || test "$ac_arch" = "$ac_word"; then
+		 ac_arch=$ac_word
+	       else
+		 ac_cv_c_bigendian=universal
+		 break
+	       fi
+	       ;;
+	   esac
+	   ac_prev=
+	 elif test "x$ac_word" = "x-arch"; then
+	   ac_prev=arch
+	 fi
+       done
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    if test $ac_cv_c_bigendian = unknown; then
+      # See if sys/param.h defines the BYTE_ORDER macro.
+      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <sys/types.h>
+	     #include <sys/param.h>
+
+int
+main (void)
+{
+#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \
+		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \
+		     && LITTLE_ENDIAN)
+	      bogus endian macros
+	     #endif
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  # It does; now see whether it defined to BIG_ENDIAN or not.
+	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <sys/types.h>
+		#include <sys/param.h>
+
+int
+main (void)
+{
+#if BYTE_ORDER != BIG_ENDIAN
+		 not big endian
+		#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_c_bigendian=yes
+else $as_nop
+  ac_cv_c_bigendian=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    fi
+    if test $ac_cv_c_bigendian = unknown; then
+      # See if <limits.h> defines _LITTLE_ENDIAN or _BIG_ENDIAN (e.g., Solaris).
+      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <limits.h>
+
+int
+main (void)
+{
+#if ! (defined _LITTLE_ENDIAN || defined _BIG_ENDIAN)
+	      bogus endian macros
+	     #endif
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  # It does; now see whether it defined to _BIG_ENDIAN or not.
+	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <limits.h>
+
+int
+main (void)
+{
+#ifndef _BIG_ENDIAN
+		 not big endian
+		#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_c_bigendian=yes
+else $as_nop
+  ac_cv_c_bigendian=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    fi
+    if test $ac_cv_c_bigendian = unknown; then
+      # Compile a test program.
+      if test "$cross_compiling" = yes
+then :
+  # Try to guess by grepping values from an object file.
+	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+unsigned short int ascii_mm[] =
+		  { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
+		unsigned short int ascii_ii[] =
+		  { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
+		int use_ascii (int i) {
+		  return ascii_mm[i] + ascii_ii[i];
+		}
+		unsigned short int ebcdic_ii[] =
+		  { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
+		unsigned short int ebcdic_mm[] =
+		  { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
+		int use_ebcdic (int i) {
+		  return ebcdic_mm[i] + ebcdic_ii[i];
+		}
+		extern int foo;
+
+int
+main (void)
+{
+return use_ascii (foo) == use_ebcdic (foo);
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  if grep BIGenDianSyS conftest.$ac_objext >/dev/null; then
+	      ac_cv_c_bigendian=yes
+	    fi
+	    if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
+	      if test "$ac_cv_c_bigendian" = unknown; then
+		ac_cv_c_bigendian=no
+	      else
+		# finding both strings is unlikely to happen, but who knows?
+		ac_cv_c_bigendian=unknown
+	      fi
+	    fi
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main (void)
+{
+
+	     /* Are we little or big endian?  From Harbison&Steele.  */
+	     union
+	     {
+	       long int l;
+	       char c[sizeof (long int)];
+	     } u;
+	     u.l = 1;
+	     return u.c[sizeof (long int) - 1] == 1;
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_run "$LINENO"
+then :
+  ac_cv_c_bigendian=no
+else $as_nop
+  ac_cv_c_bigendian=yes
+fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+
+    fi
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_bigendian" >&5
+printf "%s\n" "$ac_cv_c_bigendian" >&6; }
+ case $ac_cv_c_bigendian in #(
+   yes)
+     ENDIANNESS=big;; #(
+   no)
+     ENDIANNESS=little ;; #(
+   universal)
+
+printf "%s\n" "#define AC_APPLE_UNIVERSAL_BUILD 1" >>confdefs.h
+
+     ;; #(
+   *)
+     as_fn_error $? "unknown endianness
+ presetting ac_cv_c_bigendian=no (or yes) will help" "$LINENO" 5 ;;
+ esac
+
+else
+    ENDIANNESS=little
+fi
+
+
+if test "$usable_dlapi" != no; then
+    printf "%s\n" "#define HAVE_DLAPI 1" >>confdefs.h
+
+    if test "$test_unix_dlapi" != no; then
+        save_LIBS="$LIBS"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing dlsym" >&5
+printf %s "checking for library containing dlsym... " >&6; }
+if test ${ac_cv_search_dlsym+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char dlsym ();
+int
+main (void)
+{
+return dlsym ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' dl
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_dlsym=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_dlsym+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_dlsym+y}
+then :
+
+else $as_nop
+  ac_cv_search_dlsym=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_dlsym" >&5
+printf "%s\n" "$ac_cv_search_dlsym" >&6; }
+ac_res=$ac_cv_search_dlsym
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+  case "$ac_cv_search_dlsym" in -l*) UNIX_DLAPI_LIBS="$ac_cv_search_dlsym";; esac
+else $as_nop
+  as_fn_error $? "dlsym not found in either libc nor libdl" "$LINENO" 5
+fi
+
+        LIBS="$save_LIBS"
+        printf "%s\n" "#define HAVE_UNIX_DLAPI 1" >>confdefs.h
+
+    fi
+fi
+
+
+# Check for a (GNU) backtrace implementation
+
+
+
+
+
+
+
+
+
+if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
+	if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}pkg-config", so it can be a program name with args.
+set dummy ${ac_tool_prefix}pkg-config; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_PKG_CONFIG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_PKG_CONFIG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PKG_CONFIG=$ac_cv_path_PKG_CONFIG
+if test -n "$PKG_CONFIG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG" >&5
+printf "%s\n" "$PKG_CONFIG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_path_PKG_CONFIG"; then
+  ac_pt_PKG_CONFIG=$PKG_CONFIG
+  # Extract the first word of "pkg-config", so it can be a program name with args.
+set dummy pkg-config; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_ac_pt_PKG_CONFIG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $ac_pt_PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ac_pt_PKG_CONFIG="$ac_pt_PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_ac_pt_PKG_CONFIG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG
+if test -n "$ac_pt_PKG_CONFIG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_pt_PKG_CONFIG" >&5
+printf "%s\n" "$ac_pt_PKG_CONFIG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+  if test "x$ac_pt_PKG_CONFIG" = x; then
+    PKG_CONFIG=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    PKG_CONFIG=$ac_pt_PKG_CONFIG
+  fi
+else
+  PKG_CONFIG="$ac_cv_path_PKG_CONFIG"
+fi
+
+fi
+if test -n "$PKG_CONFIG"; then
+	_pkg_min_version=0.9.0
+	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version" >&5
+printf %s "checking pkg-config is at least version $_pkg_min_version... " >&6; }
+	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
+		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+	else
+		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+		PKG_CONFIG=""
+	fi
+fi
+if test "x$BACKTRACE_LIBS$BACKTRACE_CFLAGS" = x
+then :
+
+    save_LIBS="$LIBS"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing backtrace" >&5
+printf %s "checking for library containing backtrace... " >&6; }
+if test ${ac_cv_search_backtrace+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char backtrace ();
+int
+main (void)
+{
+return backtrace ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' libexecinfo
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_backtrace=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_backtrace+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_backtrace+y}
+then :
+
+else $as_nop
+  ac_cv_search_backtrace=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_backtrace" >&5
+printf "%s\n" "$ac_cv_search_backtrace" >&6; }
+ac_res=$ac_cv_search_backtrace
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+  case "$ac_cv_search_backtrace" in -l*) BACKTRACE_LIBS="$ac_cv_search_backtrace";; esac
+else $as_nop
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libexecinfo" >&5
+printf %s "checking for libexecinfo... " >&6; }
+
+if test -n "$BACKTRACE_CFLAGS"; then
+    pkg_cv_BACKTRACE_CFLAGS="$BACKTRACE_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libexecinfo\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libexecinfo") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_BACKTRACE_CFLAGS=`$PKG_CONFIG --cflags "libexecinfo" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$BACKTRACE_LIBS"; then
+    pkg_cv_BACKTRACE_LIBS="$BACKTRACE_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libexecinfo\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libexecinfo") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_BACKTRACE_LIBS=`$PKG_CONFIG --libs "libexecinfo" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                BACKTRACE_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libexecinfo" 2>&1`
+        else
+                BACKTRACE_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libexecinfo" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$BACKTRACE_PKG_ERRORS" >&5
+
+        :
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        :
+else
+        BACKTRACE_CFLAGS=$pkg_cv_BACKTRACE_CFLAGS
+        BACKTRACE_LIBS=$pkg_cv_BACKTRACE_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        ac_cv_search_backtrace=
+fi
+fi
+
+    LIBS="$save_LIBS"
+
+fi
+if test "x$ac_cv_search_backtrace" != xno
+then :
+
+    printf "%s\n" "#define HAVE_FEATURE_BACKTRACE 1" >>confdefs.h
+
+
+fi
+
+
+EMSCRIPTEN_MIN_MAJOR=3
+EMSCRIPTEN_MIN_MINOR=1
+EMSCRIPTEN_MIN_TINY=3
+EMSCRIPTEN_MIN_VERSION="${EMSCRIPTEN_MIN_MAJOR}.${EMSCRIPTEN_MIN_MINOR}.${EMSCRIPTEN_MIN_TINY}"
+
+if test "$_os" = "Emscripten"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if Emscripten is at least $EMSCRIPTEN_MIN_VERSION" >&5
+printf %s "checking if Emscripten is at least $EMSCRIPTEN_MIN_VERSION... " >&6; }
+    if test -z "$EMSCRIPTEN_VERSION_H"; then
+        if test -z "$EMSDK"
+then :
+  as_fn_error $? "No \$EMSDK environment variable." "$LINENO" 5
+fi
+        EMSCRIPTEN_VERSION_H=$EMSDK/upstream/emscripten/cache/sysroot/include/emscripten/version.h
+    fi
+    if test -f "$EMSCRIPTEN_VERSION_H"; then
+        EMSCRIPTEN_MAJOR=$($GREP __EMSCRIPTEN_major__ "$EMSCRIPTEN_VERSION_H" | $SED -ne 's/.*__EMSCRIPTEN_major__ //p')
+        EMSCRIPTEN_MINOR=$($GREP __EMSCRIPTEN_minor__ "$EMSCRIPTEN_VERSION_H" | $SED -ne 's/.*__EMSCRIPTEN_minor__ //p')
+        EMSCRIPTEN_TINY=$($GREP __EMSCRIPTEN_tiny__ "$EMSCRIPTEN_VERSION_H" | $SED -ne 's/.*__EMSCRIPTEN_tiny__ //p')
+    else
+        EMSCRIPTEN_DEFINES=$(echo | emcc -dM -E - | $GREP __EMSCRIPTEN_)
+        EMSCRIPTEN_MAJOR=$(echo "$EMSCRIPTEN_DEFINES" | $SED -ne 's/.*__EMSCRIPTEN_major__ //p')
+        EMSCRIPTEN_MINOR=$(echo "$EMSCRIPTEN_DEFINES" | $SED -ne 's/.*__EMSCRIPTEN_minor__ //p')
+        EMSCRIPTEN_TINY=$(echo "$EMSCRIPTEN_DEFINES" | $SED -ne 's/.*__EMSCRIPTEN_tiny__ //p')
+    fi
+
+    EMSCRIPTEN_VERSION="${EMSCRIPTEN_MAJOR}.${EMSCRIPTEN_MINOR}.${EMSCRIPTEN_TINY}"
+
+    check_semantic_version_three_prefixed EMSCRIPTEN MIN
+    if test $? -eq 0; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes ($EMSCRIPTEN_VERSION)" >&5
+printf "%s\n" "yes ($EMSCRIPTEN_VERSION)" >&6; }
+    else
+        as_fn_error $? "no, found $EMSCRIPTEN_VERSION" "$LINENO" 5
+    fi
+
+    EMSCRIPTEN_ERROR=0
+    if ! command -v emconfigure >/dev/null 2>&1; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: emconfigure must be in your \$PATH" >&5
+printf "%s\n" "$as_me: WARNING: emconfigure must be in your \$PATH" >&2;}
+        EMSCRIPTEN_ERROR=1
+    fi
+    if test -z "$EMMAKEN_JUST_CONFIGURE"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: \"\$EMMAKEN_JUST_CONFIGURE wasn't set by emconfigure. Prefix configure or use autogen.sh" >&5
+printf "%s\n" "$as_me: WARNING: \"\$EMMAKEN_JUST_CONFIGURE wasn't set by emconfigure. Prefix configure or use autogen.sh" >&2;}
+        EMSCRIPTEN_ERROR=1
+    fi
+    EMSDK_FILE_PACKAGER="$(em-config EMSCRIPTEN_ROOT)"/tools/file_packager
+    if ! test -x "$EMSDK_FILE_PACKAGER"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: No file_packager found in $(em-config EMSCRIPTEN_ROOT)/tools/file_packager." >&5
+printf "%s\n" "$as_me: WARNING: No file_packager found in $(em-config EMSCRIPTEN_ROOT)/tools/file_packager." >&2;}
+        EMSCRIPTEN_ERROR=1
+    fi
+    if test $EMSCRIPTEN_ERROR -ne 0; then
+        as_fn_error $? "\"Please fix your EMSDK setup to build with Emscripten!\"" "$LINENO" 5
+    fi
+
+        BUILD_TYPE="$BUILD_TYPE EMSCRIPTEN"
+fi
+
+
+
+###############################################################################
+# Extensions switches --enable/--disable
+###############################################################################
+# By default these should be enabled unless having extra dependencies.
+# If there is extra dependency over configure options then the enable should
+# be automagic based on whether the requiring feature is enabled or not.
+# All this options change anything only with --enable-extension-integration.
+
+# The name of this option and its help string makes it sound as if
+# extensions are built anyway, just not integrated in the installer,
+# if you use --disable-extension-integration. Is that really the
+# case?
+
+# Check whether --enable-ios-simulator was given.
+if test ${enable_ios_simulator+y}
+then :
+  enableval=$enable_ios_simulator;
+fi
+
+
+
+    # Check whether --enable-extension-integration was given.
+if test ${enable_extension_integration+y}
+then :
+  enableval=$enable_extension_integration;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_extension_integration=yes
+            else
+                enable_extension_integration=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-extension-integration=$enable_extension_integration" >&5
+printf "%s\n" "$as_me: Randomly set --enable-extension-integration=$enable_extension_integration" >&6;}
+            libo_fuzzed_enable_extension_integration=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-extension-integration="'$enable_extension_integration'
+        fi
+
+fi
+
+
+
+# Check whether --enable-avmedia was given.
+if test ${enable_avmedia+y}
+then :
+  enableval=$enable_avmedia;
+else $as_nop
+  test "${enable_avmedia+set}" = set || enable_avmedia=yes
+fi
+
+
+# Check whether --enable-database-connectivity was given.
+if test ${enable_database_connectivity+y}
+then :
+  enableval=$enable_database_connectivity;
+fi
+
+
+# This doesn't mean not building (or "integrating") extensions
+# (although it probably should; i.e. it should imply
+# --disable-extension-integration I guess), it means not supporting
+# any extension mechanism at all
+
+    # Check whether --enable-extensions was given.
+if test ${enable_extensions+y}
+then :
+  enableval=$enable_extensions;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_extensions=yes
+            else
+                enable_extensions=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-extensions=$enable_extensions" >&5
+printf "%s\n" "$as_me: Randomly set --enable-extensions=$enable_extensions" >&6;}
+            libo_fuzzed_enable_extensions=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-extensions="'$enable_extensions'
+        fi
+
+fi
+
+
+
+# Check whether --enable-scripting was given.
+if test ${enable_scripting+y}
+then :
+  enableval=$enable_scripting;
+else $as_nop
+  test "${enable_scripting+set}" = set || enable_scripting=yes
+fi
+
+
+# This is mainly for Android and iOS, but could potentially be used in some
+# special case otherwise, too, so factored out as a separate setting
+
+# Check whether --enable-dynamic-loading was given.
+if test ${enable_dynamic_loading+y}
+then :
+  enableval=$enable_dynamic_loading;
+fi
+
+
+
+    # Check whether --enable-report-builder was given.
+if test ${enable_report_builder+y}
+then :
+  enableval=$enable_report_builder;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_report_builder=yes
+            else
+                enable_report_builder=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-report-builder=$enable_report_builder" >&5
+printf "%s\n" "$as_me: Randomly set --enable-report-builder=$enable_report_builder" >&6;}
+            libo_fuzzed_enable_report_builder=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-report-builder="'$enable_report_builder'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-ext-wiki-publisher was given.
+if test ${enable_ext_wiki_publisher+y}
+then :
+  enableval=$enable_ext_wiki_publisher;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_ext_wiki_publisher=yes
+            else
+                enable_ext_wiki_publisher=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-ext-wiki-publisher=$enable_ext_wiki_publisher" >&5
+printf "%s\n" "$as_me: Randomly set --enable-ext-wiki-publisher=$enable_ext_wiki_publisher" >&6;}
+            libo_fuzzed_enable_ext_wiki_publisher=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-ext-wiki-publisher="'$enable_ext_wiki_publisher'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-lpsolve was given.
+if test ${enable_lpsolve+y}
+then :
+  enableval=$enable_lpsolve;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_lpsolve=yes
+            else
+                enable_lpsolve=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-lpsolve=$enable_lpsolve" >&5
+printf "%s\n" "$as_me: Randomly set --enable-lpsolve=$enable_lpsolve" >&6;}
+            libo_fuzzed_enable_lpsolve=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-lpsolve="'$enable_lpsolve'
+        fi
+
+fi
+
+
+
+    # Check whether --enable-coinmp was given.
+if test ${enable_coinmp+y}
+then :
+  enableval=$enable_coinmp;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_coinmp=yes
+            else
+                enable_coinmp=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-coinmp=$enable_coinmp" >&5
+printf "%s\n" "$as_me: Randomly set --enable-coinmp=$enable_coinmp" >&6;}
+            libo_fuzzed_enable_coinmp=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-coinmp="'$enable_coinmp'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-pdfimport was given.
+if test ${enable_pdfimport+y}
+then :
+  enableval=$enable_pdfimport;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_pdfimport=yes
+            else
+                enable_pdfimport=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-pdfimport=$enable_pdfimport" >&5
+printf "%s\n" "$as_me: Randomly set --enable-pdfimport=$enable_pdfimport" >&6;}
+            libo_fuzzed_enable_pdfimport=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-pdfimport="'$enable_pdfimport'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-pdfium was given.
+if test ${enable_pdfium+y}
+then :
+  enableval=$enable_pdfium;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_pdfium=yes
+            else
+                enable_pdfium=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-pdfium=$enable_pdfium" >&5
+printf "%s\n" "$as_me: Randomly set --enable-pdfium=$enable_pdfium" >&6;}
+            libo_fuzzed_enable_pdfium=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-pdfium="'$enable_pdfium'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-skia was given.
+if test ${enable_skia+y}
+then :
+  enableval=$enable_skia;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_skia=yes
+            else
+                enable_skia=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-skia=$enable_skia" >&5
+printf "%s\n" "$as_me: Randomly set --enable-skia=$enable_skia" >&6;}
+            libo_fuzzed_enable_skia=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-skia="'$enable_skia'
+        fi
+
+fi
+
+
+
+###############################################################################
+
+
+
+    # Check whether --enable-mergelibs was given.
+if test ${enable_mergelibs+y}
+then :
+  enableval=$enable_mergelibs;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_mergelibs=yes
+            else
+                enable_mergelibs=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-mergelibs=$enable_mergelibs" >&5
+printf "%s\n" "$as_me: Randomly set --enable-mergelibs=$enable_mergelibs" >&6;}
+            libo_fuzzed_enable_mergelibs=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-mergelibs="'$enable_mergelibs'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-breakpad was given.
+if test ${enable_breakpad+y}
+then :
+  enableval=$enable_breakpad;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_breakpad=yes
+            else
+                enable_breakpad=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-breakpad=$enable_breakpad" >&5
+printf "%s\n" "$as_me: Randomly set --enable-breakpad=$enable_breakpad" >&6;}
+            libo_fuzzed_enable_breakpad=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-breakpad="'$enable_breakpad'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-crashdump was given.
+if test ${enable_crashdump+y}
+then :
+  enableval=$enable_crashdump;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_crashdump=yes
+            else
+                enable_crashdump=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-crashdump=$enable_crashdump" >&5
+printf "%s\n" "$as_me: Randomly set --enable-crashdump=$enable_crashdump" >&6;}
+            libo_fuzzed_enable_crashdump=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-crashdump="'$enable_crashdump'
+        fi
+
+fi
+
+
+
+# Check whether --enable-fetch-external was given.
+if test ${enable_fetch_external+y}
+then :
+  enableval=$enable_fetch_external;
+fi
+
+
+# Check whether --enable-fuzzers was given.
+if test ${enable_fuzzers+y}
+then :
+  enableval=$enable_fuzzers;
+fi
+
+
+
+    # Check whether --enable-pch was given.
+if test ${enable_pch+y}
+then :
+  enableval=$enable_pch;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_pch=yes
+            else
+                enable_pch=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-pch=$enable_pch" >&5
+printf "%s\n" "$as_me: Randomly set --enable-pch=$enable_pch" >&6;}
+            libo_fuzzed_enable_pch=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-pch="'$enable_pch'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-epm was given.
+if test ${enable_epm+y}
+then :
+  enableval=$enable_epm;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_epm=yes
+            else
+                enable_epm=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-epm=$enable_epm" >&5
+printf "%s\n" "$as_me: Randomly set --enable-epm=$enable_epm" >&6;}
+            libo_fuzzed_enable_epm=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-epm="'$enable_epm'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-odk was given.
+if test ${enable_odk+y}
+then :
+  enableval=$enable_odk;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_odk=yes
+            else
+                enable_odk=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-odk=$enable_odk" >&5
+printf "%s\n" "$as_me: Randomly set --enable-odk=$enable_odk" >&6;}
+            libo_fuzzed_enable_odk=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-odk="'$enable_odk'
+        fi
+
+fi
+
+
+
+# Check whether --enable-mpl-subset was given.
+if test ${enable_mpl_subset+y}
+then :
+  enableval=$enable_mpl_subset;
+fi
+
+
+
+    # Check whether --enable-evolution2 was given.
+if test ${enable_evolution2+y}
+then :
+  enableval=$enable_evolution2;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_evolution2=yes
+            else
+                enable_evolution2=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-evolution2=$enable_evolution2" >&5
+printf "%s\n" "$as_me: Randomly set --enable-evolution2=$enable_evolution2" >&6;}
+            libo_fuzzed_enable_evolution2=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-evolution2="'$enable_evolution2'
+        fi
+
+fi
+
+
+
+# Check whether --enable-avahi was given.
+if test ${enable_avahi+y}
+then :
+  enableval=$enable_avahi;
+fi
+
+
+
+    # Check whether --enable-werror was given.
+if test ${enable_werror+y}
+then :
+  enableval=$enable_werror;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_werror=yes
+            else
+                enable_werror=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-werror=$enable_werror" >&5
+printf "%s\n" "$as_me: Randomly set --enable-werror=$enable_werror" >&6;}
+            libo_fuzzed_enable_werror=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-werror="'$enable_werror'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-assert-always-abort was given.
+if test ${enable_assert_always_abort+y}
+then :
+  enableval=$enable_assert_always_abort;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_assert_always_abort=yes
+            else
+                enable_assert_always_abort=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-assert-always-abort=$enable_assert_always_abort" >&5
+printf "%s\n" "$as_me: Randomly set --enable-assert-always-abort=$enable_assert_always_abort" >&6;}
+            libo_fuzzed_enable_assert_always_abort=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-assert-always-abort="'$enable_assert_always_abort'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-dbgutil was given.
+if test ${enable_dbgutil+y}
+then :
+  enableval=$enable_dbgutil;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_dbgutil=yes
+            else
+                enable_dbgutil=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-dbgutil=$enable_dbgutil" >&5
+printf "%s\n" "$as_me: Randomly set --enable-dbgutil=$enable_dbgutil" >&6;}
+            libo_fuzzed_enable_dbgutil=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-dbgutil="'$enable_dbgutil'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-debug was given.
+if test ${enable_debug+y}
+then :
+  enableval=$enable_debug;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_debug=yes
+            else
+                enable_debug=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-debug=$enable_debug" >&5
+printf "%s\n" "$as_me: Randomly set --enable-debug=$enable_debug" >&6;}
+            libo_fuzzed_enable_debug=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-debug="'$enable_debug'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-split-debug was given.
+if test ${enable_split_debug+y}
+then :
+  enableval=$enable_split_debug;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_split_debug=yes
+            else
+                enable_split_debug=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-split-debug=$enable_split_debug" >&5
+printf "%s\n" "$as_me: Randomly set --enable-split-debug=$enable_split_debug" >&6;}
+            libo_fuzzed_enable_split_debug=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-split-debug="'$enable_split_debug'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-gdb-index was given.
+if test ${enable_gdb_index+y}
+then :
+  enableval=$enable_gdb_index;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_gdb_index=yes
+            else
+                enable_gdb_index=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-gdb-index=$enable_gdb_index" >&5
+printf "%s\n" "$as_me: Randomly set --enable-gdb-index=$enable_gdb_index" >&6;}
+            libo_fuzzed_enable_gdb_index=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-gdb-index="'$enable_gdb_index'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-sal-log was given.
+if test ${enable_sal_log+y}
+then :
+  enableval=$enable_sal_log;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_sal_log=yes
+            else
+                enable_sal_log=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-sal-log=$enable_sal_log" >&5
+printf "%s\n" "$as_me: Randomly set --enable-sal-log=$enable_sal_log" >&6;}
+            libo_fuzzed_enable_sal_log=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-sal-log="'$enable_sal_log'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-symbols was given.
+if test ${enable_symbols+y}
+then :
+  enableval=$enable_symbols;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_symbols=yes
+            else
+                enable_symbols=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-symbols=$enable_symbols" >&5
+printf "%s\n" "$as_me: Randomly set --enable-symbols=$enable_symbols" >&6;}
+            libo_fuzzed_enable_symbols=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-symbols="'$enable_symbols'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-optimized was given.
+if test ${enable_optimized+y}
+then :
+  enableval=$enable_optimized;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_optimized=yes
+            else
+                enable_optimized=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-optimized=$enable_optimized" >&5
+printf "%s\n" "$as_me: Randomly set --enable-optimized=$enable_optimized" >&6;}
+            libo_fuzzed_enable_optimized=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-optimized="'$enable_optimized'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-runtime-optimizations was given.
+if test ${enable_runtime_optimizations+y}
+then :
+  enableval=$enable_runtime_optimizations;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_runtime_optimizations=yes
+            else
+                enable_runtime_optimizations=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-runtime-optimizations=$enable_runtime_optimizations" >&5
+printf "%s\n" "$as_me: Randomly set --enable-runtime-optimizations=$enable_runtime_optimizations" >&6;}
+            libo_fuzzed_enable_runtime_optimizations=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-runtime-optimizations="'$enable_runtime_optimizations'
+        fi
+
+fi
+
+
+
+
+# Check whether --with-valgrind was given.
+if test ${with_valgrind+y}
+then :
+  withval=$with_valgrind;
+fi
+
+
+
+    # Check whether --enable-compiler-plugins was given.
+if test ${enable_compiler_plugins+y}
+then :
+  enableval=$enable_compiler_plugins;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_compiler_plugins=yes
+            else
+                enable_compiler_plugins=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-compiler-plugins=$enable_compiler_plugins" >&5
+printf "%s\n" "$as_me: Randomly set --enable-compiler-plugins=$enable_compiler_plugins" >&6;}
+            libo_fuzzed_enable_compiler_plugins=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-compiler-plugins="'$enable_compiler_plugins'
+        fi
+
+fi
+
+
+COMPILER_PLUGINS_DEBUG=
+if test "$enable_compiler_plugins" = debug; then
+    enable_compiler_plugins=yes
+    COMPILER_PLUGINS_DEBUG=TRUE
+fi
+
+
+    # Check whether --enable-compiler-plugins-analyzer-pch was given.
+if test ${enable_compiler_plugins_analyzer_pch+y}
+then :
+  enableval=$enable_compiler_plugins_analyzer_pch;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_compiler_plugins_analyzer_pch=yes
+            else
+                enable_compiler_plugins_analyzer_pch=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-compiler-plugins-analyzer-pch=$enable_compiler_plugins_analyzer_pch" >&5
+printf "%s\n" "$as_me: Randomly set --enable-compiler-plugins-analyzer-pch=$enable_compiler_plugins_analyzer_pch" >&6;}
+            libo_fuzzed_enable_compiler_plugins_analyzer_pch=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-compiler-plugins-analyzer-pch="'$enable_compiler_plugins_analyzer_pch'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-ooenv was given.
+if test ${enable_ooenv+y}
+then :
+  enableval=$enable_ooenv;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_ooenv=yes
+            else
+                enable_ooenv=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-ooenv=$enable_ooenv" >&5
+printf "%s\n" "$as_me: Randomly set --enable-ooenv=$enable_ooenv" >&6;}
+            libo_fuzzed_enable_ooenv=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-ooenv="'$enable_ooenv'
+        fi
+
+fi
+
+
+
+# Check whether --enable-lto was given.
+if test ${enable_lto+y}
+then :
+  enableval=$enable_lto;
+fi
+
+
+# Check whether --enable-python was given.
+if test ${enable_python+y}
+then :
+  enableval=$enable_python;
+fi
+
+
+
+    # Check whether --enable-gtk3 was given.
+if test ${enable_gtk3+y}
+then :
+  enableval=$enable_gtk3;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_gtk3=yes
+            else
+                enable_gtk3=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-gtk3=$enable_gtk3" >&5
+printf "%s\n" "$as_me: Randomly set --enable-gtk3=$enable_gtk3" >&6;}
+            libo_fuzzed_enable_gtk3=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-gtk3="'$enable_gtk3'
+        fi
+        test "${test_gtk3}" = no -o "${enable_gtk3+set}" = set || enable_gtk3=yes
+fi
+
+
+
+# Check whether --enable-gtk4 was given.
+if test ${enable_gtk4+y}
+then :
+  enableval=$enable_gtk4;
+fi
+
+
+# Check whether --enable-atspi-tests was given.
+if test ${enable_atspi_tests+y}
+then :
+  enableval=$enable_atspi_tests;
+fi
+
+
+# Check whether --enable-introspection was given.
+if test ${enable_introspection+y}
+then :
+  enableval=$enable_introspection;
+fi
+
+
+# Check whether --enable-split-app-modules was given.
+if test ${enable_split_app_modules+y}
+then :
+  enableval=$enable_split_app_modules;
+fi
+
+
+# Check whether --enable-split-opt-features was given.
+if test ${enable_split_opt_features+y}
+then :
+  enableval=$enable_split_opt_features;
+fi
+
+
+
+    # Check whether --enable-cairo-canvas was given.
+if test ${enable_cairo_canvas+y}
+then :
+  enableval=$enable_cairo_canvas;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_cairo_canvas=yes
+            else
+                enable_cairo_canvas=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-cairo-canvas=$enable_cairo_canvas" >&5
+printf "%s\n" "$as_me: Randomly set --enable-cairo-canvas=$enable_cairo_canvas" >&6;}
+            libo_fuzzed_enable_cairo_canvas=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-cairo-canvas="'$enable_cairo_canvas'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-dbus was given.
+if test ${enable_dbus+y}
+then :
+  enableval=$enable_dbus;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_dbus=yes
+            else
+                enable_dbus=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-dbus=$enable_dbus" >&5
+printf "%s\n" "$as_me: Randomly set --enable-dbus=$enable_dbus" >&6;}
+            libo_fuzzed_enable_dbus=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-dbus="'$enable_dbus'
+        fi
+        test "${enable_dbus+set}" = set || enable_dbus=yes
+fi
+
+
+
+
+    # Check whether --enable-sdremote was given.
+if test ${enable_sdremote+y}
+then :
+  enableval=$enable_sdremote;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_sdremote=yes
+            else
+                enable_sdremote=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-sdremote=$enable_sdremote" >&5
+printf "%s\n" "$as_me: Randomly set --enable-sdremote=$enable_sdremote" >&6;}
+            libo_fuzzed_enable_sdremote=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-sdremote="'$enable_sdremote'
+        fi
+        test "${enable_sdremote+set}" = set || enable_sdremote=yes
+fi
+
+
+
+
+    # Check whether --enable-sdremote-bluetooth was given.
+if test ${enable_sdremote_bluetooth+y}
+then :
+  enableval=$enable_sdremote_bluetooth;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_sdremote_bluetooth=yes
+            else
+                enable_sdremote_bluetooth=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-sdremote-bluetooth=$enable_sdremote_bluetooth" >&5
+printf "%s\n" "$as_me: Randomly set --enable-sdremote-bluetooth=$enable_sdremote_bluetooth" >&6;}
+            libo_fuzzed_enable_sdremote_bluetooth=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-sdremote-bluetooth="'$enable_sdremote_bluetooth'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-gio was given.
+if test ${enable_gio+y}
+then :
+  enableval=$enable_gio;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_gio=yes
+            else
+                enable_gio=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-gio=$enable_gio" >&5
+printf "%s\n" "$as_me: Randomly set --enable-gio=$enable_gio" >&6;}
+            libo_fuzzed_enable_gio=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-gio="'$enable_gio'
+        fi
+        test "${enable_gio+set}" = set || enable_gio=yes
+fi
+
+
+
+# Check whether --enable-qt5 was given.
+if test ${enable_qt5+y}
+then :
+  enableval=$enable_qt5;
+fi
+
+
+# Check whether --enable-qt6 was given.
+if test ${enable_qt6+y}
+then :
+  enableval=$enable_qt6;
+fi
+
+
+# Check whether --enable-qt6-multimedia was given.
+if test ${enable_qt6_multimedia+y}
+then :
+  enableval=$enable_qt6_multimedia;
+fi
+
+
+# Check whether --enable-kf5 was given.
+if test ${enable_kf5+y}
+then :
+  enableval=$enable_kf5;
+fi
+
+
+# Check whether --enable-kf6 was given.
+if test ${enable_kf6+y}
+then :
+  enableval=$enable_kf6;
+fi
+
+
+
+# Check whether --enable-gtk3_kde5 was given.
+if test ${enable_gtk3_kde5+y}
+then :
+  enableval=$enable_gtk3_kde5;
+fi
+
+
+# Check whether --enable-gen was given.
+if test ${enable_gen+y}
+then :
+  enableval=$enable_gen;
+else $as_nop
+  test "${test_gen}" = no -o "${enable_gen+set}" = set || enable_gen=yes
+fi
+
+
+# Check whether --enable-gui was given.
+if test ${enable_gui+y}
+then :
+  enableval=$enable_gui;
+else $as_nop
+  enable_gui=yes
+fi
+
+
+
+    # Check whether --enable-randr was given.
+if test ${enable_randr+y}
+then :
+  enableval=$enable_randr;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_randr=yes
+            else
+                enable_randr=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-randr=$enable_randr" >&5
+printf "%s\n" "$as_me: Randomly set --enable-randr=$enable_randr" >&6;}
+            libo_fuzzed_enable_randr=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-randr="'$enable_randr'
+        fi
+        test "${enable_randr+set}" = set || enable_randr=yes
+fi
+
+
+
+
+    # Check whether --enable-gstreamer-1-0 was given.
+if test ${enable_gstreamer_1_0+y}
+then :
+  enableval=$enable_gstreamer_1_0;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_gstreamer_1_0=yes
+            else
+                enable_gstreamer_1_0=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-gstreamer-1-0=$enable_gstreamer_1_0" >&5
+printf "%s\n" "$as_me: Randomly set --enable-gstreamer-1-0=$enable_gstreamer_1_0" >&6;}
+            libo_fuzzed_enable_gstreamer_1_0=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-gstreamer-1-0="'$enable_gstreamer_1_0'
+        fi
+        test "${enable_gstreamer_1_0+set}" = set || enable_gstreamer_1_0=yes
+fi
+
+
+
+
+    # Check whether --enable-eot was given.
+if test ${enable_eot+y}
+then :
+  enableval=$enable_eot;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_eot=yes
+            else
+                enable_eot=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-eot=$enable_eot" >&5
+printf "%s\n" "$as_me: Randomly set --enable-eot=$enable_eot" >&6;}
+            libo_fuzzed_enable_eot=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-eot="'$enable_eot'
+        fi
+        test "${enable_eot+set}" = set || enable_eot=no
+fi
+
+
+
+
+    # Check whether --enable-cve-tests was given.
+if test ${enable_cve_tests+y}
+then :
+  enableval=$enable_cve_tests;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_cve_tests=yes
+            else
+                enable_cve_tests=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-cve-tests=$enable_cve_tests" >&5
+printf "%s\n" "$as_me: Randomly set --enable-cve-tests=$enable_cve_tests" >&6;}
+            libo_fuzzed_enable_cve_tests=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-cve-tests="'$enable_cve_tests'
+        fi
+
+fi
+
+
+
+# Check whether --enable-build-opensymbol was given.
+if test ${enable_build_opensymbol+y}
+then :
+  enableval=$enable_build_opensymbol;
+fi
+
+
+# Check whether --enable-dependency-tracking was given.
+if test ${enable_dependency_tracking+y}
+then :
+  enableval=$enable_dependency_tracking;
+fi
+
+
+# Check whether --enable-icecream was given.
+if test ${enable_icecream+y}
+then :
+  enableval=$enable_icecream;
+fi
+
+
+# Check whether --enable-ld was given.
+if test ${enable_ld+y}
+then :
+  enableval=$enable_ld;
+fi
+
+
+
+    # Check whether --enable-cups was given.
+if test ${enable_cups+y}
+then :
+  enableval=$enable_cups;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_cups=yes
+            else
+                enable_cups=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-cups=$enable_cups" >&5
+printf "%s\n" "$as_me: Randomly set --enable-cups=$enable_cups" >&6;}
+            libo_fuzzed_enable_cups=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-cups="'$enable_cups'
+        fi
+
+fi
+
+
+
+# Check whether --enable-ccache was given.
+if test ${enable_ccache+y}
+then :
+  enableval=$enable_ccache;
+fi
+
+
+# Check whether --enable-z7-debug was given.
+if test ${enable_z7_debug+y}
+then :
+  enableval=$enable_z7_debug;
+fi
+
+
+
+    # Check whether --enable-online-update was given.
+if test ${enable_online_update+y}
+then :
+  enableval=$enable_online_update;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_online_update=yes
+            else
+                enable_online_update=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-online-update=$enable_online_update" >&5
+printf "%s\n" "$as_me: Randomly set --enable-online-update=$enable_online_update" >&6;}
+            libo_fuzzed_enable_online_update=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-online-update="'$enable_online_update'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-online-update-mar was given.
+if test ${enable_online_update_mar+y}
+then :
+  enableval=$enable_online_update_mar;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_online_update_mar=yes
+            else
+                enable_online_update_mar=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-online-update-mar=$enable_online_update_mar" >&5
+printf "%s\n" "$as_me: Randomly set --enable-online-update-mar=$enable_online_update_mar" >&6;}
+            libo_fuzzed_enable_online_update_mar=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-online-update-mar="'$enable_online_update_mar'
+        fi
+
+fi
+
+
+
+
+
+# Check whether --with-online-update-mar-baseurl was given.
+if test ${with_online_update_mar_baseurl+y}
+then :
+  withval=$with_online_update_mar_baseurl;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_online_update_mar_baseurl=yes
+            else
+                with_online_update_mar_baseurl=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-online-update-mar-baseurl=$with_online_update_mar_baseurl" >&5
+printf "%s\n" "$as_me: Randomly set --with-online-update-mar-baseurl=$with_online_update_mar_baseurl" >&6;}
+            libo_fuzzed_with_online_update_mar_baseurl=yes
+            libo_fuzz_list="$libo_fuzz_list --with-online-update-mar-baseurl="'$with_online_update_mar_baseurl'
+        fi
+
+
+fi
+
+
+
+
+
+# Check whether --with-online-update-mar-certificateder was given.
+if test ${with_online_update_mar_certificateder+y}
+then :
+  withval=$with_online_update_mar_certificateder;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_online_update_mar_certificateder=yes
+            else
+                with_online_update_mar_certificateder=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-online-update-mar-certificateder=$with_online_update_mar_certificateder" >&5
+printf "%s\n" "$as_me: Randomly set --with-online-update-mar-certificateder=$with_online_update_mar_certificateder" >&6;}
+            libo_fuzzed_with_online_update_mar_certificateder=yes
+            libo_fuzz_list="$libo_fuzz_list --with-online-update-mar-certificateder="'$with_online_update_mar_certificateder'
+        fi
+
+
+fi
+
+
+
+
+
+# Check whether --with-online-update-mar-certificatename was given.
+if test ${with_online_update_mar_certificatename+y}
+then :
+  withval=$with_online_update_mar_certificatename;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_online_update_mar_certificatename=yes
+            else
+                with_online_update_mar_certificatename=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-online-update-mar-certificatename=$with_online_update_mar_certificatename" >&5
+printf "%s\n" "$as_me: Randomly set --with-online-update-mar-certificatename=$with_online_update_mar_certificatename" >&6;}
+            libo_fuzzed_with_online_update_mar_certificatename=yes
+            libo_fuzz_list="$libo_fuzz_list --with-online-update-mar-certificatename="'$with_online_update_mar_certificatename'
+        fi
+
+
+fi
+
+
+
+
+
+# Check whether --with-online-update-mar-certificatepath was given.
+if test ${with_online_update_mar_certificatepath+y}
+then :
+  withval=$with_online_update_mar_certificatepath;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_online_update_mar_certificatepath=yes
+            else
+                with_online_update_mar_certificatepath=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-online-update-mar-certificatepath=$with_online_update_mar_certificatepath" >&5
+printf "%s\n" "$as_me: Randomly set --with-online-update-mar-certificatepath=$with_online_update_mar_certificatepath" >&6;}
+            libo_fuzzed_with_online_update_mar_certificatepath=yes
+            libo_fuzz_list="$libo_fuzz_list --with-online-update-mar-certificatepath="'$with_online_update_mar_certificatepath'
+        fi
+
+
+fi
+
+
+
+
+    # Check whether --enable-extension-update was given.
+if test ${enable_extension_update+y}
+then :
+  enableval=$enable_extension_update;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_extension_update=yes
+            else
+                enable_extension_update=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-extension-update=$enable_extension_update" >&5
+printf "%s\n" "$as_me: Randomly set --enable-extension-update=$enable_extension_update" >&6;}
+            libo_fuzzed_enable_extension_update=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-extension-update="'$enable_extension_update'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-release-build was given.
+if test ${enable_release_build+y}
+then :
+  enableval=$enable_release_build;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_release_build=yes
+            else
+                enable_release_build=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-release-build=$enable_release_build" >&5
+printf "%s\n" "$as_me: Randomly set --enable-release-build=$enable_release_build" >&6;}
+            libo_fuzzed_enable_release_build=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-release-build="'$enable_release_build'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-hardening-flags was given.
+if test ${enable_hardening_flags+y}
+then :
+  enableval=$enable_hardening_flags;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_hardening_flags=yes
+            else
+                enable_hardening_flags=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-hardening-flags=$enable_hardening_flags" >&5
+printf "%s\n" "$as_me: Randomly set --enable-hardening-flags=$enable_hardening_flags" >&6;}
+            libo_fuzzed_enable_hardening_flags=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-hardening-flags="'$enable_hardening_flags'
+        fi
+
+fi
+
+
+
+# Check whether --enable-windows-build-signing was given.
+if test ${enable_windows_build_signing+y}
+then :
+  enableval=$enable_windows_build_signing;
+fi
+
+
+# Check whether --enable-silent-msi was given.
+if test ${enable_silent_msi+y}
+then :
+  enableval=$enable_silent_msi;
+fi
+
+
+# Check whether --enable-wix was given.
+if test ${enable_wix+y}
+then :
+  enableval=$enable_wix;
+fi
+
+
+# Check whether --enable-macosx-code-signing was given.
+if test ${enable_macosx_code_signing+y}
+then :
+  enableval=$enable_macosx_code_signing;
+fi
+
+
+# Check whether --enable-macosx-package-signing was given.
+if test ${enable_macosx_package_signing+y}
+then :
+  enableval=$enable_macosx_package_signing;
+fi
+
+
+# Check whether --enable-macosx-sandbox was given.
+if test ${enable_macosx_sandbox+y}
+then :
+  enableval=$enable_macosx_sandbox;
+fi
+
+
+
+# Check whether --with-macosx-bundle-identifier was given.
+if test ${with_macosx_bundle_identifier+y}
+then :
+  withval=$with_macosx_bundle_identifier;
+else $as_nop
+  with_macosx_bundle_identifier=org.libreoffice.script
+fi
+
+
+
+# Check whether --with-macosx-provisioning-profile was given.
+if test ${with_macosx_provisioning_profile+y}
+then :
+  withval=$with_macosx_provisioning_profile;
+fi
+
+
+
+# Check whether --with-product-name was given.
+if test ${with_product_name+y}
+then :
+  withval=$with_product_name;
+else $as_nop
+  with_product_name=$PRODUCTNAME
+fi
+
+
+
+    # Check whether --enable-community-flavor was given.
+if test ${enable_community_flavor+y}
+then :
+  enableval=$enable_community_flavor;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_community_flavor=yes
+            else
+                enable_community_flavor=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-community-flavor=$enable_community_flavor" >&5
+printf "%s\n" "$as_me: Randomly set --enable-community-flavor=$enable_community_flavor" >&6;}
+            libo_fuzzed_enable_community_flavor=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-community-flavor="'$enable_community_flavor'
+        fi
+
+fi
+
+
+
+
+# Check whether --with-package-version was given.
+if test ${with_package_version+y}
+then :
+  withval=$with_package_version;
+fi
+
+
+
+    # Check whether --enable-readonly-installset was given.
+if test ${enable_readonly_installset+y}
+then :
+  enableval=$enable_readonly_installset;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_readonly_installset=yes
+            else
+                enable_readonly_installset=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-readonly-installset=$enable_readonly_installset" >&5
+printf "%s\n" "$as_me: Randomly set --enable-readonly-installset=$enable_readonly_installset" >&6;}
+            libo_fuzzed_enable_readonly_installset=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-readonly-installset="'$enable_readonly_installset'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-mariadb-sdbc was given.
+if test ${enable_mariadb_sdbc+y}
+then :
+  enableval=$enable_mariadb_sdbc;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_mariadb_sdbc=yes
+            else
+                enable_mariadb_sdbc=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-mariadb-sdbc=$enable_mariadb_sdbc" >&5
+printf "%s\n" "$as_me: Randomly set --enable-mariadb-sdbc=$enable_mariadb_sdbc" >&6;}
+            libo_fuzzed_enable_mariadb_sdbc=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-mariadb-sdbc="'$enable_mariadb_sdbc'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-postgresql-sdbc was given.
+if test ${enable_postgresql_sdbc+y}
+then :
+  enableval=$enable_postgresql_sdbc;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_postgresql_sdbc=yes
+            else
+                enable_postgresql_sdbc=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-postgresql-sdbc=$enable_postgresql_sdbc" >&5
+printf "%s\n" "$as_me: Randomly set --enable-postgresql-sdbc=$enable_postgresql_sdbc" >&6;}
+            libo_fuzzed_enable_postgresql_sdbc=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-postgresql-sdbc="'$enable_postgresql_sdbc'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-lotuswordpro was given.
+if test ${enable_lotuswordpro+y}
+then :
+  enableval=$enable_lotuswordpro;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_lotuswordpro=yes
+            else
+                enable_lotuswordpro=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-lotuswordpro=$enable_lotuswordpro" >&5
+printf "%s\n" "$as_me: Randomly set --enable-lotuswordpro=$enable_lotuswordpro" >&6;}
+            libo_fuzzed_enable_lotuswordpro=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-lotuswordpro="'$enable_lotuswordpro'
+        fi
+        test "${enable_lotuswordpro+set}" = set || enable_lotuswordpro=yes
+fi
+
+
+
+
+    # Check whether --enable-firebird-sdbc was given.
+if test ${enable_firebird_sdbc+y}
+then :
+  enableval=$enable_firebird_sdbc;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_firebird_sdbc=yes
+            else
+                enable_firebird_sdbc=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-firebird-sdbc=$enable_firebird_sdbc" >&5
+printf "%s\n" "$as_me: Randomly set --enable-firebird-sdbc=$enable_firebird_sdbc" >&6;}
+            libo_fuzzed_enable_firebird_sdbc=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-firebird-sdbc="'$enable_firebird_sdbc'
+        fi
+        test "${enable_firebird_sdbc+set}" = set || enable_firebird_sdbc=yes
+fi
+
+
+
+# Check whether --enable-bogus-pkg-config was given.
+if test ${enable_bogus_pkg_config+y}
+then :
+  enableval=$enable_bogus_pkg_config;
+fi
+
+
+# Check whether --enable-openssl was given.
+if test ${enable_openssl+y}
+then :
+  enableval=$enable_openssl;
+else $as_nop
+  enable_openssl=yes
+fi
+
+
+
+    # Check whether --enable-cipher-openssl-backend was given.
+if test ${enable_cipher_openssl_backend+y}
+then :
+  enableval=$enable_cipher_openssl_backend;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_cipher_openssl_backend=yes
+            else
+                enable_cipher_openssl_backend=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-cipher-openssl-backend=$enable_cipher_openssl_backend" >&5
+printf "%s\n" "$as_me: Randomly set --enable-cipher-openssl-backend=$enable_cipher_openssl_backend" >&6;}
+            libo_fuzzed_enable_cipher_openssl_backend=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-cipher-openssl-backend="'$enable_cipher_openssl_backend'
+        fi
+
+fi
+
+
+
+# Check whether --enable-nss was given.
+if test ${enable_nss+y}
+then :
+  enableval=$enable_nss;
+else $as_nop
+  enable_nss=yes
+fi
+
+
+# Check whether --enable-library-bin-tar was given.
+if test ${enable_library_bin_tar+y}
+then :
+  enableval=$enable_library_bin_tar;
+fi
+
+
+# Check whether --enable-dconf was given.
+if test ${enable_dconf+y}
+then :
+  enableval=$enable_dconf;
+fi
+
+
+
+    # Check whether --enable-formula-logger was given.
+if test ${enable_formula_logger+y}
+then :
+  enableval=$enable_formula_logger;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_formula_logger=yes
+            else
+                enable_formula_logger=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-formula-logger=$enable_formula_logger" >&5
+printf "%s\n" "$as_me: Randomly set --enable-formula-logger=$enable_formula_logger" >&6;}
+            libo_fuzzed_enable_formula_logger=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-formula-logger="'$enable_formula_logger'
+        fi
+
+fi
+
+
+
+# Check whether --enable-ldap was given.
+if test ${enable_ldap+y}
+then :
+  enableval=$enable_ldap;
+else $as_nop
+  enable_ldap=yes
+fi
+
+
+# Check whether --enable-opencl was given.
+if test ${enable_opencl+y}
+then :
+  enableval=$enable_opencl;
+else $as_nop
+  enable_opencl=yes
+fi
+
+
+
+    # Check whether --enable-librelogo was given.
+if test ${enable_librelogo+y}
+then :
+  enableval=$enable_librelogo;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_librelogo=yes
+            else
+                enable_librelogo=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-librelogo=$enable_librelogo" >&5
+printf "%s\n" "$as_me: Randomly set --enable-librelogo=$enable_librelogo" >&6;}
+            libo_fuzzed_enable_librelogo=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-librelogo="'$enable_librelogo'
+        fi
+        enable_librelogo=yes
+fi
+
+
+
+# Check whether --enable-wasm-strip was given.
+if test ${enable_wasm_strip+y}
+then :
+  enableval=$enable_wasm_strip;
+fi
+
+
+
+# Check whether --with-main-module was given.
+if test ${with_main_module+y}
+then :
+  withval=$with_main_module;
+fi
+
+
+# Check whether --enable-xmlhelp was given.
+if test ${enable_xmlhelp+y}
+then :
+  enableval=$enable_xmlhelp;
+else $as_nop
+  enable_xmlhelp=yes
+fi
+
+
+# Check whether --enable-customtarget-components was given.
+if test ${enable_customtarget_components+y}
+then :
+  enableval=$enable_customtarget_components;
+fi
+
+
+
+
+# Check whether --with-gcc-home was given.
+if test ${with_gcc_home+y}
+then :
+  withval=$with_gcc_home;
+fi
+
+
+
+# Check whether --with-gnu-patch was given.
+if test ${with_gnu_patch+y}
+then :
+  withval=$with_gnu_patch;
+fi
+
+
+
+# Check whether --with-build-platform-configure-options was given.
+if test ${with_build_platform_configure_options+y}
+then :
+  withval=$with_build_platform_configure_options;
+fi
+
+
+
+# Check whether --with-gnu-cp was given.
+if test ${with_gnu_cp+y}
+then :
+  withval=$with_gnu_cp;
+fi
+
+
+
+# Check whether --with-external-tar was given.
+if test ${with_external_tar+y}
+then :
+  withval=$with_external_tar; TARFILE_LOCATION=$withval
+fi
+
+
+
+# Check whether --with-referenced-git was given.
+if test ${with_referenced_git+y}
+then :
+  withval=$with_referenced_git; GIT_REFERENCE_SRC=$withval
+fi
+
+
+
+# Check whether --with-linked-git was given.
+if test ${with_linked_git+y}
+then :
+  withval=$with_linked_git; GIT_LINK_SRC=$withval
+fi
+
+
+
+# Check whether --with-galleries was given.
+if test ${with_galleries+y}
+then :
+  withval=$with_galleries;
+fi
+
+
+
+# Check whether --with-templates was given.
+if test ${with_templates+y}
+then :
+  withval=$with_templates;
+fi
+
+
+
+# Check whether --with-theme was given.
+if test ${with_theme+y}
+then :
+  withval=$with_theme;
+fi
+
+
+
+
+# Check whether --with-helppack-integration was given.
+if test ${with_helppack_integration+y}
+then :
+  withval=$with_helppack_integration;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_helppack_integration=yes
+            else
+                with_helppack_integration=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-helppack-integration=$with_helppack_integration" >&5
+printf "%s\n" "$as_me: Randomly set --with-helppack-integration=$with_helppack_integration" >&6;}
+            libo_fuzzed_with_helppack_integration=yes
+            libo_fuzz_list="$libo_fuzz_list --with-helppack-integration="'$with_helppack_integration'
+        fi
+
+
+fi
+
+
+
+
+
+# Check whether --with-fonts was given.
+if test ${with_fonts+y}
+then :
+  withval=$with_fonts;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_fonts=yes
+            else
+                with_fonts=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-fonts=$with_fonts" >&5
+printf "%s\n" "$as_me: Randomly set --with-fonts=$with_fonts" >&6;}
+            libo_fuzzed_with_fonts=yes
+            libo_fuzz_list="$libo_fuzz_list --with-fonts="'$with_fonts'
+        fi
+
+
+fi
+
+
+
+
+# Check whether --with-epm was given.
+if test ${with_epm+y}
+then :
+  withval=$with_epm;
+fi
+
+
+
+# Check whether --with-package-format was given.
+if test ${with_package_format+y}
+then :
+  withval=$with_package_format;
+fi
+
+
+
+# Check whether --with-tls was given.
+if test ${with_tls+y}
+then :
+  withval=$with_tls;
+fi
+
+
+
+# Check whether --with-system-libs was given.
+if test ${with_system_libs+y}
+then :
+  withval=$with_system_libs;
+fi
+
+
+
+# Check whether --with-system-bzip2 was given.
+if test ${with_system_bzip2+y}
+then :
+  withval=$with_system_bzip2;
+else $as_nop
+  with_system_bzip2="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-headers was given.
+if test ${with_system_headers+y}
+then :
+  withval=$with_system_headers;
+else $as_nop
+  with_system_headers="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-jars was given.
+if test ${with_system_jars+y}
+then :
+  withval=$with_system_jars;
+else $as_nop
+  with_system_jars="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-cairo was given.
+if test ${with_system_cairo+y}
+then :
+  withval=$with_system_cairo;
+fi
+
+
+
+# Check whether --with-system-epoxy was given.
+if test ${with_system_epoxy+y}
+then :
+  withval=$with_system_epoxy;
+else $as_nop
+  with_system_epoxy="$with_system_libs"
+fi
+
+
+
+# Check whether --with-myspell-dicts was given.
+if test ${with_myspell_dicts+y}
+then :
+  withval=$with_myspell_dicts;
+fi
+
+
+
+# Check whether --with-system-dicts was given.
+if test ${with_system_dicts+y}
+then :
+  withval=$with_system_dicts;
+fi
+
+
+
+# Check whether --with-external-dict-dir was given.
+if test ${with_external_dict_dir+y}
+then :
+  withval=$with_external_dict_dir;
+fi
+
+
+
+# Check whether --with-external-hyph-dir was given.
+if test ${with_external_hyph_dir+y}
+then :
+  withval=$with_external_hyph_dir;
+fi
+
+
+
+# Check whether --with-external-thes-dir was given.
+if test ${with_external_thes_dir+y}
+then :
+  withval=$with_external_thes_dir;
+fi
+
+
+
+# Check whether --with-system-zlib was given.
+if test ${with_system_zlib+y}
+then :
+  withval=$with_system_zlib;
+else $as_nop
+  with_system_zlib=auto
+fi
+
+
+
+# Check whether --with-system-jpeg was given.
+if test ${with_system_jpeg+y}
+then :
+  withval=$with_system_jpeg;
+else $as_nop
+  with_system_jpeg="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-expat was given.
+if test ${with_system_expat+y}
+then :
+  withval=$with_system_expat;
+else $as_nop
+  with_system_expat="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-libxml was given.
+if test ${with_system_libxml+y}
+then :
+  withval=$with_system_libxml;
+else $as_nop
+  with_system_libxml=auto
+fi
+
+
+
+# Check whether --with-system-openldap was given.
+if test ${with_system_openldap+y}
+then :
+  withval=$with_system_openldap;
+else $as_nop
+  with_system_openldap="$with_system_libs"
+fi
+
+
+
+    # Check whether --enable-poppler was given.
+if test ${enable_poppler+y}
+then :
+  enableval=$enable_poppler;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_poppler=yes
+            else
+                enable_poppler=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-poppler=$enable_poppler" >&5
+printf "%s\n" "$as_me: Randomly set --enable-poppler=$enable_poppler" >&6;}
+            libo_fuzzed_enable_poppler=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-poppler="'$enable_poppler'
+        fi
+
+fi
+
+
+
+
+# Check whether --with-system-poppler was given.
+if test ${with_system_poppler+y}
+then :
+  withval=$with_system_poppler;
+else $as_nop
+  with_system_poppler="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-abseil was given.
+if test ${with_system_abseil+y}
+then :
+  withval=$with_system_abseil;
+else $as_nop
+  with_system_abseil="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-openjpeg was given.
+if test ${with_system_openjpeg+y}
+then :
+  withval=$with_system_openjpeg;
+else $as_nop
+  with_system_openjpeg="$with_system_libs"
+fi
+
+
+
+    # Check whether --enable-gpgmepp was given.
+if test ${enable_gpgmepp+y}
+then :
+  enableval=$enable_gpgmepp;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_gpgmepp=yes
+            else
+                enable_gpgmepp=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-gpgmepp=$enable_gpgmepp" >&5
+printf "%s\n" "$as_me: Randomly set --enable-gpgmepp=$enable_gpgmepp" >&6;}
+            libo_fuzzed_enable_gpgmepp=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-gpgmepp="'$enable_gpgmepp'
+        fi
+
+fi
+
+
+
+
+# Check whether --with-system-gpgmepp was given.
+if test ${with_system_gpgmepp+y}
+then :
+  withval=$with_system_gpgmepp;
+else $as_nop
+  with_system_gpgmepp="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-mariadb was given.
+if test ${with_system_mariadb+y}
+then :
+  withval=$with_system_mariadb;
+else $as_nop
+  with_system_mariadb="$with_system_libs"
+fi
+
+
+# Check whether --enable-bundle-mariadb was given.
+if test ${enable_bundle_mariadb+y}
+then :
+  enableval=$enable_bundle_mariadb;
+fi
+
+
+
+# Check whether --with-system-postgresql was given.
+if test ${with_system_postgresql+y}
+then :
+  withval=$with_system_postgresql;
+else $as_nop
+  with_system_postgresql="$with_system_libs"
+fi
+
+
+
+# Check whether --with-libpq-path was given.
+if test ${with_libpq_path+y}
+then :
+  withval=$with_libpq_path;
+fi
+
+
+
+# Check whether --with-system-firebird was given.
+if test ${with_system_firebird+y}
+then :
+  withval=$with_system_firebird;
+else $as_nop
+  with_system_firebird="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-libtommath was given.
+if test ${with_system_libtommath+y}
+then :
+  withval=$with_system_libtommath;
+else $as_nop
+  with_system_libtommath="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-hsqldb was given.
+if test ${with_system_hsqldb+y}
+then :
+  withval=$with_system_hsqldb;
+fi
+
+
+
+# Check whether --with-hsqldb-jar was given.
+if test ${with_hsqldb_jar+y}
+then :
+  withval=$with_hsqldb_jar; HSQLDB_JAR=$withval
+fi
+
+
+
+    # Check whether --enable-scripting-beanshell was given.
+if test ${enable_scripting_beanshell+y}
+then :
+  enableval=$enable_scripting_beanshell;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_scripting_beanshell=yes
+            else
+                enable_scripting_beanshell=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-scripting-beanshell=$enable_scripting_beanshell" >&5
+printf "%s\n" "$as_me: Randomly set --enable-scripting-beanshell=$enable_scripting_beanshell" >&6;}
+            libo_fuzzed_enable_scripting_beanshell=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-scripting-beanshell="'$enable_scripting_beanshell'
+        fi
+
+fi
+
+
+
+
+# Check whether --with-system-beanshell was given.
+if test ${with_system_beanshell+y}
+then :
+  withval=$with_system_beanshell;
+else $as_nop
+  with_system_beanshell="$with_system_jars"
+fi
+
+
+
+# Check whether --with-beanshell-jar was given.
+if test ${with_beanshell_jar+y}
+then :
+  withval=$with_beanshell_jar; BSH_JAR=$withval
+fi
+
+
+
+    # Check whether --enable-scripting-javascript was given.
+if test ${enable_scripting_javascript+y}
+then :
+  enableval=$enable_scripting_javascript;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_scripting_javascript=yes
+            else
+                enable_scripting_javascript=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-scripting-javascript=$enable_scripting_javascript" >&5
+printf "%s\n" "$as_me: Randomly set --enable-scripting-javascript=$enable_scripting_javascript" >&6;}
+            libo_fuzzed_enable_scripting_javascript=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-scripting-javascript="'$enable_scripting_javascript'
+        fi
+
+fi
+
+
+
+
+# Check whether --with-system-rhino was given.
+if test ${with_system_rhino+y}
+then :
+  withval=$with_system_rhino;
+else $as_nop
+  with_system_rhino="$with_system_jars"
+fi
+
+
+
+# Check whether --with-rhino-jar was given.
+if test ${with_rhino_jar+y}
+then :
+  withval=$with_rhino_jar; RHINO_JAR=$withval
+fi
+
+
+
+# Check whether --with-system-jfreereport was given.
+if test ${with_system_jfreereport+y}
+then :
+  withval=$with_system_jfreereport;
+else $as_nop
+  with_system_jfreereport="$with_system_jars"
+fi
+
+
+
+# Check whether --with-sac-jar was given.
+if test ${with_sac_jar+y}
+then :
+  withval=$with_sac_jar; SAC_JAR=$withval
+fi
+
+
+
+# Check whether --with-libxml-jar was given.
+if test ${with_libxml_jar+y}
+then :
+  withval=$with_libxml_jar; LIBXML_JAR=$withval
+fi
+
+
+
+# Check whether --with-flute-jar was given.
+if test ${with_flute_jar+y}
+then :
+  withval=$with_flute_jar; FLUTE_JAR=$withval
+fi
+
+
+
+# Check whether --with-jfreereport-jar was given.
+if test ${with_jfreereport_jar+y}
+then :
+  withval=$with_jfreereport_jar; JFREEREPORT_JAR=$withval
+fi
+
+
+
+# Check whether --with-liblayout-jar was given.
+if test ${with_liblayout_jar+y}
+then :
+  withval=$with_liblayout_jar; LIBLAYOUT_JAR=$withval
+fi
+
+
+
+# Check whether --with-libloader-jar was given.
+if test ${with_libloader_jar+y}
+then :
+  withval=$with_libloader_jar; LIBLOADER_JAR=$withval
+fi
+
+
+
+# Check whether --with-libformula-jar was given.
+if test ${with_libformula_jar+y}
+then :
+  withval=$with_libformula_jar; LIBFORMULA_JAR=$withval
+fi
+
+
+
+# Check whether --with-librepository-jar was given.
+if test ${with_librepository_jar+y}
+then :
+  withval=$with_librepository_jar; LIBREPOSITORY_JAR=$withval
+fi
+
+
+
+# Check whether --with-libfonts-jar was given.
+if test ${with_libfonts_jar+y}
+then :
+  withval=$with_libfonts_jar; LIBFONTS_JAR=$withval
+fi
+
+
+
+# Check whether --with-libserializer-jar was given.
+if test ${with_libserializer_jar+y}
+then :
+  withval=$with_libserializer_jar; LIBSERIALIZER_JAR=$withval
+fi
+
+
+
+# Check whether --with-libbase-jar was given.
+if test ${with_libbase_jar+y}
+then :
+  withval=$with_libbase_jar; LIBBASE_JAR=$withval
+fi
+
+
+
+# Check whether --with-system-odbc was given.
+if test ${with_system_odbc+y}
+then :
+  withval=$with_system_odbc;
+else $as_nop
+  with_system_odbc="auto"
+fi
+
+
+
+# Check whether --with-system-sane was given.
+if test ${with_system_sane+y}
+then :
+  withval=$with_system_sane;
+else $as_nop
+  with_system_sane="$with_system_headers"
+fi
+
+
+
+# Check whether --with-system-bluez was given.
+if test ${with_system_bluez+y}
+then :
+  withval=$with_system_bluez;
+else $as_nop
+  with_system_bluez="$with_system_headers"
+fi
+
+
+
+# Check whether --with-system-boost was given.
+if test ${with_system_boost+y}
+then :
+  withval=$with_system_boost;
+else $as_nop
+  with_system_boost="$with_system_headers"
+fi
+
+
+
+# Check whether --with-system-dragonbox was given.
+if test ${with_system_dragonbox+y}
+then :
+  withval=$with_system_dragonbox;
+else $as_nop
+  with_system_dragonbox="$with_system_headers"
+fi
+
+
+
+# Check whether --with-system-frozen was given.
+if test ${with_system_frozen+y}
+then :
+  withval=$with_system_frozen;
+else $as_nop
+  with_system_frozen="$with_system_headers"
+fi
+
+
+
+# Check whether --with-system-libfixmath was given.
+if test ${with_system_libfixmath+y}
+then :
+  withval=$with_system_libfixmath;
+else $as_nop
+  with_system_libfixmath="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-glm was given.
+if test ${with_system_glm+y}
+then :
+  withval=$with_system_glm;
+else $as_nop
+  with_system_glm="$with_system_headers"
+fi
+
+
+
+# Check whether --with-system-hunspell was given.
+if test ${with_system_hunspell+y}
+then :
+  withval=$with_system_hunspell;
+else $as_nop
+  with_system_hunspell="$with_system_libs"
+fi
+
+
+
+    # Check whether --enable-cairo-rgba was given.
+if test ${enable_cairo_rgba+y}
+then :
+  enableval=$enable_cairo_rgba;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_cairo_rgba=yes
+            else
+                enable_cairo_rgba=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-cairo-rgba=$enable_cairo_rgba" >&5
+printf "%s\n" "$as_me: Randomly set --enable-cairo-rgba=$enable_cairo_rgba" >&6;}
+            libo_fuzzed_enable_cairo_rgba=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-cairo-rgba="'$enable_cairo_rgba'
+        fi
+
+fi
+
+
+
+
+    # Check whether --enable-zxing was given.
+if test ${enable_zxing+y}
+then :
+  enableval=$enable_zxing;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                enable_zxing=yes
+            else
+                enable_zxing=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --enable-zxing=$enable_zxing" >&5
+printf "%s\n" "$as_me: Randomly set --enable-zxing=$enable_zxing" >&6;}
+            libo_fuzzed_enable_zxing=yes
+            libo_fuzz_list="$libo_fuzz_list --enable-zxing="'$enable_zxing'
+        fi
+
+fi
+
+
+
+
+# Check whether --with-system-zxing was given.
+if test ${with_system_zxing+y}
+then :
+  withval=$with_system_zxing;
+else $as_nop
+  with_system_zxing="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-zxcvbn was given.
+if test ${with_system_zxcvbn+y}
+then :
+  withval=$with_system_zxcvbn;
+else $as_nop
+  with_system_zxcvbn="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-box2d was given.
+if test ${with_system_box2d+y}
+then :
+  withval=$with_system_box2d;
+else $as_nop
+  with_system_box2d="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-mythes was given.
+if test ${with_system_mythes+y}
+then :
+  withval=$with_system_mythes;
+else $as_nop
+  with_system_mythes="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-altlinuxhyph was given.
+if test ${with_system_altlinuxhyph+y}
+then :
+  withval=$with_system_altlinuxhyph;
+else $as_nop
+  with_system_altlinuxhyph="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-lpsolve was given.
+if test ${with_system_lpsolve+y}
+then :
+  withval=$with_system_lpsolve;
+else $as_nop
+  with_system_lpsolve="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-coinmp was given.
+if test ${with_system_coinmp+y}
+then :
+  withval=$with_system_coinmp;
+else $as_nop
+  with_system_coinmp="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-liblangtag was given.
+if test ${with_system_liblangtag+y}
+then :
+  withval=$with_system_liblangtag;
+else $as_nop
+  with_system_liblangtag="$with_system_libs"
+fi
+
+
+
+# Check whether --with-system-lockfile was given.
+if test ${with_system_lockfile+y}
+then :
+  withval=$with_system_lockfile;
+fi
+
+
+
+# Check whether --with-webdav was given.
+if test ${with_webdav+y}
+then :
+  withval=$with_webdav;
+fi
+
+
+
+# Check whether --with-linker-hash-style was given.
+if test ${with_linker_hash_style+y}
+then :
+  withval=$with_linker_hash_style;
+fi
+
+
+
+# Check whether --with-jdk-home was given.
+if test ${with_jdk_home+y}
+then :
+  withval=$with_jdk_home;
+fi
+
+
+
+# Check whether --with-help was given.
+if test ${with_help+y}
+then :
+  withval=$with_help;
+fi
+
+
+
+# Check whether --with-omindex was given.
+if test ${with_omindex+y}
+then :
+  withval=$with_omindex;
+fi
+
+
+
+
+# Check whether --with-java was given.
+if test ${with_java+y}
+then :
+  withval=$with_java;  test -z "$with_java" -o "$with_java" = "yes" && with_java=java
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_java=yes
+            else
+                with_java=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-java=$with_java" >&5
+printf "%s\n" "$as_me: Randomly set --with-java=$with_java" >&6;}
+            libo_fuzzed_with_java=yes
+            libo_fuzz_list="$libo_fuzz_list --with-java="'$with_java'
+        fi
+         test -z "$with_java" -o "$with_java" = "yes" && with_java=java
+
+
+fi
+
+
+
+
+# Check whether --with-jvm-path was given.
+if test ${with_jvm_path+y}
+then :
+  withval=$with_jvm_path;
+fi
+
+
+
+# Check whether --with-ant-home was given.
+if test ${with_ant_home+y}
+then :
+  withval=$with_ant_home;
+fi
+
+
+
+# Check whether --with-symbol-config was given.
+if test ${with_symbol_config+y}
+then :
+  withval=$with_symbol_config;
+else $as_nop
+  with_symbol_config=no
+fi
+
+
+
+# Check whether --with-export-validation was given.
+if test ${with_export_validation+y}
+then :
+  withval=$with_export_validation;
+else $as_nop
+  with_export_validation=auto
+fi
+
+
+
+# Check whether --with-bffvalidator was given.
+if test ${with_bffvalidator+y}
+then :
+  withval=$with_bffvalidator;
+else $as_nop
+  with_bffvalidator=no
+fi
+
+
+
+
+# Check whether --with-junit was given.
+if test ${with_junit+y}
+then :
+  withval=$with_junit;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_junit=yes
+            else
+                with_junit=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-junit=$with_junit" >&5
+printf "%s\n" "$as_me: Randomly set --with-junit=$with_junit" >&6;}
+            libo_fuzzed_with_junit=yes
+            libo_fuzz_list="$libo_fuzz_list --with-junit="'$with_junit'
+        fi
+        with_junit=yes
+
+fi
+
+
+
+
+# Check whether --with-hamcrest was given.
+if test ${with_hamcrest+y}
+then :
+  withval=$with_hamcrest;
+else $as_nop
+  with_hamcrest=yes
+fi
+
+
+
+# Check whether --with-perl-home was given.
+if test ${with_perl_home+y}
+then :
+  withval=$with_perl_home;
+fi
+
+
+
+
+# Check whether --with-doxygen was given.
+if test ${with_doxygen+y}
+then :
+  withval=$with_doxygen;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_doxygen=yes
+            else
+                with_doxygen=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-doxygen=$with_doxygen" >&5
+printf "%s\n" "$as_me: Randomly set --with-doxygen=$with_doxygen" >&6;}
+            libo_fuzzed_with_doxygen=yes
+            libo_fuzz_list="$libo_fuzz_list --with-doxygen="'$with_doxygen'
+        fi
+        with_doxygen=yes
+
+fi
+
+
+
+
+# Check whether --with-visual-studio was given.
+if test ${with_visual_studio+y}
+then :
+  withval=$with_visual_studio;
+fi
+
+
+
+# Check whether --with-windows-sdk was given.
+if test ${with_windows_sdk+y}
+then :
+  withval=$with_windows_sdk;
+fi
+
+
+
+# Check whether --with-lang was given.
+if test ${with_lang+y}
+then :
+  withval=$with_lang;
+fi
+
+
+
+# Check whether --with-locales was given.
+if test ${with_locales+y}
+then :
+  withval=$with_locales;
+fi
+
+
+# Kerberos and GSSAPI used only by PostgreSQL as of LibO 3.5
+#and also by Mariadb/Mysql and libcurl since LibO 24.8
+
+
+# Check whether --with-krb5 was given.
+if test ${with_krb5+y}
+then :
+  withval=$with_krb5;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_krb5=yes
+            else
+                with_krb5=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-krb5=$with_krb5" >&5
+printf "%s\n" "$as_me: Randomly set --with-krb5=$with_krb5" >&6;}
+            libo_fuzzed_with_krb5=yes
+            libo_fuzz_list="$libo_fuzz_list --with-krb5="'$with_krb5'
+        fi
+
+
+fi
+
+
+
+
+
+# Check whether --with-gssapi was given.
+if test ${with_gssapi+y}
+then :
+  withval=$with_gssapi;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_gssapi=yes
+            else
+                with_gssapi=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-gssapi=$with_gssapi" >&5
+printf "%s\n" "$as_me: Randomly set --with-gssapi=$with_gssapi" >&6;}
+            libo_fuzzed_with_gssapi=yes
+            libo_fuzz_list="$libo_fuzz_list --with-gssapi="'$with_gssapi'
+        fi
+
+
+fi
+
+
+
+
+
+# Check whether --with-lxml was given.
+if test ${with_lxml+y}
+then :
+  withval=$with_lxml;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_lxml=yes
+            else
+                with_lxml=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-lxml=$with_lxml" >&5
+printf "%s\n" "$as_me: Randomly set --with-lxml=$with_lxml" >&6;}
+            libo_fuzzed_with_lxml=yes
+            libo_fuzz_list="$libo_fuzz_list --with-lxml="'$with_lxml'
+        fi
+
+
+fi
+
+
+
+
+
+# Check whether --with-latest-c++ was given.
+if test ${with_latest_c__+y}
+then :
+  withval=$with_latest_c__;
+else $as_nop
+  if test "$enable_fuzz_options" = yes; then
+            if test `expr $RANDOM % 2` = 1; then
+                with_latest_c__=yes
+            else
+                with_latest_c__=no
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Randomly set --with-latest-c++=$with_latest_c__" >&5
+printf "%s\n" "$as_me: Randomly set --with-latest-c++=$with_latest_c__" >&6;}
+            libo_fuzzed_with_latest_c__=yes
+            libo_fuzz_list="$libo_fuzz_list --with-latest-c++="'$with_latest_c__'
+        fi
+        with_latest_c__=no
+
+fi
+
+
+
+
+# Check whether --with-gtk3-build was given.
+if test ${with_gtk3_build+y}
+then :
+  withval=$with_gtk3_build;
+fi
+
+
+
+# Check whether --with-keep-awake was given.
+if test ${with_keep_awake+y}
+then :
+  withval=$with_keep_awake;
+fi
+
+
+
+
+# Check whether --with-branding was given.
+if test ${with_branding+y}
+then :
+  withval=$with_branding;
+fi
+
+
+
+
+# Check whether --with-extra-buildid was given.
+if test ${with_extra_buildid+y}
+then :
+  withval=$with_extra_buildid;
+fi
+
+
+
+
+# Check whether --with-vendor was given.
+if test ${with_vendor+y}
+then :
+  withval=$with_vendor;
+fi
+
+
+
+# Check whether --with-privacy-policy-url was given.
+if test ${with_privacy_policy_url+y}
+then :
+  withval=$with_privacy_policy_url; if test "x$with_privacy_policy_url" = "xyes"; then
+            { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "you need to specify an argument when using --with-privacy-policy-url
+See \`config.log' for more details" "$LINENO" 5; }
+         elif test "x$with_privacy_policy_url" = "xno"; then
+            with_privacy_policy_url="undefined"
+         fi
+
+else $as_nop
+  with_privacy_policy_url="undefined"
+fi
+
+
+
+# Check whether --with-android-package-name was given.
+if test ${with_android_package_name+y}
+then :
+  withval=$with_android_package_name;
+fi
+
+
+
+# Check whether --with-compat-oowrappers was given.
+if test ${with_compat_oowrappers+y}
+then :
+  withval=$with_compat_oowrappers;
+fi
+
+
+
+# Check whether --with-os-version was given.
+if test ${with_os_version+y}
+then :
+  withval=$with_os_version;
+fi
+
+
+
+# Check whether --with-parallelism was given.
+if test ${with_parallelism+y}
+then :
+  withval=$with_parallelism;
+fi
+
+
+
+# Check whether --with-all-tarballs was given.
+if test ${with_all_tarballs+y}
+then :
+  withval=$with_all_tarballs;
+fi
+
+
+
+# Check whether --with-gdrive-client-id was given.
+if test ${with_gdrive_client_id+y}
+then :
+  withval=$with_gdrive_client_id;
+fi
+
+
+
+# Check whether --with-gdrive-client-secret was given.
+if test ${with_gdrive_client_secret+y}
+then :
+  withval=$with_gdrive_client_secret;
+fi
+
+
+
+# Check whether --with-alfresco-cloud-client-id was given.
+if test ${with_alfresco_cloud_client_id+y}
+then :
+  withval=$with_alfresco_cloud_client_id;
+fi
+
+
+
+# Check whether --with-alfresco-cloud-client-secret was given.
+if test ${with_alfresco_cloud_client_secret+y}
+then :
+  withval=$with_alfresco_cloud_client_secret;
+fi
+
+
+
+# Check whether --with-onedrive-client-id was given.
+if test ${with_onedrive_client_id+y}
+then :
+  withval=$with_onedrive_client_id;
+fi
+
+
+
+# Check whether --with-onedrive-client-secret was given.
+if test ${with_onedrive_client_secret+y}
+then :
+  withval=$with_onedrive_client_secret;
+fi
+
+
+
+# Check whether --with-coredumpctl was given.
+if test ${with_coredumpctl+y}
+then :
+  withval=$with_coredumpctl;
+fi
+
+
+
+# Check whether --with-buildconfig-recorded was given.
+if test ${with_buildconfig_recorded+y}
+then :
+  withval=$with_buildconfig_recorded;
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to record build config" >&5
+printf %s "checking whether to record build config... " >&6; }
+if test -z "$with_buildconfig_recorded"; then
+    with_buildconfig_recorded=no
+fi
+if test "$with_buildconfig_recorded" = no; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    # replace backslashes, to get a valid c++ string
+    config_args=$(echo $ac_configure_args | tr '\\' '/')
+
+printf "%s\n" "#define BUILDCONFIG \"$config_args\"" >>confdefs.h
+
+
+printf "%s\n" "#define BUILDCONFIG_RECORDED 1" >>confdefs.h
+
+fi
+
+
+if test "$enable_library_bin_tar" = "yes" ; then
+    USE_LIBRARY_BIN_TAR=TRUE
+else
+    USE_LIBRARY_BIN_TAR=
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether build target is Release Build" >&5
+printf %s "checking whether build target is Release Build... " >&6; }
+if test "$enable_release_build" = "" -o "$enable_release_build" = "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_RELEASE_BUILD=
+            GET_TASK_ALLOW_ENTITLEMENT='<!-- We want to be able to debug a hardened process when not building for release --><key>com.apple.security.get-task-allow</key><true/>'
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_RELEASE_BUILD=TRUE
+    GET_TASK_ALLOW_ENTITLEMENT=
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether build should auto use hardening compiler flags" >&5
+printf %s "checking whether build should auto use hardening compiler flags... " >&6; }
+if test "$enable_hardening_flags" = "" -o "$enable_hardening_flags" = "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_HARDENING_FLAGS=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_HARDENING_FLAGS=TRUE
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build a Community flavor" >&5
+printf %s "checking whether to build a Community flavor... " >&6; }
+if test -z "$enable_community_flavor" -o "$enable_community_flavor" = "yes"; then
+    printf "%s\n" "#define HAVE_FEATURE_COMMUNITY_FLAVOR 1" >>confdefs.h
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to sign windows build" >&5
+printf %s "checking whether to sign windows build... " >&6; }
+if test "$enable_windows_build_signing" = "yes" -a "$_os" = "WINNT"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    WINDOWS_BUILD_SIGNING="TRUE"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    WINDOWS_BUILD_SIGNING="FALSE"
+fi
+
+
+
+
+# Check whether --with-macosx-version-min-required was given.
+if test ${with_macosx_version_min_required+y}
+then :
+  withval=$with_macosx_version_min_required;
+fi
+
+
+
+if test "$libo_fuzzed_enable_dbus" = yes -a "$libo_fuzzed_enable_avahi" -a \
+        "$enable_dbus" != "$enable_avahi"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Resetting --enable-avahi=$enable_dbus" >&5
+printf "%s\n" "$as_me: Resetting --enable-avahi=$enable_dbus" >&6;}
+    enable_avahi=$enable_dbus
+fi
+
+add_lopath_after ()
+{
+    if ! echo "$LO_PATH" | $EGREP -q "(^|${P_SEP})$1($|${P_SEP})"; then
+        LO_PATH="${LO_PATH:+$LO_PATH$P_SEP}$1"
+    fi
+}
+
+add_lopath_before ()
+{
+    local IFS=${P_SEP}
+    local path_cleanup
+    local dir
+    for dir in $LO_PATH ; do
+        if test "$dir" != "$1" ; then
+            path_cleanup=${path_cleanup:+$path_cleanup$P_SEP}$dir
+        fi
+    done
+    LO_PATH="$1${path_cleanup:+$P_SEP$path_cleanup}"
+}
+
+
+pathmunge ()
+{
+    local new_path
+    if test -n "$1"; then
+        if test "$build_os" = "cygwin"; then
+            if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+                PathFormat "$1"
+                new_path=`cygpath -sm "$formatted_path"`
+            else
+                PathFormat "$1"
+                new_path=`cygpath -u "$formatted_path"`
+            fi
+        else
+            new_path="$1"
+        fi
+        if test "$2" = "after"; then
+            add_lopath_after "$new_path"
+        else
+            add_lopath_before "$new_path"
+        fi
+    fi
+}
+
+for ac_prog in gawk mawk nawk awk
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_AWK+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$AWK"; then
+  ac_cv_prog_AWK="$AWK" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_AWK="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+AWK=$ac_cv_prog_AWK
+if test -n "$AWK"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $AWK" >&5
+printf "%s\n" "$AWK" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$AWK" && break
+done
+
+# Extract the first word of "$AWK", so it can be a program name with args.
+set dummy $AWK; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_AWK+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $AWK in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_AWK="$AWK" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_AWK="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+AWK=$ac_cv_path_AWK
+if test -n "$AWK"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $AWK" >&5
+printf "%s\n" "$AWK" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test -z "$AWK"; then
+    as_fn_error $? "install awk to run this script" "$LINENO" 5
+fi
+
+# Extract the first word of "bash", so it can be a program name with args.
+set dummy bash; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_BASH+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $BASH in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_BASH="$BASH" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_BASH="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+BASH=$ac_cv_path_BASH
+if test -n "$BASH"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $BASH" >&5
+printf "%s\n" "$BASH" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test -z "$BASH"; then
+    as_fn_error $? "bash not found in \$PATH" "$LINENO" 5
+fi
+
+
+# prefer parallel compression tools, if available
+# Extract the first word of "pigz", so it can be a program name with args.
+set dummy pigz; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_COMPRESSIONTOOL+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $COMPRESSIONTOOL in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_COMPRESSIONTOOL="$COMPRESSIONTOOL" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_COMPRESSIONTOOL="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+COMPRESSIONTOOL=$ac_cv_path_COMPRESSIONTOOL
+if test -n "$COMPRESSIONTOOL"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $COMPRESSIONTOOL" >&5
+printf "%s\n" "$COMPRESSIONTOOL" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test -z "$COMPRESSIONTOOL"; then
+    # Extract the first word of "gzip", so it can be a program name with args.
+set dummy gzip; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_COMPRESSIONTOOL+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $COMPRESSIONTOOL in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_COMPRESSIONTOOL="$COMPRESSIONTOOL" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_COMPRESSIONTOOL="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+COMPRESSIONTOOL=$ac_cv_path_COMPRESSIONTOOL
+if test -n "$COMPRESSIONTOOL"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $COMPRESSIONTOOL" >&5
+printf "%s\n" "$COMPRESSIONTOOL" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    if test -z "$COMPRESSIONTOOL"; then
+        as_fn_error $? "gzip not found in \$PATH" "$LINENO" 5
+    fi
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for GNU or BSD tar" >&5
+printf %s "checking for GNU or BSD tar... " >&6; }
+for a in $GNUTAR gtar gnutar tar bsdtar /usr/sfw/bin/gtar; do
+    $a --version 2> /dev/null | grep -E "GNU|bsdtar"  2>&1 > /dev/null
+    if test $? -eq 0;  then
+        GNUTAR=$a
+        break
+    fi
+done
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GNUTAR" >&5
+printf "%s\n" "$GNUTAR" >&6; }
+if test -z "$GNUTAR"; then
+    as_fn_error $? "not found. install GNU or BSD tar." "$LINENO" 5
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tar's option to strip components" >&5
+printf %s "checking for tar's option to strip components... " >&6; }
+$GNUTAR --help 2> /dev/null | grep -E "bsdtar|strip-components" 2>&1 >/dev/null
+if test $? -eq 0; then
+    STRIP_COMPONENTS="--strip-components"
+else
+    $GNUTAR --help 2> /dev/null | grep -E "strip-path" 2>&1 >/dev/null
+    if test $? -eq 0; then
+        STRIP_COMPONENTS="--strip-path"
+    else
+        STRIP_COMPONENTS="unsupported"
+    fi
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $STRIP_COMPONENTS" >&5
+printf "%s\n" "$STRIP_COMPONENTS" >&6; }
+if test x$STRIP_COMPONENTS = xunsupported; then
+    as_fn_error $? "you need a tar that is able to strip components." "$LINENO" 5
+fi
+
+
+
+
+
+if test $_os != iOS -a $_os != Android -a "$enable_fuzzers" != "yes"; then
+    BUILD_TYPE="$BUILD_TYPE DESKTOP"
+    printf "%s\n" "#define HAVE_FEATURE_DESKTOP 1" >>confdefs.h
+
+    if test "$_os" != Emscripten; then
+        printf "%s\n" "#define HAVE_FEATURE_MULTIUSER_ENVIRONMENT 1" >>confdefs.h
+
+    fi
+fi
+
+# explicitly doesn't include enable_gtk3=no and enable_qt5=yes, so it should
+# also work with the default gtk3 plugin.
+if test "$enable_wasm_strip" = "yes"; then
+    enable_avmedia=no
+    enable_libcmis=no
+    enable_coinmp=no
+    enable_cups=no
+    test "$_os" = Emscripten && enable_curl=no
+    enable_database_connectivity=no
+    enable_dbus=no
+    enable_dconf=no
+    test "${enable_dynamic_loading+set}" = set -o "$_os" != Emscripten || enable_dynamic_loading=no
+    enable_extension_integration=no
+    enable_extensions=no
+    enable_extension_update=no
+    enable_gio=no
+    enable_gpgmepp=no
+    enable_ldap=no
+    enable_lotuswordpro=no
+    enable_lpsolve=no
+    enable_nss=no
+    enable_odk=no
+    enable_online_update=no
+    enable_opencl=no
+    # enable_pdfimport preserved for WASM PDF support
+    enable_randr=no
+    enable_report_builder=no
+    enable_scripting=no
+    enable_sdremote_bluetooth=no
+    enable_skia=no
+    enable_xmlhelp=no
+    enable_zxing=no
+    test_libepubgen=no
+    test_libcdr=no
+    test_libcmis=no
+    test_libetonyek=no
+    test_libfreehand=no
+    test_libmspub=no
+    test_libpagemaker=no
+    test_libqxp=no
+    test_libvisio=no
+    test_libzmf=no
+    test_webdav=no
+    with_galleries=no
+    with_templates=no
+    with_webdav=no
+    with_x=no
+
+    test "${with_fonts+set}" = set || with_fonts=yes
+    test "${with_locales+set}" = set || with_locales=en
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_ACCESSIBILITY 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_WRITER 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_CALC 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_CANVAS 1" >>confdefs.h
+
+#    AC_DEFINE(ENABLE_WASM_STRIP_CHART)
+    printf "%s\n" "#define ENABLE_WASM_STRIP_DBACCESS 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_EPUB 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_EXTRA 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_GUESSLANG 1" >>confdefs.h
+
+#    AC_DEFINE(ENABLE_WASM_STRIP_HUNSPELL)
+    printf "%s\n" "#define ENABLE_WASM_STRIP_LANGUAGETOOL 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_PINGUSER 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_PREMULTIPLY 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_RECENT 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_RECOVERYUI 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_SPLASH 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_SWEXPORTS 1" >>confdefs.h
+
+    printf "%s\n" "#define ENABLE_WASM_STRIP_SCEXPORTS 1" >>confdefs.h
+
+fi
+
+# Whether to build "avmedia" functionality or not.
+
+if test "$enable_avmedia" = yes; then
+    BUILD_TYPE="$BUILD_TYPE AVMEDIA"
+    printf "%s\n" "#define HAVE_FEATURE_AVMEDIA 1" >>confdefs.h
+
+else
+    test_gstreamer_1_0=no
+fi
+
+# Decide whether to build database connectivity stuff (including Base) or not.
+if test "$enable_database_connectivity" != no; then
+    BUILD_TYPE="$BUILD_TYPE DBCONNECTIVITY"
+    printf "%s\n" "#define HAVE_FEATURE_DBCONNECTIVITY 1" >>confdefs.h
+
+else
+    if test "$_os" = iOS; then
+        as_fn_error $? "Presumly can't disable DB connectivity on iOS." "$LINENO" 5
+    fi
+    disable_database_connectivity_dependencies
+fi
+
+if test -z "$enable_extensions"; then
+    # For iOS and Android Viewer, disable extensions unless specifically overridden with --enable-extensions.
+    if test $_os != iOS && test $_os != Android -o "$ENABLE_ANDROID_LOK" = TRUE ; then
+        enable_extensions=yes
+    fi
+fi
+
+DISABLE_SCRIPTING=''
+if test "$enable_scripting" = yes; then
+    BUILD_TYPE="$BUILD_TYPE SCRIPTING"
+    printf "%s\n" "#define HAVE_FEATURE_SCRIPTING 1" >>confdefs.h
+
+else
+    DISABLE_SCRIPTING='TRUE'
+    SCPDEFS="$SCPDEFS -DDISABLE_SCRIPTING"
+fi
+
+if test $_os = iOS -o $_os = Android -o $_os = Emscripten; then
+    # Disable dynamic_loading always for iOS and Android
+    enable_dynamic_loading=no
+elif test -z "$enable_dynamic_loading"; then
+    # Otherwise enable it unless specifically disabled
+    enable_dynamic_loading=yes
+fi
+
+DISABLE_DYNLOADING=''
+if test "$enable_dynamic_loading" = yes; then
+    BUILD_TYPE="$BUILD_TYPE DYNLOADING"
+else
+    DISABLE_DYNLOADING='TRUE'
+    if test $_os != iOS -a $_os != Android; then
+        enable_database_connectivity=no
+        enable_nss=no
+        enable_odk=no
+        enable_python=no
+        enable_skia=no
+        with_java=no
+    fi
+fi
+
+
+ENABLE_CUSTOMTARGET_COMPONENTS=
+if test "$enable_customtarget_components" = yes -a "$DISABLE_DYNLOADING" = TRUE; then
+    ENABLE_CUSTOMTARGET_COMPONENTS=TRUE
+    if test -n "$with_locales" -a "$with_locales" != en -a "$with_locales" != ALL; then
+        as_fn_error $? "Currently just --with-locales=all or en is supported with --enable-customtarget-components" "$LINENO" 5
+    fi
+fi
+
+
+if test "$enable_extensions" = yes; then
+    BUILD_TYPE="$BUILD_TYPE EXTENSIONS"
+    printf "%s\n" "#define HAVE_FEATURE_EXTENSIONS 1" >>confdefs.h
+
+else
+    enable_extension_integration=no
+    enable_extension_update=no
+fi
+
+# remember SYSBASE value
+
+
+WITH_GALLERY_BUILD=TRUE
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking how to build and package galleries" >&5
+printf %s "checking how to build and package galleries... " >&6; }
+if test -n "${with_galleries}"; then
+    if test "$with_galleries" = "build"; then
+        if test "$enable_database_connectivity" = no; then
+            as_fn_error $? "DB connectivity is needed for gengal / svx" "$LINENO" 5
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: build from source images internally" >&5
+printf "%s\n" "build from source images internally" >&6; }
+    elif test "$with_galleries" = "no"; then
+        WITH_GALLERY_BUILD=
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disable non-internal gallery build" >&5
+printf "%s\n" "disable non-internal gallery build" >&6; }
+    else
+        as_fn_error $? "unknown value --with-galleries=$with_galleries" "$LINENO" 5
+    fi
+else
+    if test $_os != iOS -a $_os != Android; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal src images for desktop" >&5
+printf "%s\n" "internal src images for desktop" >&6; }
+    else
+        WITH_GALLERY_BUILD=
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disable src image build" >&5
+printf "%s\n" "disable src image build" >&6; }
+    fi
+fi
+
+
+WITH_TEMPLATES=TRUE
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking build with or without template files" >&5
+printf %s "checking build with or without template files... " >&6; }
+if test -n "${with_templates}"; then
+    if test "$with_templates" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: enable all templates" >&5
+printf "%s\n" "enable all templates" >&6; }
+    elif test "$with_templates" = "no"; then
+        WITH_TEMPLATES=
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disable non-internal templates" >&5
+printf "%s\n" "disable non-internal templates" >&6; }
+    else
+        as_fn_error $? "unknown value --with-templates=$with_templates" "$LINENO" 5
+    fi
+else
+    if test $_os != iOS -a $_os != Android -a $_os != Emscripten; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: enable all templates" >&5
+printf "%s\n" "enable all templates" >&6; }
+    else
+        WITH_TEMPLATES=
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disable non-internal templates" >&5
+printf "%s\n" "disable non-internal templates" >&6; }
+    fi
+fi
+
+
+CCACHE_DEPEND_MODE=
+if test "$enable_ccache" = "no"; then
+    CCACHE=""
+elif test -n "$enable_ccache" -o \( "$enable_ccache" = "" -a "$enable_icecream" != "yes" \); then
+    case "%$CC%$CXX%" in
+    # If $CC and/or $CXX already contain "ccache" (possibly suffixed with some version number etc),
+    # assume that's good then
+    *%ccache[-_' ']*|*/ccache[-_' ']*)
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: ccache seems to be included in a pre-defined CC and/or CXX" >&5
+printf "%s\n" "$as_me: ccache seems to be included in a pre-defined CC and/or CXX" >&6;}
+        CCACHE_DEPEND_MODE=1
+        ;;
+    *)
+        # try to use our own ccache if it is available and CCACHE was not already defined
+        if test -z "$CCACHE"; then
+            if test "$_os" = "WINNT"; then
+                ccache_ext=.exe # e.g. openssl build needs ccache.exe, not just ccache
+            fi
+            if test -n "$LODE_HOME" -a -x "$LODE_HOME/opt/bin/ccache$ccache_ext" ; then
+                CCACHE="$LODE_HOME/opt/bin/ccache$ccache_ext"
+            elif test -x "/opt/lo/bin/ccache$ccache_ext"; then
+                CCACHE="/opt/lo/bin/ccache$ccache_ext"
+            fi
+        fi
+        # Extract the first word of "ccache", so it can be a program name with args.
+set dummy ccache; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_CCACHE+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $CCACHE in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_CCACHE="$CCACHE" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_CCACHE="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_CCACHE" && ac_cv_path_CCACHE="not found"
+  ;;
+esac
+fi
+CCACHE=$ac_cv_path_CCACHE
+if test -n "$CCACHE"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CCACHE" >&5
+printf "%s\n" "$CCACHE" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test "$CCACHE" != "not found" -a "$_os" = "WINNT"; then
+            CCACHE=`win_short_path_for_make "$CCACHE"`
+            # check that it has MSVC support (it should recognize it in CCACHE_COMPILERTYPE)
+            rm -f conftest.txt
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CCACHE has MSVC support" >&5
+printf %s "checking whether $CCACHE has MSVC support... " >&6; }
+            CCACHE_COMPILERTYPE=cl CCACHE_LOGFILE=conftest.txt $CCACHE echo >/dev/null 2>/dev/null
+            if grep -q 'Config: (environment) compiler_type = cl' conftest.txt; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+                CCACHE="not found"
+            fi
+            rm -f conftest.txt
+        fi
+        if test "$CCACHE" = "not found" -a "$_os" = "WINNT"; then
+            # on windows/VC perhaps sccache is around?
+            case "%$CC%$CXX%" in
+            # If $CC and/or $CXX already contain "sccache" (possibly suffixed with some version number etc),
+            # assume that's good then
+            *%sccache[-_' ']*|*/sccache[-_' ']*)
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: sccache seems to be included in a pre-defined CC and/or CXX" >&5
+printf "%s\n" "$as_me: sccache seems to be included in a pre-defined CC and/or CXX" >&6;}
+                CCACHE_DEPEND_MODE=1
+                SCCACHE=1
+                ;;
+            *)
+                # for sharing code below, reuse CCACHE env var
+                # Extract the first word of "sccache", so it can be a program name with args.
+set dummy sccache; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_CCACHE+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $CCACHE in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_CCACHE="$CCACHE" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_CCACHE="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_CCACHE" && ac_cv_path_CCACHE="not found"
+  ;;
+esac
+fi
+CCACHE=$ac_cv_path_CCACHE
+if test -n "$CCACHE"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CCACHE" >&5
+printf "%s\n" "$CCACHE" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+                if test "$CCACHE" != "not found"; then
+                    CCACHE=`win_short_path_for_make "$CCACHE"`
+                    SCCACHE=1
+                    CCACHE_DEPEND_MODE=1
+                fi
+                ;;
+            esac
+        fi
+        if test "$CCACHE" = "not found"; then
+            CCACHE=""
+        fi
+        if test -n "$CCACHE" -a -z "$SCCACHE"; then
+            CCACHE_DEPEND_MODE=1
+            # Need to check for ccache version: otherwise prevents
+            # caching of the results (like "-x objective-c++" for Mac)
+            if test $_os = Darwin -o $_os = iOS; then
+                # Check ccache version
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether version of ccache is suitable" >&5
+printf %s "checking whether version of ccache is suitable... " >&6; }
+                CCACHE_VERSION=`"$CCACHE" -V | "$AWK" '/^ccache version/{print $3}'`
+                CCACHE_NUMVER=`echo $CCACHE_VERSION | $AWK -F. '{ print \$1*10000+\$2*100+\$3 }'`
+                if test "$CCACHE_VERSION" = "2.4_OOo" -o "$CCACHE_NUMVER" -ge "030100"; then
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, $CCACHE_VERSION" >&5
+printf "%s\n" "yes, $CCACHE_VERSION" >&6; }
+                else
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, $CCACHE_VERSION" >&5
+printf "%s\n" "no, $CCACHE_VERSION" >&6; }
+                    CCACHE=""
+                    CCACHE_DEPEND_MODE=
+                fi
+            fi
+        fi
+        if test "$enable_ccache" = yes && test -z "$CCACHE"; then
+            as_fn_error $? "No suitable ccache found" "$LINENO" 5
+        fi
+        ;;
+    esac
+else
+    CCACHE=""
+fi
+if test "$enable_ccache" = "nodepend"; then
+    CCACHE_DEPEND_MODE=""
+fi
+
+
+# sccache defaults are good enough
+if test "$CCACHE" != "" -a -z "$SCCACHE"; then
+    # e.g. (/home/rene/.config/ccache/ccache.conf) max_size = 20.0G
+    # or (...) max_size = 20.0 G
+    # -p works with both 4.2 and 4.4
+    ccache_size_msg=$($CCACHE -p | $AWK /max_size/'{ print $4 $5 }' | sed -e 's/\.[0-9]*//')
+    ccache_size=$(echo "$ccache_size_msg" | grep "G" | sed -e 's/G.*$//')
+    if test "$ccache_size" = ""; then
+        ccache_size=$(echo "$ccache_size_msg" | grep "M" | sed -e 's/\ M.*$//')
+        if test "$ccache_size" = ""; then
+            ccache_size=0
+        fi
+        # we could not determine the size or it was less than 1GB -> disable auto-ccache
+        if test $ccache_size -lt 1024; then
+            CCACHE=""
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: ccache's cache size is less than 1GB using it is counter-productive: Disabling auto-ccache detection" >&5
+printf "%s\n" "$as_me: WARNING: ccache's cache size is less than 1GB using it is counter-productive: Disabling auto-ccache detection" >&2;}
+            add_warning "ccache's cache size is less than 1GB using it is counter-productive: auto-ccache detection disabled"
+        else
+            # warn that ccache may be too small for debug build
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: ccache's cache size is less than 5GB using it may be counter-productive for debug or symbol-enabled build" >&5
+printf "%s\n" "$as_me: WARNING: ccache's cache size is less than 5GB using it may be counter-productive for debug or symbol-enabled build" >&2;}
+            add_warning "ccache's cache size is less than 5GB using it may be counter-productive for debug or symbol-enabled build"
+        fi
+    else
+        if test $ccache_size -lt 5; then
+            #warn that ccache may be too small for debug build
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: ccache's cache size is less than 5GB using it may be counter-productive for debug or symbol-enabled build" >&5
+printf "%s\n" "$as_me: WARNING: ccache's cache size is less than 5GB using it may be counter-productive for debug or symbol-enabled build" >&2;}
+            add_warning "ccache's cache size is less than 5GB using it may be counter-productive for debug or symbol-enabled build"
+        fi
+    fi
+fi
+
+ENABLE_Z7_DEBUG=
+if test "$enable_z7_debug" != no; then
+    if test "$enable_z7_debug" = yes -o -n "$CCACHE"; then
+        ENABLE_Z7_DEBUG=TRUE
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: ccache will not work with --disable-z7-debug" >&5
+printf "%s\n" "$as_me: WARNING: ccache will not work with --disable-z7-debug" >&2;}
+    add_warning "ccache will not work with --disable-z7-debug"
+fi
+
+
+if test "$_os" != "WINNT"; then
+    GCC_HOME_SET="true"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking gcc home" >&5
+printf %s "checking gcc home... " >&6; }
+    if test -z "$with_gcc_home"; then
+        if test "$enable_icecream" = "yes"; then
+            if test -d "/usr/lib/icecc/bin"; then
+                GCC_HOME="/usr/lib/icecc/"
+            elif test -d "/usr/libexec/icecc/bin"; then
+                GCC_HOME="/usr/libexec/icecc/"
+            elif test -d "/opt/icecream/bin"; then
+                GCC_HOME="/opt/icecream/"
+            else
+                as_fn_error $? "Could not figure out the location of icecream GCC wrappers, manually use --with-gcc-home" "$LINENO" 5
+
+            fi
+        else
+            GCC_HOME=`command -v gcc | $SED -e s,/bin/gcc,,`
+            GCC_HOME_SET="false"
+        fi
+    else
+        GCC_HOME="$with_gcc_home"
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GCC_HOME" >&5
+printf "%s\n" "$GCC_HOME" >&6; }
+
+
+    if test "$GCC_HOME_SET" = "true"; then
+        if test -z "$CC"; then
+            CC="$GCC_HOME/bin/gcc"
+            CC_BASE="gcc"
+        fi
+        if test -z "$CXX"; then
+            CXX="$GCC_HOME/bin/g++"
+            CXX_BASE="g++"
+        fi
+    fi
+fi
+
+COMPATH=`dirname "$CC"`
+if test "$COMPATH" = "."; then
+    for ac_prog in $CC
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_COMPATH+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $COMPATH in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_COMPATH="$COMPATH" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_COMPATH="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+COMPATH=$ac_cv_path_COMPATH
+if test -n "$COMPATH"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $COMPATH" >&5
+printf "%s\n" "$COMPATH" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$COMPATH" && break
+done
+
+        COMPATH=`echo $COMPATH | $SED "s@/[^/:]*\\\$@@"`
+fi
+COMPATH=`echo $COMPATH | $SED "s@/[Bb][Ii][Nn]\\\$@@"`
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build with Java support" >&5
+printf %s "checking whether to build with Java support... " >&6; }
+javacompiler="javac"
+javadoc="javadoc"
+if test "$with_java" != "no"; then
+    if test "$DISABLE_SCRIPTING" = TRUE; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, overridden by --disable-scripting" >&5
+printf "%s\n" "no, overridden by --disable-scripting" >&6; }
+        ENABLE_JAVA=""
+        with_java=no
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        ENABLE_JAVA="TRUE"
+        printf "%s\n" "#define HAVE_FEATURE_JAVA 1" >>confdefs.h
+
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_JAVA=""
+fi
+
+
+
+
+
+
+if test $_os = Darwin; then
+
+    # The SDK in the currently selected Xcode should be found.
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking what macOS SDK to use" >&5
+printf %s "checking what macOS SDK to use... " >&6; }
+    # XCode only ships with a single SDK for a while now, and using older SDKs alongside is not
+    # really supported anymore, instead you'd use different copies of Xcode, each with their own
+    # SDK, and thus xcrun will pick the SDK that matches the currently selected Xcode version
+    # also restricting the SDK version to "known good" versions doesn't seem necessary anymore, the
+    # problems that existed in the PPC days with target versions not being respected or random
+    # failures seems to be a thing of the past or rather: limiting either the Xcode version or the
+    # SDK version is enough, no need to do both...
+    MACOSX_SDK_PATH=`xcrun --sdk macosx --show-sdk-path 2> /dev/null`
+    if test ! -d "$MACOSX_SDK_PATH"; then
+        as_fn_error $? "Could not find an appropriate macOS SDK" "$LINENO" 5
+    fi
+    macosx_sdk=`xcodebuild -version -sdk "$MACOSX_SDK_PATH" SDKVersion`
+    MACOSX_SDK_BUILD_VERSION=$(xcodebuild -version -sdk "$MACOSX_SDK_PATH" ProductBuildVersion)
+    # format changed between 10.9 and 10.10 - up to 10.9 it was just four digits (1090), starting
+    # with macOS 10.10 it was switched to account for x.y.z with six digits, 10.10 is 101000,
+    # 10.10.2 is 101002
+    # we don't target the lower versions anymore, so it doesn't matter that we don't generate the
+    # correct version in case such an old SDK is specified, it will be rejected later anyway
+    MACOSX_SDK_VERSION=$(echo $macosx_sdk | $AWK -F. '{ print $1*10000+$2*100+$3 }')
+    if test $MACOSX_SDK_VERSION -lt 101500; then
+        as_fn_error $? "macOS SDK $macosx_sdk is not supported, lowest supported version is 10.15" "$LINENO" 5
+    fi
+    if test "$host_cpu" = arm64 -a $MACOSX_SDK_VERSION -lt 110000; then
+        as_fn_error $? "macOS SDK $macosx_sdk is not supported for Apple Silicon (need at least 11.0)" "$LINENO" 5
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: macOS SDK $macosx_sdk at $MACOSX_SDK_PATH" >&5
+printf "%s\n" "macOS SDK $macosx_sdk at $MACOSX_SDK_PATH" >&6; }
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking what minimum version of macOS to require" >&5
+printf %s "checking what minimum version of macOS to require... " >&6; }
+    if test "$with_macosx_version_min_required" = "" ; then
+        if test "$host_cpu" = x86_64; then
+            with_macosx_version_min_required="10.15";
+        else
+            with_macosx_version_min_required="11.0";
+        fi
+    fi
+    # see same notes about MACOSX_SDK_VERSION above
+    MAC_OS_X_VERSION_MIN_REQUIRED=$(echo $with_macosx_version_min_required | $AWK -F. '{ print $1*10000+$2*100+$3 }')
+    if test $MAC_OS_X_VERSION_MIN_REQUIRED -lt 101500; then
+        as_fn_error $? "with-macosx-version-min-required $with_macosx_version_min_required is not a supported value, minimum supported version is 10.15" "$LINENO" 5
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $with_macosx_version_min_required" >&5
+printf "%s\n" "$with_macosx_version_min_required" >&6; }
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that macosx-version-min-required is coherent with macos-with-sdk" >&5
+printf %s "checking that macosx-version-min-required is coherent with macos-with-sdk... " >&6; }
+    if test $MAC_OS_X_VERSION_MIN_REQUIRED -gt $MACOSX_SDK_VERSION; then
+        as_fn_error $? "the version minimum required ($with_macosx_version_min_required) cannot be greater than the sdk level ($macosx_sdk)" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    fi
+
+    # export this so that "xcrun" invocations later return matching values
+    DEVELOPER_DIR="${MACOSX_SDK_PATH%/SDKs*}"
+    DEVELOPER_DIR="${DEVELOPER_DIR%/Platforms*}"
+    export DEVELOPER_DIR
+    FRAMEWORKSHOME="$MACOSX_SDK_PATH/System/Library/Frameworks"
+    MACOSX_DEPLOYMENT_TARGET="$with_macosx_version_min_required"
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether Xcode is new enough" >&5
+printf %s "checking whether Xcode is new enough... " >&6; }
+    my_xcode_ver1=$(xcrun xcodebuild -version | head -n 1)
+    my_xcode_ver2=${my_xcode_ver1#Xcode }
+    my_xcode_ver3=$(printf %s "$my_xcode_ver2" | $AWK -F. '{ print $1*100+($2<100?$2:99) }')
+    if test "$my_xcode_ver3" -ge 1205; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes ($my_xcode_ver2)" >&5
+printf "%s\n" "yes ($my_xcode_ver2)" >&6; }
+        if test $MAC_OS_X_VERSION_MIN_REQUIRED -lt 120000; then
+            if test "$my_xcode_ver3" -eq 1500; then
+                                                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Use a current version of XCode or bump the minimum deployment target" >&5
+printf "%s\n" "$as_me: WARNING: Use a current version of XCode or bump the minimum deployment target" >&2;}
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: see https://developer.apple.com/documentation/xcode-release-notes/xcode-15-release-notes#Linking" >&5
+printf "%s\n" "$as_me: WARNING: see https://developer.apple.com/documentation/xcode-release-notes/xcode-15-release-notes#Linking" >&2;}
+                as_fn_error $? "Xcode 15.0 has a bug in the new linker that causes runtime crashes on macOS 11 - aborting" "$LINENO" 5
+            fi
+        fi
+    else
+        as_fn_error $? "\"$my_xcode_ver1\" is too old or unrecognized, must be at least Xcode 12.5" "$LINENO" 5
+    fi
+
+    my_xcode_ver1=$(xcrun xcodebuild -version | tail -n 1)
+    MACOSX_XCODE_BUILD_VERSION=${my_xcode_ver1#Build version }
+
+    LIBTOOL=/usr/bin/libtool
+    INSTALL_NAME_TOOL=install_name_tool
+    if test -z "$save_CC"; then
+        stdlib=-stdlib=libc++
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking what C compiler to use" >&5
+printf %s "checking what C compiler to use... " >&6; }
+        CC="`xcrun -find clang`"
+        CC_BASE=`first_arg_basename "$CC"`
+        if test "$host_cpu" = x86_64; then
+            CC+=" -target x86_64-apple-macos"
+        else
+            CC+=" -target arm64-apple-macos"
+        fi
+        CC+=" -mmacosx-version-min=$with_macosx_version_min_required -isysroot $MACOSX_SDK_PATH"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
+printf "%s\n" "$CC" >&6; }
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking what C++ compiler to use" >&5
+printf %s "checking what C++ compiler to use... " >&6; }
+        CXX="`xcrun -find clang++`"
+        CXX_BASE=`first_arg_basename "$CXX"`
+        if test "$host_cpu" = x86_64; then
+            CXX+=" -target x86_64-apple-macos"
+        else
+            CXX+=" -target arm64-apple-macos"
+        fi
+        CXX+=" $stdlib -mmacosx-version-min=$with_macosx_version_min_required -isysroot $MACOSX_SDK_PATH"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CXX" >&5
+printf "%s\n" "$CXX" >&6; }
+
+        INSTALL_NAME_TOOL=`xcrun -find install_name_tool`
+        AR=`xcrun -find ar`
+        NM=`xcrun -find nm`
+        STRIP=`xcrun -find strip`
+        LIBTOOL=`xcrun -find libtool`
+        RANLIB=`xcrun -find ranlib`
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to do code signing" >&5
+printf %s "checking whether to do code signing... " >&6; }
+
+    if test -z "$enable_macosx_code_signing" -o "$enable_macosx_code_signing" == "no" ; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    else
+        if test "$enable_macosx_code_signing" = yes; then
+            # By default use the first suitable certificate (?).
+
+            # https://stackoverflow.com/questions/13196291/difference-between-mac-developer-and-3rd-party-mac-developer-application
+            # says that the "Mac Developer" certificate is useful just for self-testing. For distribution
+            # outside the Mac App Store, use the "Developer ID Application" one, and for distribution in
+            # the App Store, the "3rd Party Mac Developer" one. I think it works best to the
+            # "Developer ID Application" one.
+            identity="Developer ID Application:"
+        else
+            identity=$enable_macosx_code_signing
+        fi
+        identity=`security find-identity -p codesigning -v 2>/dev/null | $AWK "/$identity/{print \\$2; exit}"`
+        if test -n "$identity"; then
+            MACOSX_CODESIGNING_IDENTITY=$identity
+            pretty_name=`security find-identity -p codesigning -v | grep "$MACOSX_CODESIGNING_IDENTITY" | sed -e 's/^[^"]*"//' -e 's/"//'`
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, using the identity $MACOSX_CODESIGNING_IDENTITY for $pretty_name" >&5
+printf "%s\n" "yes, using the identity $MACOSX_CODESIGNING_IDENTITY for $pretty_name" >&6; }
+        else
+            as_fn_error $? "cannot determine identity to use" "$LINENO" 5
+        fi
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to create a Mac App Store package" >&5
+printf %s "checking whether to create a Mac App Store package... " >&6; }
+
+    if test -z "$enable_macosx_package_signing" || test "$enable_macosx_package_signing" == no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    elif test -z "$MACOSX_CODESIGNING_IDENTITY"; then
+        as_fn_error $? "You forgot --enable-macosx-code-signing" "$LINENO" 5
+    else
+        if test "$enable_macosx_package_signing" = yes; then
+            # By default use the first suitable certificate.
+            # It should be a "3rd Party Mac Developer Installer" one
+            identity="3rd Party Mac Developer Installer:"
+        else
+            identity=$enable_macosx_package_signing
+        fi
+        identity=`security find-identity -v 2>/dev/null | $AWK "/$identity/ {print \\$2; exit}"`
+        if test -n "$identity"; then
+            MACOSX_PACKAGE_SIGNING_IDENTITY=$identity
+            pretty_name=`security find-identity -v | grep "$MACOSX_PACKAGE_SIGNING_IDENTITY" | sed -e 's/^[^"]*"//' -e 's/"//'`
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, using the identity $MACOSX_PACKAGE_SIGNING_IDENTITY for $pretty_name" >&5
+printf "%s\n" "yes, using the identity $MACOSX_PACKAGE_SIGNING_IDENTITY for $pretty_name" >&6; }
+        else
+            as_fn_error $? "Could not find any suitable '3rd Party Mac Developer Installer' certificate" "$LINENO" 5
+        fi
+    fi
+
+    if test -n "$MACOSX_CODESIGNING_IDENTITY" -a -n "$MACOSX_PACKAGE_SIGNING_IDENTITY" -a "$MACOSX_CODESIGNING_IDENTITY" = "$MACOSX_PACKAGE_SIGNING_IDENTITY"; then
+        as_fn_error $? "You should not use the same identity for code and package signing" "$LINENO" 5
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to sandbox the application" >&5
+printf %s "checking whether to sandbox the application... " >&6; }
+
+    if test -n "$ENABLE_JAVA" -a "$enable_macosx_sandbox" = yes; then
+        as_fn_error $? "macOS sandboxing (actually App Store rules) disallows use of Java" "$LINENO" 5
+    elif test "$enable_macosx_sandbox" = yes; then
+        ENABLE_MACOSX_SANDBOX=TRUE
+        printf "%s\n" "#define HAVE_FEATURE_MACOSX_SANDBOX 1" >>confdefs.h
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking what macOS app bundle identifier to use" >&5
+printf %s "checking what macOS app bundle identifier to use... " >&6; }
+    MACOSX_BUNDLE_IDENTIFIER=$with_macosx_bundle_identifier
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MACOSX_BUNDLE_IDENTIFIER" >&5
+printf "%s\n" "$MACOSX_BUNDLE_IDENTIFIER" >&6; }
+
+    if test -n "$with_macosx_provisioning_profile" ; then
+        if test ! -f "$with_macosx_provisioning_profile"; then
+            as_fn_error $? "provisioning profile not found at $with_macosx_provisioning_profile" "$LINENO" 5
+        else
+            MACOSX_PROVISIONING_PROFILE=$with_macosx_provisioning_profile
+            MACOSX_PROVISIONING_INFO=$(security cms -D -i "$MACOSX_PROVISIONING_PROFILE" | \
+                xmllint --xpath "//key[.='com.apple.application-identifier' or .='com.apple.developer.team-identifier'] \
+                    | //key[.='com.apple.application-identifier' or .='com.apple.developer.team-identifier']/following-sibling::string[1]" - | \
+                sed -e 's#><#>\n\t<#g' -e 's#^#\t#')
+        fi
+    fi
+fi
+
+
+
+
+ # Note that the macOS libtool command is unrelated to GNU libtool
+
+
+
+
+
+
+
+
+
+
+if test $_os = iOS; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking what iOS SDK to use" >&5
+printf %s "checking what iOS SDK to use... " >&6; }
+
+    if test "$enable_ios_simulator" = "yes"; then
+        platformlc=iphonesimulator
+        versionmin=-mios-simulator-version-min=14.5
+    else
+        platformlc=iphoneos
+        versionmin=-miphoneos-version-min=14.5
+    fi
+
+    sysroot=`xcrun --sdk $platformlc --show-sdk-path`
+
+    if ! test -d "$sysroot"; then
+        as_fn_error $? "Could not find iOS SDK $sysroot" "$LINENO" 5
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $sysroot" >&5
+printf "%s\n" "$sysroot" >&6; }
+
+    stdlib="-stdlib=libc++"
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking what C compiler to use" >&5
+printf %s "checking what C compiler to use... " >&6; }
+    CC="`xcrun -find clang`"
+    CC_BASE=`first_arg_basename "$CC"`
+    CC+=" -arch $host_cpu_for_clang -isysroot $sysroot $versionmin"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
+printf "%s\n" "$CC" >&6; }
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking what C++ compiler to use" >&5
+printf %s "checking what C++ compiler to use... " >&6; }
+    CXX="`xcrun -find clang++`"
+    CXX_BASE=`first_arg_basename "$CXX"`
+    CXX+=" -arch $host_cpu_for_clang $stdlib -isysroot $sysroot $versionmin"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CXX" >&5
+printf "%s\n" "$CXX" >&6; }
+
+    INSTALL_NAME_TOOL=`xcrun -find install_name_tool`
+    AR=`xcrun -find ar`
+    NM=`xcrun -find nm`
+    STRIP=`xcrun -find strip`
+    LIBTOOL=`xcrun -find libtool`
+    RANLIB=`xcrun -find ranlib`
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to treat the installation as read-only" >&5
+printf %s "checking whether to treat the installation as read-only... " >&6; }
+
+if test $_os = Darwin; then
+    enable_readonly_installset=yes
+elif test "$enable_extensions" != yes; then
+    enable_readonly_installset=yes
+fi
+if test "$enable_readonly_installset" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    printf "%s\n" "#define HAVE_FEATURE_READONLY_INSTALLSET 1" >>confdefs.h
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test $_os = Darwin; then
+    LIBO_BIN_FOLDER=MacOS
+    LIBO_ETC_FOLDER=Resources
+    LIBO_LIBEXEC_FOLDER=MacOS
+    LIBO_LIB_FOLDER=Frameworks
+    LIBO_LIB_PYUNO_FOLDER=Resources
+    LIBO_SHARE_FOLDER=Resources
+    LIBO_SHARE_HELP_FOLDER=Resources/help
+    LIBO_SHARE_JAVA_FOLDER=Resources/java
+    LIBO_SHARE_PRESETS_FOLDER=Resources/presets
+    LIBO_SHARE_READMES_FOLDER=Resources/readmes
+    LIBO_SHARE_RESOURCE_FOLDER=Resources/resource
+    LIBO_SHARE_SHELL_FOLDER=Resources/shell
+    LIBO_URE_BIN_FOLDER=MacOS
+    LIBO_URE_ETC_FOLDER=Resources/ure/etc
+    LIBO_URE_LIB_FOLDER=Frameworks
+    LIBO_URE_MISC_FOLDER=Resources/ure/share/misc
+    LIBO_URE_SHARE_JAVA_FOLDER=Resources/java
+elif test $_os = WINNT; then
+    LIBO_BIN_FOLDER=program
+    LIBO_ETC_FOLDER=program
+    LIBO_LIBEXEC_FOLDER=program
+    LIBO_LIB_FOLDER=program
+    LIBO_LIB_PYUNO_FOLDER=program
+    LIBO_SHARE_FOLDER=share
+    LIBO_SHARE_HELP_FOLDER=help
+    LIBO_SHARE_JAVA_FOLDER=program/classes
+    LIBO_SHARE_PRESETS_FOLDER=presets
+    LIBO_SHARE_READMES_FOLDER=readmes
+    LIBO_SHARE_RESOURCE_FOLDER=program/resource
+    LIBO_SHARE_SHELL_FOLDER=program/shell
+    LIBO_URE_BIN_FOLDER=program
+    LIBO_URE_ETC_FOLDER=program
+    LIBO_URE_LIB_FOLDER=program
+    LIBO_URE_MISC_FOLDER=program
+    LIBO_URE_SHARE_JAVA_FOLDER=program/classes
+else
+    LIBO_BIN_FOLDER=program
+    LIBO_ETC_FOLDER=program
+    LIBO_LIBEXEC_FOLDER=program
+    LIBO_LIB_FOLDER=program
+    LIBO_LIB_PYUNO_FOLDER=program
+    LIBO_SHARE_FOLDER=share
+    LIBO_SHARE_HELP_FOLDER=help
+    LIBO_SHARE_JAVA_FOLDER=program/classes
+    LIBO_SHARE_PRESETS_FOLDER=presets
+    LIBO_SHARE_READMES_FOLDER=readmes
+    if test "$enable_fuzzers" != yes; then
+        LIBO_SHARE_RESOURCE_FOLDER=program/resource
+    else
+        LIBO_SHARE_RESOURCE_FOLDER=resource
+    fi
+    LIBO_SHARE_SHELL_FOLDER=program/shell
+    LIBO_URE_BIN_FOLDER=program
+    LIBO_URE_ETC_FOLDER=program
+    LIBO_URE_LIB_FOLDER=program
+    LIBO_URE_MISC_FOLDER=program
+    LIBO_URE_SHARE_JAVA_FOLDER=program/classes
+fi
+printf "%s\n" "#define LIBO_BIN_FOLDER \"$LIBO_BIN_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_ETC_FOLDER \"$LIBO_ETC_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_LIBEXEC_FOLDER \"$LIBO_LIBEXEC_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_LIB_FOLDER \"$LIBO_LIB_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_LIB_PYUNO_FOLDER \"$LIBO_LIB_PYUNO_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_SHARE_FOLDER \"$LIBO_SHARE_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_SHARE_HELP_FOLDER \"$LIBO_SHARE_HELP_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_SHARE_JAVA_FOLDER \"$LIBO_SHARE_JAVA_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_SHARE_PRESETS_FOLDER \"$LIBO_SHARE_PRESETS_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_SHARE_RESOURCE_FOLDER \"$LIBO_SHARE_RESOURCE_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_SHARE_SHELL_FOLDER \"$LIBO_SHARE_SHELL_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_URE_BIN_FOLDER \"$LIBO_URE_BIN_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_URE_ETC_FOLDER \"$LIBO_URE_ETC_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_URE_LIB_FOLDER \"$LIBO_URE_LIB_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_URE_MISC_FOLDER \"$LIBO_URE_MISC_FOLDER\"" >>confdefs.h
+
+printf "%s\n" "#define LIBO_URE_SHARE_JAVA_FOLDER \"$LIBO_URE_SHARE_JAVA_FOLDER\"" >>confdefs.h
+
+
+# Not all of them needed in config_host.mk, add more if need arises
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+reg_get_value()
+{
+    # Return value: $regvalue
+    unset regvalue
+
+    if test "$build_os" = "wsl"; then
+        regvalue=$($WSL_LO_HELPER --read-registry $1 "$2/$3" 2>/dev/null)
+        return
+    elif test -n "$WSL_ONLY_AS_HELPER"; then
+        regvalue=$(reg.exe query "$(echo $2 | tr '/' '\\')" /v "$3" /reg:$1 |sed -ne "s|\s*$3.*REG_SZ\s*\(.*\)\s\r*$|\1|p")
+        return
+    fi
+
+    local _regentry="/proc/registry${1}/${2}/${3}"
+    if test -f "$_regentry"; then
+        # Stop bash complaining about \0 bytes in input, as it can't handle them.
+        # Registry keys read via /proc/registry* are always \0 terminated!
+        local _regvalue=$(tr -d '\0' < "$_regentry")
+        if test $? -eq 0; then
+            regvalue=$_regvalue
+        fi
+    fi
+}
+
+# Get a value from the 32-bit side of the Registry
+reg_get_value_32()
+{
+    reg_get_value "32" "$1" "$2"
+}
+
+# Get a value from the 64-bit side of the Registry
+reg_get_value_64()
+{
+    reg_get_value "64" "$1" "$2"
+}
+
+reg_list_values()
+{
+    # Return value: $reglist
+    unset reglist
+
+    if test "$build_os" = "wsl"; then
+        reglist=$($WSL_LO_HELPER --list-registry $1 "$2" 2>/dev/null | tr -d '\r')
+        return
+    fi
+
+    reglist=$(ls "/proc/registry${1}/${2}")
+}
+
+# List values from the 32-bit side of the Registry
+reg_list_values_32()
+{
+    reg_list_values "32" "$1"
+}
+
+# List values from the 64-bit side of the Registry
+reg_list_values_64()
+{
+    reg_list_values "64" "$1"
+}
+
+case "$host_os" in
+cygwin*|wsl*)
+    COM=MSC
+    OS=WNT
+    RTL_OS=Windows
+    if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+        P_SEP=";"
+    else
+        P_SEP=:
+    fi
+    case "$host_cpu" in
+    x86_64)
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=windows_x86_64
+        WINDOWS_X64=1
+        SCPDEFS="$SCPDEFS -DWINDOWS_X64"
+        WIN_HOST_ARCH="x64"
+        WIN_MULTI_ARCH="x86"
+        WIN_HOST_BITS=64
+        ;;
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=windows_x86
+        WIN_HOST_ARCH="x86"
+        WIN_HOST_BITS=32
+        WIN_OTHER_ARCH="x64"
+        ;;
+    aarch64)
+        CPUNAME=AARCH64
+        RTL_ARCH=AARCH64
+        PLATFORMID=windows_aarch64
+        WINDOWS_X64=1
+        SCPDEFS="$SCPDEFS -DWINDOWS_AARCH64"
+        WIN_HOST_ARCH="arm64"
+        WIN_HOST_BITS=64
+        with_ucrt_dir=no
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+
+    case "$build_cpu" in
+    x86_64) WIN_BUILD_ARCH="x64" ;;
+    i*86) WIN_BUILD_ARCH="x86" ;;
+    aarch64) WIN_BUILD_ARCH="arm64" ;;
+    *)
+        as_fn_error $? "Unsupported build_cpu $build_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+
+    SCPDEFS="$SCPDEFS -D_MSC_VER"
+    ;;
+esac
+
+# multi-arch is an arch, which can execute on the host (x86 on x64), while
+# other-arch won't, but wouldn't break the build (x64 on x86).
+if test -n "$WIN_MULTI_ARCH" -a -n "$WIN_OTHER_ARCH"; then
+    as_fn_error $? "Broken configure.ac file: can't have set \$WIN_MULTI_ARCH and $WIN_OTHER_ARCH" "$LINENO" 5
+fi
+
+
+if test "$build_cpu" != "$host_cpu" -o "$DISABLE_DYNLOADING" = TRUE; then
+    # To allow building Windows multi-arch releases without cross-tooling
+    if test "$DISABLE_DYNLOADING" = TRUE -o \( -z "$WIN_MULTI_ARCH" -a -z "$WIN_OTHER_ARCH" \); then
+        cross_compiling="yes"
+    fi
+fi
+
+if test "$cross_compiling" = "yes"; then
+    export CROSS_COMPILING=TRUE
+    if test "$enable_dynamic_loading" != yes -a "$enable_wasm_strip" = yes; then
+        ENABLE_WASM_STRIP=TRUE
+    fi
+    if test "$_os" = "Emscripten"; then
+        if test "$with_main_module" = "calc"; then
+            ENABLE_WASM_STRIP_WRITER=TRUE
+        elif test "$with_main_module" = "writer"; then
+            ENABLE_WASM_STRIP_CALC=TRUE
+        fi
+    fi
+else
+    CROSS_COMPILING=
+    BUILD_TYPE="$BUILD_TYPE NATIVE"
+fi
+
+
+
+
+# Set ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS based on main-module
+if test "$enable_wasm_strip" = "yes" -a "$with_main_module" != "all"; then
+    ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=TRUE
+fi
+
+# Set ENABLE_WASM_STRIP_CANVAS based on main-module (Impress needs canvas)
+if test "$enable_wasm_strip" = "yes" -a "$with_main_module" != "all"; then
+    ENABLE_WASM_STRIP_CANVAS=TRUE
+fi
+
+
+# Use -isystem (gcc) if possible, to avoid warnings in 3rd party headers.
+# NOTE: must _not_ be used for bundled external libraries!
+ISYSTEM=
+if test "$GCC" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for -isystem " >&5
+printf %s "checking for -isystem ... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -isystem /usr/include -Werror"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+   ISYSTEM="-isystem "
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    if test -n "$ISYSTEM"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+if test -z "$ISYSTEM"; then
+    # fall back to using -I
+    ISYSTEM=-I
+fi
+
+
+
+map_vs_year_to_version()
+{
+    # Return value: $vsversion
+
+    unset vsversion
+
+    case $1 in
+    2019)
+        vsversion=16;;
+    2022)
+        vsversion=17;;
+    2022preview)
+        vsversion=17.11;;
+    *)
+        as_fn_error $? "Assertion failure - invalid argument \"$1\" to map_vs_year_to_version()" "$LINENO" 5;;
+    esac
+}
+
+vs_versions_to_check()
+{
+    # Args: $1 (optional) : versions to check, in the order of preference
+    # Return value: $vsversions
+
+    unset vsversions
+
+    if test -n "$1"; then
+        map_vs_year_to_version "$1"
+        vsversions=$vsversion
+    else
+        # Default version is 2019
+        vsversions="16"
+    fi
+}
+
+win_get_env_from_vsdevcmdbat()
+{
+    local WRAPPERBATCHFILEPATH="`mktemp -t wrpXXXXXX.bat`"
+    printf '@set VSCMD_SKIP_SENDTELEMETRY=1\r\n' > $WRAPPERBATCHFILEPATH
+    PathFormat "$VC_PRODUCT_DIR"
+    printf '@call "%s/../Common7/Tools/VsDevCmd.bat" /no_logo\r\n' "$formatted_path" >> $WRAPPERBATCHFILEPATH
+    # use 'echo.%ENV%' syntax (instead of 'echo %ENV%') to avoid outputting "ECHO is off." in case when ENV is empty or a space
+    printf '@setlocal\r\n@echo.%%%s%%\r\n@endlocal\r\n' "$1" >> $WRAPPERBATCHFILEPATH
+    local result
+    if test "$build_os" = "wsl" -o -n "$WSL_ONLY_AS_HELPER"; then
+        result=$(cd /mnt/c && cmd.exe /c $(wslpath -w $WRAPPERBATCHFILEPATH) | tr -d '\r')
+    else
+        chmod +x $WRAPPERBATCHFILEPATH
+        result=$("$WRAPPERBATCHFILEPATH" | tr -d '\r')
+    fi
+    rm -f $WRAPPERBATCHFILEPATH
+    printf '%s' "$result"
+}
+
+find_ucrt()
+{
+    reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Microsoft SDKs/Windows/v10.0" "InstallationFolder"
+    if test -n "$regvalue"; then
+        PathFormat "$regvalue"
+        UCRTSDKDIR=$formatted_path_unix
+        reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Microsoft SDKs/Windows/v10.0" "ProductVersion"
+        if test -n "$regvalue"; then
+            UCRTVERSION="$regvalue".0
+        fi
+
+        # Rest if not exist
+        if ! test -d "${UCRTSDKDIR}Include/$UCRTVERSION/ucrt"; then
+          UCRTSDKDIR=
+        fi
+    fi
+    if test -z "$UCRTSDKDIR"; then
+        ide_env_dir="$VC_PRODUCT_DIR/../Common7/Tools/"
+        ide_env_file="${ide_env_dir}VsDevCmd.bat"
+        if test -f "$ide_env_file"; then
+            PathFormat "$(win_get_env_from_vsdevcmdbat UniversalCRTSdkDir)"
+            UCRTSDKDIR=$formatted_path_unix
+            UCRTVERSION=$(win_get_env_from_vsdevcmdbat UCRTVersion)
+                        if test "$UCRTVERSION" = 10.0.15063.0 \
+                -a ! -f "${UCRTSDKDIR}Include/10.0.15063.0/um/sqlext.h" \
+                -a -f "${UCRTSDKDIR}Include/10.0.14393.0/um/sqlext.h"
+            then
+                UCRTVERSION=10.0.14393.0
+            fi
+        else
+          as_fn_error $? "No UCRT found" "$LINENO" 5
+        fi
+    fi
+}
+
+find_msvc()
+{
+    # Find Visual C++
+    # Args: $1 (optional) : The VS version year
+    # Return values: $vctest, $vcyear, $vctoolset, $vcnumwithdot, $vcbuildnumber
+
+    unset vctest vctoolset vcnumwithdot vcbuildnumber
+
+    vs_versions_to_check "$1"
+    if test "$build_os" = wsl; then
+        vswhere="$PROGRAMFILESX86"
+        if test -z "$vswhere"; then
+            vswhere="c:\\Program Files (x86)"
+        fi
+    elif test -n "$WSL_ONLY_AS_HELPER"; then
+        vswhere="$(perl.exe -e 'print $ENV{"ProgramFiles(x86)"}')"
+    else
+        vswhere="$(perl -e 'print $ENV{"ProgramFiles(x86)"}')"
+    fi
+    vswhere+="\\Microsoft Visual Studio\\Installer\\vswhere.exe"
+    PathFormat "$vswhere"
+    vswhere=$formatted_path_unix
+    for ver in $vsversions; do
+        vswhereoutput=`$vswhere -version "[ $ver , $(expr ${ver%%.*} + 1) )" -requires Microsoft.VisualStudio.Component.VC.Tools.x86.x64 -property installationPath | head -1`
+        if test -z "$vswhereoutput"; then
+            vswhereoutput=`$vswhere -prerelease -version "[ $ver , $(expr ${ver%%.*} + 1) )" -requires Microsoft.VisualStudio.Component.VC.Tools.x86.x64 -property installationPath | head -1`
+        fi
+        # Fall back to all MS products (this includes VC++ Build Tools)
+        if ! test -n "$vswhereoutput"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking VC++ Build Tools and similar" >&5
+printf %s "checking VC++ Build Tools and similar... " >&6; }
+            vswhereoutput=`$vswhere -products \* -version "[ $ver , $(expr ${ver%%.*} + 1) )" -requires Microsoft.VisualStudio.Component.VC.Tools.x86.x64 -property installationPath | head -1`
+        fi
+        if test -n "$vswhereoutput"; then
+            PathFormat "$vswhereoutput"
+            vctest=$formatted_path_unix
+            break
+        fi
+    done
+
+    if test -n "$vctest"; then
+        vcnumwithdot="$ver"
+        if test "${vcnumwithdot%%.*}" = "$vcnumwithdot"; then
+            vcnumwithdot=$vcnumwithdot.0
+        fi
+        case "$vcnumwithdot" in
+        16.0)
+            vcyear=2019
+            vctoolset=v142
+            ;;
+        17.0 | 17.11)
+            vcyear=2022
+            vctoolset=v143
+            ;;
+        esac
+        vcbuildnumber=`ls $vctest/VC/Tools/MSVC -A1r | head -1`
+
+    fi
+}
+
+test_cl_exe()
+{
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking $1 compiler" >&5
+printf %s "checking $1 compiler... " >&6; }
+
+    CL_EXE_PATH="$2/cl.exe"
+
+    if test ! -f "$CL_EXE_PATH"; then
+        if test "$1" = "multi-arch"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: no compiler (cl.exe) in $2" >&5
+printf "%s\n" "$as_me: WARNING: no compiler (cl.exe) in $2" >&2;}
+            return 1
+        else
+            as_fn_error $? "no compiler (cl.exe) in $2" "$LINENO" 5
+        fi
+    fi
+
+
+    # MSVC 15.0 has libraries from 14.0?
+    mspdbnum="140"
+
+    if test ! -e "$2/mspdb${mspdbnum}.dll"; then
+        as_fn_error $? "No mspdb${mspdbnum}.dll in $2, Visual Studio installation broken?" "$LINENO" 5
+    fi
+
+    # The compiles has to find its shared libraries
+    OLD_PATH="$PATH"
+    TEMP_PATH=`cygpath -d "$2"`
+    PATH="`cygpath -u "$TEMP_PATH"`:$PATH"
+
+    if ! "$CL_EXE_PATH" -? </dev/null >/dev/null 2>&1; then
+        as_fn_error $? "no compiler (cl.exe) in $2" "$LINENO" 5
+    fi
+
+    PATH="$OLD_PATH"
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CL_EXE_PATH" >&5
+printf "%s\n" "$CL_EXE_PATH" >&6; }
+}
+
+SOLARINC=
+MSBUILD_PATH=
+DEVENV=
+if test "$_os" = "WINNT"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking Visual C++" >&5
+printf %s "checking Visual C++... " >&6; }
+    find_msvc "$with_visual_studio"
+    if test -z "$vctest"; then
+        if test -n "$with_visual_studio"; then
+            as_fn_error $? "no Visual Studio $with_visual_studio installation found" "$LINENO" 5
+        else
+            as_fn_error $? "no Visual Studio installation found" "$LINENO" 5
+        fi
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: " >&5
+printf "%s\n" "" >&6; }
+
+    VC_PRODUCT_DIR="$vctest/VC"
+    COMPATH="$VC_PRODUCT_DIR/Tools/MSVC/$vcbuildnumber"
+
+    # $WIN_OTHER_ARCH is a hack to test the x64 compiler on x86, even if it's not multi-arch
+    if test -n "$WIN_MULTI_ARCH" -o -n "$WIN_OTHER_ARCH"; then
+        MSVC_MULTI_PATH="$COMPATH/bin/Host$WIN_BUILD_ARCH/${WIN_MULTI_ARCH}${WIN_OTHER_ARCH}"
+        test_cl_exe "multi-arch" "$MSVC_MULTI_PATH"
+        if test $? -ne 0; then
+            WIN_MULTI_ARCH=""
+            WIN_OTHER_ARCH=""
+        fi
+    fi
+
+    if test "$WIN_BUILD_ARCH" = "$WIN_HOST_ARCH"; then
+        MSVC_BUILD_PATH="$COMPATH/bin/Host$WIN_BUILD_ARCH/$WIN_BUILD_ARCH"
+        test_cl_exe "build" "$MSVC_BUILD_PATH"
+    fi
+
+    if test "$WIN_BUILD_ARCH" != "$WIN_HOST_ARCH"; then
+        MSVC_HOST_PATH="$COMPATH/bin/Host$WIN_BUILD_ARCH/$WIN_HOST_ARCH"
+        test_cl_exe "host" "$MSVC_HOST_PATH"
+    else
+        MSVC_HOST_PATH="$MSVC_BUILD_PATH"
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for short pathname of VC product directory" >&5
+printf %s "checking for short pathname of VC product directory... " >&6; }
+    VC_PRODUCT_DIR=`win_short_path_for_make "$VC_PRODUCT_DIR"`
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $VC_PRODUCT_DIR" >&5
+printf "%s\n" "$VC_PRODUCT_DIR" >&6; }
+
+    UCRTSDKDIR=
+    UCRTVERSION=
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for UCRT location" >&5
+printf %s "checking for UCRT location... " >&6; }
+    find_ucrt
+    # find_ucrt errors out if it doesn't find it
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $UCRTSDKDIR ($UCRTVERSION)" >&5
+printf "%s\n" "$UCRTSDKDIR ($UCRTVERSION)" >&6; }
+    PathFormat "${UCRTSDKDIR}Include/$UCRTVERSION/ucrt"
+    ucrtincpath_formatted=$formatted_path
+    # SOLARINC is used for external modules and must be set too.
+    # And no, it's not sufficient to set SOLARINC only, as configure
+    # itself doesn't honour it.
+    SOLARINC="$SOLARINC -I$ucrtincpath_formatted"
+    CFLAGS="$CFLAGS -I$ucrtincpath_formatted"
+    CXXFLAGS="$CXXFLAGS -I$ucrtincpath_formatted"
+    CPPFLAGS="$CPPFLAGS -I$ucrtincpath_formatted"
+
+
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for MSBuild.exe location for: $vcnumwithdot" >&5
+printf %s "checking for MSBuild.exe location for: $vcnumwithdot... " >&6; }
+    # Find the proper version of MSBuild.exe to use based on the VS version
+    reg_get_value_32 HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/MSBuild/$vcnumwithdot MSBuildOverrideTasksPath
+    if test -z "$regvalue" ; then
+        if test "$WIN_BUILD_ARCH" != "x64"; then
+            regvalue="$VC_PRODUCT_DIR/../MSBuild/Current/Bin"
+        else
+            regvalue="$VC_PRODUCT_DIR/../MSBuild/Current/Bin/amd64"
+        fi
+    fi
+    if test -d "$regvalue" ; then
+        MSBUILD_PATH=`win_short_path_for_make "$regvalue"`
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $regvalue" >&5
+printf "%s\n" "$regvalue" >&6; }
+    else
+        as_fn_error $? "MSBuild.exe location not found" "$LINENO" 5
+    fi
+
+    # Find the version of devenv.exe
+    PathFormat "$VC_PRODUCT_DIR/../Common7/IDE/devenv.exe"
+    DEVENV="$formatted_path"
+    DEVENV_unix="$formatted_path_unix"
+    if test ! -e "$DEVENV_unix"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: No devenv.exe found - this is expected for VC++ Build Tools" >&5
+printf "%s\n" "$as_me: WARNING: No devenv.exe found - this is expected for VC++ Build Tools" >&2;}
+    fi
+
+            if test -z "$MSVC_CXX"; then
+        # This gives us a posix path with 8.3 filename restrictions
+        MSVC_CXX=`win_short_path_for_make "$MSVC_HOST_PATH/cl.exe"`
+    fi
+
+    if test -z "$CC"; then
+        CC=$MSVC_CXX
+        CC_BASE=`first_arg_basename "$CC"`
+    fi
+    if test -z "$CXX"; then
+        CXX=$MSVC_CXX
+        CXX_BASE=`first_arg_basename "$CXX"`
+    fi
+
+    if test -n "$CC"; then
+        # Remove /cl.exe from CC case insensitive
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: found Visual C++ $vcyear" >&5
+printf "%s\n" "$as_me: found Visual C++ $vcyear" >&6;}
+
+        PathFormat "$COMPATH"
+        COMPATH="$formatted_path"
+        COMPATH_unix="$formatted_path_unix"
+        CPPFLAGS="$CPPFLAGS -I$COMPATH/Include"
+
+        VCVER=$vcnumwithdot
+        VCTOOLSET=$vctoolset
+
+        # The WINDOWS_SDK_ACCEPTABLE_VERSIONS is mostly an educated guess...  Assuming newer ones
+        # are always "better", we list them in reverse chronological order.
+
+        case "$vcnumwithdot" in
+        16.0 | 17.0 | 17.11)
+            WINDOWS_SDK_ACCEPTABLE_VERSIONS="10.0 8.1A 8.1 8.0"
+            ;;
+        esac
+
+        # The expectation is that --with-windows-sdk should not need to be used
+        if test -n "$with_windows_sdk"; then
+            case " $WINDOWS_SDK_ACCEPTABLE_VERSIONS " in
+            *" "$with_windows_sdk" "*)
+                WINDOWS_SDK_ACCEPTABLE_VERSIONS=$with_windows_sdk
+                ;;
+            *)
+                as_fn_error $? "Windows SDK $with_windows_sdk is not known to work with VS $vcyear" "$LINENO" 5
+                ;;
+            esac
+        fi
+
+        # Make AC_COMPILE_IFELSE etc. work (set by AC_PROG_C, which we don't use for MSVC)
+        ac_objext=obj
+        ac_exeext=exe
+
+    else
+        as_fn_error $? "Visual C++ not found after all, huh" "$LINENO" 5
+    fi
+
+    # ERROR if VS version < 16.5
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking $CC_BASE is at least Visual Studio 2019 version 16.5" >&5
+printf %s "checking $CC_BASE is at least Visual Studio 2019 version 16.5... " >&6; }
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        // See <https://docs.microsoft.com/en-us/cpp/preprocessor/predefined-macros> for mapping
+        // between Visual Studio versions and _MSC_VER:
+        #if _MSC_VER < 1925
+        #error
+        #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+  as_fn_error $? "no" "$LINENO" 5
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+
+    # WARN if VS version < 16.10
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking $CC_BASE is at least Visual Studio 2019 version 16.10" >&5
+printf %s "checking $CC_BASE is at least Visual Studio 2019 version 16.10... " >&6; }
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        #if _MSC_VER < 1929
+        #error
+        #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  vs2019_recommended_version=yes
+else $as_nop
+  vs2019_recommended_version=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+
+    if test $vs2019_recommended_version = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: no" >&5
+printf "%s\n" "$as_me: WARNING: no" >&2;}
+        add_warning "You should have at least Visual Studio 2019 version 16.10 to avoid build problems. Otherwise, you may face problems with the build of some modules including dragonbox."
+    fi
+
+    # Check for 64-bit (cross-)compiler to use to build the 64-bit
+    # version of the Explorer extension (and maybe other small
+    # bits, too) needed when installing a 32-bit LibreOffice on a
+    # 64-bit OS. The 64-bit Explorer extension is a feature that
+    # has been present since long in OOo. Don't confuse it with
+    # building LibreOffice itself as 64-bit code.
+
+    BUILD_X64=
+    CXX_X64_BINARY=
+
+    if test "$WIN_HOST_ARCH" = "x86" -a -n "$WIN_OTHER_ARCH"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the libraries to build the 64-bit Explorer extensions" >&5
+printf %s "checking for the libraries to build the 64-bit Explorer extensions... " >&6; }
+        if test -f "$COMPATH/atlmfc/lib/x64/atls.lib" -o \
+             -f "$COMPATH/atlmfc/lib/spectre/x64/atls.lib"
+        then
+            BUILD_X64=TRUE
+            CXX_X64_BINARY=`win_short_path_for_make "$MSVC_MULTI_PATH/cl.exe"`
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found" >&5
+printf "%s\n" "found" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not found" >&5
+printf "%s\n" "not found" >&6; }
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Installation set will not contain 64-bit Explorer extensions" >&5
+printf "%s\n" "$as_me: WARNING: Installation set will not contain 64-bit Explorer extensions" >&2;}
+        fi
+    elif test "$WIN_HOST_ARCH" = "x64"; then
+        CXX_X64_BINARY=$CXX
+    fi
+
+
+    # These are passed to the environment and then used in gbuild/platform/com_MSC_class.mk
+
+
+    # Check for 32-bit compiler to use to build the 32-bit TWAIN shim
+    # needed to support TWAIN scan on both 32- and 64-bit systems
+
+    case "$WIN_HOST_ARCH" in
+    x64)
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a x86 compiler and libraries for 32-bit binaries required for TWAIN support" >&5
+printf %s "checking for a x86 compiler and libraries for 32-bit binaries required for TWAIN support... " >&6; }
+        if test -n "$CXX_X86_BINARY"; then
+            BUILD_X86=TRUE
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: preset" >&5
+printf "%s\n" "preset" >&6; }
+        elif test -n "$WIN_MULTI_ARCH"; then
+            BUILD_X86=TRUE
+            CXX_X86_BINARY=`win_short_path_for_make "$MSVC_MULTI_PATH/cl.exe"`
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found" >&5
+printf "%s\n" "found" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not found" >&5
+printf "%s\n" "not found" >&6; }
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Installation set will not contain 32-bit binaries required for TWAIN support" >&5
+printf "%s\n" "$as_me: WARNING: Installation set will not contain 32-bit binaries required for TWAIN support" >&2;}
+        fi
+        ;;
+    x86)
+        BUILD_X86=TRUE
+        CXX_X86_BINARY=$MSVC_CXX
+        ;;
+    esac
+
+
+fi
+
+
+
+
+
+COM_IS_CLANG=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the compiler is actually Clang" >&5
+printf %s "checking whether the compiler is actually Clang... " >&6; }
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #ifndef __clang__
+    you lose
+    #endif
+    int foo=42;
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+     COM_IS_CLANG=TRUE
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+
+
+CLANGVER=
+if test "$COM_IS_CLANG" = TRUE; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether Clang is new enough" >&5
+printf %s "checking whether Clang is new enough... " >&6; }
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        #if !defined __apple_build_version__
+        #error
+        #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  my_apple_clang=yes
+else $as_nop
+  my_apple_clang=
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    if test "$my_apple_clang" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: assumed yes (Apple Clang)" >&5
+printf "%s\n" "assumed yes (Apple Clang)" >&6; }
+    elif test "$_os" = Emscripten; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: assumed yes (Emscripten Clang)" >&5
+printf "%s\n" "assumed yes (Emscripten Clang)" >&6; }
+    else
+        if test "$_os" = WINNT; then
+                        my_args="/EP /TC"
+        else
+            my_args="-E -P"
+        fi
+        clang_version=`echo __clang_major__.__clang_minor__.__clang_patchlevel__ | $CC $my_args - | sed 's/ //g'`
+        CLANG_FULL_VERSION=`echo __clang_version__ | $CC $my_args -`
+        CLANGVER=`echo $clang_version \
+            | $AWK -F. '{ print \$1*10000+(\$2<100?\$2:99)*100+(\$3<100?\$3:99) }'`
+        if test "$CLANGVER" -ge 120000; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes ($clang_version)" >&5
+printf "%s\n" "yes ($clang_version)" >&6; }
+        else
+            as_fn_error $? "\"$CLANG_FULL_VERSION\" is too old or unrecognized, must be at least Clang 12" "$LINENO" 5
+        fi
+        printf "%s\n" "#define CLANG_VERSION $CLANGVER" >>confdefs.h
+
+        printf "%s\n" "#define CLANG_FULL_VERSION $CLANG_FULL_VERSION" >>confdefs.h
+
+    fi
+fi
+
+SHOWINCLUDES_PREFIX=
+if test "$_os" = WINNT; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the dependency generation prefix (cl.exe -showIncludes)" >&5
+printf %s "checking the dependency generation prefix (cl.exe -showIncludes)... " >&6; }
+    echo "#include <stdlib.h>" > conftest.c
+    SHOWINCLUDES_PREFIX=`VSLANG=1033 $CC $CFLAGS -c -showIncludes conftest.c 2>/dev/null | \
+        grep 'stdlib\.h' | head -n1 | sed 's/ [[:alpha:]]:.*//'`
+    rm -f conftest.c conftest.obj
+    if test -z "$SHOWINCLUDES_PREFIX"; then
+        as_fn_error $? "cannot determine the -showIncludes prefix" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: \"$SHOWINCLUDES_PREFIX\"" >&5
+printf "%s\n" "\"$SHOWINCLUDES_PREFIX\"" >&6; }
+    fi
+fi
+
+
+#
+# prefix C with ccache if needed
+#
+if test "$CCACHE" != ""; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE is already ccached" >&5
+printf %s "checking whether $CC_BASE is already ccached... " >&6; }
+
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS --ccache-skip -O2"
+    # msvc does not fail on unknown options, check stdout
+    if test "$COM" = MSC; then
+        CFLAGS="$CFLAGS -nologo"
+    fi
+    save_ac_c_werror_flag=$ac_c_werror_flag
+    ac_c_werror_flag=yes
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  use_ccache=yes
+else $as_nop
+  use_ccache=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    ac_c_werror_flag=$save_ac_c_werror_flag
+    if test $use_ccache = yes -a "${CCACHE/*sccache*/}" != ""; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        CC="$CCACHE $CC"
+        CC_BASE="ccache $CC_BASE"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+# ===================================================================
+# check various GCC options that Clang does not support now but maybe
+# will somewhen in the future, check them even for GCC, so that the
+# flags are set
+# ===================================================================
+
+HAVE_GCC_GGDB2=
+if test "$GCC" = "yes" -a "$_os" != "Emscripten"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -ggdb2" >&5
+printf %s "checking whether $CC_BASE supports -ggdb2... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror -ggdb2"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+   HAVE_GCC_GGDB2=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    if test "$HAVE_GCC_GGDB2" = "TRUE"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+
+    if test "$host_cpu" = "m68k"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -mlong-jump-table-offsets" >&5
+printf %s "checking whether $CC_BASE supports -mlong-jump-table-offsets... " >&6; }
+        save_CFLAGS=$CFLAGS
+        CFLAGS="$CFLAGS -Werror -mlong-jump-table-offsets"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+   HAVE_GCC_LONG_JUMP_TABLE_OFFSETS=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+        CFLAGS=$save_CFLAGS
+        if test "$HAVE_GCC_LONG_JUMP_TABLE_OFFSETS" = "TRUE"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        else
+            as_fn_error $? "no" "$LINENO" 5
+        fi
+    fi
+fi
+
+
+if test "$GCC" = "yes" -a -z "$COM_IS_CLANG"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the GCC version" >&5
+printf %s "checking the GCC version... " >&6; }
+    _gcc_version=`$CC -dumpfullversion`
+    gcc_full_version=$(printf '%s' "$_gcc_version" | \
+        $AWK -F. '{ print $1*10000+$2*100+(NF<3?1:$3) }')
+    GCC_VERSION=`echo $_gcc_version | $AWK -F. '{ print \$1*100+\$2 }'`
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: gcc $_gcc_version ($gcc_full_version)" >&5
+printf "%s\n" "gcc $_gcc_version ($gcc_full_version)" >&6; }
+
+    if test "$gcc_full_version" -lt 120000; then
+        as_fn_error $? "GCC $_gcc_version is too old, must be at least GCC 12" "$LINENO" 5
+    fi
+else
+    # Explicitly force GCC_VERSION to be empty, even for Clang, to check incorrect uses.
+    # GCC version should generally be checked only when handling GCC-specific bugs, for testing
+    # things like features configure checks should be used, otherwise they may e.g. fail with Clang
+    # (which reports itself as GCC 4.2.1).
+    GCC_VERSION=
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build with additional debug utilities" >&5
+printf %s "checking whether to build with additional debug utilities... " >&6; }
+if test -n "$enable_dbgutil" -a "$enable_dbgutil" != "no"; then
+    ENABLE_DBGUTIL="TRUE"
+    # this is an extra var so it can have different default on different MSVC
+    # versions (in case there are version specific problems with it)
+    MSVC_USE_DEBUG_RUNTIME="TRUE"
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    # cppunit and graphite expose STL in public headers
+    if test "$with_system_cppunit" = "yes"; then
+        as_fn_error $? "--with-system-cppunit conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_cppunit=no
+    fi
+    if test "$with_system_graphite" = "yes"; then
+        as_fn_error $? "--with-system-graphite conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_graphite=no
+    fi
+    if test "$with_system_orcus" = "yes"; then
+        as_fn_error $? "--with-system-orcus conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_orcus=no
+    fi
+    if test "$with_system_libcmis" = "yes"; then
+        as_fn_error $? "--with-system-libcmis conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_libcmis=no
+    fi
+    if test "$with_system_hunspell" = "yes"; then
+        as_fn_error $? "--with-system-hunspell conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_hunspell=no
+    fi
+    if test "$with_system_gpgmepp" = "yes"; then
+        as_fn_error $? "--with-system-gpgmepp conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_gpgmepp=no
+    fi
+    if test "$with_system_zxing" = "yes"; then
+        as_fn_error $? "--with-system-zxing conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_zxing=no
+    fi
+    if test "$with_system_poppler" = "yes"; then
+        as_fn_error $? "--with-system-poppler conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_poppler=no
+    fi
+    # As mixing system libwps and non-system libnumbertext or vice versa likely causes trouble (see
+    # 603074c5f2b84de8a24593faf807da784b040625 "Pass _GLIBCXX_DEBUG into external/libwps" and the
+    # mail thread starting at <https://gcc.gnu.org/ml/gcc/2018-05/msg00057.html> "libstdc++: ODR
+    # violation when using std::regex with and without -D_GLIBCXX_DEBUG"), simply make sure neither
+    # of those two is using the system variant:
+    if test "$with_system_libnumbertext" = "yes"; then
+        as_fn_error $? "--with-system-libnumbertext conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_libnumbertext=no
+    fi
+    if test "$with_system_libwps" = "yes"; then
+        as_fn_error $? "--with-system-libwps conflicts with --enable-dbgutil" "$LINENO" 5
+    else
+        with_system_libwps=no
+    fi
+else
+    ENABLE_DBGUTIL=""
+    MSVC_USE_DEBUG_RUNTIME=""
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+if test -n "$enable_debug" && test "$enable_debug" != "yes" && test "$enable_debug" != "no"; then
+    as_fn_error $? "--enable-debug now accepts only yes or no, use --enable-symbols" "$LINENO" 5
+fi
+if test -n "$ENABLE_DBGUTIL" -a "$enable_debug" = "no"; then
+    if test -z "$libo_fuzzed_enable_debug"; then
+        as_fn_error $? "--disable-debug cannot be used with --enable-dbgutil" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Resetting --enable-debug=yes" >&5
+printf "%s\n" "$as_me: Resetting --enable-debug=yes" >&6;}
+        enable_debug=yes
+    fi
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to do a debug build" >&5
+printf %s "checking whether to do a debug build... " >&6; }
+if test -n "$ENABLE_DBGUTIL" -o \( -n "$enable_debug" -a "$enable_debug" != "no" \) ; then
+    ENABLE_DEBUG="TRUE"
+    if test -n "$ENABLE_DBGUTIL" ; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (dbgutil)" >&5
+printf "%s\n" "yes (dbgutil)" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    fi
+else
+    ENABLE_DEBUG=""
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+check_use_ld()
+{
+    use_ld=-fuse-ld=${1%%:*}
+    use_ld_path=${1#*:}
+    if test "$use_ld_path" != "$1"; then
+        if test "$COM_IS_CLANG" = TRUE; then
+            if test "$CLANGVER" -ge 120000; then
+                use_ld="${use_ld} --ld-path=${use_ld_path}"
+            else
+                use_ld="-fuse-ld=${use_ld_path}"
+            fi
+        else
+            # I tried to use gcc's '-B<path>' and a directory + symlink setup in
+            # $BUILDDIR, but libtool always filtered-out that option, so gcc wouldn't
+            # pickup the alternative linker, when called by libtool for linking.
+            # For mold, one can use LD_PRELOAD=/usr/lib/mold/mold-wrapper.so instead.
+            as_fn_error $? "A linker path is just supported with clang, because of libtool's -B filtering!" "$LINENO" 5
+        fi
+    fi
+    use_ld_fail_if_error=$2
+    use_ld_ok=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $use_ld linker support" >&5
+printf %s "checking for $use_ld linker support... " >&6; }
+    use_ld_ldflags_save="$LDFLAGS"
+    LDFLAGS="$LDFLAGS $use_ld"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <stdio.h>
+
+int
+main (void)
+{
+
+printf ("hello world\n");
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  USE_LD=$use_ld
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    if test -n "$USE_LD"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes " >&5
+printf "%s\n" "yes " >&6; }
+        use_ld_ok=yes
+    else
+        if test -n "$use_ld_fail_if_error"; then
+            as_fn_error $? "no " "$LINENO" 5
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no " >&5
+printf "%s\n" "no " >&6; }
+        fi
+    fi
+    if test -n "$use_ld_ok"; then
+                return 0
+    fi
+    LDFLAGS="$use_ld_ldflags_save"
+    return 1
+}
+USE_LD=
+if test "$enable_ld" != "no"; then
+    if test "$GCC" = "yes" -a "$_os" != "Emscripten"; then
+        if test -n "$enable_ld"; then
+            check_use_ld "$enable_ld" fail_if_error
+        elif test -z "$ENABLE_DEBUG$ENABLE_DBGUTIL"; then
+                        true
+        elif test -n "$COM_IS_CLANG"; then
+            check_use_ld lld
+            if test $? -ne 0; then
+                check_use_ld gold
+                if test $? -ne 0; then
+                    check_use_ld mold
+                fi
+            fi
+        else
+            # For gcc first try gold, new versions also support lld/mold.
+            check_use_ld gold
+            if test $? -ne 0; then
+                check_use_ld lld
+                if test $? -ne 0; then
+                    check_use_ld mold
+                fi
+            fi
+        fi
+        ld_output=$(echo 'int main() { return 0; }' | $CC -Wl,-v -x c -o conftest.out - $CFLAGS $LDFLAGS 2>/dev/null)
+        rm conftest.out
+        ld_used=$(echo "$ld_output" | grep -E '(^GNU gold|^GNU ld|^LLD|^mold)')
+        if test -z "$ld_used"; then
+            ld_used="unknown"
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for linker that is used" >&5
+printf %s "checking for linker that is used... " >&6; }
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ld_used" >&5
+printf "%s\n" "$ld_used" >&6; }
+        if test -n "$ENABLE_DEBUG$ENABLE_DBGUTIL"; then
+            if echo "$ld_used" | grep -q "^GNU ld"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: The default GNU linker is slow, consider using LLD, mold or the GNU gold linker." >&5
+printf "%s\n" "$as_me: WARNING: The default GNU linker is slow, consider using LLD, mold or the GNU gold linker." >&2;}
+                add_warning "The default GNU linker is slow, consider using LLD, mold or the GNU gold linker."
+            fi
+        fi
+    else
+        if test "$enable_ld" = "yes"; then
+            as_fn_error $? "--enable-ld not supported" "$LINENO" 5
+        fi
+    fi
+fi
+
+
+
+HAVE_LD_BSYMBOLIC_FUNCTIONS=
+if test "$GCC" = "yes" -a "$_os" != Emscripten ; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for -Bsymbolic-functions linker support" >&5
+printf %s "checking for -Bsymbolic-functions linker support... " >&6; }
+    bsymbolic_functions_ldflags_save=$LDFLAGS
+    LDFLAGS="$LDFLAGS -Wl,-Bsymbolic-functions"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <stdio.h>
+
+int
+main (void)
+{
+
+printf ("hello world\n");
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  HAVE_LD_BSYMBOLIC_FUNCTIONS=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    if test "$HAVE_LD_BSYMBOLIC_FUNCTIONS" = "TRUE"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found " >&5
+printf "%s\n" "found " >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not found " >&5
+printf "%s\n" "not found " >&6; }
+    fi
+    LDFLAGS=$bsymbolic_functions_ldflags_save
+fi
+
+
+LD_GC_SECTIONS=
+if test "$GCC" = "yes"; then
+    for flag in "--gc-sections" "-dead_strip"; do
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $flag linker support" >&5
+printf %s "checking for $flag linker support... " >&6; }
+        ldflags_save=$LDFLAGS
+        LDFLAGS="$LDFLAGS -Wl,$flag"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <stdio.h>
+
+int
+main (void)
+{
+
+printf ("hello world\n");
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+
+            LD_GC_SECTIONS="-Wl,$flag"
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found " >&5
+printf "%s\n" "found " >&6; }
+
+else $as_nop
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not found " >&5
+printf "%s\n" "not found " >&6; }
+
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+        LDFLAGS=$ldflags_save
+        if test -n "$LD_GC_SECTIONS"; then
+            break
+        fi
+    done
+fi
+
+
+HAVE_EXTERNAL_DWARF=
+if test "$enable_split_debug" != no; then
+    use_split_debug=
+    if test -n "$ENABLE_LTO"; then
+        : # Inherently incompatible, since no debug info is created while compiling, GCC complains.
+    elif test "$enable_split_debug" = yes; then
+        use_split_debug=1
+        elif test "$test_split_debug" = "yes" -a -n "$ENABLE_DEBUG$ENABLE_DBGUTIL"; then
+        use_split_debug=1
+    fi
+    if test -n "$use_split_debug"; then
+        if test "$_os" = "Emscripten"; then
+            TEST_CC_FLAG=-gsplit-dwarf -gpubnames
+        else
+            TEST_CC_FLAG=-gsplit-dwarf
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports $TEST_CC_FLAG" >&5
+printf %s "checking whether $CC_BASE supports $TEST_CC_FLAG... " >&6; }
+        save_CFLAGS=$CFLAGS
+        CFLAGS="$CFLAGS -Werror $TEST_CC_FLAG"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+   HAVE_EXTERNAL_DWARF=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+        CFLAGS=$save_CFLAGS
+        if test "$HAVE_EXTERNAL_DWARF" = "TRUE"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        else
+            if test "$enable_split_debug" = yes; then
+                as_fn_error $? "no" "$LINENO" 5
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+            fi
+        fi
+    fi
+    if test -z "$HAVE_EXTERNAL_DWARF" -a "$test_split_debug" = "yes" -a -n "$use_split_debug"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Compiler is not capable of creating split debug info, linking will require more time and disk space." >&5
+printf "%s\n" "$as_me: WARNING: Compiler is not capable of creating split debug info, linking will require more time and disk space." >&2;}
+        add_warning "Compiler is not capable of creating split debug info, linking will require more time and disk space."
+    fi
+fi
+
+
+HAVE_CLANG_DEBUG_INFO_KIND_CONSTRUCTOR=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -Xclang -debug-info-kind=constructor" >&5
+printf %s "checking whether $CC_BASE supports -Xclang -debug-info-kind=constructor... " >&6; }
+save_CFLAGS=$CFLAGS
+CFLAGS="$CFLAGS -Werror -Xclang -debug-info-kind=constructor"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+   HAVE_CLANG_DEBUG_INFO_KIND_CONSTRUCTOR=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+CFLAGS=$save_CFLAGS
+if test "$HAVE_CLANG_DEBUG_INFO_KIND_CONSTRUCTOR" = "TRUE"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+ENABLE_GDB_INDEX=
+if test "$enable_gdb_index" != "no"; then
+        if test "$enable_gdb_index" = yes -o \( "$test_gdb_index" = "yes" -a -n "$ENABLE_DEBUG$ENABLE_DBGUTIL" \); then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -ggnu-pubnames" >&5
+printf %s "checking whether $CC_BASE supports -ggnu-pubnames... " >&6; }
+        save_CFLAGS=$CFLAGS
+        CFLAGS="$CFLAGS -Werror -g -ggnu-pubnames"
+        have_ggnu_pubnames=
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  have_ggnu_pubnames=TRUE
+else $as_nop
+  have_ggnu_pubnames=
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+        if test "$have_ggnu_pubnames" != "TRUE"; then
+            if test "$enable_gdb_index" = "yes"; then
+                as_fn_error $? "no, --enable-gdb-index not supported" "$LINENO" 5
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no " >&5
+printf "%s\n" "no " >&6; }
+            fi
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes " >&5
+printf "%s\n" "yes " >&6; }
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -Wl,--gdb-index" >&5
+printf %s "checking whether $CC_BASE supports -Wl,--gdb-index... " >&6; }
+            ldflags_save=$LDFLAGS
+            LDFLAGS="$LDFLAGS -Wl,--gdb-index"
+            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <stdio.h>
+
+int
+main (void)
+{
+
+printf ("hello world\n");
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ENABLE_GDB_INDEX=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+            if test "$ENABLE_GDB_INDEX" = "TRUE"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes " >&5
+printf "%s\n" "yes " >&6; }
+            else
+                if test "$enable_gdb_index" = "yes"; then
+                    as_fn_error $? "no " "$LINENO" 5
+                else
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no " >&5
+printf "%s\n" "no " >&6; }
+                fi
+            fi
+            LDFLAGS=$ldflags_save
+        fi
+        CFLAGS=$save_CFLAGS
+        fi
+    if test -z "$ENABLE_GDB_INDEX" -a "$test_gdb_index" = "yes" -a -n "$ENABLE_DEBUG$ENABLE_DBGUTIL"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Linker is not capable of creating gdb index, debugger startup will be slow." >&5
+printf "%s\n" "$as_me: WARNING: Linker is not capable of creating gdb index, debugger startup will be slow." >&2;}
+        add_warning "Linker is not capable of creating gdb index, debugger startup will be slow."
+    fi
+fi
+
+
+if test -z "$enable_sal_log" && test "$ENABLE_DEBUG" = TRUE; then
+    enable_sal_log=yes
+fi
+if test "$enable_sal_log" = yes; then
+    ENABLE_SAL_LOG=TRUE
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to generate debug information" >&5
+printf %s "checking whether to generate debug information... " >&6; }
+if test -z "$enable_symbols"; then
+    if test -n "$ENABLE_DEBUG$ENABLE_DBGUTIL"; then
+        enable_symbols=yes
+    else
+        enable_symbols=no
+    fi
+fi
+if test "$enable_symbols" = yes; then
+    ENABLE_SYMBOLS_FOR=all
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+elif test "$enable_symbols" = no; then
+    ENABLE_SYMBOLS_FOR=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    # Selective debuginfo.
+    ENABLE_SYMBOLS_FOR="$enable_symbols"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: for \"$enable_symbols\"" >&5
+printf "%s\n" "for \"$enable_symbols\"" >&6; }
+fi
+
+
+if test -n "$with_android_ndk" -a \( -n "$ENABLE_DEBUG" -o -n "$ENABLE_DBGUTIL" \) -a "$ENABLE_SYMBOLS_FOR" = "all"; then
+    # Building on Android with full symbols: without enough memory the linker never finishes currently.
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether enough memory is available for linking" >&5
+printf %s "checking whether enough memory is available for linking... " >&6; }
+    mem_size=$(grep -o 'MemTotal: *.\+ kB' /proc/meminfo | sed 's/MemTotal: *\(.\+\) kB/\1/')
+    # Check for 15GB, as Linux reports a bit less than the physical memory size.
+    if test -n "$mem_size" -a $mem_size -lt 15728640; then
+        as_fn_error $? "building with full symbols and less than 16GB of memory is not supported" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    fi
+fi
+
+ENABLE_OPTIMIZED=
+ENABLE_OPTIMIZED_DEBUG=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to compile with optimization flags" >&5
+printf %s "checking whether to compile with optimization flags... " >&6; }
+if test -z "$enable_optimized"; then
+    if test -n "$ENABLE_DEBUG$ENABLE_DBGUTIL"; then
+        enable_optimized=no
+    else
+        enable_optimized=yes
+    fi
+fi
+if test "$enable_optimized" = yes; then
+    ENABLE_OPTIMIZED=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+elif test "$enable_optimized" = debug; then
+    ENABLE_OPTIMIZED_DEBUG=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (debug)" >&5
+printf "%s\n" "yes (debug)" >&6; }
+    HAVE_GCC_OG=
+    if test "$GCC" = "yes" -a "$_os" != "Emscripten"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -Og" >&5
+printf %s "checking whether $CC_BASE supports -Og... " >&6; }
+        save_CFLAGS=$CFLAGS
+        CFLAGS="$CFLAGS -Werror -Og"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+   HAVE_GCC_OG=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+        CFLAGS=$save_CFLAGS
+        if test "$HAVE_GCC_OG" = "TRUE"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        fi
+    fi
+    if test -z "$HAVE_GCC_OG" -a "$_os" != "Emscripten"; then
+        as_fn_error $? "The compiler does not support optimizations suitable for debugging." "$LINENO" 5
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+#
+# determine CPUNAME, OS, ...
+#
+case "$host_os" in
+
+cygwin*|wsl*)
+    # Already handled
+    ;;
+
+darwin*)
+    COM=GCC
+    OS=MACOSX
+    RTL_OS=MacOSX
+    P_SEP=:
+
+    case "$host_cpu" in
+    aarch64|arm64)
+        if test "$enable_ios_simulator" = "yes"; then
+            OS=iOS
+        else
+            CPUNAME=AARCH64
+            RTL_ARCH=AARCH64
+            PLATFORMID=macosx_aarch64
+        fi
+        ;;
+    x86_64)
+        if test "$enable_ios_simulator" = "yes"; then
+            OS=iOS
+        fi
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=macosx_x86_64
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    ;;
+
+ios*)
+    COM=GCC
+    OS=iOS
+    RTL_OS=iOS
+    P_SEP=:
+
+    case "$host_cpu" in
+    aarch64|arm64)
+        if test "$enable_ios_simulator" = "yes"; then
+            as_fn_error $? "iOS simulator is only available in macOS not iOS" "$LINENO" 5
+        fi
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    CPUNAME=AARCH64
+    RTL_ARCH=AARCH64
+    PLATFORMID=ios_arm64
+    ;;
+
+dragonfly*)
+    COM=GCC
+    OS=DRAGONFLY
+    RTL_OS=DragonFly
+    P_SEP=:
+
+    case "$host_cpu" in
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=dragonfly_x86
+        ;;
+    x86_64)
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=dragonfly_x86_64
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    ;;
+
+freebsd*)
+    COM=GCC
+    RTL_OS=FreeBSD
+    OS=FREEBSD
+    P_SEP=:
+
+    case "$host_cpu" in
+    aarch64)
+        CPUNAME=AARCH64
+        PLATFORMID=freebsd_aarch64
+        RTL_ARCH=AARCH64
+        ;;
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=freebsd_x86
+        ;;
+    x86_64|amd64)
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=freebsd_x86_64
+        ;;
+    powerpc64)
+        CPUNAME=POWERPC64
+        RTL_ARCH=PowerPC_64
+        PLATFORMID=freebsd_powerpc64
+        ;;
+    powerpc|powerpcspe)
+        CPUNAME=POWERPC
+        RTL_ARCH=PowerPC
+        PLATFORMID=freebsd_powerpc
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    ;;
+
+haiku*)
+    COM=GCC
+    GUIBASE=haiku
+    RTL_OS=Haiku
+    OS=HAIKU
+    P_SEP=:
+
+    case "$host_cpu" in
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=haiku_x86
+        ;;
+    x86_64|amd64)
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=haiku_x86_64
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    ;;
+
+kfreebsd*)
+    COM=GCC
+    OS=LINUX
+    RTL_OS=kFreeBSD
+    P_SEP=:
+
+    case "$host_cpu" in
+
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=kfreebsd_x86
+        ;;
+    x86_64)
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=kfreebsd_x86_64
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    ;;
+
+linux-gnu*|linux-musl*)
+    COM=GCC
+    OS=LINUX
+    RTL_OS=Linux
+    P_SEP=:
+
+    case "$host_cpu" in
+
+    aarch64)
+        CPUNAME=AARCH64
+        PLATFORMID=linux_aarch64
+        RTL_ARCH=AARCH64
+        EPM_FLAGS="-a arm64"
+        ;;
+    alpha)
+        CPUNAME=AXP
+        RTL_ARCH=ALPHA
+        PLATFORMID=linux_alpha
+        ;;
+    arm*)
+        CPUNAME=ARM
+        EPM_FLAGS="-a arm"
+        RTL_ARCH=ARM_EABI
+        PLATFORMID=linux_arm_eabi
+        case "$host_cpu" in
+        arm*-linux)
+            RTL_ARCH=ARM_OABI
+            PLATFORMID=linux_arm_oabi
+            ;;
+        esac
+        ;;
+    hppa)
+        CPUNAME=HPPA
+        RTL_ARCH=HPPA
+        EPM_FLAGS="-a hppa"
+        PLATFORMID=linux_hppa
+        ;;
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=linux_x86
+        ;;
+    ia64)
+        CPUNAME=IA64
+        RTL_ARCH=IA64
+        PLATFORMID=linux_ia64
+        ;;
+    mips)
+        CPUNAME=MIPS
+        RTL_ARCH=MIPS_EB
+        EPM_FLAGS="-a mips"
+        PLATFORMID=linux_mips_eb
+        ;;
+    mips64)
+        CPUNAME=MIPS64
+        RTL_ARCH=MIPS64_EB
+        EPM_FLAGS="-a mips64"
+        PLATFORMID=linux_mips64_eb
+        ;;
+    mips64el)
+        CPUNAME=MIPS64
+        RTL_ARCH=MIPS64_EL
+        EPM_FLAGS="-a mips64el"
+        PLATFORMID=linux_mips64_el
+        ;;
+    mipsel)
+        CPUNAME=MIPS
+        RTL_ARCH=MIPS_EL
+        EPM_FLAGS="-a mipsel"
+        PLATFORMID=linux_mips_el
+        ;;
+    riscv64)
+        CPUNAME=RISCV64
+        RTL_ARCH=RISCV64
+        EPM_FLAGS="-a riscv64"
+        PLATFORMID=linux_riscv64
+        ;;
+    m68k)
+        CPUNAME=M68K
+        RTL_ARCH=M68K
+        PLATFORMID=linux_m68k
+        ;;
+    powerpc)
+        CPUNAME=POWERPC
+        RTL_ARCH=PowerPC
+        PLATFORMID=linux_powerpc
+        ;;
+    powerpc64)
+        CPUNAME=POWERPC64
+        RTL_ARCH=PowerPC_64
+        PLATFORMID=linux_powerpc64
+        ;;
+    powerpc64le)
+        CPUNAME=POWERPC64
+        RTL_ARCH=PowerPC_64_LE
+        PLATFORMID=linux_powerpc64_le
+        ;;
+    sparc)
+        CPUNAME=SPARC
+        RTL_ARCH=SPARC
+        PLATFORMID=linux_sparc
+        ;;
+    sparc64)
+        CPUNAME=SPARC64
+        RTL_ARCH=SPARC64
+        PLATFORMID=linux_sparc64
+        ;;
+    s390x)
+        CPUNAME=S390X
+        RTL_ARCH=S390x
+        PLATFORMID=linux_s390x
+        ;;
+    x86_64)
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=linux_x86_64
+        ;;
+    loongarch64)
+        CPUNAME=LOONGARCH64
+        RTL_ARCH=LOONGARCH64
+        PLATFORMID=linux_loongarch64
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    ;;
+
+linux-android*)
+    COM=GCC
+    OS=ANDROID
+    RTL_OS=Android
+    P_SEP=:
+
+    case "$host_cpu" in
+
+    arm|armel)
+        CPUNAME=ARM
+        RTL_ARCH=ARM_EABI
+        PLATFORMID=android_arm_eabi
+        ;;
+    aarch64)
+        CPUNAME=AARCH64
+        RTL_ARCH=AARCH64
+        PLATFORMID=android_aarch64
+        ;;
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=android_x86
+        ;;
+    x86_64)
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=android_x86_64
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    ;;
+
+*netbsd*)
+    COM=GCC
+    OS=NETBSD
+    RTL_OS=NetBSD
+    P_SEP=:
+
+    case "$host_cpu" in
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=netbsd_x86
+        ;;
+    powerpc)
+        CPUNAME=POWERPC
+        RTL_ARCH=PowerPC
+        PLATFORMID=netbsd_powerpc
+        ;;
+    sparc)
+        CPUNAME=SPARC
+        RTL_ARCH=SPARC
+        PLATFORMID=netbsd_sparc
+        ;;
+    x86_64)
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=netbsd_x86_64
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    ;;
+
+openbsd*)
+    COM=GCC
+    OS=OPENBSD
+    RTL_OS=OpenBSD
+    P_SEP=:
+
+    case "$host_cpu" in
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=openbsd_x86
+        ;;
+    x86_64)
+        CPUNAME=X86_64
+        RTL_ARCH=X86_64
+        PLATFORMID=openbsd_x86_64
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    SOLARINC="$SOLARINC -I/usr/local/include"
+    ;;
+
+solaris*)
+    COM=GCC
+    OS=SOLARIS
+    RTL_OS=Solaris
+    P_SEP=:
+
+    case "$host_cpu" in
+    i*86)
+        CPUNAME=INTEL
+        RTL_ARCH=x86
+        PLATFORMID=solaris_x86
+        ;;
+    sparc)
+        CPUNAME=SPARC
+        RTL_ARCH=SPARC
+        PLATFORMID=solaris_sparc
+        ;;
+    sparc64)
+        CPUNAME=SPARC64
+        RTL_ARCH=SPARC64
+        PLATFORMID=solaris_sparc64
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    SOLARINC="$SOLARINC -I/usr/local/include"
+    ;;
+
+emscripten*)
+    COM=GCC
+    OS=EMSCRIPTEN
+    RTL_OS=Emscripten
+    P_SEP=:
+
+    case "$host_cpu" in
+    wasm32|wasm64)
+        ;;
+    *)
+        as_fn_error $? "Unsupported host_cpu $host_cpu for host_os $host_os" "$LINENO" 5
+        ;;
+    esac
+    CPUNAME=INTEL
+    RTL_ARCH=x86
+    PLATFORMID=linux_x86
+    ;;
+
+*)
+    as_fn_error $? "$host_os operating system is not suitable to build LibreOffice for!" "$LINENO" 5
+    ;;
+esac
+
+DISABLE_GUI=""
+if test "$enable_gui" = "no"; then
+    if test "$using_x11" != yes; then
+        as_fn_error $? "$host_os operating system is not suitable to build LibreOffice with --disable-gui." "$LINENO" 5
+    fi
+    USING_X11=
+    DISABLE_GUI=TRUE
+    test_epoxy=no
+else
+    printf "%s\n" "#define HAVE_FEATURE_UI 1" >>confdefs.h
+
+fi
+
+
+if test "$with_x" = "no"; then
+    USING_X11=
+fi
+
+if test -z "$USING_X11" -a "$enable_qt5" = "yes" -a "$enable_gen" = "yes"; then
+    as_fn_error $? "Can't select gen VCL plugin, if --without-x is used!" "$LINENO" 5
+fi
+
+if test "$using_x11" = yes; then
+    if test "$USING_X11" = TRUE; then
+        printf "%s\n" "#define USING_X11 1" >>confdefs.h
+
+    else
+        disable_x11_tests
+        if test "$DISABLE_DYNLOADING" = TRUE; then
+            test_qt5=yes
+            test_qt6=yes
+        fi
+    fi
+else
+    if test "$USING_X11" = TRUE; then
+        as_fn_error $? "Platform doesn't support X11 (\$using_x11), but \$USING_X11 is set!" "$LINENO" 5
+    fi
+fi
+
+WORKDIR="${BUILDDIR}/workdir"
+INSTDIR="${BUILDDIR}/instdir"
+INSTROOTBASE=${INSTDIR}${INSTROOTBASESUFFIX}
+INSTROOT=${INSTROOTBASE}${INSTROOTCONTENTSUFFIX}
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+printf "%s\n" "#define SDKDIR \"$INSTDIR/$SDKDIRNAME\"" >>confdefs.h
+
+printf "%s\n" "#define WORKDIR \"$WORKDIR\"" >>confdefs.h
+
+
+if test "$OS" = WNT -a "$COM" = MSC; then
+    case "$CPUNAME" in
+    INTEL) CPPU_ENV=msci ;;
+    X86_64) CPPU_ENV=mscx ;;
+    AARCH64) CPPU_ENV=msca ;;
+    *)
+        as_fn_error $? "Unknown \$CPUNAME '$CPUNAME' for $OS / $COM\"" "$LINENO" 5
+        ;;
+    esac
+else
+    CPPU_ENV=gcc3
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which package format to use" >&5
+printf %s "checking which package format to use... " >&6; }
+if test -n "$with_package_format" -a "$with_package_format" != no; then
+    for i in $with_package_format; do
+        case "$i" in
+        bsd | deb | pkg | rpm | archive | dmg | installed | msi)
+            ;;
+        *)
+            as_fn_error $? "unsupported format $i. Supported by EPM are:
+bsd - FreeBSD, NetBSD, or OpenBSD software distribution
+deb - Debian software distribution
+pkg - Solaris software distribution
+rpm - RedHat software distribution
+
+LibreOffice additionally supports:
+archive - .tar.gz or .zip
+dmg - macOS .dmg
+installed - installation tree
+msi - Windows .msi
+        " "$LINENO" 5
+            ;;
+        esac
+    done
+    # fakeroot is needed to ensure correct file ownerships/permissions
+    # inside deb packages and tar archives created on Linux and Solaris.
+    if test "$OS" = "LINUX" || test "$OS" = "SOLARIS"; then
+        # Extract the first word of "fakeroot", so it can be a program name with args.
+set dummy fakeroot; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_FAKEROOT+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $FAKEROOT in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_FAKEROOT="$FAKEROOT" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_FAKEROOT="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_FAKEROOT" && ac_cv_path_FAKEROOT="no"
+  ;;
+esac
+fi
+FAKEROOT=$ac_cv_path_FAKEROOT
+if test -n "$FAKEROOT"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $FAKEROOT" >&5
+printf "%s\n" "$FAKEROOT" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test "$FAKEROOT" = "no"; then
+            as_fn_error $? "--with-package-format='$with_package_format' requires fakeroot. Install fakeroot." "$LINENO" 5
+        fi
+    fi
+    PKGFORMAT="$with_package_format"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PKGFORMAT" >&5
+printf "%s\n" "$PKGFORMAT" >&6; }
+else
+    PKGFORMAT=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none" >&5
+printf "%s\n" "none" >&6; }
+fi
+
+
+
+ENABLE_HTMLHELP=
+HELP_OMINDEX_PAGE=
+HELP_ONLINE=
+WITH_HELPPACKS=
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which help to build" >&5
+printf %s "checking which help to build... " >&6; }
+if test -n "$with_help" -a "$with_help" != "no"; then
+    GIT_NEEDED_SUBMODULES="helpcontent2 $GIT_NEEDED_SUBMODULES"
+    BUILD_TYPE="$BUILD_TYPE HELP"
+    case "$with_help" in
+    "html")
+        ENABLE_HTMLHELP=TRUE
+        WITH_HELPPACKS=TRUE
+        SCPDEFS="$SCPDEFS -DWITH_HELPPACKS"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: HTML (local)" >&5
+printf "%s\n" "HTML (local)" >&6; }
+        ;;
+    "online")
+        ENABLE_HTMLHELP=TRUE
+        HELP_ONLINE=TRUE
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: HTML (online)" >&5
+printf "%s\n" "HTML (online)" >&6; }
+        ;;
+    yes)
+        WITH_HELPPACKS=TRUE
+        SCPDEFS="$SCPDEFS -DWITH_HELPPACKS"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: XML (local)" >&5
+printf "%s\n" "XML (local)" >&6; }
+        ;;
+    *)
+        as_fn_error $? "Unknown --with-help=$with_help" "$LINENO" 5
+        ;;
+    esac
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if we need to build the help index tooling" >&5
+printf %s "checking if we need to build the help index tooling... " >&6; }
+if test \( "$with_help" = yes -o "$enable_extension_integration" != no \) -a -z "$DISABLE_DYNLOADING"; then
+    BUILD_TYPE="$BUILD_TYPE HELPTOOLS"
+    test_clucene=yes
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable xapian-omega support for online help" >&5
+printf %s "checking whether to enable xapian-omega support for online help... " >&6; }
+if test -n "$with_omindex" -a "$with_omindex" != "no"; then
+    if test "$HELP_ONLINE" != TRUE; then
+        as_fn_error $? "Can't build xapian-omega index without --help=online" "$LINENO" 5
+    fi
+    case "$with_omindex" in
+    "server")
+        HELP_OMINDEX_PAGE=TRUE
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: SERVER" >&5
+printf "%s\n" "SERVER" >&6; }
+        ;;
+    "noxap")
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: NOXAP" >&5
+printf "%s\n" "NOXAP" >&6; }
+        ;;
+    *)
+        as_fn_error $? "Unknown --with-omindex=$with_omindex" "$LINENO" 5
+        ;;
+    esac
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to include the XML-help support" >&5
+printf %s "checking whether to include the XML-help support... " >&6; }
+if test "$enable_xmlhelp" = yes; then
+    BUILD_TYPE="$BUILD_TYPE XMLHELP"
+    test_clucene=yes
+    printf "%s\n" "#define HAVE_FEATURE_XMLHELP 1" >>confdefs.h
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    if test "$with_help" = yes; then
+        add_warning "Building the XML help, but LO with disabled xmlhelp support. Generated help can't be accessed from this LO build!"
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for helppack integration" >&5
+printf %s "checking for helppack integration... " >&6; }
+if test -z "$WITH_HELPPACKS" -o "$with_helppack_integration" = no; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no integration" >&5
+printf "%s\n" "no integration" >&6; }
+else
+    SCPDEFS="$SCPDEFS -DWITH_HELPPACK_INTEGRATION"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: integration" >&5
+printf "%s\n" "integration" >&6; }
+fi
+
+
+
+
+# WITH_HELPPACKS is used only in configure
+
+
+
+
+if test "$cross_compiling" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for BUILD platform configuration" >&5
+printf %s "checking for BUILD platform configuration... " >&6; }
+    echo
+    rm -rf CONF-FOR-BUILD config_build.mk
+    mkdir CONF-FOR-BUILD
+    # Here must be listed all files needed when running the configure script. In particular, also
+    # those expanded by the AC_CONFIG_FILES() call near the end of this configure.ac. For clarity,
+    # keep them in the same order as there.
+    (cd $SRC_ROOT && tar cf - \
+        config.guess \
+        bin/get_config_variables \
+        solenv/bin/getcompver.awk \
+        solenv/inc/langlist.mk \
+        download.lst \
+        config_host.mk.in \
+        config_host_lang.mk.in \
+        Makefile.in \
+        bin/bffvalidator.sh.in \
+        bin/odfvalidator.sh.in \
+        bin/officeotron.sh.in \
+        instsetoo_native/util/openoffice.lst.in \
+        config_host/*.in \
+        sysui/desktop/macosx/Info.plist.in \
+        sysui/desktop/macosx/hardened_runtime.xcent.in \
+        sysui/desktop/macosx/lo.xcent.in \
+        .vscode/vs-code-template.code-workspace.in \
+        solenv/lockfile/autoconf.h.in \
+        ) \
+    | (cd CONF-FOR-BUILD && tar xf -)
+    cp configure CONF-FOR-BUILD
+    test -d config_build && cp -p config_build/*.h CONF-FOR-BUILD/config_host 2>/dev/null
+    (
+    unset COM USING_X11 OS CPUNAME
+    unset CC CXX SYSBASE CFLAGS
+    unset AR LD NM OBJDUMP PKG_CONFIG RANLIB READELF STRIP
+    unset CPPUNIT_CFLAGS CPPUNIT_LIBS
+    unset LIBXML_CFLAGS LIBXML_LIBS LIBXSLT_CFLAGS LIBXSLT_LIBS XSLTPROC
+    unset PKG_CONFIG_LIBDIR PKG_CONFIG_PATH
+    if test -n "$CC_FOR_BUILD"; then
+        export CC="$CC_FOR_BUILD"
+        CC_BASE=`first_arg_basename "$CC"`
+    fi
+    if test -n "$CXX_FOR_BUILD"; then
+        export CXX="$CXX_FOR_BUILD"
+        CXX_BASE=`first_arg_basename "$CXX"`
+    fi
+    test -n "$PKG_CONFIG_FOR_BUILD" && export PKG_CONFIG="$PKG_CONFIG_FOR_BUILD"
+    cd CONF-FOR-BUILD
+
+    # Handle host configuration, which affects the cross-toolset too
+    sub_conf_opts=""
+    test -n "$enable_ccache" && sub_conf_opts="$sub_conf_opts --enable-ccache=$enable_ccache"
+    test -n "$with_ant_home" && sub_conf_opts="$sub_conf_opts --with-ant-home=$with_ant_home"
+    test "$with_junit" = "no" && sub_conf_opts="$sub_conf_opts --without-junit"
+    # While we don't need scripting support, we don't have a PYTHON_FOR_BUILD Java equivalent, so must enable scripting for Java
+    if test -n "$ENABLE_JAVA"; then
+        case "$_os" in
+        Android)
+            # Hack for Android - the build doesn't need a host JDK, so just forward to build for convenience
+            test -n "$with_jdk_home" && sub_conf_opts="$sub_conf_opts --with-jdk-home=$with_jdk_home"
+            ;;
+        *)
+            if test -z "$with_jdk_home"; then
+                as_fn_error $? "Missing host JDK! This can't be detected for the build OS, so you have to specify it with --with-jdk-home." "$LINENO" 5
+            fi
+            ;;
+        esac
+    else
+        sub_conf_opts="$sub_conf_opts --without-java"
+    fi
+    test -n "$TARFILE_LOCATION" && sub_conf_opts="$sub_conf_opts --with-external-tar=$TARFILE_LOCATION"
+    test "$with_galleries" = "no" -o -z "$WITH_GALLERY_BUILD" && sub_conf_opts="$sub_conf_opts --with-galleries=no --disable-database-connectivity"
+    test "$with_templates" = "no" -o -z "$WITH_TEMPLATES" && sub_conf_opts="$sub_conf_opts --with-templates=no"
+    test -n "$with_help" -a "$with_help" != "no" && sub_conf_opts="$sub_conf_opts --with-help=$with_help"
+    test "$enable_extensions" = yes || sub_conf_opts="$sub_conf_opts --disable-extensions"
+    test "${enable_ld+set}" = set -a "$build_cpu" = "$host_cpu" && sub_conf_opts="$sub_conf_opts --enable-ld=${enable_ld}"
+    test "${enable_pch+set}" = set && sub_conf_opts="$sub_conf_opts --enable-pch=${enable_pch}"
+    test "$enable_wasm_strip" = "yes" && sub_conf_opts="$sub_conf_opts --enable-wasm-strip"
+    test "${with_system_lockfile+set}" = set && sub_conf_opts="$sub_conf_opts --with-system-lockfile=${with_system_lockfile}"
+    test "${enable_fuzzers}" = yes && sub_conf_opts="$sub_conf_opts --without-system-libxml"
+    if test "$_os" = "Emscripten"; then
+        sub_conf_opts="$sub_conf_opts --without-system-libxml --without-system-fontconfig --without-system-freetype --without-system-zlib"
+        if test "${with_main_module+set}" = set; then
+            sub_conf_opts="$sub_conf_opts --with-main-module=${with_main_module}"
+        else
+            sub_conf_opts="$sub_conf_opts --with-main-module=writer"
+        fi
+    fi
+    # windows uses full-internal python and that in turn relies on openssl, so also enable openssl
+    # when cross-compiling for aarch64, overriding the defaults below
+    test "${PLATFORMID}" = "windows_aarch64" && sub_conf_opts="$sub_conf_opts --enable-openssl --with-tls=openssl"
+
+    # Don't bother having configure look for stuff not needed for the build platform anyway
+    # WARNING: any option with an argument containing spaces must be handled separately (see --with-theme)
+    sub_conf_defaults=" \
+        --build="$build_alias" \
+        --disable-cairo-canvas \
+        --disable-cups \
+        --disable-customtarget-components \
+        --disable-firebird-sdbc \
+        --disable-gpgmepp \
+        --disable-gstreamer-1-0 \
+        --disable-gtk3 \
+        --disable-gtk4 \
+        --disable-libcmis \
+        --disable-mariadb-sdbc \
+        --disable-nss \
+        --disable-online-update \
+        --disable-opencl \
+        --disable-openssl \
+        --disable-pdfimport \
+        --disable-postgresql-sdbc \
+        --disable-skia \
+        --disable-xmlhelp \
+        --enable-dynamic-loading \
+        --enable-icecream="$enable_icecream" \
+        --without-gssapi \
+        --without-doxygen \
+        --without-tls \
+        --without-webdav \
+        --without-x \
+"
+    # single quotes added for better readability in case of spaces
+    echo "    Running CONF-FOR-BUILD/configure" \
+        $sub_conf_defaults \
+        --with-parallelism="'$with_parallelism'" \
+        --with-theme="'$with_theme'" \
+        --with-vendor="'$with_vendor'" \
+        $sub_conf_opts \
+        $with_build_platform_configure_options \
+        --srcdir=$srcdir
+
+    ./configure \
+        $sub_conf_defaults \
+        --with-parallelism="$with_parallelism" \
+        --with-theme="$with_theme" \
+        "--with-vendor=$with_vendor" \
+        $sub_conf_opts \
+        $with_build_platform_configure_options \
+        --srcdir=$srcdir \
+        2>&1 | sed -e 's/^/    /'
+    if test ${PIPESTATUS[0]} -ne 0; then
+        as_fn_error $? "Running the configure script for BUILD side failed, see CONF-FOR-BUILD/config.log" "$LINENO" 5
+    fi
+
+    # filter permitted build targets
+    PERMITTED_BUILD_TARGETS="
+        ARGON2
+        AVMEDIA
+        BOOST
+        BZIP2
+        CAIRO
+        CLUCENE
+        CURL
+        DBCONNECTIVITY
+        DESKTOP
+        DRAGONBOX
+        DYNLOADING
+        EPOXY
+        EXPAT
+        FROZEN
+        GLM
+        GRAPHITE
+        HARFBUZZ
+        HELPTOOLS
+        ICU
+        LCMS2
+        LIBJPEG_TURBO
+        LIBLANGTAG
+        LibO
+        LIBFFI
+        LIBPN
+        LIBTIFF
+        LIBWEBP
+        LIBXML2
+        LIBXSLT
+        MDDS
+        NATIVE
+        OPENSSL
+        ORCUS
+        PYTHON
+        REPORTBUILDER
+        SCRIPTING
+        ZLIB
+        ZXCVBN
+"
+    # converts BUILD_TYPE and PERMITTED_BUILD_TARGETS into non-whitespace,
+    # newlined lists, to use grep as a filter
+    PERMITTED_BUILD_TARGETS=$(echo "$PERMITTED_BUILD_TARGETS" | sed -e '/^ *$/d' -e 's/ *//')
+    BUILD_TARGETS="$(sed -n -e '/^export BUILD_TYPE=/ s/.*=//p' config_host.mk | tr ' ' '\n')"
+    BUILD_TARGETS="$(echo "$BUILD_TARGETS" | grep -F "$PERMITTED_BUILD_TARGETS" | tr '\n' ' ')"
+    sed -i -e "s/ BUILD_TYPE=.*$/ BUILD_TYPE=$BUILD_TARGETS/" config_host.mk
+
+    cp config_host.mk ../config_build.mk
+    cp config_host_lang.mk ../config_build_lang.mk
+    mv config.log ../config.Build.log
+    mkdir -p ../config_build
+    mv config_host/*.h ../config_build
+    test -f "$WARNINGS_FILE" && mv "$WARNINGS_FILE" "../$WARNINGS_FILE_FOR_BUILD"
+
+    # all these will get a _FOR_BUILD postfix
+    DIRECT_FOR_BUILD_SETTINGS="
+        CC
+        CPPU_ENV
+        CXX
+        ILIB
+        JAVA_HOME
+        JAVAIFLAGS
+        JDK
+        JDK_SECURITYMANAGER_DISALLOWED
+        LIBO_BIN_FOLDER
+        LIBO_LIB_FOLDER
+        LIBO_URE_LIB_FOLDER
+        LIBO_URE_MISC_FOLDER
+        OS
+        SDKDIRNAME
+        SYSTEM_LIBXML
+        SYSTEM_LIBXSLT
+"
+    # these overwrite host config with build config
+    OVERWRITING_SETTINGS="
+        ANT
+        ANT_HOME
+        ANT_LIB
+        JAVA_SOURCE_VER
+        JAVA_TARGET_VER
+        JAVACFLAGS
+        JAVACOMPILER
+        JAVADOC
+        JAVADOCISGJDOC
+        LOCKFILE
+        SYSTEM_GENBRK
+        SYSTEM_GENCCODE
+        SYSTEM_GENCMN
+"
+    # these need some special handling
+    EXTRA_HANDLED_SETTINGS="
+        INSTDIR
+        INSTROOT
+        PATH
+        WORKDIR
+"
+    OLD_PATH=$PATH
+    . ./bin/get_config_variables $DIRECT_FOR_BUILD_SETTINGS $OVERWRITING_SETTINGS $EXTRA_HANDLED_SETTINGS
+    BUILD_PATH=$PATH
+    PATH=$OLD_PATH
+
+    line=`echo "LO_PATH_FOR_BUILD='${BUILD_PATH}'" | sed -e 's,/CONF-FOR-BUILD,,g'`
+    echo "$line" >>build-config
+
+    for V in $DIRECT_FOR_BUILD_SETTINGS; do
+        VV='$'$V
+        VV=`eval "echo $VV"`
+        if test -n "$VV"; then
+            line=${V}_FOR_BUILD='${'${V}_FOR_BUILD:-$VV'}'
+            echo "$line" >>build-config
+        fi
+    done
+
+    for V in $OVERWRITING_SETTINGS; do
+        VV='$'$V
+        VV=`eval "echo $VV"`
+        if test -n "$VV"; then
+            line=${V}='${'${V}:-$VV'}'
+            echo "$line" >>build-config
+        fi
+    done
+
+    for V in INSTDIR INSTROOT WORKDIR; do
+        VV='$'$V
+        VV=`eval "echo $VV"`
+        VV=`echo $VV | sed -e "s,/CONF-FOR-BUILD/\([a-z]*\),/\1_for_build,g"`
+        if test -n "$VV"; then
+            line="${V}_FOR_BUILD='$VV'"
+            echo "$line" >>build-config
+        fi
+    done
+
+    )
+    test -f CONF-FOR-BUILD/build-config || as_fn_error $? "setup/configure for BUILD side failed, see CONF-FOR-BUILD/config.log" "$LINENO" 5
+    test -f config_build.mk || as_fn_error $? "A file called config_build.mk was supposed to have been copied here, but it isn't found" "$LINENO" 5
+    perl -pi -e 's,/(workdir|instdir)(/|$),/\1_for_build\2,g;' \
+             -e 's,/CONF-FOR-BUILD,,g;' config_build.mk
+
+    eval `cat CONF-FOR-BUILD/build-config`
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: checking for BUILD platform configuration... done" >&5
+printf "%s\n" "checking for BUILD platform configuration... done" >&6; }
+
+    rm -rf CONF-FOR-BUILD
+else
+    OS_FOR_BUILD="$OS"
+    CC_FOR_BUILD="$CC"
+    CPPU_ENV_FOR_BUILD="$CPPU_ENV"
+    CXX_FOR_BUILD="$CXX"
+    INSTDIR_FOR_BUILD="$INSTDIR"
+    INSTROOT_FOR_BUILD="$INSTROOT"
+    LIBO_BIN_FOLDER_FOR_BUILD="$LIBO_BIN_FOLDER"
+    LIBO_LIB_FOLDER_FOR_BUILD="$LIBO_LIB_FOLDER"
+    LIBO_URE_LIB_FOLDER_FOR_BUILD="$LIBO_URE_LIB_FOLDER"
+    LIBO_URE_MISC_FOLDER_FOR_BUILD="$LIBO_URE_MISC_FOLDER"
+    SDKDIRNAME_FOR_BUILD="$SDKDIRNAME"
+    WORKDIR_FOR_BUILD="$WORKDIR"
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+
+if test -z "$CROSS_COMPILING"; then
+    test -n "$LOCKFILE" -a "${with_system_lockfile+set}" != set && with_system_lockfile="$LOCKFILE"
+    test "${with_system_lockfile+set}" = set || with_system_lockfile=no
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which lockfile binary to use" >&5
+printf %s "checking which lockfile binary to use... " >&6; }
+    case "$with_system_lockfile" in
+    yes)
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        for ac_prog in dotlockfile lockfile
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_LOCKFILE+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $LOCKFILE in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_LOCKFILE="$LOCKFILE" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_LOCKFILE="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+LOCKFILE=$ac_cv_path_LOCKFILE
+if test -n "$LOCKFILE"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LOCKFILE" >&5
+printf "%s\n" "$LOCKFILE" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$LOCKFILE" && break
+done
+
+        ;;
+    no)
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        ;;
+    *)
+        if test -x "$with_system_lockfile"; then
+            LOCKFILE="$with_system_lockfile"
+        else
+            as_fn_error $? "'$with_system_lockfile' is not executable." "$LINENO" 5
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $with_system_lockfile" >&5
+printf "%s\n" "$with_system_lockfile" >&6; }
+        ;;
+    esac
+fi
+
+if test -n "$LOCKFILE" -a "$DISABLE_DYNLOADING" = TRUE; then
+    add_warning "The default system lockfile has increasing poll intervals up to 60s, so linking executables may be delayed."
+fi
+
+ac_fn_c_check_header_compile "$LINENO" "getopt.h" "ac_cv_header_getopt_h" "$ac_includes_default"
+if test "x$ac_cv_header_getopt_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_GETOPT_H 1" >>confdefs.h
+
+fi
+ac_fn_c_check_header_compile "$LINENO" "paths.h" "ac_cv_header_paths_h" "$ac_includes_default"
+if test "x$ac_cv_header_paths_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_PATHS_H 1" >>confdefs.h
+
+fi
+ac_fn_c_check_header_compile "$LINENO" "sys/param.h" "ac_cv_header_sys_param_h" "$ac_includes_default"
+if test "x$ac_cv_header_sys_param_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_SYS_PARAM_H 1" >>confdefs.h
+
+fi
+
+ac_fn_c_check_func "$LINENO" "utime" "ac_cv_func_utime"
+if test "x$ac_cv_func_utime" = xyes
+then :
+  printf "%s\n" "#define HAVE_UTIME 1" >>confdefs.h
+
+fi
+ac_fn_c_check_func "$LINENO" "utimes" "ac_cv_func_utimes"
+if test "x$ac_cv_func_utimes" = xyes
+then :
+  printf "%s\n" "#define HAVE_UTIMES 1" >>confdefs.h
+
+fi
+
+
+
+ac_fn_c_check_header_compile "$LINENO" "syslog.h" "ac_cv_header_syslog_h" "$ac_includes_default"
+if test "x$ac_cv_header_syslog_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_SYSLOG_H 1" >>confdefs.h
+
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to turn warnings to errors" >&5
+printf %s "checking whether to turn warnings to errors... " >&6; }
+if test -n "$enable_werror" -a "$enable_werror" != "no"; then
+    ENABLE_WERROR="TRUE"
+    PYTHONWARNINGS="error"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    if test -n "$LODE_HOME" -a -z "$enable_werror"; then
+        ENABLE_WERROR="TRUE"
+        PYTHONWARNINGS="error"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to have assert() failures abort even without --enable-debug" >&5
+printf %s "checking whether to have assert() failures abort even without --enable-debug... " >&6; }
+if test -z "$enable_assert_always_abort"; then
+   if test "$ENABLE_DEBUG" = TRUE; then
+       enable_assert_always_abort=yes
+   else
+       enable_assert_always_abort=no
+   fi
+fi
+if test "$enable_assert_always_abort" = "yes"; then
+    ASSERT_ALWAYS_ABORT="TRUE"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    ASSERT_ALWAYS_ABORT="FALSE"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+# Determine whether to use ooenv for the instdir installation
+# ===================================================================
+if test $_os != "WINNT" -a $_os != "Darwin"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use ooenv for the instdir installation" >&5
+printf %s "checking whether to use ooenv for the instdir installation... " >&6; }
+    if test -z "$enable_ooenv"; then
+        if test -n "$ENABLE_DEBUG$ENABLE_DBGUTIL"; then
+            enable_ooenv=yes
+        else
+            enable_ooenv=no
+        fi
+    fi
+    if test "$enable_ooenv" = "no"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    else
+        ENABLE_OOENV="TRUE"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    fi
+fi
+
+
+if test "$test_kf5" = "yes" -a "$enable_kf5" = "yes"; then
+    if test "$enable_qt5" = "no"; then
+        as_fn_error $? "KF5 support depends on QT5, so it conflicts with --disable-qt5" "$LINENO" 5
+    else
+        enable_qt5=yes
+    fi
+fi
+
+if test "$test_kf6" = "yes" -a "$enable_kf6" = "yes"; then
+    if test "$enable_qt6" = "no"; then
+        as_fn_error $? "KF6 support depends on QT6, so it conflicts with --disable-qt6" "$LINENO" 5
+    else
+        enable_qt6=yes
+    fi
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build the pagein binaries for oosplash" >&5
+printf %s "checking whether to build the pagein binaries for oosplash... " >&6; }
+if test "${enable_pagein}" != no -a -z "$DISABLE_DYNLOADING"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_PAGEIN=TRUE
+    printf "%s\n" "#define HAVE_FEATURE_PAGEIN 1" >>confdefs.h
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable CUPS support" >&5
+printf %s "checking whether to enable CUPS support... " >&6; }
+if test "$test_cups" = yes -a "$enable_cups" != no; then
+    ENABLE_CUPS=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether cups support is present" >&5
+printf %s "checking whether cups support is present... " >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for cupsPrintFiles in -lcups" >&5
+printf %s "checking for cupsPrintFiles in -lcups... " >&6; }
+if test ${ac_cv_lib_cups_cupsPrintFiles+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lcups  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char cupsPrintFiles ();
+int
+main (void)
+{
+return cupsPrintFiles ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_cups_cupsPrintFiles=yes
+else $as_nop
+  ac_cv_lib_cups_cupsPrintFiles=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_cups_cupsPrintFiles" >&5
+printf "%s\n" "$ac_cv_lib_cups_cupsPrintFiles" >&6; }
+if test "x$ac_cv_lib_cups_cupsPrintFiles" = xyes
+then :
+  :
+fi
+
+    ac_fn_c_check_header_compile "$LINENO" "cups/cups.h" "ac_cv_header_cups_cups_h" "$ac_includes_default"
+if test "x$ac_cv_header_cups_cups_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_CUPS_H 1" >>confdefs.h
+
+fi
+
+    if test "$ac_cv_lib_cups_cupsPrintFiles" != "yes" -o "$ac_cv_header_cups_cups_h" != "yes"; then
+        as_fn_error $? "Could not find CUPS. Install libcups2-dev or cups-devel." "$LINENO" 5
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_fontconfig="yes";
+
+
+
+# Check whether --with-system-fontconfig was given.
+if test ${with_system_fontconfig+y}
+then :
+  withval=$with_system_fontconfig;
+else $as_nop
+
+    if test "${with_system_fontconfig+set}" != set -a "${with_system_libs+set}" = set -a "TRUE" != TRUE; then
+        with_system_fontconfig="$with_system_libs";
+    else
+        with_system_fontconfig="yes"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which fontconfig to use" >&5
+printf %s "checking which fontconfig to use... " >&6; }
+if test "$test_fontconfig" != no -a "$found_fontconfig" != yes -a "$enable_fontconfig" != no; then
+    ENABLE_FONTCONFIG=TRUE
+    if test "$with_system_fontconfig" = yes -a "$test_system_fontconfig" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_FONTCONFIG=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for fontconfig >= 2.12.0" >&5
+printf %s "checking for fontconfig >= 2.12.0... " >&6; }
+
+if test -n "$FONTCONFIG_CFLAGS"; then
+    pkg_cv_FONTCONFIG_CFLAGS="$FONTCONFIG_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"fontconfig >= 2.12.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "fontconfig >= 2.12.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FONTCONFIG_CFLAGS=`$PKG_CONFIG --cflags "fontconfig >= 2.12.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$FONTCONFIG_LIBS"; then
+    pkg_cv_FONTCONFIG_LIBS="$FONTCONFIG_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"fontconfig >= 2.12.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "fontconfig >= 2.12.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FONTCONFIG_LIBS=`$PKG_CONFIG --libs "fontconfig >= 2.12.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                FONTCONFIG_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "fontconfig >= 2.12.0" 2>&1`
+        else
+                FONTCONFIG_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "fontconfig >= 2.12.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$FONTCONFIG_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (fontconfig >= 2.12.0) were not met:
+
+$FONTCONFIG_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables FONTCONFIG_CFLAGS
+and FONTCONFIG_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables FONTCONFIG_CFLAGS
+and FONTCONFIG_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        FONTCONFIG_CFLAGS=$pkg_cv_FONTCONFIG_CFLAGS
+        FONTCONFIG_LIBS=$pkg_cv_FONTCONFIG_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        FONTCONFIG_CFLAGS=$(printf '%s' "${FONTCONFIG_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${FONTCONFIG_LIBS}"
+        FONTCONFIG_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_FONTCONFIG=
+        FONTCONFIG_CFLAGS="${FONTCONFIG_CFLAGS_internal}"
+        FONTCONFIG_LIBS="${FONTCONFIG_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE FONTCONFIG"
+    fi
+else
+    if test "$found_fontconfig" = yes -a "$enable_fontconfig" != no -a "$with_system_fontconfig" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_FONTCONFIG=TRUE
+        SYSTEM_FONTCONFIG=TRUE
+    else
+        ENABLE_FONTCONFIG=
+        SYSTEM_FONTCONFIG=
+        FONTCONFIG_CFLAGS=
+        FONTCONFIG_LIBS=
+        if test "$test_fontconfig" != no -a "$enable_fontconfig" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+if test -z "$TARFILE_LOCATION" -a -n "$LODE_HOME" ; then
+   if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+       TARFILE_LOCATION="`cygpath -m $LODE_HOME/ext_tar`"
+   else
+       TARFILE_LOCATION="$LODE_HOME/ext_tar"
+   fi
+fi
+if test -z "$TARFILE_LOCATION"; then
+    if test -d "$SRC_ROOT/src" ; then
+        mv "$SRC_ROOT/src" "$SRC_ROOT/external/tarballs"
+        ln -s "$SRC_ROOT/external/tarballs" "$SRC_ROOT/src"
+    fi
+    TARFILE_LOCATION="$SRC_ROOT/external/tarballs"
+else
+    AbsolutePath "$TARFILE_LOCATION"
+    PathFormat "${absolute_path}"
+    TARFILE_LOCATION="${formatted_path_unix}"
+fi
+PathFormat "$TARFILE_LOCATION"
+TARFILE_LOCATION_NATIVE="$formatted_path"
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether we want to fetch tarballs" >&5
+printf %s "checking whether we want to fetch tarballs... " >&6; }
+if test "$enable_fetch_external" != "no"; then
+    if test "$with_all_tarballs" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, all of them" >&5
+printf "%s\n" "yes, all of them" >&6; }
+        DO_FETCH_TARBALLS="ALL"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, if we use them" >&5
+printf "%s\n" "yes, if we use them" >&6; }
+        DO_FETCH_TARBALLS="TRUE"
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    DO_FETCH_TARBALLS=
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to include MySpell dictionaries" >&5
+printf %s "checking whether to include MySpell dictionaries... " >&6; }
+if test "$with_myspell_dicts" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    WITH_MYSPELL_DICTS=TRUE
+    BUILD_TYPE="$BUILD_TYPE DICTIONARIES"
+    GIT_NEEDED_SUBMODULES="dictionaries $GIT_NEEDED_SUBMODULES"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    WITH_MYSPELL_DICTS=
+fi
+
+
+# There are no "system" myspell, hyphen or mythes dictionaries on macOS, Windows, Android or iOS.
+if test $_os = Darwin -o $_os = WINNT -o $_os = iOS -o $_os = Android; then
+    if test "$with_system_dicts" = yes; then
+        as_fn_error $? "There are no system dicts on this OS in the formats the 3rd-party libs we use expect" "$LINENO" 5;
+    fi
+    with_system_dicts=no
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use dicts from external paths" >&5
+printf %s "checking whether to use dicts from external paths... " >&6; }
+if test -z "$with_system_dicts" -o "$with_system_dicts" != "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    SYSTEM_DICTS=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for spelling dictionary directory" >&5
+printf %s "checking for spelling dictionary directory... " >&6; }
+    if test -n "$with_external_dict_dir"; then
+        DICT_SYSTEM_DIR=file://$with_external_dict_dir
+    else
+        DICT_SYSTEM_DIR=file:///usr/share/hunspell
+        if test ! -d /usr/share/hunspell -a -d /usr/share/myspell; then
+            DICT_SYSTEM_DIR=file:///usr/share/myspell
+        fi
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $DICT_SYSTEM_DIR" >&5
+printf "%s\n" "$DICT_SYSTEM_DIR" >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for hyphenation patterns directory" >&5
+printf %s "checking for hyphenation patterns directory... " >&6; }
+    if test -n "$with_external_hyph_dir"; then
+        HYPH_SYSTEM_DIR=file://$with_external_hyph_dir
+    else
+        HYPH_SYSTEM_DIR=file:///usr/share/hyphen
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $HYPH_SYSTEM_DIR" >&5
+printf "%s\n" "$HYPH_SYSTEM_DIR" >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for thesaurus directory" >&5
+printf %s "checking for thesaurus directory... " >&6; }
+    if test -n "$with_external_thes_dir"; then
+        THES_SYSTEM_DIR=file://$with_external_thes_dir
+    else
+        THES_SYSTEM_DIR=file:///usr/share/mythes
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $THES_SYSTEM_DIR" >&5
+printf "%s\n" "$THES_SYSTEM_DIR" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    SYSTEM_DICTS=
+fi
+
+
+
+
+
+ENABLE_PCH=""
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable pch feature" >&5
+printf %s "checking whether to enable pch feature... " >&6; }
+if test -z "$enable_pch"; then
+    if test "$_os" = "WINNT"; then
+        # Enabled by default on Windows.
+        enable_pch=yes
+        # never use sccache on auto-enabled PCH builds, except if requested explicitly
+        if test -z "$enable_ccache" -a "$SCCACHE"; then
+            CCACHE=""
+        fi
+    else
+        enable_pch=no
+    fi
+fi
+if test "$enable_pch" != no -a "$_os" = Emscripten; then
+    as_fn_error $? "PCH currently isn't supported for Emscripten with native EH (nEH) because of missing Sj/Lj support with nEH in clang." "$LINENO" 5
+fi
+if test "$enable_pch" != "no" -a "$_os" != "WINNT" -a "$GCC" != "yes" ; then
+    as_fn_error $? "Precompiled header not yet supported for your platform/compiler" "$LINENO" 5
+fi
+if test "$enable_pch" = "system"; then
+    ENABLE_PCH="1"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (system headers)" >&5
+printf "%s\n" "yes (system headers)" >&6; }
+elif test "$enable_pch" = "base"; then
+    ENABLE_PCH="2"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (system and base headers)" >&5
+printf "%s\n" "yes (system and base headers)" >&6; }
+elif test "$enable_pch" = "normal"; then
+    ENABLE_PCH="3"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (normal)" >&5
+printf "%s\n" "yes (normal)" >&6; }
+elif test "$enable_pch" = "full"; then
+    ENABLE_PCH="4"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (full)" >&5
+printf "%s\n" "yes (full)" >&6; }
+elif test "$enable_pch" = "yes"; then
+    # Pick a suitable default.
+    if test "$GCC" = "yes"; then
+        # With Clang and GCC higher levels do not seem to make a noticeable improvement,
+        # while making the PCHs larger and rebuilds more likely.
+        ENABLE_PCH="2"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (system and base headers)" >&5
+printf "%s\n" "yes (system and base headers)" >&6; }
+    else
+        # With MSVC the highest level makes a significant difference,
+        # and it was the default when there used to be no PCH levels.
+        ENABLE_PCH="4"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (full)" >&5
+printf "%s\n" "yes (full)" >&6; }
+    fi
+elif test "$enable_pch" = "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    as_fn_error $? "Unknown value for --enable-pch" "$LINENO" 5
+fi
+
+# ccache 3.7.1 and older do not properly detect/handle -include .gch in CCACHE_DEPEND mode
+if test -n "$ENABLE_PCH" -a -n "$CCACHE_DEPEND_MODE" -a "$GCC" = "yes" -a "$COM_IS_CLANG" != "TRUE"; then
+    # Extract the first word of "ccache", so it can be a program name with args.
+set dummy ccache; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_CCACHE_BIN+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $CCACHE_BIN in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_CCACHE_BIN="$CCACHE_BIN" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_CCACHE_BIN="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_CCACHE_BIN" && ac_cv_path_CCACHE_BIN="not found"
+  ;;
+esac
+fi
+CCACHE_BIN=$ac_cv_path_CCACHE_BIN
+if test -n "$CCACHE_BIN"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CCACHE_BIN" >&5
+printf "%s\n" "$CCACHE_BIN" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    if test "$CCACHE_BIN" != "not found"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking ccache version" >&5
+printf %s "checking ccache version... " >&6; }
+        CCACHE_VERSION=`"$CCACHE_BIN" -V | "$AWK" '/^ccache version/{print $3}'`
+        CCACHE_NUMVER=`echo $CCACHE_VERSION | $AWK -F. '{ print \$1*10000+\$2*100+\$3 }'`
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CCACHE_VERSION" >&5
+printf "%s\n" "$CCACHE_VERSION" >&6; }
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether ccache depend mode works properly with GCC PCH" >&5
+printf %s "checking whether ccache depend mode works properly with GCC PCH... " >&6; }
+        if test "$CCACHE_NUMVER" -gt "030701"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (not newer than 3.7.1)" >&5
+printf "%s\n" "no (not newer than 3.7.1)" >&6; }
+            CCACHE_DEPEND_MODE=
+        fi
+    fi
+fi
+
+PCH_INSTANTIATE_TEMPLATES=
+if test -n "$ENABLE_PCH"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC supports -fpch-instantiate-templates" >&5
+printf %s "checking whether $CC supports -fpch-instantiate-templates... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror -fpch-instantiate-templates"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+   PCH_INSTANTIATE_TEMPLATES="-fpch-instantiate-templates"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    if test -n "$PCH_INSTANTIATE_TEMPLATES"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+BUILDING_PCH_WITH_OBJ=
+if test -n "$ENABLE_PCH"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC supports -Xclang -building-pch-with-obj" >&5
+printf %s "checking whether $CC supports -Xclang -building-pch-with-obj... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror -Xclang -building-pch-with-obj"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+   BUILDING_PCH_WITH_OBJ="-Xclang -building-pch-with-obj"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    if test -n "$BUILDING_PCH_WITH_OBJ"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+PCH_CODEGEN=
+PCH_NO_CODEGEN=
+fpch_prefix=
+if test "$COM" = MSC; then
+    fpch_prefix="-Xclang "
+fi
+if test -n "$BUILDING_PCH_WITH_OBJ"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC supports ${fpch_prefix}-fpch-codegen" >&5
+printf %s "checking whether $CC supports ${fpch_prefix}-fpch-codegen... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror ${fpch_prefix}-fpch-codegen"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+   PCH_CODEGEN="${fpch_prefix}-fpch-codegen"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    CFLAGS="$CFLAGS -Werror ${fpch_prefix}-fno-pch-codegen"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+   PCH_NO_CODEGEN="${fpch_prefix}-fno-pch-codegen"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    if test -n "$PCH_CODEGEN"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+PCH_DEBUGINFO=
+if test -n "$BUILDING_PCH_WITH_OBJ"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC supports ${fpch_prefix}-fpch-debuginfo" >&5
+printf %s "checking whether $CC supports ${fpch_prefix}-fpch-debuginfo... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror ${fpch_prefix}-fpch-debuginfo"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+   PCH_DEBUGINFO="${fpch_prefix}-fpch-debuginfo"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    if test -n "$PCH_DEBUGINFO"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+TAB=`printf '\t'`
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the GNU Make version" >&5
+printf %s "checking the GNU Make version... " >&6; }
+_make_version=`$GNUMAKE --version | grep GNU | $GREP -v GPL | $SED -e 's@^[^0-9]*@@' -e 's@ .*@@' -e 's@,.*@@'`
+_make_longver=`echo $_make_version | $AWK -F. '{ print \$1*10000+\$2*100+\$3 }'`
+if test "$_make_longver" -ge "040000"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GNUMAKE $_make_version" >&5
+printf "%s\n" "$GNUMAKE $_make_version" >&6; }
+else
+    as_fn_error $? "failed ($GNUMAKE version >= 4.0 needed)" "$LINENO" 5
+fi
+
+_make_ver_check=`$GNUMAKE --version | grep "Built for Windows"`
+STALE_MAKE=
+if test "$_make_ver_check" = ""; then
+   STALE_MAKE=TRUE
+fi
+
+HAVE_LD_HASH_STYLE=FALSE
+WITH_LINKER_HASH_STYLE=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for --hash-style gcc linker support" >&5
+printf %s "checking for --hash-style gcc linker support... " >&6; }
+if test "$GCC" = "yes"; then
+    if test -z "$with_linker_hash_style" -o "$with_linker_hash_style" = "yes"; then
+        hash_styles="gnu sysv"
+    elif test "$with_linker_hash_style" = "no"; then
+        hash_styles=
+    else
+        hash_styles="$with_linker_hash_style"
+    fi
+
+    for hash_style in $hash_styles; do
+        test "$HAVE_LD_HASH_STYLE" = "TRUE" && continue
+        hash_style_ldflags_save=$LDFLAGS
+        LDFLAGS="$LDFLAGS -Wl,--hash-style=$hash_style"
+
+        if test "$cross_compiling" = yes
+then :
+  HAVE_LD_HASH_STYLE=FALSE
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <stdio.h>
+
+int
+main (void)
+{
+
+printf ("");
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_run "$LINENO"
+then :
+
+                  HAVE_LD_HASH_STYLE=TRUE
+                  WITH_LINKER_HASH_STYLE=$hash_style
+
+else $as_nop
+  HAVE_LD_HASH_STYLE=FALSE
+fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+
+        LDFLAGS=$hash_style_ldflags_save
+    done
+
+    if test "$HAVE_LD_HASH_STYLE" = "TRUE"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $WITH_LINKER_HASH_STYLE " >&5
+printf "%s\n" "$WITH_LINKER_HASH_STYLE " >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no " >&5
+printf "%s\n" "no " >&6; }
+    fi
+    LDFLAGS=$hash_style_ldflags_save
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no " >&5
+printf "%s\n" "no " >&6; }
+fi
+
+
+
+if test -z "$with_perl_home"; then
+    # Extract the first word of "perl", so it can be a program name with args.
+set dummy perl; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_PERL+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $PERL in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PERL="$PERL" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_PERL="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PERL=$ac_cv_path_PERL
+if test -n "$PERL"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PERL" >&5
+printf "%s\n" "$PERL" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+else
+    test "$build_os" = "cygwin" && with_perl_home=`cygpath -u "$with_perl_home"`
+    _perl_path="$with_perl_home/bin/perl"
+    if test -x "$_perl_path"; then
+        PERL=$_perl_path
+    else
+        as_fn_error $? "$_perl_path not found" "$LINENO" 5
+    fi
+fi
+
+if test "$PERL"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the Perl version" >&5
+printf %s "checking the Perl version... " >&6; }
+    ${PERL} -e "exit($]);"
+    _perl_version=$?
+    if test "$_perl_version" -lt 5; then
+        as_fn_error $? "found Perl $_perl_version, use Perl 5" "$LINENO" 5
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Perl $_perl_version" >&5
+printf "%s\n" "Perl $_perl_version" >&6; }
+else
+    as_fn_error $? "Perl not found, install Perl 5" "$LINENO" 5
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for required Perl modules" >&5
+printf %s "checking for required Perl modules... " >&6; }
+perl_use_string="use Cwd ; use Digest::MD5"
+perl_use_string_spp="use Cwd ; use Digest::MD5"
+if test "$_os" = "WINNT"; then
+    if test -n "$PKGFORMAT"; then
+        for i in $PKGFORMAT; do
+            case "$i" in
+            msi)
+                # for getting fonts versions to use in MSI
+                if test -n "$WSL_ONLY_AS_HELPER"; then
+                    # in case of a wsl-as-helper build, the packaging is done using strawberry-perl
+                    # and not the perl provided by git-bash
+                    perl_use_string_spp="$perl_use_string_spp ; use Font::TTF::Font"
+                else
+                    perl_use_string="$perl_use_string ; use Font::TTF::Font"
+                fi
+                ;;
+            esac
+        done
+    fi
+fi
+if test "$with_system_hsqldb" = "yes"; then
+    perl_use_string="$perl_use_string ; use Archive::Zip"
+fi
+if test "$enable_openssl" = "yes" -a "$with_system_openssl" != "yes"; then
+    # OpenSSL needs that to build
+    if test -n "$WSL_ONLY_AS_HELPER"; then
+        # OpenSSL is built via spp, FindBin is provided by default, but deps might change in future
+        perl_use_string_spp="$perl_use_string_spp ; use FindBin"
+    else
+        perl_use_string="$perl_use_string ; use FindBin"
+    fi
+fi
+if $PERL -e "$perl_use_string">/dev/null 2>&1; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: all modules found" >&5
+printf "%s\n" "all modules found" >&6; }
+    if test -n "$WSL_ONLY_AS_HELPER"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for required Perl modules in Strawberry Perl" >&5
+printf %s "checking for required Perl modules in Strawberry Perl... " >&6; }
+        if $STRAWBERRY_PERL_UNIX -e "$perl_use_string_spp">/dev/null 2>&1; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: all modules found" >&5
+printf "%s\n" "all modules found" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: failed to find some modules" >&5
+printf "%s\n" "failed to find some modules" >&6; }
+            # Find out which modules are missing.
+            for i in $perl_use_string_spp; do
+                if test "$i" != "use" -a "$i" != ";"; then
+                    if ! $STRAWBERRY_PERL_UNIX -e "use $i;">/dev/null 2>&1; then
+                        missing_perl_modules="$missing_perl_modules $i"
+                    fi
+                fi
+            done
+            PathFormat "$(dirname $STRAWBERRY_PERL_UNIX)"
+            spp_cpan_command='PATH="$(cygpath.exe -up "'$STRAWBERRY_TOOLS';'$formatted_path'"):$PATH" cpanm'
+            as_fn_error $? "
+            The missing Perl modules are: $missing_perl_modules
+            Install them with $spp_cpan_command $missing_perl_modules" "$LINENO" 5
+        fi
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: failed to find some modules" >&5
+printf "%s\n" "failed to find some modules" >&6; }
+    # Find out which modules are missing.
+    for i in $perl_use_string; do
+        if test "$i" != "use" -a "$i" != ";"; then
+            if ! $PERL -e "use $i;">/dev/null 2>&1; then
+                missing_perl_modules="$missing_perl_modules $i"
+            fi
+        fi
+    done
+    as_fn_error $? "
+    The missing Perl modules are: $missing_perl_modules
+    Install them as superuser/administrator with \"cpan -i $missing_perl_modules\"" "$LINENO" 5
+fi
+
+if test "$_os" != "WINNT"; then
+
+
+
+
+
+
+
+if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
+	if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}pkg-config", so it can be a program name with args.
+set dummy ${ac_tool_prefix}pkg-config; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_PKG_CONFIG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_PKG_CONFIG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PKG_CONFIG=$ac_cv_path_PKG_CONFIG
+if test -n "$PKG_CONFIG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG" >&5
+printf "%s\n" "$PKG_CONFIG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_path_PKG_CONFIG"; then
+  ac_pt_PKG_CONFIG=$PKG_CONFIG
+  # Extract the first word of "pkg-config", so it can be a program name with args.
+set dummy pkg-config; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_ac_pt_PKG_CONFIG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $ac_pt_PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ac_pt_PKG_CONFIG="$ac_pt_PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_ac_pt_PKG_CONFIG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG
+if test -n "$ac_pt_PKG_CONFIG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_pt_PKG_CONFIG" >&5
+printf "%s\n" "$ac_pt_PKG_CONFIG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+  if test "x$ac_pt_PKG_CONFIG" = x; then
+    PKG_CONFIG=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    PKG_CONFIG=$ac_pt_PKG_CONFIG
+  fi
+else
+  PKG_CONFIG="$ac_cv_path_PKG_CONFIG"
+fi
+
+fi
+if test -n "$PKG_CONFIG"; then
+	_pkg_min_version=0.9.0
+	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version" >&5
+printf %s "checking pkg-config is at least version $_pkg_min_version... " >&6; }
+	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
+		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+	else
+		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+		PKG_CONFIG=""
+	fi
+fi
+fi
+
+
+
+
+if test "$_os" != "WINNT"; then
+
+    # If you use CC=/path/to/compiler/foo-gcc or even CC="ccache
+    # /path/to/compiler/foo-gcc" you need to set the AR etc env vars
+    # explicitly. Or put /path/to/compiler in PATH yourself.
+
+    toolprefix=gcc
+    if test "$COM_IS_CLANG" = "TRUE"; then
+        toolprefix=llvm
+    fi
+    if test -n "$ac_tool_prefix"; then
+  for ac_prog in $toolprefix-ar ar
+  do
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_AR+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$AR"; then
+  ac_cv_prog_AR="$AR" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_AR="$ac_tool_prefix$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+AR=$ac_cv_prog_AR
+if test -n "$AR"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $AR" >&5
+printf "%s\n" "$AR" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    test -n "$AR" && break
+  done
+fi
+if test -z "$AR"; then
+  ac_ct_AR=$AR
+  for ac_prog in $toolprefix-ar ar
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_AR+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_AR"; then
+  ac_cv_prog_ac_ct_AR="$ac_ct_AR" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_AR="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_AR=$ac_cv_prog_ac_ct_AR
+if test -n "$ac_ct_AR"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_AR" >&5
+printf "%s\n" "$ac_ct_AR" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ac_ct_AR" && break
+done
+
+  if test "x$ac_ct_AR" = x; then
+    AR=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    AR=$ac_ct_AR
+  fi
+fi
+
+    if test -n "$ac_tool_prefix"; then
+  for ac_prog in $toolprefix-nm nm
+  do
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_NM+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$NM"; then
+  ac_cv_prog_NM="$NM" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_NM="$ac_tool_prefix$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+NM=$ac_cv_prog_NM
+if test -n "$NM"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $NM" >&5
+printf "%s\n" "$NM" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    test -n "$NM" && break
+  done
+fi
+if test -z "$NM"; then
+  ac_ct_NM=$NM
+  for ac_prog in $toolprefix-nm nm
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_NM+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_NM"; then
+  ac_cv_prog_ac_ct_NM="$ac_ct_NM" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_NM="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_NM=$ac_cv_prog_ac_ct_NM
+if test -n "$ac_ct_NM"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_NM" >&5
+printf "%s\n" "$ac_ct_NM" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ac_ct_NM" && break
+done
+
+  if test "x$ac_ct_NM" = x; then
+    NM=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    NM=$ac_ct_NM
+  fi
+fi
+
+    if test -n "$ac_tool_prefix"; then
+  for ac_prog in $toolprefix-ranlib ranlib
+  do
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_RANLIB+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$RANLIB"; then
+  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_RANLIB="$ac_tool_prefix$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+RANLIB=$ac_cv_prog_RANLIB
+if test -n "$RANLIB"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $RANLIB" >&5
+printf "%s\n" "$RANLIB" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    test -n "$RANLIB" && break
+  done
+fi
+if test -z "$RANLIB"; then
+  ac_ct_RANLIB=$RANLIB
+  for ac_prog in $toolprefix-ranlib ranlib
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_RANLIB+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_RANLIB"; then
+  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_RANLIB="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
+if test -n "$ac_ct_RANLIB"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB" >&5
+printf "%s\n" "$ac_ct_RANLIB" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ac_ct_RANLIB" && break
+done
+
+  if test "x$ac_ct_RANLIB" = x; then
+    RANLIB=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    RANLIB=$ac_ct_RANLIB
+  fi
+fi
+
+    if test -n "$ac_tool_prefix"; then
+  for ac_prog in $toolprefix-objdump objdump
+  do
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_OBJDUMP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$OBJDUMP"; then
+  ac_cv_prog_OBJDUMP="$OBJDUMP" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_OBJDUMP="$ac_tool_prefix$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+OBJDUMP=$ac_cv_prog_OBJDUMP
+if test -n "$OBJDUMP"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $OBJDUMP" >&5
+printf "%s\n" "$OBJDUMP" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    test -n "$OBJDUMP" && break
+  done
+fi
+if test -z "$OBJDUMP"; then
+  ac_ct_OBJDUMP=$OBJDUMP
+  for ac_prog in $toolprefix-objdump objdump
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_OBJDUMP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_OBJDUMP"; then
+  ac_cv_prog_ac_ct_OBJDUMP="$ac_ct_OBJDUMP" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_OBJDUMP="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_OBJDUMP=$ac_cv_prog_ac_ct_OBJDUMP
+if test -n "$ac_ct_OBJDUMP"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_OBJDUMP" >&5
+printf "%s\n" "$ac_ct_OBJDUMP" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ac_ct_OBJDUMP" && break
+done
+
+  if test "x$ac_ct_OBJDUMP" = x; then
+    OBJDUMP=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    OBJDUMP=$ac_ct_OBJDUMP
+  fi
+fi
+
+    if test -n "$ac_tool_prefix"; then
+  for ac_prog in $toolprefix-readelf readelf
+  do
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_READELF+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$READELF"; then
+  ac_cv_prog_READELF="$READELF" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_READELF="$ac_tool_prefix$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+READELF=$ac_cv_prog_READELF
+if test -n "$READELF"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $READELF" >&5
+printf "%s\n" "$READELF" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    test -n "$READELF" && break
+  done
+fi
+if test -z "$READELF"; then
+  ac_ct_READELF=$READELF
+  for ac_prog in $toolprefix-readelf readelf
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_READELF+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_READELF"; then
+  ac_cv_prog_ac_ct_READELF="$ac_ct_READELF" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_READELF="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_READELF=$ac_cv_prog_ac_ct_READELF
+if test -n "$ac_ct_READELF"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_READELF" >&5
+printf "%s\n" "$ac_ct_READELF" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ac_ct_READELF" && break
+done
+
+  if test "x$ac_ct_READELF" = x; then
+    READELF=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    READELF=$ac_ct_READELF
+  fi
+fi
+
+    if test -n "$ac_tool_prefix"; then
+  for ac_prog in $toolprefix-strip strip
+  do
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_STRIP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$STRIP"; then
+  ac_cv_prog_STRIP="$STRIP" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_STRIP="$ac_tool_prefix$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+STRIP=$ac_cv_prog_STRIP
+if test -n "$STRIP"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $STRIP" >&5
+printf "%s\n" "$STRIP" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    test -n "$STRIP" && break
+  done
+fi
+if test -z "$STRIP"; then
+  ac_ct_STRIP=$STRIP
+  for ac_prog in $toolprefix-strip strip
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_STRIP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_STRIP"; then
+  ac_cv_prog_ac_ct_STRIP="$ac_ct_STRIP" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_STRIP="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
+if test -n "$ac_ct_STRIP"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_STRIP" >&5
+printf "%s\n" "$ac_ct_STRIP" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ac_ct_STRIP" && break
+done
+
+  if test "x$ac_ct_STRIP" = x; then
+    STRIP=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    STRIP=$ac_ct_STRIP
+  fi
+fi
+
+fi
+
+
+
+
+
+
+
+
+if test $_os = Darwin; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for bogus pkg-config" >&5
+printf %s "checking for bogus pkg-config... " >&6; }
+    if test -n "$PKG_CONFIG"; then
+        if test "$PKG_CONFIG" = /usr/bin/pkg-config && ls -l /usr/bin/pkg-config | $GREP -q Mono.framework; then
+            as_fn_error $? "yes, from Mono. This *will* break the build. Please remove or hide $PKG_CONFIG" "$LINENO" 5
+        else
+            if test "$enable_bogus_pkg_config" = "yes"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, user-approved from unknown origin." >&5
+printf "%s\n" "yes, user-approved from unknown origin." >&6; }
+            else
+                as_fn_error $? "yes, from unknown origin. This *will* break the build. Please modify your PATH variable so that $PKG_CONFIG is no longer found by configure scripts." "$LINENO" 5
+            fi
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, good" >&5
+printf "%s\n" "no, good" >&6; }
+    fi
+fi
+
+find_csc()
+{
+    # Return value: $csctest
+
+    unset csctest
+
+    reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/NET Framework Setup/NDP/v4/Client" "InstallPath"
+    if test -n "$regvalue"; then
+        csctest=$regvalue
+        return
+    fi
+}
+
+find_al()
+{
+    # Return value: $altest
+
+    unset altest
+
+    # We need this check to detect 4.6.1 or above.
+    for ver in 4.8.1 4.8 4.7.2 4.7.1 4.7 4.6.2 4.6.1; do
+        reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Microsoft SDKs/NETFXSDK/$ver/WinSDK-NetFx40Tools" "InstallationFolder"
+        PathFormat "$regvalue"
+        if test -n "$regvalue" -a \( -f "$formatted_path_unix/al.exe" -o -f "$formatted_path_unix/bin/al.exe" \); then
+            altest=$regvalue
+            return
+        fi
+    done
+
+    reg_list_values_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Microsoft SDKs/Windows"
+    for x in $reglist; do
+        reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Microsoft SDKs/Windows/$x/WinSDK-NetFx40Tools" "InstallationFolder"
+        PathFormat "$regvalue"
+        if test -n "$regvalue" -a \( -f "$formatted_path_unix/al.exe" -o -f "$formatted_path_unix/bin/al.exe" \); then
+            altest=$regvalue
+            return
+        fi
+    done
+}
+
+find_dotnetsdk()
+{
+    unset frametest
+
+    for ver in 4.8.1 4.8 4.7.2 4.7.1 4.7 4.6.2 4.6.1 4.6; do
+        reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Microsoft SDKs/NETFXSDK/$ver" "KitsInstallationFolder"
+        if test -n "$regvalue"; then
+            frametest=$regvalue
+            return
+        fi
+    done
+    as_fn_error $? "The Windows NET SDK (minimum 4.6) not found, check the installation" "$LINENO" 5
+}
+
+find_winsdk_version()
+{
+    # Args: $1 : SDK version as in "8.0", "8.1A" etc
+    # Return values: $winsdktest, $winsdkbinsubdir, $winsdklibsubdir
+
+    unset winsdktest winsdkbinsubdir winsdklibsubdir
+
+    case "$1" in
+    8.0|8.0A)
+        reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Windows Kits/Installed Roots" "KitsRoot"
+        if test -n "$regvalue"; then
+            winsdktest=$regvalue
+            winsdklibsubdir=win8
+            return
+        fi
+        ;;
+    8.1|8.1A)
+        reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Windows Kits/Installed Roots" "KitsRoot81"
+        if test -n "$regvalue"; then
+            winsdktest=$regvalue
+            winsdklibsubdir=winv6.3
+            return
+        fi
+        ;;
+    10.0)
+        reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Microsoft SDKs/Windows/v${1}" "InstallationFolder"
+        if test -n "$regvalue"; then
+            winsdktest=$regvalue
+            reg_get_value_32 "HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Microsoft SDKs/Windows/v${1}" "ProductVersion"
+            if test -n "$regvalue"; then
+                winsdkbinsubdir="$regvalue".0
+                winsdklibsubdir=$winsdkbinsubdir
+                local tmppath="$winsdktest\\Include\\$winsdklibsubdir"
+                PathFormat "$tmppath"
+                local tmppath_unix=$formatted_path_unix
+                # test exist the SDK path
+                if test ! -d "$tmppath_unix"; then
+                   as_fn_error $? "The Windows SDK not found, check the installation" "$LINENO" 5
+                fi
+            fi
+            return
+        fi
+        ;;
+    esac
+}
+
+find_winsdk()
+{
+    # Return value: From find_winsdk_version
+
+    unset winsdktest
+
+    for ver in $WINDOWS_SDK_ACCEPTABLE_VERSIONS; do
+        find_winsdk_version $ver
+        if test -n "$winsdktest"; then
+            return
+        fi
+    done
+}
+
+find_msms()
+{
+    # Return value: $msmdir
+    local version="$1"
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for MSVC $version merge modules directory" >&5
+printf %s "checking for MSVC $version merge modules directory... " >&6; }
+    local my_msm_file="Microsoft_VC${version}_CRT_x86.msm"
+    local my_msm_dir
+
+    echo "$as_me:$LINENO: searching for $my_msm_file" >&5
+
+    msmdir=
+    case "$VCVER" in
+    16.0 | 17.0 | 17.11)
+        for l in `ls -1 $VC_PRODUCT_DIR/redist/MSVC/`; do
+            my_msm_dir="$VC_PRODUCT_DIR/redist/MSVC/$l/MergeModules/"
+            echo "$as_me:$LINENO: looking for $my_msm_dir${my_msm_file}])" >&5
+            if test -e "$my_msm_dir${my_msm_file}"; then
+                msmdir=$my_msm_dir
+            fi
+        done
+        ;;
+    esac
+
+    if test -n "$msmdir"; then
+        msmdir=`cygpath -m "$msmdir"`
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $msmdir" >&5
+printf "%s\n" "$msmdir" >&6; }
+    else
+        if test "$ENABLE_RELEASE_BUILD" = "TRUE" ; then
+            { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "not found
+See \`config.log' for more details" "$LINENO" 5; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: not found (check config.log)" >&5
+printf "%s\n" "$as_me: WARNING: not found (check config.log)" >&2;}
+            add_warning "MSM ${my_msm_file} not found"
+        fi
+    fi
+}
+
+find_msvc_x64_dlls()
+{
+    # Return value: $msvcdllpath, $msvcdlls
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for MSVC x64 DLL path" >&5
+printf %s "checking for MSVC x64 DLL path... " >&6; }
+
+
+    msvcdllpath="$VC_PRODUCT_DIR/redist/x64/Microsoft.VC${VCVER}.CRT"
+    case "$VCVER" in
+    16.0 | 17.0 | 17.11)
+        for crtver in 141 142 143; do
+            for l in `ls -1 $VC_PRODUCT_DIR/redist/MSVC/`; do
+                echo "$as_me:$LINENO: testing $VC_PRODUCT_DIR/redist/MSVC/$l/x64/Microsoft.VC$crtver.CRT" >&5
+                if test -d "$VC_PRODUCT_DIR/redist/MSVC/$l/x64/Microsoft.VC$crtver.CRT"; then
+                    msvcdllpath="$VC_PRODUCT_DIR/redist/MSVC/$l/x64/Microsoft.VC$crtver.CRT"
+                fi
+            done
+        done
+        ;;
+    esac
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $msvcdllpath" >&5
+printf "%s\n" "$msvcdllpath" >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for MSVC x64 DLLs" >&5
+printf %s "checking for MSVC x64 DLLs... " >&6; }
+    msvcdlls="msvcp140.dll vcruntime140.dll"
+    for dll in $msvcdlls; do
+        if ! test -f "$msvcdllpath/$dll"; then
+            { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "missing $dll
+See \`config.log' for more details" "$LINENO" 5; }
+        fi
+    done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found all ($msvcdlls)" >&5
+printf "%s\n" "found all ($msvcdlls)" >&6; }
+}
+
+if test "$_os" = "WINNT"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Windows SDK" >&5
+printf %s "checking for Windows SDK... " >&6; }
+    if test "$build_os" = "cygwin" -o "$build_os" = "wsl" -o -n "$WSL_ONLY_AS_HELPER"; then
+        find_winsdk
+        WINDOWS_SDK_HOME=$winsdktest
+
+        # normalize if found
+        if test -n "$WINDOWS_SDK_HOME"; then
+            PathFormat "$WINDOWS_SDK_HOME"
+            WINDOWS_SDK_HOME=$formatted_path_unix
+        fi
+
+        WINDOWS_SDK_LIB_SUBDIR=$winsdklibsubdir
+        # The variable also contains the Windows SDK version
+        echo $WINDOWS_SDK_LIB_SUBDIR
+        IFS='.' read -r SDK_v1 SDK_v2 SDK_v3 SDK_v4 <<< "$WINDOWS_SDK_LIB_SUBDIR"
+        # Assuming maximum of 5 digits for each part and ignoring last part
+        SDK_NORMALIZED_VER=$((SDK_v1 * 10000000000 + SDK_v2 * 100000 + SDK_v3))
+        # 10.0.20348.0 is the minimum required version
+        if test "$SDK_NORMALIZED_VER" -lt 100000020348; then
+            as_fn_error $? "You need Windows SDK greater than or equal 10.0.20348.0" "$LINENO" 5
+        fi
+    fi
+
+    if test -n "$WINDOWS_SDK_HOME"; then
+        # Remove a possible trailing backslash
+        WINDOWS_SDK_HOME=`echo $WINDOWS_SDK_HOME | $SED 's/\/$//'`
+
+        if test -f "$WINDOWS_SDK_HOME/Include/adoint.h" \
+             -a -f "$WINDOWS_SDK_HOME/Include/SqlUcode.h" \
+             -a -f "$WINDOWS_SDK_HOME/Include/usp10.h"; then
+            have_windows_sdk_headers=yes
+        elif test -f "$WINDOWS_SDK_HOME/Include/um/adoint.h" \
+             -a -f "$WINDOWS_SDK_HOME/Include/um/SqlUcode.h" \
+             -a -f "$WINDOWS_SDK_HOME/Include/um/usp10.h"; then
+            have_windows_sdk_headers=yes
+        elif test -f "$WINDOWS_SDK_HOME/Include/$winsdklibsubdir/um/adoint.h" \
+             -a -f "$WINDOWS_SDK_HOME/Include/$winsdklibsubdir/um/SqlUcode.h" \
+             -a -f "$WINDOWS_SDK_HOME/Include/$winsdklibsubdir/um/usp10.h"; then
+            have_windows_sdk_headers=yes
+        else
+            have_windows_sdk_headers=no
+        fi
+
+        if test -f "$WINDOWS_SDK_HOME/lib/user32.lib"; then
+            have_windows_sdk_libs=yes
+        elif test -f "$WINDOWS_SDK_HOME/lib/$winsdklibsubdir/um/$WIN_BUILD_ARCH/user32.lib"; then
+            have_windows_sdk_libs=yes
+        else
+            have_windows_sdk_libs=no
+        fi
+
+        if test $have_windows_sdk_headers = no -o $have_windows_sdk_libs = no; then
+            as_fn_error $? "Some (all?) Windows SDK files not found, please check if all needed parts of
+the  Windows SDK are installed." "$LINENO" 5
+        fi
+    fi
+
+    if test -z "$WINDOWS_SDK_HOME"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, hoping the necessary headers and libraries will be found anyway!?" >&5
+printf "%s\n" "no, hoping the necessary headers and libraries will be found anyway!?" >&6; }
+    elif echo $WINDOWS_SDK_HOME | grep "8.0" >/dev/null 2>/dev/null; then
+        WINDOWS_SDK_VERSION=80
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found Windows SDK 8.0 ($WINDOWS_SDK_HOME)" >&5
+printf "%s\n" "found Windows SDK 8.0 ($WINDOWS_SDK_HOME)" >&6; }
+    elif echo $WINDOWS_SDK_HOME | grep "8.1" >/dev/null 2>/dev/null; then
+        WINDOWS_SDK_VERSION=81
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found Windows SDK 8.1 ($WINDOWS_SDK_HOME)" >&5
+printf "%s\n" "found Windows SDK 8.1 ($WINDOWS_SDK_HOME)" >&6; }
+    elif echo $WINDOWS_SDK_HOME | grep "/10" >/dev/null 2>/dev/null; then
+        WINDOWS_SDK_VERSION=10
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found Windows SDK 10.0 ($WINDOWS_SDK_HOME)" >&5
+printf "%s\n" "found Windows SDK 10.0 ($WINDOWS_SDK_HOME)" >&6; }
+    else
+        as_fn_error $? "Found legacy Windows Platform SDK ($WINDOWS_SDK_HOME)" "$LINENO" 5
+    fi
+    PathFormat "$WINDOWS_SDK_HOME"
+    WINDOWS_SDK_HOME="$formatted_path"
+    WINDOWS_SDK_HOME_unix="$formatted_path_unix"
+    if test "$build_os" = "cygwin" -o "$build_os" = "wsl" -o -n "$WSL_ONLY_AS_HELPER"; then
+        SOLARINC="$SOLARINC -I$WINDOWS_SDK_HOME/include -I$COMPATH/Include"
+        if test -d "$WINDOWS_SDK_HOME_unix/include/um"; then
+            SOLARINC="$SOLARINC -I$WINDOWS_SDK_HOME/include/um -I$WINDOWS_SDK_HOME/include/shared"
+        elif test -d "$WINDOWS_SDK_HOME_unix/Include/$winsdklibsubdir/um"; then
+            SOLARINC="$SOLARINC -I$WINDOWS_SDK_HOME/Include/$winsdklibsubdir/um -I$WINDOWS_SDK_HOME/Include/$winsdklibsubdir/shared"
+        fi
+    fi
+
+                                if test -z "$WINDOWS_SDK_WILANGID" -a -n "$WINDOWS_SDK_HOME"; then
+        WINDOWS_SDK_WILANGID_unix=$WINDOWS_SDK_HOME_unix/Samples/sysmgmt/msi/scripts/WiLangId.vbs
+        if ! test -e "$WINDOWS_SDK_WILANGID_unix" ; then
+            WINDOWS_SDK_WILANGID_unix="${WINDOWS_SDK_HOME_unix}/bin/${WINDOWS_SDK_LIB_SUBDIR}/${WIN_BUILD_ARCH}/WiLangId.vbs"
+        fi
+        if ! test -e "$WINDOWS_SDK_WILANGID_unix" ; then
+            WINDOWS_SDK_WILANGID_unix=$WINDOWS_SDK_HOME_unix/bin/$WIN_BUILD_ARCH/WiLangId.vbs
+        fi
+        if ! test -e "$WINDOWS_SDK_WILANGID_unix" ; then
+            WINDOWS_SDK_WILANGID_unix="C:/Program Files (x86)/Windows Kits/8.1/bin/$WIN_BUILD_ARCH/WiLangId.vbs"
+        fi
+        PathFormat "$WINDOWS_SDK_WILANGID_unix"
+        WINDOWS_SDK_WILANGID="$formatted_path"
+    fi
+    if test -n "$with_lang" -a "$with_lang" != "en-US"; then
+        if test -n "$with_package_format" -a "$with_package_format" != no; then
+            for i in "$with_package_format"; do
+                if test "$i" = "msi"; then
+                    if ! test -e "$WINDOWS_SDK_WILANGID_unix" ; then
+                        as_fn_error $? "WiLangId.vbs not found - building translated packages will fail" "$LINENO" 5
+                    fi
+                fi
+            done
+        fi
+    fi
+fi
+
+
+
+
+
+if test "$build_os" = "cygwin" -o "$build_os" = "wsl" -o -n "$WSL_ONLY_AS_HELPER"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for midl.exe" >&5
+printf %s "checking for midl.exe... " >&6; }
+
+    find_winsdk
+    PathFormat "$winsdktest"
+    winsdktest_unix="$formatted_path_unix"
+
+    if test -n "$winsdkbinsubdir" \
+        -a -f "$winsdktest_unix/Bin/$winsdkbinsubdir/$WIN_BUILD_ARCH/midl.exe"
+    then
+        MIDL_PATH=$winsdktest_unix/Bin/$winsdkbinsubdir/$WIN_BUILD_ARCH
+        WINDOWS_SDK_BINDIR_NO_ARCH=$WINDOWS_SDK_HOME_unix/Bin/$winsdkbinsubdir
+    elif test -f "$winsdktest_unix/Bin/$WIN_BUILD_ARCH/midl.exe"; then
+        MIDL_PATH=$winsdktest_unix/Bin/$WIN_BUILD_ARCH
+        WINDOWS_SDK_BINDIR_NO_ARCH=$WINDOWS_SDK_HOME_unix/Bin
+    elif test -f "$winsdktest_unix/Bin/midl.exe"; then
+        MIDL_PATH=$winsdktest_unix/Bin
+        WINDOWS_SDK_BINDIR_NO_ARCH=$WINDOWS_SDK_HOME_unix/Bin
+    fi
+    PathFormat "$MIDL_PATH"
+    if test ! -f "$formatted_path_unix/midl.exe"; then
+        as_fn_error $? "midl.exe not found in $winsdktest/Bin/$WIN_BUILD_ARCH, Windows SDK installation broken?" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MIDL_PATH/midl.exe" >&5
+printf "%s\n" "$MIDL_PATH/midl.exe" >&6; }
+    fi
+
+    # Convert to posix path with 8.3 filename restrictions ( No spaces )
+    MIDL_PATH=`win_short_path_for_make "$MIDL_PATH"`
+
+    if test -f "$WINDOWS_SDK_BINDIR_NO_ARCH/msiinfo.exe" \
+         -a -f "$WINDOWS_SDK_BINDIR_NO_ARCH/msidb.exe" \
+         -a -f "$WINDOWS_SDK_BINDIR_NO_ARCH/uuidgen.exe" \
+         -a -f "$WINDOWS_SDK_BINDIR_NO_ARCH/msitran.exe"; then :
+    elif test -f "$WINDOWS_SDK_BINDIR_NO_ARCH/x86/msiinfo.exe" \
+         -a -f "$WINDOWS_SDK_BINDIR_NO_ARCH/x86/msidb.exe" \
+         -a -f "$WINDOWS_SDK_BINDIR_NO_ARCH/x86/uuidgen.exe" \
+         -a -f "$WINDOWS_SDK_BINDIR_NO_ARCH/x86/msitran.exe"; then :
+    elif test -f "$WINDOWS_SDK_HOME/bin/x86/msiinfo.exe" \
+         -a -f "$WINDOWS_SDK_HOME/bin/x86/msidb.exe" \
+         -a -f "$WINDOWS_SDK_BINDIR_NO_ARCH/x86/uuidgen.exe" \
+         -a -f "$WINDOWS_SDK_HOME/bin/x86/msitran.exe"; then :
+    else
+        as_fn_error $? "Some (all?) Windows Installer tools in the Windows SDK are missing, please install." "$LINENO" 5
+    fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for csc.exe" >&5
+printf %s "checking for csc.exe... " >&6; }
+    find_csc
+    PathFormat "$csctest"
+    csctest_unix="$formatted_path_unix"
+    if test -f "$csctest_unix/csc.exe"; then
+        CSC_PATH="$csctest"
+    fi
+    if test ! -f "$csctest_unix/csc.exe"; then
+        as_fn_error $? "csc.exe not found as $CSC_PATH/csc.exe" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CSC_PATH/csc.exe" >&5
+printf "%s\n" "$CSC_PATH/csc.exe" >&6; }
+    fi
+
+    CSC_PATH=`win_short_path_for_make "$CSC_PATH"`
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for al.exe" >&5
+printf %s "checking for al.exe... " >&6; }
+    if test -n "$winsdkbinsubdir" \
+        -a -f "$winsdktest_unix/Bin/$winsdkbinsubdir/$WIN_BUILD_ARCH/al.exe"
+    then
+        AL_PATH="$winsdktest/Bin/$winsdkbinsubdir/$WIN_BUILD_ARCH"
+    elif test -f "$winsdktest_unix/Bin/$WIN_BUILD_ARCH/al.exe"; then
+        AL_PATH="$winsdktest/Bin/$WIN_BUILD_ARCH"
+    elif test -f "$winsdktest_unix/Bin/al.exe"; then
+        AL_PATH="$winsdktest/Bin"
+    fi
+
+    if test -z "$AL_PATH"; then
+        find_al
+        PathFormat "$altest"
+        altest_unix="$formatted_path_unix"
+        if test -f "$altest_unix/bin/al.exe"; then
+            AL_PATH="$altest/bin"
+        elif test -f "$altest_unix/al.exe"; then
+            AL_PATH="$altest"
+        fi
+    fi
+    PathFormat "$AL_PATH"
+    if test ! -f "$formatted_path_unix/al.exe"; then
+        as_fn_error $? "al.exe not found as $AL_PATH/al.exe" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $AL_PATH/al.exe" >&5
+printf "%s\n" "$AL_PATH/al.exe" >&6; }
+    fi
+
+    AL_PATH=`win_short_path_for_make "$AL_PATH"`
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking .NET Framework" >&5
+printf %s "checking .NET Framework... " >&6; }
+    find_dotnetsdk
+    PathFormat "$frametest"
+    frametest="$formatted_path_unix"
+    if test -f "$frametest/Lib/um/$WIN_BUILD_ARCH/mscoree.lib"; then
+        DOTNET_FRAMEWORK_HOME="$frametest"
+    else
+        if test -f "$winsdktest_unix/lib/mscoree.lib" -o -f "$winsdktest_unix/lib/$winsdklibsubdir/um/$WIN_BUILD_ARCH/mscoree.lib"; then
+            DOTNET_FRAMEWORK_HOME="$winsdktest"
+        fi
+    fi
+    PathFormat "$DOTNET_FRAMEWORK_HOME"
+    if test ! -f "$formatted_path_unix/lib/mscoree.lib" -a ! -f "$formatted_path_unix/lib/$winsdklibsubdir/um/$WIN_BUILD_ARCH/mscoree.lib" -a ! -f "$formatted_path_unix/Lib/um/$WIN_BUILD_ARCH/mscoree.lib"; then
+        as_fn_error $? "mscoree.lib not found" "$LINENO" 5
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found: $DOTNET_FRAMEWORK_HOME" >&5
+printf "%s\n" "found: $DOTNET_FRAMEWORK_HOME" >&6; }
+
+    PathFormat "$MIDL_PATH"
+    MIDL_PATH="$formatted_path"
+
+    PathFormat "$AL_PATH"
+    AL_PATH="$formatted_path"
+
+    PathFormat "$DOTNET_FRAMEWORK_HOME"
+    DOTNET_FRAMEWORK_HOME="$formatted_path"
+
+    PathFormat "$CSC_PATH"
+    CSC_PATH="$formatted_path"
+fi
+
+
+if test "$_os" != "WINNT"; then
+    # AC_PROG_CXX sets CXXFLAGS to -g -O2 if not set, avoid that (and avoid -O2 during AC_PROG_CXX,
+    # see AC_PROG_CC above):
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS=-g
+
+
+
+
+
+
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+if test -z "$CXX"; then
+  if test -n "$CCC"; then
+    CXX=$CCC
+  else
+    if test -n "$ac_tool_prefix"; then
+  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC clang++
+  do
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_CXX+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$CXX"; then
+  ac_cv_prog_CXX="$CXX" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_CXX="$ac_tool_prefix$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+CXX=$ac_cv_prog_CXX
+if test -n "$CXX"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CXX" >&5
+printf "%s\n" "$CXX" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    test -n "$CXX" && break
+  done
+fi
+if test -z "$CXX"; then
+  ac_ct_CXX=$CXX
+  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC clang++
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_CXX+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_CXX"; then
+  ac_cv_prog_ac_ct_CXX="$ac_ct_CXX" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_CXX="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_CXX=$ac_cv_prog_ac_ct_CXX
+if test -n "$ac_ct_CXX"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CXX" >&5
+printf "%s\n" "$ac_ct_CXX" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ac_ct_CXX" && break
+done
+
+  if test "x$ac_ct_CXX" = x; then
+    CXX="g++"
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    CXX=$ac_ct_CXX
+  fi
+fi
+
+  fi
+fi
+# Provide some information about the compiler.
+printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C++ compiler version" >&5
+set X $ac_compile
+ac_compiler=$2
+for ac_option in --version -v -V -qversion; do
+  { { ac_try="$ac_compiler $ac_option >&5"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
+printf "%s\n" "$ac_try_echo"; } >&5
+  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
+  ac_status=$?
+  if test -s conftest.err; then
+    sed '10a\
+... rest of stderr output deleted ...
+         10q' conftest.err >conftest.er1
+    cat conftest.er1 >&5
+  fi
+  rm -f conftest.er1 conftest.err
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }
+done
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the compiler supports GNU C++" >&5
+printf %s "checking whether the compiler supports GNU C++... " >&6; }
+if test ${ac_cv_cxx_compiler_gnu+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+#ifndef __GNUC__
+       choke me
+#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ac_compiler_gnu=yes
+else $as_nop
+  ac_compiler_gnu=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_cv_cxx_compiler_gnu=$ac_compiler_gnu
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_cxx_compiler_gnu" >&5
+printf "%s\n" "$ac_cv_cxx_compiler_gnu" >&6; }
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+if test $ac_compiler_gnu = yes; then
+  GXX=yes
+else
+  GXX=
+fi
+ac_test_CXXFLAGS=${CXXFLAGS+y}
+ac_save_CXXFLAGS=$CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX accepts -g" >&5
+printf %s "checking whether $CXX accepts -g... " >&6; }
+if test ${ac_cv_prog_cxx_g+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_save_cxx_werror_flag=$ac_cxx_werror_flag
+   ac_cxx_werror_flag=yes
+   ac_cv_prog_cxx_g=no
+   CXXFLAGS="-g"
+   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ac_cv_prog_cxx_g=yes
+else $as_nop
+  CXXFLAGS=""
+      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+else $as_nop
+  ac_cxx_werror_flag=$ac_save_cxx_werror_flag
+	 CXXFLAGS="-g"
+	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ac_cv_prog_cxx_g=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+   ac_cxx_werror_flag=$ac_save_cxx_werror_flag
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_g" >&5
+printf "%s\n" "$ac_cv_prog_cxx_g" >&6; }
+if test $ac_test_CXXFLAGS; then
+  CXXFLAGS=$ac_save_CXXFLAGS
+elif test $ac_cv_prog_cxx_g = yes; then
+  if test "$GXX" = yes; then
+    CXXFLAGS="-g -O2"
+  else
+    CXXFLAGS="-g"
+  fi
+else
+  if test "$GXX" = yes; then
+    CXXFLAGS="-O2"
+  else
+    CXXFLAGS=
+  fi
+fi
+ac_prog_cxx_stdcxx=no
+if test x$ac_prog_cxx_stdcxx = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CXX option to enable C++11 features" >&5
+printf %s "checking for $CXX option to enable C++11 features... " >&6; }
+if test ${ac_cv_prog_cxx_cxx11+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_cv_prog_cxx_cxx11=no
+ac_save_CXX=$CXX
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$ac_cxx_conftest_cxx11_program
+_ACEOF
+for ac_arg in '' -std=gnu++11 -std=gnu++0x -std=c++11 -std=c++0x -qlanglvl=extended0x -AA
+do
+  CXX="$ac_save_CXX $ac_arg"
+  if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ac_cv_prog_cxx_cxx11=$ac_arg
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+  test "x$ac_cv_prog_cxx_cxx11" != "xno" && break
+done
+rm -f conftest.$ac_ext
+CXX=$ac_save_CXX
+fi
+
+if test "x$ac_cv_prog_cxx_cxx11" = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
+printf "%s\n" "unsupported" >&6; }
+else $as_nop
+  if test "x$ac_cv_prog_cxx_cxx11" = x
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
+printf "%s\n" "none needed" >&6; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_cxx11" >&5
+printf "%s\n" "$ac_cv_prog_cxx_cxx11" >&6; }
+     CXX="$CXX $ac_cv_prog_cxx_cxx11"
+fi
+  ac_cv_prog_cxx_stdcxx=$ac_cv_prog_cxx_cxx11
+  ac_prog_cxx_stdcxx=cxx11
+fi
+fi
+if test x$ac_prog_cxx_stdcxx = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CXX option to enable C++98 features" >&5
+printf %s "checking for $CXX option to enable C++98 features... " >&6; }
+if test ${ac_cv_prog_cxx_cxx98+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_cv_prog_cxx_cxx98=no
+ac_save_CXX=$CXX
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$ac_cxx_conftest_cxx98_program
+_ACEOF
+for ac_arg in '' -std=gnu++98 -std=c++98 -qlanglvl=extended -AA
+do
+  CXX="$ac_save_CXX $ac_arg"
+  if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ac_cv_prog_cxx_cxx98=$ac_arg
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+  test "x$ac_cv_prog_cxx_cxx98" != "xno" && break
+done
+rm -f conftest.$ac_ext
+CXX=$ac_save_CXX
+fi
+
+if test "x$ac_cv_prog_cxx_cxx98" = xno
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
+printf "%s\n" "unsupported" >&6; }
+else $as_nop
+  if test "x$ac_cv_prog_cxx_cxx98" = x
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
+printf "%s\n" "none needed" >&6; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_cxx98" >&5
+printf "%s\n" "$ac_cv_prog_cxx_cxx98" >&6; }
+     CXX="$CXX $ac_cv_prog_cxx_cxx98"
+fi
+  ac_cv_prog_cxx_stdcxx=$ac_cv_prog_cxx_cxx98
+  ac_prog_cxx_stdcxx=cxx98
+fi
+fi
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    CXXFLAGS=$save_CXXFLAGS
+    if test -z "$CXX_BASE"; then
+        CXX_BASE=`first_arg_basename "$CXX"`
+    fi
+fi
+
+if test "$GXX" = "yes" -a -z "$COM_IS_CLANG"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the GNU C++ compiler version" >&5
+printf %s "checking the GNU C++ compiler version... " >&6; }
+
+    _gpp_version=`$CXX -dumpversion`
+    _gpp_majmin=`echo $_gpp_version | $AWK -F. '{ print \$1*100+\$2 }'`
+
+    if test "$_gpp_majmin" -lt "700"; then
+        as_fn_error $? "You need to use GNU C++ compiler version >= 7.0 to build LibreOffice, you have $_gpp_version." "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (g++ $_gpp_version)" >&5
+printf "%s\n" "ok (g++ $_gpp_version)" >&6; }
+    fi
+
+            glibcxx_threads=no
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking how to run the C++ preprocessor" >&5
+printf %s "checking how to run the C++ preprocessor... " >&6; }
+if test -z "$CXXCPP"; then
+  if test ${ac_cv_prog_CXXCPP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+      # Double quotes because $CXX needs to be expanded
+    for CXXCPP in "$CXX -E" cpp /lib/cpp
+    do
+      ac_preproc_ok=false
+for ac_cxx_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # On the NeXT, cc -E runs the code through the compiler's parser,
+  # not just through cpp. "Syntax error" is here to catch this case.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <limits.h>
+		     Syntax error
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+
+else $as_nop
+  # Broken: fails on valid input.
+continue
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether nonexistent headers
+  # can be detected and how.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <ac_nonexistent.h>
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+  # Broken: success on invalid input.
+continue
+else $as_nop
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.i conftest.err conftest.$ac_ext
+if $ac_preproc_ok
+then :
+  break
+fi
+
+    done
+    ac_cv_prog_CXXCPP=$CXXCPP
+
+fi
+  CXXCPP=$ac_cv_prog_CXXCPP
+else
+  ac_cv_prog_CXXCPP=$CXXCPP
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CXXCPP" >&5
+printf "%s\n" "$CXXCPP" >&6; }
+ac_preproc_ok=false
+for ac_cxx_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # On the NeXT, cc -E runs the code through the compiler's parser,
+  # not just through cpp. "Syntax error" is here to catch this case.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <limits.h>
+		     Syntax error
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+
+else $as_nop
+  # Broken: fails on valid input.
+continue
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether nonexistent headers
+  # can be detected and how.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <ac_nonexistent.h>
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+  # Broken: success on invalid input.
+continue
+else $as_nop
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.i conftest.err conftest.$ac_ext
+if $ac_preproc_ok
+then :
+
+else $as_nop
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "C++ preprocessor \"$CXXCPP\" fails sanity check
+See \`config.log' for more details" "$LINENO" 5; }
+fi
+
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE is broken with boost.thread" >&5
+printf %s "checking whether $CXX_BASE is broken with boost.thread... " >&6; }
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <bits/c++config.h>
+int
+main (void)
+{
+
+            #if !defined(_GLIBCXX_HAVE_GTHR_DEFAULT) \
+            && !defined(_GLIBCXX__PTHREADS) \
+            && !defined(_GLIBCXX_HAS_GTHREADS)
+            choke me
+            #endif
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        glibcxx_threads=yes
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        if test $glibcxx_threads = yes; then
+            BOOST_CXXFLAGS="-D_GLIBCXX_HAS_GTHREADS"
+        fi
+fi
+
+
+#
+# prefx CXX with ccache if needed
+#
+if test "$CCACHE" != ""; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE is already ccached" >&5
+printf %s "checking whether $CXX_BASE is already ccached... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS --ccache-skip -O2"
+    # msvc does not fail on unknown options, check stdout
+    if test "$COM" = MSC; then
+        CXXFLAGS="$CXXFLAGS -nologo"
+    fi
+    save_ac_cxx_werror_flag=$ac_cxx_werror_flag
+    ac_cxx_werror_flag=yes
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  use_ccache=yes
+else $as_nop
+  use_ccache=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    if test $use_ccache = yes -a "${CCACHE/*sccache*/}" != ""; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        CXX="$CCACHE $CXX"
+        CXX_BASE="ccache $CXX_BASE"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+    CXXFLAGS=$save_CXXFLAGS
+    ac_cxx_werror_flag=$save_ac_cxx_werror_flag
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+if test "$_os" != "WINNT"; then
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking how to run the C++ preprocessor" >&5
+printf %s "checking how to run the C++ preprocessor... " >&6; }
+if test -z "$CXXCPP"; then
+  if test ${ac_cv_prog_CXXCPP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+      # Double quotes because $CXX needs to be expanded
+    for CXXCPP in "$CXX -E" cpp /lib/cpp
+    do
+      ac_preproc_ok=false
+for ac_cxx_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # On the NeXT, cc -E runs the code through the compiler's parser,
+  # not just through cpp. "Syntax error" is here to catch this case.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <limits.h>
+		     Syntax error
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+
+else $as_nop
+  # Broken: fails on valid input.
+continue
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether nonexistent headers
+  # can be detected and how.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <ac_nonexistent.h>
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+  # Broken: success on invalid input.
+continue
+else $as_nop
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.i conftest.err conftest.$ac_ext
+if $ac_preproc_ok
+then :
+  break
+fi
+
+    done
+    ac_cv_prog_CXXCPP=$CXXCPP
+
+fi
+  CXXCPP=$ac_cv_prog_CXXCPP
+else
+  ac_cv_prog_CXXCPP=$CXXCPP
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CXXCPP" >&5
+printf "%s\n" "$CXXCPP" >&6; }
+ac_preproc_ok=false
+for ac_cxx_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # On the NeXT, cc -E runs the code through the compiler's parser,
+  # not just through cpp. "Syntax error" is here to catch this case.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <limits.h>
+		     Syntax error
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+
+else $as_nop
+  # Broken: fails on valid input.
+continue
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether nonexistent headers
+  # can be detected and how.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <ac_nonexistent.h>
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+  # Broken: success on invalid input.
+continue
+else $as_nop
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.i conftest.err conftest.$ac_ext
+if $ac_preproc_ok
+then :
+
+else $as_nop
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "C++ preprocessor \"$CXXCPP\" fails sanity check
+See \`config.log' for more details" "$LINENO" 5; }
+fi
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor" >&5
+printf %s "checking how to run the C preprocessor... " >&6; }
+# On Suns, sometimes $CPP names a directory.
+if test -n "$CPP" && test -d "$CPP"; then
+  CPP=
+fi
+if test -z "$CPP"; then
+  if test ${ac_cv_prog_CPP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+      # Double quotes because $CC needs to be expanded
+    for CPP in "$CC -E" "$CC -E -traditional-cpp" cpp /lib/cpp
+    do
+      ac_preproc_ok=false
+for ac_c_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # On the NeXT, cc -E runs the code through the compiler's parser,
+  # not just through cpp. "Syntax error" is here to catch this case.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <limits.h>
+		     Syntax error
+_ACEOF
+if ac_fn_c_try_cpp "$LINENO"
+then :
+
+else $as_nop
+  # Broken: fails on valid input.
+continue
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether nonexistent headers
+  # can be detected and how.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <ac_nonexistent.h>
+_ACEOF
+if ac_fn_c_try_cpp "$LINENO"
+then :
+  # Broken: success on invalid input.
+continue
+else $as_nop
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.i conftest.err conftest.$ac_ext
+if $ac_preproc_ok
+then :
+  break
+fi
+
+    done
+    ac_cv_prog_CPP=$CPP
+
+fi
+  CPP=$ac_cv_prog_CPP
+else
+  ac_cv_prog_CPP=$CPP
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CPP" >&5
+printf "%s\n" "$CPP" >&6; }
+ac_preproc_ok=false
+for ac_c_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # On the NeXT, cc -E runs the code through the compiler's parser,
+  # not just through cpp. "Syntax error" is here to catch this case.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <limits.h>
+		     Syntax error
+_ACEOF
+if ac_fn_c_try_cpp "$LINENO"
+then :
+
+else $as_nop
+  # Broken: fails on valid input.
+continue
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether nonexistent headers
+  # can be detected and how.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <ac_nonexistent.h>
+_ACEOF
+if ac_fn_c_try_cpp "$LINENO"
+then :
+  # Broken: success on invalid input.
+continue
+else $as_nop
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.i conftest.err conftest.$ac_ext
+if $ac_preproc_ok
+then :
+
+else $as_nop
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
+See \`config.log' for more details" "$LINENO" 5; }
+fi
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+
+if test "$_os" != "WINNT"; then
+
+    # The cast to long int works around a bug in the HP C Compiler
+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
+# This bug is HP SR number 8606223364.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking size of long" >&5
+printf %s "checking size of long... " >&6; }
+if test ${ac_cv_sizeof_long+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long))" "ac_cv_sizeof_long"        "$ac_includes_default"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_long" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute sizeof (long)
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_sizeof_long=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long" >&5
+printf "%s\n" "$ac_cv_sizeof_long" >&6; }
+
+
+
+printf "%s\n" "#define SIZEOF_LONG $ac_cv_sizeof_long" >>confdefs.h
+
+
+    # The cast to long int works around a bug in the HP C Compiler
+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
+# This bug is HP SR number 8606223364.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking size of short" >&5
+printf %s "checking size of short... " >&6; }
+if test ${ac_cv_sizeof_short+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (short))" "ac_cv_sizeof_short"        "$ac_includes_default"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_short" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute sizeof (short)
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_sizeof_short=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_short" >&5
+printf "%s\n" "$ac_cv_sizeof_short" >&6; }
+
+
+
+printf "%s\n" "#define SIZEOF_SHORT $ac_cv_sizeof_short" >>confdefs.h
+
+
+    # The cast to long int works around a bug in the HP C Compiler
+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
+# This bug is HP SR number 8606223364.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking size of int" >&5
+printf %s "checking size of int... " >&6; }
+if test ${ac_cv_sizeof_int+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (int))" "ac_cv_sizeof_int"        "$ac_includes_default"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_int" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute sizeof (int)
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_sizeof_int=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_int" >&5
+printf "%s\n" "$ac_cv_sizeof_int" >&6; }
+
+
+
+printf "%s\n" "#define SIZEOF_INT $ac_cv_sizeof_int" >>confdefs.h
+
+
+    # The cast to long int works around a bug in the HP C Compiler
+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
+# This bug is HP SR number 8606223364.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking size of long long" >&5
+printf %s "checking size of long long... " >&6; }
+if test ${ac_cv_sizeof_long_long+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long long))" "ac_cv_sizeof_long_long"        "$ac_includes_default"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_long_long" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute sizeof (long long)
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_sizeof_long_long=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long_long" >&5
+printf "%s\n" "$ac_cv_sizeof_long_long" >&6; }
+
+
+
+printf "%s\n" "#define SIZEOF_LONG_LONG $ac_cv_sizeof_long_long" >>confdefs.h
+
+
+    # The cast to long int works around a bug in the HP C Compiler
+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
+# This bug is HP SR number 8606223364.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking size of double" >&5
+printf %s "checking size of double... " >&6; }
+if test ${ac_cv_sizeof_double+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (double))" "ac_cv_sizeof_double"        "$ac_includes_default"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_double" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute sizeof (double)
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_sizeof_double=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_double" >&5
+printf "%s\n" "$ac_cv_sizeof_double" >&6; }
+
+
+
+printf "%s\n" "#define SIZEOF_DOUBLE $ac_cv_sizeof_double" >>confdefs.h
+
+
+    # The cast to long int works around a bug in the HP C Compiler
+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
+# This bug is HP SR number 8606223364.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking size of void*" >&5
+printf %s "checking size of void*... " >&6; }
+if test ${ac_cv_sizeof_voidp+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (void*))" "ac_cv_sizeof_voidp"        "$ac_includes_default"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_voidp" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute sizeof (void*)
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_sizeof_voidp=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_voidp" >&5
+printf "%s\n" "$ac_cv_sizeof_voidp" >&6; }
+
+
+
+printf "%s\n" "#define SIZEOF_VOIDP $ac_cv_sizeof_voidp" >>confdefs.h
+
+
+    # The cast to long int works around a bug in the HP C Compiler
+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
+# This bug is HP SR number 8606223364.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking size of size_t" >&5
+printf %s "checking size of size_t... " >&6; }
+if test ${ac_cv_sizeof_size_t+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (size_t))" "ac_cv_sizeof_size_t"        "$ac_includes_default"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_size_t" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute sizeof (size_t)
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_sizeof_size_t=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_size_t" >&5
+printf "%s\n" "$ac_cv_sizeof_size_t" >&6; }
+
+
+
+printf "%s\n" "#define SIZEOF_SIZE_T $ac_cv_sizeof_size_t" >>confdefs.h
+
+
+
+    SAL_TYPES_SIZEOFSHORT=$ac_cv_sizeof_short
+    SAL_TYPES_SIZEOFINT=$ac_cv_sizeof_int
+    SAL_TYPES_SIZEOFLONG=$ac_cv_sizeof_long
+    SAL_TYPES_SIZEOFLONGLONG=$ac_cv_sizeof_long_long
+    SAL_TYPES_SIZEOFPOINTER=$ac_cv_sizeof_voidp
+    SIZEOF_SIZE_T=$ac_cv_sizeof_size_t
+
+
+
+            # The cast to long int works around a bug in the HP C Compiler,
+# see AC_CHECK_SIZEOF for more information.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking alignment of short" >&5
+printf %s "checking alignment of short... " >&6; }
+if test ${ac_cv_alignof_short+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ac__type_alignof_, y)" "ac_cv_alignof_short"        "#include <stddef.h>
+
+typedef struct { char x; short y; } ac__type_alignof_;"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_short" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute alignment of short
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_alignof_short=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_alignof_short" >&5
+printf "%s\n" "$ac_cv_alignof_short" >&6; }
+
+
+
+printf "%s\n" "#define ALIGNOF_SHORT $ac_cv_alignof_short" >>confdefs.h
+
+
+            # The cast to long int works around a bug in the HP C Compiler,
+# see AC_CHECK_SIZEOF for more information.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking alignment of int" >&5
+printf %s "checking alignment of int... " >&6; }
+if test ${ac_cv_alignof_int+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ac__type_alignof_, y)" "ac_cv_alignof_int"        "#include <stddef.h>
+
+typedef struct { char x; int y; } ac__type_alignof_;"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_int" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute alignment of int
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_alignof_int=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_alignof_int" >&5
+printf "%s\n" "$ac_cv_alignof_int" >&6; }
+
+
+
+printf "%s\n" "#define ALIGNOF_INT $ac_cv_alignof_int" >>confdefs.h
+
+
+            # The cast to long int works around a bug in the HP C Compiler,
+# see AC_CHECK_SIZEOF for more information.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking alignment of long" >&5
+printf %s "checking alignment of long... " >&6; }
+if test ${ac_cv_alignof_long+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ac__type_alignof_, y)" "ac_cv_alignof_long"        "#include <stddef.h>
+
+typedef struct { char x; long y; } ac__type_alignof_;"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_long" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute alignment of long
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_alignof_long=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_alignof_long" >&5
+printf "%s\n" "$ac_cv_alignof_long" >&6; }
+
+
+
+printf "%s\n" "#define ALIGNOF_LONG $ac_cv_alignof_long" >>confdefs.h
+
+
+            # The cast to long int works around a bug in the HP C Compiler,
+# see AC_CHECK_SIZEOF for more information.
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking alignment of double" >&5
+printf %s "checking alignment of double... " >&6; }
+if test ${ac_cv_alignof_double+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ac__type_alignof_, y)" "ac_cv_alignof_double"        "#include <stddef.h>
+
+typedef struct { char x; double y; } ac__type_alignof_;"
+then :
+
+else $as_nop
+  if test "$ac_cv_type_double" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error 77 "cannot compute alignment of double
+See \`config.log' for more details" "$LINENO" 5; }
+   else
+     ac_cv_alignof_double=0
+   fi
+fi
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_alignof_double" >&5
+printf "%s\n" "$ac_cv_alignof_double" >&6; }
+
+
+
+printf "%s\n" "#define ALIGNOF_DOUBLE $ac_cv_alignof_double" >>confdefs.h
+
+
+
+
+    SAL_TYPES_ALIGNMENT2=$ac_cv_alignof_short
+    SAL_TYPES_ALIGNMENT4=$ac_cv_alignof_int
+    if test $ac_cv_sizeof_long -eq 8; then
+        SAL_TYPES_ALIGNMENT8=$ac_cv_alignof_long
+    elif test $ac_cv_sizeof_double -eq 8; then
+        SAL_TYPES_ALIGNMENT8=$ac_cv_alignof_double
+    else
+        as_fn_error $? "Cannot find alignment of 8 byte types." "$LINENO" 5
+    fi
+
+        # Check whether --enable-largefile was given.
+if test ${enable_largefile+y}
+then :
+  enableval=$enable_largefile;
+fi
+
+if test "$enable_largefile" != no; then
+
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for special C compiler options needed for large files" >&5
+printf %s "checking for special C compiler options needed for large files... " >&6; }
+if test ${ac_cv_sys_largefile_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_cv_sys_largefile_CC=no
+     if test "$GCC" != yes; then
+       ac_save_CC=$CC
+       while :; do
+	 # IRIX 6.2 and later do not support large files by default,
+	 # so use the C compiler's -n32 option if that helps.
+	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <sys/types.h>
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
+		      ? 1 : -1];
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+	 if ac_fn_c_try_compile "$LINENO"
+then :
+  break
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+	 CC="$CC -n32"
+	 if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_sys_largefile_CC=' -n32'; break
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+	 break
+       done
+       CC=$ac_save_CC
+       rm -f conftest.$ac_ext
+    fi
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_largefile_CC" >&5
+printf "%s\n" "$ac_cv_sys_largefile_CC" >&6; }
+  if test "$ac_cv_sys_largefile_CC" != no; then
+    CC=$CC$ac_cv_sys_largefile_CC
+  fi
+
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for _FILE_OFFSET_BITS value needed for large files" >&5
+printf %s "checking for _FILE_OFFSET_BITS value needed for large files... " >&6; }
+if test ${ac_cv_sys_file_offset_bits+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  while :; do
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <sys/types.h>
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
+		      ? 1 : -1];
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_sys_file_offset_bits=no; break
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#define _FILE_OFFSET_BITS 64
+#include <sys/types.h>
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
+		      ? 1 : -1];
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_sys_file_offset_bits=64; break
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+  ac_cv_sys_file_offset_bits=unknown
+  break
+done
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_file_offset_bits" >&5
+printf "%s\n" "$ac_cv_sys_file_offset_bits" >&6; }
+case $ac_cv_sys_file_offset_bits in #(
+  no | unknown) ;;
+  *)
+printf "%s\n" "#define _FILE_OFFSET_BITS $ac_cv_sys_file_offset_bits" >>confdefs.h
+;;
+esac
+rm -rf conftest*
+  if test $ac_cv_sys_file_offset_bits = unknown; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for _LARGE_FILES value needed for large files" >&5
+printf %s "checking for _LARGE_FILES value needed for large files... " >&6; }
+if test ${ac_cv_sys_large_files+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  while :; do
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <sys/types.h>
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
+		      ? 1 : -1];
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_sys_large_files=no; break
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#define _LARGE_FILES 1
+#include <sys/types.h>
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
+		      ? 1 : -1];
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_sys_large_files=1; break
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+  ac_cv_sys_large_files=unknown
+  break
+done
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_large_files" >&5
+printf "%s\n" "$ac_cv_sys_large_files" >&6; }
+case $ac_cv_sys_large_files in #(
+  no | unknown) ;;
+  *)
+printf "%s\n" "#define _LARGE_FILES $ac_cv_sys_large_files" >>confdefs.h
+;;
+esac
+rm -rf conftest*
+  fi
+fi
+
+    if test -n "$ac_cv_sys_largefile_opts"  -a "$ac_cv_sys_largefile_opts" != "none needed" -a "$ac_cv_sys_largefile_opts" != "support not detected"; then
+        LFS_CFLAGS="$ac_cv_sys_largefile_opts"
+    elif test -n "$ac_cv_sys_file_offset_bits" -a "$ac_cv_sys_file_offset_bits" != "no"; then
+        LFS_CFLAGS="-D_FILE_OFFSET_BITS=$ac_cv_sys_file_offset_bits"
+    fi
+    if test -n "$ac_cv_sys_large_files" -a "$ac_cv_sys_large_files" != "no"; then
+        LFS_CFLAGS="$LFS_CFLAGS -D_LARGE_FILES"
+    fi
+else
+    # Hardcode for MSVC
+    SAL_TYPES_SIZEOFSHORT=2
+    SAL_TYPES_SIZEOFINT=4
+    SAL_TYPES_SIZEOFLONG=4
+    SAL_TYPES_SIZEOFLONGLONG=8
+    if test $WIN_HOST_BITS -eq 32; then
+        SAL_TYPES_SIZEOFPOINTER=4
+        SIZEOF_SIZE_T=4
+    else
+        SAL_TYPES_SIZEOFPOINTER=8
+        SIZEOF_SIZE_T=8
+    fi
+    SAL_TYPES_ALIGNMENT2=2
+    SAL_TYPES_ALIGNMENT4=4
+    SAL_TYPES_ALIGNMENT8=8
+    LFS_CFLAGS=''
+fi
+
+
+
+printf "%s\n" "#define SAL_TYPES_SIZEOFSHORT $SAL_TYPES_SIZEOFSHORT" >>confdefs.h
+
+printf "%s\n" "#define SAL_TYPES_SIZEOFINT $SAL_TYPES_SIZEOFINT" >>confdefs.h
+
+printf "%s\n" "#define SAL_TYPES_SIZEOFLONG $SAL_TYPES_SIZEOFLONG" >>confdefs.h
+
+printf "%s\n" "#define SAL_TYPES_SIZEOFLONGLONG $SAL_TYPES_SIZEOFLONGLONG" >>confdefs.h
+
+printf "%s\n" "#define SAL_TYPES_SIZEOFPOINTER $SAL_TYPES_SIZEOFPOINTER" >>confdefs.h
+
+printf "%s\n" "#define SAL_TYPES_ALIGNMENT2 $SAL_TYPES_ALIGNMENT2" >>confdefs.h
+
+printf "%s\n" "#define SAL_TYPES_ALIGNMENT4 $SAL_TYPES_ALIGNMENT4" >>confdefs.h
+
+printf "%s\n" "#define SAL_TYPES_ALIGNMENT8 $SAL_TYPES_ALIGNMENT8" >>confdefs.h
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether jumbo sheets are supported" >&5
+printf %s "checking whether jumbo sheets are supported... " >&6; }
+if test "$_os" != "WINNT"; then
+    if test $SAL_TYPES_SIZEOFLONG -gt 4; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        ENABLE_JUMBO_SHEETS=TRUE
+        printf "%s\n" "#define HAVE_FEATURE_JUMBO_SHEETS 1" >>confdefs.h
+
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+else
+    if test $WIN_HOST_BITS -gt 32; then
+        # 64bit windows is special-cased for tools::Long because long is 32bit
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        ENABLE_JUMBO_SHEETS=TRUE
+        printf "%s\n" "#define HAVE_FEATURE_JUMBO_SHEETS 1" >>confdefs.h
+
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+ENABLE_RUNTIME_OPTIMIZATIONS=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable runtime optimizations" >&5
+printf %s "checking whether to enable runtime optimizations... " >&6; }
+if test -z "$enable_runtime_optimizations"; then
+    for i in $CC; do
+        case $i in
+        -fsanitize=*)
+            enable_runtime_optimizations=no
+            break
+            ;;
+        esac
+    done
+fi
+if test "$enable_runtime_optimizations" != no; then
+    ENABLE_RUNTIME_OPTIMIZATIONS=TRUE
+    printf "%s\n" "#define ENABLE_RUNTIME_OPTIMIZATIONS 1" >>confdefs.h
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+ENABLE_VALGRIND=
+if test "$cross_compiling" != yes -a "$with_valgrind" != no; then
+    prev_cppflags=$CPPFLAGS
+    # Is VALGRIND_CFLAGS something one is supposed to have in the environment,
+    # or where does it come from?
+    CPPFLAGS="$CPPFLAGS $VALGRIND_CFLAGS"
+    ac_fn_c_check_header_compile "$LINENO" "valgrind/valgrind.h" "ac_cv_header_valgrind_valgrind_h" "$ac_includes_default"
+if test "x$ac_cv_header_valgrind_valgrind_h" = xyes
+then :
+  ENABLE_VALGRIND=TRUE
+fi
+
+    CPPFLAGS=$prev_cppflags
+fi
+
+if test -z "$ENABLE_VALGRIND"; then
+    if test "$with_valgrind" = yes; then
+        as_fn_error $? "--with-valgrind specified but no Valgrind headers found" "$LINENO" 5
+    fi
+    VALGRIND_CFLAGS=
+fi
+
+
+
+
+# We need at least the sys/sdt.h include header.
+ac_fn_c_check_header_compile "$LINENO" "sys/sdt.h" "ac_cv_header_sys_sdt_h" "$ac_includes_default"
+if test "x$ac_cv_header_sys_sdt_h" = xyes
+then :
+  SDT_H_FOUND='TRUE'
+else $as_nop
+  SDT_H_FOUND='FALSE'
+fi
+
+if test "$SDT_H_FOUND" = "TRUE"; then
+    # Found sys/sdt.h header, now make sure the c++ compiler works.
+    # Old g++ versions had problems with probes in constructors/destructors.
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking working sys/sdt.h and c++ support" >&5
+printf %s "checking working sys/sdt.h and c++ support... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <sys/sdt.h>
+    class ProbeClass
+    {
+    private:
+      int& ref;
+      const char *name;
+
+    public:
+      ProbeClass(int& v, const char *n) : ref(v), name(n)
+      {
+        DTRACE_PROBE2(_test_, cons, name, ref);
+      }
+
+      void method(int min)
+      {
+        DTRACE_PROBE3(_test_, meth, name, ref, min);
+        ref -= min;
+      }
+
+      ~ProbeClass()
+      {
+        DTRACE_PROBE2(_test_, dest, name, ref);
+      }
+    };
+
+int
+main (void)
+{
+
+    int i = 64;
+    DTRACE_PROBE1(_test_, call, i);
+    ProbeClass inst = ProbeClass(i, "call");
+    inst.method(24);
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }; printf "%s\n" "#define USE_SDT_PROBES 1" >>confdefs.h
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, sdt.h or c++ compiler too old" >&5
+printf "%s\n" "no, sdt.h or c++ compiler too old" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+ac_config_headers="$ac_config_headers config_host/config_probes.h"
+
+
+HAVE_GCC_STACK_CLASH_PROTECTION=
+HARDENING_CFLAGS=
+HARDENING_OPT_CFLAGS=
+if test "$GCC" = "yes" -o "$COM_IS_CLANG" = TRUE; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -grecord-gcc-switches" >&5
+printf %s "checking whether $CC_BASE supports -grecord-gcc-switches... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror -grecord-gcc-switches"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }; HARDENING_CFLAGS="$HARDENING_CFLAGS -grecord-gcc-switches"
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -D_FORTIFY_SOURCE=2" >&5
+printf %s "checking whether $CC_BASE supports -D_FORTIFY_SOURCE=2... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror -Wp,-U_FORTIFY_SOURCE,-D_FORTIFY_SOURCE=2"
+    if test "$ENABLE_OPTIMIZED" = TRUE; then
+        CFLAGS="$CFLAGS -O2"
+    fi
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <string.h>
+int
+main (void)
+{
+return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }; HARDENING_OPT_CFLAGS="$HARDENING_OPT_CFLAGS -Wp,-U_FORTIFY_SOURCE,-D_FORTIFY_SOURCE=2"
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -D_GLIBCXX_ASSERTIONS" >&5
+printf %s "checking whether $CC_BASE supports -D_GLIBCXX_ASSERTIONS... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror -Wp,-D_GLIBCXX_ASSERTIONS"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }; HARDENING_CFLAGS="$HARDENING_CFLAGS -Wp,-D_GLIBCXX_ASSERTIONS"
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -fstack-clash-protection" >&5
+printf %s "checking whether $CC_BASE supports -fstack-clash-protection... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror -fstack-clash-protection"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }; HAVE_GCC_STACK_CLASH_PROTECTION=TRUE; HARDENING_CFLAGS="$HARDENING_CFLAGS -fstack-clash-protection"
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -fcf-protection" >&5
+printf %s "checking whether $CC_BASE supports -fcf-protection... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror -fcf-protection"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }; HARDENING_CFLAGS="$HARDENING_CFLAGS -fcf-protection"
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports -mno-avx" >&5
+printf %s "checking whether $CC_BASE supports -mno-avx... " >&6; }
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS -Werror -mno-avx"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+   HAVE_GCC_AVX=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    if test "$HAVE_GCC_AVX" = "TRUE"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC_BASE supports atomic functions" >&5
+printf %s "checking whether $CC_BASE supports atomic functions... " >&6; }
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+    int v = 0;
+    if (__sync_add_and_fetch(&v, 1) != 1 ||
+        __sync_sub_and_fetch(&v, 1) != 0)
+        return 1;
+    __sync_synchronize();
+    if (__sync_val_compare_and_swap(&v, 0, 1) != 0 ||
+        v != 1)
+        return 1;
+    return 0;
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  HAVE_GCC_BUILTIN_ATOMIC=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    if test "$HAVE_GCC_BUILTIN_ATOMIC" = "TRUE"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        printf "%s\n" "#define HAVE_GCC_BUILTIN_ATOMIC 1" >>confdefs.h
+
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE defines __base_class_type_info in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE defines __base_class_type_info in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cstddef>
+            #include <cxxabi.h>
+            std::size_t f() { return sizeof(__cxxabiv1::__base_class_type_info); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_BASE_CLASS_TYPE_INFO 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE defines __class_type_info in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE defines __class_type_info in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cstddef>
+            #include <cxxabi.h>
+            std::size_t f() { return sizeof(__cxxabiv1::__class_type_info); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_CLASS_TYPE_INFO 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE declares __cxa_allocate_exception in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE declares __cxa_allocate_exception in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cxxabi.h>
+            void * f() { return __cxxabiv1::__cxa_allocate_exception(0); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_CXA_ALLOCATE_EXCEPTION 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE defines __cxa_eh_globals in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE defines __cxa_eh_globals in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cstddef>
+            #include <cxxabi.h>
+            std::size_t f() { return sizeof(__cxxabiv1::__cxa_eh_globals); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_CXA_EH_GLOBALS 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE defines __cxa_exception in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE defines __cxa_exception in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cstddef>
+            #include <cxxabi.h>
+            std::size_t f() { return sizeof(__cxxabiv1::__cxa_exception); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_CXA_EXCEPTION 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE declares __cxa_get_globals in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE declares __cxa_get_globals in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cxxabi.h>
+            void * f() { return __cxxabiv1::__cxa_get_globals(); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_CXA_GET_GLOBALS 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE declares __cxa_current_exception_type in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE declares __cxa_current_exception_type in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cxxabi.h>
+            void * f() { return __cxxabiv1::__cxa_current_exception_type(); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_CXA_CURRENT_EXCEPTION_TYPE 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE declares __cxa_throw in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE declares __cxa_throw in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cxxabi.h>
+            void f() { __cxxabiv1::__cxa_throw(0, 0, 0); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_CXA_THROW 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE defines __si_class_type_info in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE defines __si_class_type_info in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cstddef>
+            #include <cxxabi.h>
+            std::size_t f() { return sizeof(__cxxabiv1::__si_class_type_info); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_SI_CLASS_TYPE_INFO 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE defines __vmi_class_type_info in cxxabi.h" >&5
+printf %s "checking whether $CXX_BASE defines __vmi_class_type_info in cxxabi.h... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <cstddef>
+            #include <cxxabi.h>
+            std::size_t f() { return sizeof(__cxxabiv1::__vmi_class_type_info); }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_CXXABI_H_VMI_CLASS_TYPE_INFO 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking what the C++ library is" >&5
+printf %s "checking what the C++ library is... " >&6; }
+HAVE_LIBSTDCPP=
+HAVE_LIBCPP=
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <utility>
+#ifndef __GLIBCXX__
+foo bar
+#endif
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  CPP_LIBRARY=GLIBCXX
+     cpp_library_name="GNU libstdc++"
+     HAVE_LIBSTDCPP=TRUE
+
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <utility>
+#ifndef _LIBCPP_VERSION
+foo bar
+#endif
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  CPP_LIBRARY=LIBCPP
+     cpp_library_name="LLVM libc++"
+     printf "%s\n" "#define HAVE_LIBCPP 1" >>confdefs.h
+
+     HAVE_LIBCPP=TRUE
+
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <utility>
+#ifndef _MSC_VER
+foo bar
+#endif
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  CPP_LIBRARY=MSVCRT
+     cpp_library_name="Microsoft"
+
+else $as_nop
+  as_fn_error $? "Could not figure out what C++ library this is" "$LINENO" 5
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $cpp_library_name" >&5
+printf "%s\n" "$cpp_library_name" >&6; }
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+
+
+if test -z "${LIBCPP_DEBUG+x}" -a -z "$CROSS_COMPILING" -a -n "$HAVE_LIBCPP" -a -n "$ENABLE_DBGUTIL"
+then
+    # Libc++ has two levels of debug mode, assertions mode enabled with -D_LIBCPP_DEBUG=0,
+    # and actual debug mode enabled with -D_LIBCPP_DEBUG=1 (and starting with LLVM15
+    # assertions mode will be separate and controlled by -D_LIBCPP_ENABLE_ASSERTIONS=1,
+    # although there will be backwards compatibility).
+    # Debug mode is supported by libc++ only if built for it, e.g. Mac libc++ isn't,
+    # and there would be undefined references to debug functions.
+    # Moreover std::to_string() has a bug (https://reviews.llvm.org/D125184).
+    # So check if debug mode can be used and disable or downgrade it to assertions
+    # if needed.
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if libc++ has a usable debug mode" >&5
+printf %s "checking if libc++ has a usable debug mode... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    libcpp_debug_links=
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#define _LIBCPP_DEBUG 0 // only assertions
+#include <vector>
+int main()
+{
+    std::vector<int> v;
+    v.push_back( 1 );
+    return v[ 3 ];
+}
+
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  libcpp_debug_links=1
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    if test -n "$libcpp_debug_links"; then
+        # we can use at least assertions, check if debug mode works
+        if test "$cross_compiling" = yes
+then :
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5; }
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#define _LIBCPP_DEBUG 1 // debug mode
+#include <string>
+#include <vector>
+int foo(const std::vector<int>& v) { return *v.begin(); }
+int main()
+{
+    std::vector<int> v;
+    v.push_back( 1 );
+    std::string s = "xxxxxxxxxxxxxxxxxxxxxxxxx" + std::to_string(10);
+    return (foo(v) + s.size()) != 0 ? 0 : 1;
+}
+
+_ACEOF
+if ac_fn_cxx_try_run "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+         LIBCPP_DEBUG=-D_LIBCPP_DEBUG=1
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+         LIBCPP_DEBUG=-D_LIBCPP_DEBUG=0
+
+
+fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+# Extract the first word of "gperf", so it can be a program name with args.
+set dummy gperf; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_GPERF+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $GPERF in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_GPERF="$GPERF" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_GPERF="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+GPERF=$ac_cv_path_GPERF
+if test -n "$GPERF"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GPERF" >&5
+printf "%s\n" "$GPERF" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test -z "$GPERF"; then
+    as_fn_error $? "gperf not found but needed. Install it." "$LINENO" 5
+fi
+if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+    GPERF=`cygpath -m $GPERF`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether gperf is new enough" >&5
+printf %s "checking whether gperf is new enough... " >&6; }
+my_gperf_ver1=$($GPERF --version | head -n 1)
+my_gperf_ver2=${my_gperf_ver1#GNU gperf }
+my_gperf_ver3=$(printf %s "$my_gperf_ver2" | $AWK -F. '{ print $1*100+($2<100?$2:99) }')
+if test "$my_gperf_ver3" -ge 301; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes ($my_gperf_ver2)" >&5
+printf "%s\n" "yes ($my_gperf_ver2)" >&6; }
+else
+    as_fn_error $? "\"$my_gperf_ver1\" is too old or unrecognized, must be at least gperf 3.1" "$LINENO" 5
+fi
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+        # Check whether --enable-libcmis was given.
+if test ${enable_libcmis+y}
+then :
+  enableval=$enable_libcmis;
+else $as_nop
+  enable_libcmis="yes"
+fi
+
+
+
+
+
+# Check whether --with-system-libcmis was given.
+if test ${with_system_libcmis+y}
+then :
+  withval=$with_system_libcmis;
+else $as_nop
+
+    if test "${with_system_libcmis+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libcmis="$with_system_libs";
+    else
+        with_system_libcmis="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libcmis to use" >&5
+printf %s "checking which libcmis to use... " >&6; }
+if test "$test_libcmis" != no -a "$found_libcmis" != yes -a "$enable_libcmis" != no; then
+    ENABLE_LIBCMIS=TRUE
+    if test "$with_system_libcmis" = yes -a "$test_system_libcmis" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LIBCMIS=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libcmis-0.6 >= 0.6.1" >&5
+printf %s "checking for libcmis-0.6 >= 0.6.1... " >&6; }
+
+if test -n "$LIBCMIS_CFLAGS"; then
+    pkg_cv_LIBCMIS_CFLAGS="$LIBCMIS_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libcmis-0.6 >= 0.6.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libcmis-0.6 >= 0.6.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBCMIS_CFLAGS=`$PKG_CONFIG --cflags "libcmis-0.6 >= 0.6.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBCMIS_LIBS"; then
+    pkg_cv_LIBCMIS_LIBS="$LIBCMIS_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libcmis-0.6 >= 0.6.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libcmis-0.6 >= 0.6.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBCMIS_LIBS=`$PKG_CONFIG --libs "libcmis-0.6 >= 0.6.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBCMIS_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libcmis-0.6 >= 0.6.1" 2>&1`
+        else
+                LIBCMIS_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libcmis-0.6 >= 0.6.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBCMIS_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libcmis-0.6 >= 0.6.1) were not met:
+
+$LIBCMIS_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBCMIS_CFLAGS
+and LIBCMIS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBCMIS_CFLAGS
+and LIBCMIS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBCMIS_CFLAGS=$pkg_cv_LIBCMIS_CFLAGS
+        LIBCMIS_LIBS=$pkg_cv_LIBCMIS_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBCMIS_CFLAGS=$(printf '%s' "${LIBCMIS_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBCMIS_LIBS}"
+        LIBCMIS_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LIBCMIS=
+        LIBCMIS_CFLAGS="${LIBCMIS_CFLAGS_internal}"
+        LIBCMIS_LIBS="${LIBCMIS_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE LIBCMIS"
+    fi
+else
+    if test "$found_libcmis" = yes -a "$enable_libcmis" != no -a "$with_system_libcmis" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_LIBCMIS=TRUE
+        SYSTEM_LIBCMIS=TRUE
+    else
+        ENABLE_LIBCMIS=
+        SYSTEM_LIBCMIS=
+        LIBCMIS_CFLAGS=
+        LIBCMIS_LIBS=
+        if test "$test_libcmis" != no -a "$enable_libcmis" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+if test -z "${CXXFLAGS_CXX11+x}"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports C++20" >&5
+printf %s "checking whether $CXX_BASE supports C++20... " >&6; }
+    if test "$COM" = MSC -a "$COM_IS_CLANG" != TRUE; then
+        if test "$with_latest_c__" = yes; then
+            CXXFLAGS_CXX11=-std:c++latest
+        else
+            CXXFLAGS_CXX11=-std:c++20
+        fi
+        CXXFLAGS_CXX11="$CXXFLAGS_CXX11 -permissive- -Zc:__cplusplus,preprocessor"
+    elif test "$GCC" = "yes" -o "$COM_IS_CLANG" = TRUE; then
+        my_flags='-std=c++20 -std=c++2a'
+        if test "$with_latest_c__" = yes; then
+            my_flags="-std=c++26 -std=c++2c -std=c++23 -std=c++2b $my_flags"
+        fi
+        for flag in $my_flags; do
+            if test "$COM" = MSC; then
+                flag="-Xclang $flag"
+            fi
+            save_CXXFLAGS=$CXXFLAGS
+            CXXFLAGS="$CXXFLAGS $flag -Werror"
+            ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+                #include <algorithm>
+                #include <functional>
+                #include <vector>
+
+                void f(std::vector<int> & v, std::function<bool(int, int)> fn) {
+                    std::sort(v.begin(), v.end(), fn);
+                }
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  CXXFLAGS_CXX11=$flag
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+            ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+            CXXFLAGS=$save_CXXFLAGS
+            if test -n "$CXXFLAGS_CXX11"; then
+                break
+            fi
+        done
+    fi
+    if test -n "$CXXFLAGS_CXX11"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes ($CXXFLAGS_CXX11)" >&5
+printf "%s\n" "yes ($CXXFLAGS_CXX11)" >&6; }
+    else
+        as_fn_error $? "no" "$LINENO" 5
+    fi
+fi
+
+
+if test "$GCC" = "yes"; then
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11"
+
+
+  ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether std::atomic can be used without link library" >&5
+printf %s "checking whether std::atomic can be used without link library... " >&6; }
+
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+  #include <atomic>
+  #include <cstdint>
+
+  int main() {
+    std::atomic<int64_t> a{};
+
+    int64_t v = 5;
+    int64_t r = a.fetch_add(v);
+    return static_cast<int>(r);
+  }
+
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+      LIBS="$LIBS -latomic"
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether std::atomic needs -latomic" >&5
+printf %s "checking whether std::atomic needs -latomic... " >&6; }
+      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+  #include <atomic>
+  #include <cstdint>
+
+  int main() {
+    std::atomic<int64_t> a{};
+
+    int64_t v = 5;
+    int64_t r = a.fetch_add(v);
+    return static_cast<int>(r);
+  }
+
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+
+          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+          ATOMIC_LIB=-latomic
+
+else $as_nop
+
+          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+          { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "cannot figure our how to use std::atomic
+See \`config.log' for more details" "$LINENO" 5; }
+
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+
+  ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    CXXFLAGS=$save_CXXFLAGS
+
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports C++11 without Language Defect 757" >&5
+printf %s "checking whether $CXX_BASE supports C++11 without Language Defect 757... " >&6; }
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11"
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <stddef.h>
+
+template <typename T, size_t S> char (&sal_n_array_size( T(&)[S] ))[S];
+
+namespace
+{
+        struct b
+        {
+                int i;
+                int j;
+        };
+}
+
+int
+main (void)
+{
+
+struct a
+{
+        int i;
+        int j;
+};
+a thinga[]={{0,0}, {1,1}};
+b thingb[]={{0,0}, {1,1}};
+size_t i = sizeof(sal_n_array_size(thinga));
+size_t j = sizeof(sal_n_array_size(thingb));
+return !(i != 0 && j != 0);
+
+  ;
+  return 0;
+}
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+   as_fn_error $? "no" "$LINENO" 5
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+
+HAVE_GCC_FNO_SIZED_DEALLOCATION=
+if test "$GCC" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports -fno-sized-deallocation" >&5
+printf %s "checking whether $CXX_BASE supports -fno-sized-deallocation... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS -fno-sized-deallocation"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  HAVE_GCC_FNO_SIZED_DEALLOCATION=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    if test "$HAVE_GCC_FNO_SIZED_DEALLOCATION" = TRUE; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports C++2a constinit sorted vectors" >&5
+printf %s "checking whether $CXX_BASE supports C++2a constinit sorted vectors... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        #include <algorithm>
+        #include <initializer_list>
+        #include <vector>
+        template<typename T> class S {
+        private:
+            std::vector<T> v_;
+        public:
+            constexpr S(std::initializer_list<T> i): v_(i) { std::sort(v_.begin(), v_.end()); }
+        };
+        constinit S<int> s{3, 2, 1};
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+        printf "%s\n" "#define HAVE_CPP_CONSTINIT_SORTED_VECTOR 1" >>confdefs.h
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+CXXFLAGS=$save_CXXFLAGS
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE implements C++ DR P1155R3" >&5
+printf %s "checking whether $CXX_BASE implements C++ DR P1155R3... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        struct S1 { S1(S1 &&); };
+        struct S2: S1 {};
+        S1 f(S2 s) { return s; }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+        printf "%s\n" "#define HAVE_P1155R3 1" >>confdefs.h
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+CXXFLAGS=$save_CXXFLAGS
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports C++20 std::atomic_ref" >&5
+printf %s "checking whether $CXX_BASE supports C++20 std::atomic_ref... " >&6; }
+HAVE_CXX20_ATOMIC_REF=
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        #include <atomic>
+        int x;
+        std::atomic_ref<int> y(x);
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+        HAVE_CXX20_ATOMIC_REF=TRUE
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+CXXFLAGS=$save_CXXFLAGS
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+
+HAVE_WDEPRECATED_COPY_DTOR=
+if test "$GCC" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports -Wdeprecated-copy-dtor" >&5
+printf %s "checking whether $CXX_BASE supports -Wdeprecated-copy-dtor... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS -Werror -Wdeprecated-copy-dtor"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            HAVE_WDEPRECATED_COPY_DTOR=TRUE
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+HAVE_BROKEN_GCC_WMAYBE_UNINITIALIZED=
+if test "$GCC" = yes && test "$COM_IS_CLANG" != TRUE; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE might report false -Werror=maybe-uninitialized" >&5
+printf %s "checking whether $CXX_BASE might report false -Werror=maybe-uninitialized... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11 -Werror -Wmaybe-uninitialized"
+    if test "$ENABLE_OPTIMIZED" = TRUE; then
+        CXXFLAGS="$CXXFLAGS -O2"
+    else
+        CXXFLAGS="$CXXFLAGS -O0"
+    fi
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <new>
+            void f1(int);
+            struct S1 {
+                ~S1() { f1(n); }
+                int n = 0;
+            };
+            struct S2 {
+                S2() {}
+                S2(S2 const & s) { if (s.init) set(*reinterpret_cast<S1 const *>(s.stg)); }
+                ~S2() { if (init) reinterpret_cast<S1 *>(stg)->S1::~S1(); }
+                void set(S1 s) {
+                    new (stg) S1(s);
+                    init = true;
+                }
+                bool init = false;
+                char stg[sizeof (S1)];
+            } ;
+            S1 f2();
+            S2 * f3(bool b) {
+                S2 o;
+                if (b) o.set(f2());
+                return new S2(o);
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else $as_nop
+
+            HAVE_BROKEN_GCC_WMAYBE_UNINITIALIZED=TRUE
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+HAVE_BROKEN_GCC_WSTRINGOP_OVERFLOW=
+if test "$GCC" = yes && test "$COM_IS_CLANG" != TRUE; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE might report false -Werror=stringop-overflow=" >&5
+printf %s "checking whether $CXX_BASE might report false -Werror=stringop-overflow=... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11 -Werror -Wstringop-overflow"
+    if test "$ENABLE_OPTIMIZED" = TRUE; then
+        CXXFLAGS="$CXXFLAGS -O2"
+    else
+        CXXFLAGS="$CXXFLAGS -O0"
+    fi
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            void fill(char const * begin, char const * end, char c);
+            struct q {
+                char ids[4];
+                char username[6];
+            };
+            void test(q & c) {
+                fill(c.ids, c.ids + sizeof(c.ids), '\0');
+                __builtin_strncpy(c.username, "root", sizeof(c.username));
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else $as_nop
+
+            HAVE_BROKEN_GCC_WSTRINGOP_OVERFLOW=TRUE
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+HAVE_DLLEXPORTINLINES=
+if test "$_os" = "WINNT"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports -Zc:dllexportInlines-" >&5
+printf %s "checking whether $CXX_BASE supports -Zc:dllexportInlines-... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS -Werror -Zc:dllexportInlines-"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            HAVE_DLLEXPORTINLINES=TRUE
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+
+CXXFLAGS_INTRINSICS_SSE2=
+CXXFLAGS_INTRINSICS_SSSE3=
+CXXFLAGS_INTRINSICS_SSE41=
+CXXFLAGS_INTRINSICS_SSE42=
+CXXFLAGS_INTRINSICS_AVX=
+CXXFLAGS_INTRINSICS_AVX2=
+CXXFLAGS_INTRINSICS_AVX512=
+CXXFLAGS_INTRINSICS_AVX512F=
+CXXFLAGS_INTRINSICS_F16C=
+CXXFLAGS_INTRINSICS_FMA=
+
+if test "$GCC" = "yes" -o "$COM_IS_CLANG" = TRUE; then
+    # GCC, Clang or Clang-cl (clang-cl + MSVC's -arch options don't work well together)
+    flag_sse2=-msse2
+    flag_ssse3=-mssse3
+    flag_sse41=-msse4.1
+    flag_sse42=-msse4.2
+    flag_avx=-mavx
+    flag_avx2=-mavx2
+    flag_avx512="-mavx512f -mavx512vl -mavx512bw -mavx512dq -mavx512cd"
+    flag_avx512f=-mavx512f
+    flag_f16c=-mf16c
+    flag_fma=-mfma
+else
+    # With MSVC using -arch is in fact not necessary for being able
+    # to use CPU intrinsics, code using AVX512F intrinsics will compile
+    # even if compiled with -arch:AVX, the -arch option really only affects
+    # instructions generated for C/C++ code.
+    # So use the matching same (or lower) -arch options, but only in order
+    # to generate the best matching instructions for the C++ code surrounding
+    # the intrinsics.
+    # SSE2 is the default for x86/x64, so no need to specify the option.
+    flag_sse2=
+    # No specific options for these, use the next lower.
+    flag_ssse3="$flag_sse2"
+    flag_sse41="$flag_sse2"
+    flag_sse42="$flag_sse2"
+    flag_avx=-arch:AVX
+    flag_avx2=-arch:AVX2
+    flag_avx512=-arch:AVX512
+    # Using -arch:AVX512 would enable more than just AVX512F, so use only AVX2.
+    flag_avx512f=-arch:AVX2
+    # No MSVC options for these.
+    flag_f16c="$flag_sse2"
+    flag_fma="$flag_sse2"
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile SSE2 intrinsics" >&5
+printf %s "checking whether $CXX can compile SSE2 intrinsics... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $flag_sse2"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <emmintrin.h>
+    int main () {
+        __m128i a = _mm_set1_epi32 (0), b = _mm_set1_epi32 (0), c;
+        c = _mm_xor_si128 (a, b);
+        return 0;
+    }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_sse2=yes
+else $as_nop
+  can_compile_sse2=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_sse2}" >&5
+printf "%s\n" "${can_compile_sse2}" >&6; }
+if test "${can_compile_sse2}" = "yes" ; then
+    CXXFLAGS_INTRINSICS_SSE2="$flag_sse2"
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile SSSE3 intrinsics" >&5
+printf %s "checking whether $CXX can compile SSSE3 intrinsics... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $flag_ssse3"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <tmmintrin.h>
+    int main () {
+        __m128i a = _mm_set1_epi32 (0), b = _mm_set1_epi32 (0), c;
+        c = _mm_maddubs_epi16 (a, b);
+        return 0;
+    }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_ssse3=yes
+else $as_nop
+  can_compile_ssse3=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_ssse3}" >&5
+printf "%s\n" "${can_compile_ssse3}" >&6; }
+if test "${can_compile_ssse3}" = "yes" ; then
+    CXXFLAGS_INTRINSICS_SSSE3="$flag_ssse3"
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile SSE4.1 intrinsics" >&5
+printf %s "checking whether $CXX can compile SSE4.1 intrinsics... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $flag_sse41"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <smmintrin.h>
+    int main () {
+        __m128i a = _mm_set1_epi32 (0), b = _mm_set1_epi32 (0), c;
+        c = _mm_cmpeq_epi64 (a, b);
+        return 0;
+    }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_sse41=yes
+else $as_nop
+  can_compile_sse41=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_sse41}" >&5
+printf "%s\n" "${can_compile_sse41}" >&6; }
+if test "${can_compile_sse41}" = "yes" ; then
+    CXXFLAGS_INTRINSICS_SSE41="$flag_sse41"
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile SSE4.2 intrinsics" >&5
+printf %s "checking whether $CXX can compile SSE4.2 intrinsics... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $flag_sse42"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <nmmintrin.h>
+    int main () {
+        __m128i a = _mm_set1_epi32 (0), b = _mm_set1_epi32 (0), c;
+        c = _mm_cmpgt_epi64 (a, b);
+        return 0;
+    }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_sse42=yes
+else $as_nop
+  can_compile_sse42=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_sse42}" >&5
+printf "%s\n" "${can_compile_sse42}" >&6; }
+if test "${can_compile_sse42}" = "yes" ; then
+    CXXFLAGS_INTRINSICS_SSE42="$flag_sse42"
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile AVX intrinsics" >&5
+printf %s "checking whether $CXX can compile AVX intrinsics... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $flag_avx"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <immintrin.h>
+    int main () {
+        __m256 a = _mm256_set1_ps (0.0f), b = _mm256_set1_ps (0.0f), c;
+        c = _mm256_xor_ps(a, b);
+        return 0;
+    }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_avx=yes
+else $as_nop
+  can_compile_avx=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_avx}" >&5
+printf "%s\n" "${can_compile_avx}" >&6; }
+if test "${can_compile_avx}" = "yes" ; then
+    CXXFLAGS_INTRINSICS_AVX="$flag_avx"
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile AVX2 intrinsics" >&5
+printf %s "checking whether $CXX can compile AVX2 intrinsics... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $flag_avx2"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <immintrin.h>
+    int main () {
+        __m256i a = _mm256_set1_epi32 (0), b = _mm256_set1_epi32 (0), c;
+        c = _mm256_maddubs_epi16(a, b);
+        return 0;
+    }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_avx2=yes
+else $as_nop
+  can_compile_avx2=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_avx2}" >&5
+printf "%s\n" "${can_compile_avx2}" >&6; }
+if test "${can_compile_avx2}" = "yes" ; then
+    CXXFLAGS_INTRINSICS_AVX2="$flag_avx2"
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile AVX512 intrinsics" >&5
+printf %s "checking whether $CXX can compile AVX512 intrinsics... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $flag_avx512"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <immintrin.h>
+    int main () {
+        __m512i a = _mm512_loadu_si512(0);
+        __m512d v1 = _mm512_load_pd(0);
+        // https://gcc.gnu.org/git/?p=gcc.git;a=commit;f=gcc/config/i386/avx512fintrin.h;h=23bce99cbe7016a04e14c2163ed3fe6a5a64f4e2
+        __m512d v2 = _mm512_abs_pd(v1);
+        return 0;
+    }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_avx512=yes
+else $as_nop
+  can_compile_avx512=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_avx512}" >&5
+printf "%s\n" "${can_compile_avx512}" >&6; }
+if test "${can_compile_avx512}" = "yes" ; then
+    CXXFLAGS_INTRINSICS_AVX512="$flag_avx512"
+    CXXFLAGS_INTRINSICS_AVX512F="$flag_avx512f"
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile F16C intrinsics" >&5
+printf %s "checking whether $CXX can compile F16C intrinsics... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $flag_f16c"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <immintrin.h>
+    int main () {
+        __m128i a = _mm_set1_epi32 (0);
+        __m128 c;
+        c = _mm_cvtph_ps(a);
+        return 0;
+    }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_f16c=yes
+else $as_nop
+  can_compile_f16c=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_f16c}" >&5
+printf "%s\n" "${can_compile_f16c}" >&6; }
+if test "${can_compile_f16c}" = "yes" ; then
+    CXXFLAGS_INTRINSICS_F16C="$flag_f16c"
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile FMA intrinsics" >&5
+printf %s "checking whether $CXX can compile FMA intrinsics... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $flag_fma"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <immintrin.h>
+    int main () {
+        __m256 a = _mm256_set1_ps (0.0f), b = _mm256_set1_ps (0.0f), c = _mm256_set1_ps (0.0f), d;
+        d = _mm256_fmadd_ps(a, b, c);
+        return 0;
+    }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_fma=yes
+else $as_nop
+  can_compile_fma=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+CXXFLAGS=$save_CXXFLAGS
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_fma}" >&5
+printf "%s\n" "${can_compile_fma}" >&6; }
+if test "${can_compile_fma}" = "yes" ; then
+    CXXFLAGS_INTRINSICS_FMA="$flag_fma"
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+if test "$_os" != "WINNT"; then
+
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+
+    save_CPPFLAGS="$CPPFLAGS"
+    if test -n "$MACOSX_SDK_PATH"; then
+        CPPFLAGS="-isysroot $MACOSX_SDK_PATH $CPPFLAGS"
+    fi
+
+    # Assume visibility is not broken with libc++. The below test is very much designed for libstdc++
+    # only.
+    if test "$CPP_LIBRARY" = GLIBCXX; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if STL headers are visibility safe (GCC bug 22482)" >&5
+printf %s "checking if STL headers are visibility safe (GCC bug 22482)... " >&6; }
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <string>
+
+_ACEOF
+if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
+  $EGREP "visibility push" >/dev/null 2>&1
+then :
+  stlvisok=yes
+else $as_nop
+  stlvisok=no
+fi
+rm -rf conftest*
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $stlvisok" >&5
+printf "%s\n" "$stlvisok" >&6; }
+        if test "$stlvisok" = "no"; then
+            as_fn_error $? "Your libstdc++ headers are not visibility safe. This is no longer supported." "$LINENO" 5
+        fi
+    fi
+
+    # As the below test checks things when linking self-compiled dynamic libraries, it presumably is irrelevant
+    # when we don't make any dynamic libraries?
+    if test "$DISABLE_DYNLOADING" = ""; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if $CXX_BASE is -fvisibility-inlines-hidden safe (Clang bug 11250)" >&5
+printf %s "checking if $CXX_BASE is -fvisibility-inlines-hidden safe (Clang bug 11250)... " >&6; }
+        cat > conftestlib1.cc <<_ACEOF
+template<typename T> struct S1 { virtual ~S1() {} virtual void f() {} };
+struct S2: S1<int> { virtual ~S2(); };
+S2::~S2() {}
+_ACEOF
+        cat > conftestlib2.cc <<_ACEOF
+template<typename T> struct S1 { virtual ~S1() {} virtual void f() {} };
+struct S2: S1<int> { virtual ~S2(); };
+struct S3: S2 { virtual ~S3(); }; S3::~S3() {}
+_ACEOF
+        gccvisinlineshiddenok=yes
+        if ! $CXX $CXXFLAGS $CPPFLAGS $LINKFLAGSSHL -fPIC -fvisibility-inlines-hidden conftestlib1.cc -o libconftest1$DLLPOST >/dev/null 2>&5; then
+            gccvisinlineshiddenok=no
+        else
+                                                my_linkflagsnoundefs=$LINKFLAGSNOUNDEFS
+            if test "$COM_IS_CLANG" = TRUE; then
+                for i in $CXX $CXXFLAGS; do
+                    case $i in
+                    -fsanitize=*)
+                        my_linkflagsnoundefs=
+                        break
+                        ;;
+                    esac
+                done
+            fi
+            if ! $CXX $CXXFLAGS $CPPFLAGS $LINKFLAGSSHL -fPIC -fvisibility-inlines-hidden conftestlib2.cc -L. -lconftest1 $my_linkflagsnoundefs -o libconftest2$DLLPOST >/dev/null 2>&5; then
+                gccvisinlineshiddenok=no
+            fi
+        fi
+
+        rm -fr libconftest*
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gccvisinlineshiddenok" >&5
+printf "%s\n" "$gccvisinlineshiddenok" >&6; }
+        if test "$gccvisinlineshiddenok" = "no"; then
+            as_fn_error $? "Your gcc/clang is not -fvisibility-inlines-hidden safe. This is no longer supported." "$LINENO" 5
+        fi
+    fi
+
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if $CXX_BASE has a visibility bug with class-level attributes (GCC bug 26905)" >&5
+printf %s "checking if $CXX_BASE has a visibility bug with class-level attributes (GCC bug 26905)... " >&6; }
+    cat >visibility.cxx <<_ACEOF
+#pragma GCC visibility push(hidden)
+struct __attribute__ ((visibility ("default"))) TestStruct {
+  static void Init();
+};
+__attribute__ ((visibility ("default"))) void TestFunc() {
+  TestStruct::Init();
+}
+_ACEOF
+    if ! $CXX $CXXFLAGS $CPPFLAGS -fpic -S visibility.cxx; then
+        gccvisbroken=yes
+    else
+        case "$host_cpu" in
+        i?86|x86_64)
+            if test "$_os" = "Darwin" -o "$_os" = "iOS"; then
+                gccvisbroken=no
+            else
+                if $EGREP -q '@PLT|@GOT' visibility.s || test "$ENABLE_LTO" = "TRUE"; then
+                    gccvisbroken=no
+                else
+                    gccvisbroken=yes
+                fi
+            fi
+            ;;
+        *)
+            gccvisbroken=no
+            ;;
+        esac
+    fi
+    rm -f visibility.s visibility.cxx
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gccvisbroken" >&5
+printf "%s\n" "$gccvisbroken" >&6; }
+    if test "$gccvisbroken" = "yes"; then
+        as_fn_error $? "Your gcc is not -fvisibility=hidden safe. This is no longer supported." "$LINENO" 5
+    fi
+
+    CPPFLAGS="$save_CPPFLAGS"
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if CET endbranch is recognized" >&5
+printf %s "checking if CET endbranch is recognized... " >&6; }
+cat > endbr.s <<_ACEOF
+endbr32
+_ACEOF
+    HAVE_ASM_END_BRANCH_INS_SUPPORT=
+    if $CXX -c endbr.s -o endbr.o >/dev/null 2>&5; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        HAVE_ASM_END_BRANCH_INS_SUPPORT=TRUE
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+    rm -f endbr.s endbr.o
+
+
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+HAVE_GCC_FNO_ENFORCE_EH_SPECS=
+if test "$GCC" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports -fno-enforce-eh-specs" >&5
+printf %s "checking whether $CXX_BASE supports -fno-enforce-eh-specs... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CFLAGS -Werror -fno-enforce-eh-specs"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+ return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+   HAVE_GCC_FNO_ENFORCE_EH_SPECS=TRUE
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    if test "$HAVE_GCC_FNO_ENFORCE_EH_SPECS" = "TRUE"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+
+COMPILER_PLUGINS=
+# currently only Clang
+
+if test "$COM_IS_CLANG" != "TRUE"; then
+    if test "$libo_fuzzed_enable_compiler_plugins" = yes -a "$enable_compiler_plugins" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Resetting --enable-compiler-plugins=no" >&5
+printf "%s\n" "$as_me: Resetting --enable-compiler-plugins=no" >&6;}
+        enable_compiler_plugins=no
+    fi
+fi
+
+COMPILER_PLUGINS_COM_IS_CLANG=
+if test "$COM_IS_CLANG" = "TRUE"; then
+    if test -n "$enable_compiler_plugins"; then
+        compiler_plugins="$enable_compiler_plugins"
+    elif test -n "$ENABLE_DBGUTIL"; then
+        compiler_plugins=test
+    else
+        compiler_plugins=no
+    fi
+    if test "$compiler_plugins" != no -a "$my_apple_clang" != yes; then
+        if test "$CLANGVER" -lt 120001; then
+            if test "$compiler_plugins" = yes; then
+                as_fn_error $? "Clang $CLANGVER is too old to build compiler plugins; need >= 12.0.1." "$LINENO" 5
+            else
+                compiler_plugins=no
+            fi
+        fi
+    fi
+    if test "$compiler_plugins" != "no"; then
+                        if test -z "$CLANGDIR"; then
+            CLANGDIR=$(dirname $(dirname $($CXX -print-prog-name=$(basename $(printf '%s\n' $CXX | grep clang | head -n 1)))))
+        fi
+        # Assume Clang is self-built, but allow overriding COMPILER_PLUGINS_CXX to the compiler Clang was built with.
+        if test -z "$COMPILER_PLUGINS_CXX"; then
+            COMPILER_PLUGINS_CXX=$(echo $CXX | sed -e 's/-fsanitize=[^ ]*//g')
+        fi
+        clangbindir=$CLANGDIR/bin
+        if test "$build_os" = "cygwin"; then
+            clangbindir=$(cygpath -u "$clangbindir")
+        fi
+        # Extract the first word of "llvm-config", so it can be a program name with args.
+set dummy llvm-config; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_LLVM_CONFIG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $LLVM_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_LLVM_CONFIG="$LLVM_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in "$clangbindir" $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_LLVM_CONFIG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+LLVM_CONFIG=$ac_cv_path_LLVM_CONFIG
+if test -n "$LLVM_CONFIG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LLVM_CONFIG" >&5
+printf "%s\n" "$LLVM_CONFIG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test -n "$LLVM_CONFIG"; then
+            COMPILER_PLUGINS_CXXFLAGS=$($LLVM_CONFIG --cxxflags)
+            COMPILER_PLUGINS_LINKFLAGS=$($LLVM_CONFIG --ldflags --libs --system-libs | tr '\n' ' ')
+            if test -z "$CLANGLIBDIR"; then
+                CLANGLIBDIR=$($LLVM_CONFIG --libdir)
+            fi
+            # Try if clang is built from source (in which case its includes are not together with llvm includes).
+            # src-root is [llvm-toplevel-src-dir]/llvm, clang is [llvm-toplevel-src-dir]/clang
+            if $LLVM_CONFIG --src-root >/dev/null 2>&1; then
+                clangsrcdir=$(dirname $($LLVM_CONFIG --src-root))
+                if test -n "$clangsrcdir" -a -d "$clangsrcdir" -a -d "$clangsrcdir/clang/include"; then
+                    COMPILER_PLUGINS_CXXFLAGS="$COMPILER_PLUGINS_CXXFLAGS -I$clangsrcdir/clang/include"
+                fi
+            fi
+            # obj-root is [llvm-toplevel-obj-dir]/, clang is [llvm-toplevel-obj-dir]/tools/clang
+            clangobjdir=$($LLVM_CONFIG --obj-root)
+            if test -n "$clangobjdir" -a -d "$clangobjdir" -a -d "$clangobjdir/tools/clang/include"; then
+                COMPILER_PLUGINS_CXXFLAGS="$COMPILER_PLUGINS_CXXFLAGS -I$clangobjdir/tools/clang/include"
+            fi
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: compiler plugins compile flags: $COMPILER_PLUGINS_CXXFLAGS" >&5
+printf "%s\n" "$as_me: compiler plugins compile flags: $COMPILER_PLUGINS_CXXFLAGS" >&6;}
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXX=$CXX
+        save_CXXCPP=$CXXCPP
+        save_CPPFLAGS=$CPPFLAGS
+        save_CXXFLAGS=$CXXFLAGS
+        save_LDFLAGS=$LDFLAGS
+        save_LIBS=$LIBS
+        CXX=$COMPILER_PLUGINS_CXX
+        CXXCPP="$COMPILER_PLUGINS_CXX -E"
+        CPPFLAGS="$COMPILER_PLUGINS_CXXFLAGS"
+        CXXFLAGS="$COMPILER_PLUGINS_CXXFLAGS"
+        ac_fn_cxx_check_header_compile "$LINENO" "clang/Basic/SourceLocation.h" "ac_cv_header_clang_Basic_SourceLocation_h" "$ac_includes_default"
+if test "x$ac_cv_header_clang_Basic_SourceLocation_h" = xyes
+then :
+  COMPILER_PLUGINS=TRUE
+else $as_nop
+
+            if test "$compiler_plugins" = "yes"; then
+                as_fn_error $? "Cannot find Clang headers to build compiler plugins." "$LINENO" 5
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find Clang headers to build compiler plugins, plugins disabled" >&5
+printf "%s\n" "$as_me: WARNING: Cannot find Clang headers to build compiler plugins, plugins disabled" >&2;}
+                add_warning "Cannot find Clang headers to build compiler plugins, plugins disabled."
+            fi
+
+fi
+
+                        if test -n "$COMPILER_PLUGINS" && test "$_os" != "WINNT"; then
+            LDFLAGS=""
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for clang libraries to use" >&5
+printf %s "checking for clang libraries to use... " >&6; }
+            if test -z "$CLANGTOOLLIBS"; then
+                LIBS="-lclang-cpp $COMPILER_PLUGINS_LINKFLAGS"
+                cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+                    #include "clang/Basic/SourceLocation.h"
+int
+main (void)
+{
+ clang::FullSourceLoc().dump();
+  ;
+  return 0;
+}
+
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  CLANGTOOLLIBS="$LIBS"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+            fi
+                                                            if test -z "$CLANGTOOLLIBS"; then
+                LIBS="-lclangTooling -lclangFrontend -lclangDriver -lclangParse -lclangSema -lclangEdit \
+ -lclangAnalysis -lclangAST -lclangLex -lclangSerialization -lclangBasic $COMPILER_PLUGINS_LINKFLAGS"
+                cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+                    #include "clang/Basic/SourceLocation.h"
+int
+main (void)
+{
+ clang::FullSourceLoc().dump();
+  ;
+  return 0;
+}
+
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  CLANGTOOLLIBS="$LIBS"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CLANGTOOLLIBS" >&5
+printf "%s\n" "$CLANGTOOLLIBS" >&6; }
+            if test -z "$CLANGTOOLLIBS"; then
+                if test "$compiler_plugins" = "yes"; then
+                    as_fn_error $? "Cannot find Clang libraries to build compiler plugins." "$LINENO" 5
+                else
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find Clang libraries to build compiler plugins, plugins disabled" >&5
+printf "%s\n" "$as_me: WARNING: Cannot find Clang libraries to build compiler plugins, plugins disabled" >&2;}
+                    add_warning "Cannot find Clang libraries to build compiler plugins, plugins disabled."
+                fi
+                COMPILER_PLUGINS=
+            fi
+            if test -n "$COMPILER_PLUGINS"; then
+                if test -z "$CLANGSYSINCLUDE"; then
+                    if test -n "$LLVM_CONFIG"; then
+                        # Path to the clang system headers (no idea if there's a better way to get it).
+                        CLANGSYSINCLUDE=$($LLVM_CONFIG --libdir)/clang/$($LLVM_CONFIG --version | sed 's/git\|svn//')/include
+                    fi
+                fi
+            fi
+        fi
+        CXX=$save_CXX
+        CXXCPP=$save_CXXCPP
+        CPPFLAGS=$save_CPPFLAGS
+        CXXFLAGS=$save_CXXFLAGS
+        LDFLAGS=$save_LDFLAGS
+        LIBS="$save_LIBS"
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the compiler for building compilerplugins is actually Clang" >&5
+printf %s "checking whether the compiler for building compilerplugins is actually Clang... " >&6; }
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #ifndef __clang__
+            you lose
+            #endif
+            int foo=42;
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+             COMPILER_PLUGINS_COM_IS_CLANG=TRUE
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+
+    fi
+else
+    if test "$enable_compiler_plugins" = "yes"; then
+        as_fn_error $? "Compiler plugins are currently supported only with the Clang compiler." "$LINENO" 5
+    fi
+fi
+COMPILER_PLUGINS_ANALYZER_PCH=
+if test "$enable_compiler_plugins_analyzer_pch" != no; then
+    COMPILER_PLUGINS_ANALYZER_PCH=TRUE
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+
+# Plugin to help linker.
+# Add something like LD_PLUGIN=/usr/lib64/LLVMgold.so to your autogen.input.
+# This makes --enable-lto build with clang work.
+
+
+
+  for ac_func in posix_fallocate
+do :
+  ac_fn_c_check_func "$LINENO" "posix_fallocate" "ac_cv_func_posix_fallocate"
+if test "x$ac_cv_func_posix_fallocate" = xyes
+then :
+  printf "%s\n" "#define HAVE_POSIX_FALLOCATE 1" >>confdefs.h
+ HAVE_POSIX_FALLOCATE=YES
+else $as_nop
+  HAVE_POSIX_FALLOCATE=NO
+fi
+
+done
+
+
+JITC_PROCESSOR_TYPE=""
+if test "$_os" = "Linux" -a "$host_cpu" = "powerpc"; then
+    # IBMs JDK needs this...
+    JITC_PROCESSOR_TYPE=6
+    export JITC_PROCESSOR_TYPE
+fi
+
+
+# Misc Windows Stuff
+
+# Check whether --with-ucrt-dir was given.
+if test ${with_ucrt_dir+y}
+then :
+  withval=$with_ucrt_dir;
+fi
+
+
+UCRT_REDISTDIR="$with_ucrt_dir"
+if test $_os = "WINNT"; then
+    find_msvc_x64_dlls
+    MSVC_DLL_PATH=`win_short_path_for_make "$msvcdllpath"`
+    MSVC_DLLS="$msvcdlls"
+    if echo "$msvcdllpath" | grep -q "VC143.CRT$"; then
+        with_redist=143
+    elif echo "$msvcdllpath" | grep -q "VC142.CRT$"; then
+        with_redist=142
+    elif echo "$msvcdllpath" | grep -q "VC141.CRT$"; then
+        with_redist=141
+    fi
+    for i in $PKGFORMAT; do
+        if test "$i" = msi; then
+            find_msms "$with_redist"
+            if test -n "$msmdir"; then
+                MSM_PATH=`win_short_path_for_make "$msmdir"`
+                SCPDEFS="$SCPDEFS -DWITH_VC_REDIST=$with_redist"
+            fi
+            break
+        fi
+    done
+
+    if test "$UCRT_REDISTDIR" = "no"; then
+                UCRT_REDISTDIR=""
+    else
+        PathFormat "$UCRT_REDISTDIR"
+        UCRT_REDISTDIR="$formatted_path"
+        UCRT_REDISTDIR_unix="$formatted_path_unix"
+        if ! test -f "$UCRT_REDISTDIR_unix/Windows6.1-KB2999226-x64.msu" -a \
+                  -f "$UCRT_REDISTDIR_unix/Windows6.1-KB2999226-x86.msu" -a \
+                  -f "$UCRT_REDISTDIR_unix/Windows8.1-KB2999226-x64.msu" -a \
+                  -f "$UCRT_REDISTDIR_unix/Windows8.1-KB2999226-x86.msu" -a \
+                  -f "$UCRT_REDISTDIR_unix/Windows8-RT-KB2999226-x64.msu" -a \
+                  -f "$UCRT_REDISTDIR_unix/Windows8-RT-KB2999226-x86.msu"; then
+            UCRT_REDISTDIR=""
+            if test -n "$PKGFORMAT"; then
+               for i in $PKGFORMAT; do
+                   case "$i" in
+                   msi)
+                       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --without-ucrt-dir not specified or MSUs not found - installer will have runtime dependency" >&5
+printf "%s\n" "$as_me: WARNING: --without-ucrt-dir not specified or MSUs not found - installer will have runtime dependency" >&2;}
+                       add_warning "--without-ucrt-dir not specified or MSUs not found - installer will have runtime dependency"
+                       ;;
+                   esac
+               done
+            fi
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+if test "$ENABLE_JAVA" != ""; then
+
+    # Windows-specific tests
+    if test "$build_os" = "cygwin" -o -n "$WSL_ONLY_AS_HELPER"; then
+        if test -z "$with_jdk_home"; then
+                                    reg_get_value "$WIN_HOST_BITS" "HKEY_LOCAL_MACHINE/SOFTWARE/JavaSoft/JDK" "CurrentVersion"
+            if test -n "$regvalue"; then
+                ver=$regvalue
+                reg_get_value "$WIN_HOST_BITS" "HKEY_LOCAL_MACHINE/SOFTWARE/JavaSoft/JDK/$ver" "JavaHome"
+                with_jdk_home=$regvalue
+            fi
+            howfound="found automatically"
+        else
+            howfound="you passed"
+        fi
+        PathFormat "$with_jdk_home"
+        with_jdk_home="$formatted_path_unix"
+
+        if ! test -f "$with_jdk_home/lib/jvm.lib" -a -f "$with_jdk_home/bin/java.exe"; then
+            as_fn_error $? "No JDK found, pass the --with-jdk-home option (or fix the path) pointing to a $WIN_HOST_BITS-bit JDK >= 8" "$LINENO" 5
+        fi
+        with_java="java.exe"
+        javacompiler="javac.exe"
+        javadoc="javadoc.exe"
+    fi
+
+    # macOS: /usr/libexec/java_home helps to set the current JDK_HOME. Actually JDK_HOME should NOT be set where java (/usr/bin/java) is located.
+    # /usr/bin/java -> /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java, but /usr does not contain the JDK libraries
+    if test -z "$with_jdk_home" -a "$_os" = "Darwin" -a -x /usr/libexec/java_home; then
+        with_jdk_home=`/usr/libexec/java_home`
+    fi
+
+    JAVA_HOME=; export JAVA_HOME
+    if test -z "$with_jdk_home"; then
+        # Extract the first word of "$with_java", so it can be a program name with args.
+set dummy $with_java; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_JAVAINTERPRETER+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $JAVAINTERPRETER in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_JAVAINTERPRETER="$JAVAINTERPRETER" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_JAVAINTERPRETER="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+JAVAINTERPRETER=$ac_cv_path_JAVAINTERPRETER
+if test -n "$JAVAINTERPRETER"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $JAVAINTERPRETER" >&5
+printf "%s\n" "$JAVAINTERPRETER" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    else
+        _java_path="$with_jdk_home/bin/$with_java"
+                if test -x "$_java_path"; then
+            JAVAINTERPRETER=$_java_path
+        else
+            as_fn_error $? "$_java_path not found, pass --with-jdk-home" "$LINENO" 5
+        fi
+    fi
+
+                if test "$build_os" = "cygwin" -a "$cross_compiling" != "yes"; then
+        shortjdkhome=`cygpath -d "$with_jdk_home"`
+        if test $WIN_HOST_BITS -eq 64 -a -f "$with_jdk_home/bin/java.exe" -a "`$shortjdkhome/bin/java.exe -version 2>&1 | $GREP -i 64-bit`" = "" >/dev/null; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: You are building 64-bit binaries but the JDK $howfound is 32-bit" >&5
+printf "%s\n" "$as_me: WARNING: You are building 64-bit binaries but the JDK $howfound is 32-bit" >&2;}
+            as_fn_error $? "You should pass the --with-jdk-home option pointing to a 64-bit JDK" "$LINENO" 5
+        elif test $WIN_HOST_BITS -eq 32 -a -f "$with_jdk_home/bin/java.exe" -a "`$shortjdkhome/bin/java.exe -version 2>&1 | $GREP -i 64-bit`" != ""  >/dev/null; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: You are building 32-bit binaries but the JDK $howfound is 64-bit" >&5
+printf "%s\n" "$as_me: WARNING: You are building 32-bit binaries but the JDK $howfound is 64-bit" >&2;}
+            as_fn_error $? "You should pass the --with-jdk-home option pointing to a (32-bit) JDK" "$LINENO" 5
+        fi
+
+        if test x`echo "$JAVAINTERPRETER" | $GREP -i '\.exe$'` = x; then
+            JAVAINTERPRETER="${JAVAINTERPRETER}.exe"
+        fi
+        JAVAINTERPRETER=`win_short_path_for_make "$JAVAINTERPRETER"`
+    elif test "$cross_compiling" != "yes"; then
+        case $CPUNAME in
+            AARCH64|AXP|X86_64|IA64|POWERPC64|S390X|SPARC64|MIPS64|RISCV64|LOONGARCH64)
+                if test -f "$JAVAINTERPRETER" -a "`$JAVAINTERPRETER -version 2>&1 | $GREP -i 64-bit`" = "" >/dev/null; then
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: You are building 64-bit binaries but the JDK $JAVAINTERPRETER is 32-bit" >&5
+printf "%s\n" "$as_me: WARNING: You are building 64-bit binaries but the JDK $JAVAINTERPRETER is 32-bit" >&2;}
+                    as_fn_error $? "You should pass the --with-jdk-home option pointing to a 64-bit JDK" "$LINENO" 5
+                fi
+                ;;
+            *) # assumption: everything else 32-bit
+                if test -f "$JAVAINTERPRETER" -a "`$JAVAINTERPRETER -version 2>&1 | $GREP -i 64-bit`" != ""  >/dev/null; then
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: You are building 32-bit binaries but the JDK $howfound is 64-bit" >&5
+printf "%s\n" "$as_me: WARNING: You are building 32-bit binaries but the JDK $howfound is 64-bit" >&2;}
+                    as_fn_error $? "You should pass the --with-jdk-home option pointing to a (32-bit) JDK" "$LINENO" 5
+                fi
+                ;;
+        esac
+    fi
+fi
+
+
+# Whether all the complexity here actually is needed any more or not, no idea.
+
+JDK_SECURITYMANAGER_DISALLOWED=
+MODULAR_JAVA=
+if test "$ENABLE_JAVA" != "" -a "$cross_compiling" != "yes"; then
+    _gij_longver=0
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the installed JDK" >&5
+printf %s "checking the installed JDK... " >&6; }
+    if test -n "$JAVAINTERPRETER"; then
+                if test `$JAVAINTERPRETER -version 2>&1 | $GREP -c "Kaffe"` -gt 0; then
+            as_fn_error $? "No valid check available. Please check the block for your desired java in configure.ac" "$LINENO" 5
+        elif test `$JAVAINTERPRETER --version 2>&1 | $GREP -c "GNU libgcj"` -gt 0; then
+            as_fn_error $? "No valid check available. Please check the block for your desired java in configure.ac" "$LINENO" 5
+        elif test `$JAVAINTERPRETER -version 2>&1 | $AWK '{ print }' | $GREP -c "BEA"` -gt 0; then
+            as_fn_error $? "No valid check available. Please check the block for your desired java in configure.ac" "$LINENO" 5
+        elif test `$JAVAINTERPRETER -version 2>&1 | $AWK '{ print }' | $GREP -c "IBM"` -gt 0; then
+            as_fn_error $? "No valid check available. Please check the block for your desired java in configure.ac" "$LINENO" 5
+        else
+            JDK=sun
+
+                        _jdk=`$JAVAINTERPRETER -version 2>&1 | $AWK -F'"' '{ print \$2 }' | $SED '/^$/d' | $SED s/[-A-Za-z]*//`
+            _jdk_ver=`echo "$_jdk" | $AWK -F. '{ print (($1 * 100) + $2) * 100 + $3;}'`
+
+            if test "$_jdk_ver" -lt 10800; then
+                as_fn_error $? "JDK is too old, you need at least 8 ($_jdk_ver < 10800)" "$LINENO" 5
+            fi
+                                                if test "$_jdk_ver" -ge 180000; then
+                JDK_SECURITYMANAGER_DISALLOWED=TRUE
+            fi
+
+            JAVA_HOME=`echo $JAVAINTERPRETER | $SED -n "s,//*bin//*java,,p"`
+            if test "$_os" = "WINNT"; then
+                JAVA_HOME=`echo $JAVA_HOME | $SED "s,\.[eE][xX][eE]$,,"`
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $JAVA_HOME (JDK $_jdk)" >&5
+printf "%s\n" "found $JAVA_HOME (JDK $_jdk)" >&6; }
+
+                        if test "$_jdk_ver" -ge 90000; then
+                MODULAR_JAVA=TRUE
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Modular jars will not be built. They need at least Java 9 ($_jdk_ver < 90000)" >&5
+printf "%s\n" "$as_me: WARNING: Modular jars will not be built. They need at least Java 9 ($_jdk_ver < 90000)" >&2;}
+                add_warning "Modular jars will not be built. They need at least Java 9 ($_jdk_ver < 90000)"
+            fi
+
+            # set to limit VM usage for JunitTests
+            JAVAIFLAGS=-Xmx64M
+            # set to limit VM usage for javac
+            JAVACFLAGS=-J-Xmx128M
+        fi
+    else
+        as_fn_error $? "Java not found. You need at least JDK 8" "$LINENO" 5
+    fi
+else
+    if test -z "$ENABLE_JAVA"; then
+                JAVA_HOME=
+        export JAVA_HOME
+    elif test "$cross_compiling" = "yes"; then
+        # Just assume compatibility of build and host JDK
+        JDK=$JDK_FOR_BUILD
+        JAVAIFLAGS=$JAVAIFLAGS_FOR_BUILD
+    fi
+fi
+
+if test "$ENABLE_JAVA" != "" -a "$cross_compiling" != "yes"; then
+    : ${JAVA_SOURCE_VER=8}
+    : ${JAVA_TARGET_VER=8}
+    if test -z "$with_jdk_home"; then
+        # Extract the first word of "$javacompiler", so it can be a program name with args.
+set dummy $javacompiler; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_JAVACOMPILER+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $JAVACOMPILER in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_JAVACOMPILER="$JAVACOMPILER" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_JAVACOMPILER="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+JAVACOMPILER=$ac_cv_path_JAVACOMPILER
+if test -n "$JAVACOMPILER"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $JAVACOMPILER" >&5
+printf "%s\n" "$JAVACOMPILER" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    else
+        _javac_path="$with_jdk_home/bin/$javacompiler"
+                if test -x "$_javac_path"; then
+            JAVACOMPILER=$_javac_path
+        fi
+    fi
+    if test -z "$JAVACOMPILER"; then
+        as_fn_error $? "$javacompiler not found set with_jdk_home" "$LINENO" 5
+    fi
+    if test "$build_os" = "cygwin"; then
+        if test x`echo "$JAVACOMPILER" | $GREP -i '\.exe$'` = x; then
+            JAVACOMPILER="${JAVACOMPILER}.exe"
+        fi
+        JAVACOMPILER=`win_short_path_for_make "$JAVACOMPILER"`
+    fi
+fi
+
+if test "$ENABLE_JAVA" != "" -a "$cross_compiling" != "yes"; then
+    if test -z "$with_jdk_home"; then
+        # Extract the first word of "$javadoc", so it can be a program name with args.
+set dummy $javadoc; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_JAVADOC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $JAVADOC in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_JAVADOC="$JAVADOC" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_JAVADOC="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+JAVADOC=$ac_cv_path_JAVADOC
+if test -n "$JAVADOC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $JAVADOC" >&5
+printf "%s\n" "$JAVADOC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    else
+        _javadoc_path="$with_jdk_home/bin/$javadoc"
+                if test -x "$_javadoc_path"; then
+            JAVADOC=$_javadoc_path
+        else
+            # Extract the first word of "$javadoc", so it can be a program name with args.
+set dummy $javadoc; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_JAVADOC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $JAVADOC in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_JAVADOC="$JAVADOC" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_JAVADOC="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+JAVADOC=$ac_cv_path_JAVADOC
+if test -n "$JAVADOC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $JAVADOC" >&5
+printf "%s\n" "$JAVADOC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        fi
+    fi
+    if test -z "$JAVADOC"; then
+        as_fn_error $? "$_javadoc_path not found set with_jdk_home" "$LINENO" 5
+    fi
+    if test "$build_os" = "cygwin"; then
+        if test x`echo "$JAVADOC" | $GREP -i '\.exe$'` = x; then
+            JAVADOC="${JAVADOC}.exe"
+        fi
+        JAVADOC=`win_short_path_for_make "$JAVADOC"`
+    fi
+
+    if test `$JAVADOC --version 2>&1 | $GREP -c "gjdoc"` -gt 0; then
+    JAVADOCISGJDOC="yes"
+    fi
+fi
+
+
+
+if test "$ENABLE_JAVA" != "" -a \( "$cross_compiling" != "yes" -o -n "$with_jdk_home" \); then
+    # check if JAVA_HOME was (maybe incorrectly?) set automatically to /usr
+    if test "$JAVA_HOME" = "/usr" -a "x$with_jdk_home" = "x"; then
+        if basename $(readlink $(readlink $JAVACOMPILER)) >/dev/null 2>/dev/null; then
+           # try to recover first by looking whether we have an alternative
+           # system as in Debian or newer SuSEs where following /usr/bin/javac
+           # over /etc/alternatives/javac leads to the right bindir where we
+           # just need to strip a bit away to get a valid JAVA_HOME
+           JAVA_HOME=$(readlink $(readlink $JAVACOMPILER))
+        elif readlink $JAVACOMPILER >/dev/null 2>/dev/null; then
+            # maybe only one level of symlink (e.g. on Mac)
+            JAVA_HOME=$(readlink $JAVACOMPILER)
+            if test "$(dirname $JAVA_HOME)" = "."; then
+                # we've got no path to trim back
+                JAVA_HOME=""
+            fi
+        else
+            # else warn
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: JAVA_HOME is set to /usr - this is very likely to be incorrect" >&5
+printf "%s\n" "$as_me: WARNING: JAVA_HOME is set to /usr - this is very likely to be incorrect" >&2;}
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: if this is the case, please inform the correct JAVA_HOME with --with-jdk-home" >&5
+printf "%s\n" "$as_me: WARNING: if this is the case, please inform the correct JAVA_HOME with --with-jdk-home" >&2;}
+            add_warning "JAVA_HOME is set to /usr - this is very likely to be incorrect"
+            add_warning "if this is the case, please inform the correct JAVA_HOME with --with-jdk-home"
+        fi
+                if test "$JAVA_HOME" != "/usr"; then
+            if test "$_os" = "Darwin" -o "$OS_FOR_BUILD" = MACOSX; then
+                                JAVA_HOME=$(echo $JAVA_HOME | $SED -e s,/Current/Commands/javac$,/CurrentJDK/Home,)
+                                JAVA_HOME=$(echo $JAVA_HOME | $SED -e s,/CurrentJDK/Commands/javac$,/CurrentJDK/Home,)
+            else
+                JAVA_HOME=$(echo $JAVA_HOME | $SED -e s,/bin/javac$,,)
+                                                if test -f "$JAVA_HOME"; then
+                    JAVA_HOME=""; # set JAVA_HOME to null if it's a file
+                fi
+            fi
+        fi
+    fi
+    # as we drop out of this, JAVA_HOME may have been set to the empty string by readlink
+
+        if test -z "$JAVA_HOME"; then
+        if test "x$with_jdk_home" = "x"; then
+            cat > findhome.java <<_ACEOF
+import java.io.File;
+
+class findhome
+{
+    public static void main(String args[])
+    {
+        String jrelocation = System.getProperty("java.home");
+        File jre = new File(jrelocation);
+        System.out.println(jre.getParent());
+    }
+}
+_ACEOF
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if javac works" >&5
+printf %s "checking if javac works... " >&6; }
+            javac_cmd="$JAVACOMPILER findhome.java 1>&2"
+            { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$javac_cmd\""; } >&5
+  (eval $javac_cmd) 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }
+            if test $? = 0 -a -f ./findhome.class; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: javac works" >&5
+printf "%s\n" "javac works" >&6; }
+            else
+                echo "configure: javac test failed" >&5
+                cat findhome.java >&5
+                as_fn_error $? "javac does not work - java projects will not build!" "$LINENO" 5
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gij knows its java.home" >&5
+printf %s "checking if gij knows its java.home... " >&6; }
+            JAVA_HOME=`$JAVAINTERPRETER findhome`
+            if test $? = 0 -a "$JAVA_HOME" != ""; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $JAVA_HOME" >&5
+printf "%s\n" "$JAVA_HOME" >&6; }
+            else
+                echo "configure: java test failed" >&5
+                cat findhome.java >&5
+                as_fn_error $? "gij does not know its java.home - use --with-jdk-home" "$LINENO" 5
+            fi
+            # clean-up after ourselves
+            rm -f ./findhome.java ./findhome.class
+        else
+            JAVA_HOME=`echo $JAVAINTERPRETER | $SED -n "s,//*bin//*$with_java,,p"`
+        fi
+    fi
+
+    # now check if $JAVA_HOME is really valid
+    if test "$_os" = "Darwin" -o "$OS_FOR_BUILD" = MACOSX; then
+        if test ! -f "$JAVA_HOME/lib/jvm.cfg" -a "x$with_jdk_home" = "x"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: JAVA_HOME was not explicitly informed with --with-jdk-home. the configure script" >&5
+printf "%s\n" "$as_me: WARNING: JAVA_HOME was not explicitly informed with --with-jdk-home. the configure script" >&2;}
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: attempted to find JAVA_HOME automatically, but apparently it failed" >&5
+printf "%s\n" "$as_me: WARNING: attempted to find JAVA_HOME automatically, but apparently it failed" >&2;}
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: in case JAVA_HOME is incorrectly set, some projects will not be built correctly" >&5
+printf "%s\n" "$as_me: WARNING: in case JAVA_HOME is incorrectly set, some projects will not be built correctly" >&2;}
+            add_warning "JAVA_HOME was not explicitly informed with --with-jdk-home. the configure script"
+            add_warning "attempted to find JAVA_HOME automatically, but apparently it failed"
+            add_warning "in case JAVA_HOME is incorrectly set, some projects will not be built correctly"
+        fi
+    fi
+    PathFormat "$JAVA_HOME"
+    JAVA_HOME="$formatted_path_unix"
+fi
+
+if test -z "$JAWTLIB" -a -n "$ENABLE_JAVA" -a "$_os" != Android -a \
+    "$_os" != Darwin
+then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for JAWT lib" >&5
+printf %s "checking for JAWT lib... " >&6; }
+    if test "$_os" = WINNT; then
+        # The path to $JAVA_HOME/lib/$JAWTLIB is part of $ILIB:
+        JAWTLIB=jawt.lib
+    else
+        case "$host_cpu" in
+        arm*)
+            if test -e "$JAVA_HOME/jre/lib/aarch32/libjawt.so"
+then :
+  my_java_arch=aarch32
+else $as_nop
+  my_java_arch=arm
+fi
+            JAVA_ARCH=$my_java_arch
+            ;;
+        i*86)
+            my_java_arch=i386
+            ;;
+        m68k)
+            my_java_arch=m68k
+            ;;
+        powerpc)
+            my_java_arch=ppc
+            ;;
+        powerpc64)
+            my_java_arch=ppc64
+            ;;
+        powerpc64le)
+            if test -e "$JAVA_HOME/jre/lib/ppc64le/libjawt.so"
+then :
+  my_java_arch=ppc64le
+else $as_nop
+  my_java_arch=ppc64
+fi
+            JAVA_ARCH=$my_java_arch
+            ;;
+        sparc64)
+            my_java_arch=sparcv9
+            ;;
+        x86_64)
+            my_java_arch=amd64
+            ;;
+        *)
+            my_java_arch=$host_cpu
+            ;;
+        esac
+        # This is where JDK9 puts the library
+        if test -e "$JAVA_HOME/lib/libjawt.so"; then
+            JAWTLIB="-L$JAVA_HOME/lib/ -ljawt"
+        else
+            JAWTLIB="-L$JAVA_HOME/jre/lib/$my_java_arch -ljawt"
+        fi
+        if test "$JAVA_ARCH" != ""
+then :
+  printf "%s\n" "#define JAVA_ARCH \"$JAVA_ARCH\"" >>confdefs.h
+
+fi
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $JAWTLIB" >&5
+printf "%s\n" "$JAWTLIB" >&6; }
+fi
+
+
+if test -n "$ENABLE_JAVA" -a -z "$JAVAINC"; then
+    case "$host_os" in
+
+    cygwin*|wsl*)
+        JAVAINC="-I$JAVA_HOME/include/win32"
+        JAVAINC="$JAVAINC -I$JAVA_HOME/include"
+        ;;
+
+    darwin*)
+        if test -d "$JAVA_HOME/include/darwin"; then
+            JAVAINC="-I$JAVA_HOME/include  -I$JAVA_HOME/include/darwin"
+        else
+            JAVAINC=${ISYSTEM}$FRAMEWORKSHOME/JavaVM.framework/Versions/Current/Headers
+        fi
+        ;;
+
+    dragonfly*)
+        JAVAINC="-I$JAVA_HOME/include"
+        test -d "$JAVA_HOME/include/native_thread" && JAVAINC="$JAVAINC -I$JAVA_HOME/include/native_thread"
+        ;;
+
+    freebsd*)
+        JAVAINC="-I$JAVA_HOME/include"
+        JAVAINC="$JAVAINC -I$JAVA_HOME/include/freebsd"
+        JAVAINC="$JAVAINC -I$JAVA_HOME/include/bsd"
+        JAVAINC="$JAVAINC -I$JAVA_HOME/include/linux"
+        test -d "$JAVA_HOME/include/native_thread" && JAVAINC="$JAVAINC -I$JAVA_HOME/include/native_thread"
+        ;;
+
+    k*bsd*-gnu*)
+        JAVAINC="-I$JAVA_HOME/include"
+        JAVAINC="$JAVAINC -I$JAVA_HOME/include/linux"
+        test -d "$JAVA_HOME/include/native_thread" && JAVAINC="$JAVAINC -I$JAVA_HOME/include/native_thread"
+        ;;
+
+    linux-gnu*)
+        JAVAINC="-I$JAVA_HOME/include"
+        JAVAINC="$JAVAINC -I$JAVA_HOME/include/linux"
+        test -d "$JAVA_HOME/include/native_thread" && JAVAINC="$JAVAINC -I$JAVA_HOME/include/native_thread"
+        ;;
+
+    *netbsd*)
+        JAVAINC="-I$JAVA_HOME/include"
+        JAVAINC="$JAVAINC -I$JAVA_HOME/include/netbsd"
+        test -d "$JAVA_HOME/include/native_thread" && JAVAINC="$JAVAINC -I$JAVA_HOME/include/native_thread"
+       ;;
+
+    openbsd*)
+        JAVAINC="-I$JAVA_HOME/include"
+        JAVAINC="$JAVAINC -I$JAVA_HOME/include/openbsd"
+        test -d "$JAVA_HOME/include/native_thread" && JAVAINC="$JAVAINC -I$JAVA_HOME/include/native_thread"
+        ;;
+
+    solaris*)
+        JAVAINC="-I$JAVA_HOME/include"
+        JAVAINC="$JAVAINC -I$JAVA_HOME/include/solaris"
+        test -d "$JAVA_HOME/include/native_thread" && JAVAINC="$JAVAINC -I$JAVA_HOME/include/native_thread"
+        ;;
+    esac
+fi
+SOLARINC="$SOLARINC $JAVAINC"
+
+if test "$ENABLE_JAVA" != "" -a "$cross_compiling" != "yes"; then
+    JAVA_HOME_FOR_BUILD=$JAVA_HOME
+    JAVAIFLAGS_FOR_BUILD=$JAVAIFLAGS
+    JDK_FOR_BUILD=$JDK
+    JDK_SECURITYMANAGER_DISALLOWED_FOR_BUILD=$JDK_SECURITYMANAGER_DISALLOWED
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable export file validation" >&5
+printf %s "checking whether to enable export file validation... " >&6; }
+if test "$with_export_validation" != "no"; then
+    if test -z "$ENABLE_JAVA"; then
+        if test "$with_export_validation" = "yes"; then
+            as_fn_error $? "requested, but Java is disabled" "$LINENO" 5
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, as Java is disabled" >&5
+printf "%s\n" "no, as Java is disabled" >&6; }
+        fi
+    elif ! test -d "${SRC_ROOT}/schema"; then
+        if test "$with_export_validation" = "yes"; then
+            as_fn_error $? "requested, but schema directory is missing (it is excluded from tarballs)" "$LINENO" 5
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, schema directory is missing (it is excluded from tarballs)" >&5
+printf "%s\n" "no, schema directory is missing (it is excluded from tarballs)" >&6; }
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        printf "%s\n" "#define HAVE_EXPORT_VALIDATION 1" >>confdefs.h
+
+
+        for ac_prog in odfvalidator
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_ODFVALIDATOR+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $ODFVALIDATOR in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ODFVALIDATOR="$ODFVALIDATOR" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_ODFVALIDATOR="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ODFVALIDATOR=$ac_cv_path_ODFVALIDATOR
+if test -n "$ODFVALIDATOR"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ODFVALIDATOR" >&5
+printf "%s\n" "$ODFVALIDATOR" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ODFVALIDATOR" && break
+done
+
+        if test -z "$ODFVALIDATOR"; then
+            # remember to download the ODF toolkit with validator later
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: no odfvalidator found, will download it" >&5
+printf "%s\n" "$as_me: no odfvalidator found, will download it" >&6;}
+            BUILD_TYPE="$BUILD_TYPE ODFVALIDATOR"
+            ODFVALIDATOR="$BUILDDIR/bin/odfvalidator.sh"
+
+            # and fetch name of odfvalidator jar name from download.lst
+            ODFVALIDATOR_JAR=`$SED -n -e "s/^ODFVALIDATOR_JAR *:= *\(.*\) */\1/p" $SRC_ROOT/download.lst`
+
+
+            if test -z "$ODFVALIDATOR_JAR"; then
+                as_fn_error $? "cannot determine odfvalidator jar location (--with-export-validation)" "$LINENO" 5
+            fi
+        fi
+        if test "$build_os" = "cygwin"; then
+            # In case of Cygwin it will be executed from Windows,
+            # so we need to run bash and absolute path to validator
+            # so instead of "odfvalidator" it will be
+            # something like "bash.exe C:\cygwin\opt\lo\bin\odfvalidator"
+            ODFVALIDATOR="bash.exe `cygpath -m "$ODFVALIDATOR"`"
+        else
+            ODFVALIDATOR="sh $ODFVALIDATOR"
+        fi
+
+
+
+        for ac_prog in officeotron
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_OFFICEOTRON+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $OFFICEOTRON in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_OFFICEOTRON="$OFFICEOTRON" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_OFFICEOTRON="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+OFFICEOTRON=$ac_cv_path_OFFICEOTRON
+if test -n "$OFFICEOTRON"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $OFFICEOTRON" >&5
+printf "%s\n" "$OFFICEOTRON" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$OFFICEOTRON" && break
+done
+
+        if test -z "$OFFICEOTRON"; then
+            # remember to download the officeotron with validator later
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: no officeotron found, will download it" >&5
+printf "%s\n" "$as_me: no officeotron found, will download it" >&6;}
+            BUILD_TYPE="$BUILD_TYPE OFFICEOTRON"
+            OFFICEOTRON="$BUILDDIR/bin/officeotron.sh"
+
+            # and fetch name of officeotron jar name from download.lst
+            OFFICEOTRON_JAR=`$SED -n -e "s/^OFFICEOTRON_JAR *:= *\(.*\) */\1/p" $SRC_ROOT/download.lst`
+
+
+            if test -z "$OFFICEOTRON_JAR"; then
+                as_fn_error $? "cannot determine officeotron jar location (--with-export-validation)" "$LINENO" 5
+            fi
+        else
+            # check version of existing officeotron
+            OFFICEOTRON_VER=`$OFFICEOTRON --version | $AWK -F. '{ print \$1*10000+\$2*100+\$3 }'`
+            if test 0"$OFFICEOTRON_VER" -lt 704; then
+                as_fn_error $? "officeotron too old" "$LINENO" 5
+            fi
+        fi
+        if test "$build_os" = "cygwin"; then
+            # In case of Cygwin it will be executed from Windows,
+            # so we need to run bash and absolute path to validator
+            # so instead of "odfvalidator" it will be
+            # something like "bash.exe C:\cygwin\opt\lo\bin\odfvalidator"
+            OFFICEOTRON="bash.exe `cygpath -m "$OFFICEOTRON"`"
+        else
+            OFFICEOTRON="sh $OFFICEOTRON"
+        fi
+    fi
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Microsoft Binary File Format Validator" >&5
+printf %s "checking for Microsoft Binary File Format Validator... " >&6; }
+if test "$with_bffvalidator" != "no"; then
+    printf "%s\n" "#define HAVE_BFFVALIDATOR 1" >>confdefs.h
+
+
+    if test "$with_export_validation" = "no"; then
+        as_fn_error $? "Please enable export validation (-with-export-validation)!" "$LINENO" 5
+    fi
+
+    if test "$with_bffvalidator" = "yes"; then
+        BFFVALIDATOR=`win_short_path_for_make "$PROGRAMFILES/Microsoft Office/BFFValidator/BFFValidator.exe"`
+    else
+        BFFVALIDATOR="$with_bffvalidator"
+    fi
+
+    if test "$build_os" = "cygwin"; then
+        if test -n "$BFFVALIDATOR" -a -e "`cygpath $BFFVALIDATOR`"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $BFFVALIDATOR" >&5
+printf "%s\n" "$BFFVALIDATOR" >&6; }
+        else
+            as_fn_error $? "bffvalidator not found, but required by --with-bffvalidator" "$LINENO" 5
+        fi
+    elif test -n "$BFFVALIDATOR"; then
+        # We are not in Cygwin but need to run Windows binary with wine
+        for ac_prog in wine
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_WINE+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $WINE in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_WINE="$WINE" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_WINE="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+WINE=$ac_cv_path_WINE
+if test -n "$WINE"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $WINE" >&5
+printf "%s\n" "$WINE" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$WINE" && break
+done
+
+
+        # so swap in a shell wrapper that converts paths transparently
+        BFFVALIDATOR_EXE="$BFFVALIDATOR"
+        BFFVALIDATOR="sh $BUILDDIR/bin/bffvalidator.sh"
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $BFFVALIDATOR" >&5
+printf "%s\n" "$BFFVALIDATOR" >&6; }
+    else
+        as_fn_error $? "bffvalidator not found, but required by --with-bffvalidator" "$LINENO" 5
+    fi
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable EPM for packing" >&5
+printf %s "checking whether to enable EPM for packing... " >&6; }
+if test "$enable_epm" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    if test "$_os" != "WINNT"; then
+        if test $_os = Darwin; then
+            EPM=internal
+        elif test -n "$with_epm"; then
+            EPM=$with_epm
+        else
+            # Extract the first word of "epm", so it can be a program name with args.
+set dummy epm; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_EPM+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $EPM in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_EPM="$EPM" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_EPM="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_EPM" && ac_cv_path_EPM="no"
+  ;;
+esac
+fi
+EPM=$ac_cv_path_EPM
+if test -n "$EPM"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $EPM" >&5
+printf "%s\n" "$EPM" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        fi
+        if test "$EPM" = "no" -o "$EPM" = "internal"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: EPM will be built." >&5
+printf "%s\n" "$as_me: EPM will be built." >&6;}
+            BUILD_TYPE="$BUILD_TYPE EPM"
+            EPM=${WORKDIR}/UnpackedTarball/epm/epm
+        else
+            # Gentoo has some epm which is something different...
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the found epm is the right epm" >&5
+printf %s "checking whether the found epm is the right epm... " >&6; }
+            if $EPM | grep "ESP Package Manager" >/dev/null 2>/dev/null; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+            else
+                as_fn_error $? "no. Install ESP Package Manager (https://jimjag.github.io/epm/) and/or specify the path to the right epm" "$LINENO" 5
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking epm version" >&5
+printf %s "checking epm version... " >&6; }
+            EPM_VERSION=`$EPM | grep 'ESP Package Manager' | cut -d' ' -f4 | $SED -e s/v//`
+            if test "`echo $EPM_VERSION | cut -d'.' -f1`" -gt "3" || \
+               test "`echo $EPM_VERSION | cut -d'.' -f1`" -eq "3" -a "`echo $EPM_VERSION | cut -d'.' -f2`" -ge "7"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: OK, >= 3.7" >&5
+printf "%s\n" "OK, >= 3.7" >&6; }
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: too old. epm >= 3.7 is required." >&5
+printf "%s\n" "too old. epm >= 3.7 is required." >&6; }
+                as_fn_error $? "Install ESP Package Manager (https://jimjag.github.io/epm/) and/or specify the path to the right epm" "$LINENO" 5
+            fi
+        fi
+    fi
+
+    if echo "$PKGFORMAT" | $EGREP rpm 2>&1 >/dev/null; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for rpm" >&5
+printf %s "checking for rpm... " >&6; }
+        for a in "$RPM" rpmbuild rpm; do
+            $a --usage >/dev/null 2> /dev/null
+            if test $? -eq 0; then
+                RPM=$a
+                break
+            else
+                $a --version >/dev/null 2> /dev/null
+                if test $? -eq 0; then
+                    RPM=$a
+                    break
+                fi
+            fi
+        done
+        if test -z "$RPM"; then
+            as_fn_error $? "not found" "$LINENO" 5
+        elif "$RPM" --help 2>&1 | $EGREP buildroot >/dev/null; then
+            RPM_PATH=`command -v $RPM`
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $RPM_PATH" >&5
+printf "%s\n" "$RPM_PATH" >&6; }
+            SCPDEFS="$SCPDEFS -DWITH_RPM"
+        else
+            as_fn_error $? "cannot build packages. Try installing rpmbuild." "$LINENO" 5
+        fi
+    fi
+    if echo "$PKGFORMAT" | $EGREP deb 2>&1 >/dev/null; then
+        # Extract the first word of "dpkg", so it can be a program name with args.
+set dummy dpkg; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_DPKG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $DPKG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_DPKG="$DPKG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_DPKG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_DPKG" && ac_cv_path_DPKG="no"
+  ;;
+esac
+fi
+DPKG=$ac_cv_path_DPKG
+if test -n "$DPKG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $DPKG" >&5
+printf "%s\n" "$DPKG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test "$DPKG" = "no"; then
+            as_fn_error $? "dpkg needed for deb creation. Install dpkg." "$LINENO" 5
+        fi
+    fi
+    if echo "$PKGFORMAT" | $EGREP rpm 2>&1 >/dev/null || \
+       echo "$PKGFORMAT" | $EGREP pkg 2>&1 >/dev/null; then
+        if test "$with_epm" = "no" -a "$_os" != "Darwin"; then
+            if test "`echo $EPM_VERSION | cut -d'.' -f1`" -lt "4"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether epm is patched for LibreOffice's needs" >&5
+printf %s "checking whether epm is patched for LibreOffice's needs... " >&6; }
+                if grep "Patched for .*Office" $EPM >/dev/null 2>/dev/null; then
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+                else
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+                    if echo "$PKGFORMAT" | $GREP -q rpm; then
+                        _pt="rpm"
+                        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: the rpms will need to be installed with --nodeps" >&5
+printf "%s\n" "$as_me: WARNING: the rpms will need to be installed with --nodeps" >&2;}
+                        add_warning "the rpms will need to be installed with --nodeps"
+                    else
+                        _pt="pkg"
+                    fi
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: the ${_pt}s will not be relocatable" >&5
+printf "%s\n" "$as_me: WARNING: the ${_pt}s will not be relocatable" >&2;}
+                    add_warning "the ${_pt}s will not be relocatable"
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: if you want to make sure installation without --nodeps and
+                                 relocation will work, you need to patch your epm with the
+                                 patch in epm/epm-3.7.patch or build with
+                                 --with-epm=internal which will build a suitable epm" >&5
+printf "%s\n" "$as_me: WARNING: if you want to make sure installation without --nodeps and
+                                 relocation will work, you need to patch your epm with the
+                                 patch in epm/epm-3.7.patch or build with
+                                 --with-epm=internal which will build a suitable epm" >&2;}
+                fi
+            fi
+        fi
+    fi
+    if echo "$PKGFORMAT" | $EGREP pkg 2>&1 >/dev/null; then
+        # Extract the first word of "pkgmk", so it can be a program name with args.
+set dummy pkgmk; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_PKGMK+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $PKGMK in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PKGMK="$PKGMK" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_PKGMK="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_PKGMK" && ac_cv_path_PKGMK="no"
+  ;;
+esac
+fi
+PKGMK=$ac_cv_path_PKGMK
+if test -n "$PKGMK"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PKGMK" >&5
+printf "%s\n" "$PKGMK" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test "$PKGMK" = "no"; then
+            as_fn_error $? "pkgmk needed for Solaris pkg creation. Install it." "$LINENO" 5
+        fi
+    fi
+
+
+
+else
+    for i in $PKGFORMAT; do
+        case "$i" in
+        bsd | deb | pkg | rpm | native | portable)
+            as_fn_error $? "--with-package-format='$PKGFORMAT' requires --enable-epm" "$LINENO" 5
+            ;;
+        esac
+    done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    EPM=NO
+fi
+
+
+ENABLE_LWP=
+if test "$enable_lotuswordpro" = "yes"; then
+    ENABLE_LWP="TRUE"
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build the ODK" >&5
+printf %s "checking whether to build the ODK... " >&6; }
+if test "$enable_odk" = yes; then
+    if test "$DISABLE_DYNLOADING" = TRUE; then
+        as_fn_error $? "can't build ODK for --disable-dynamic-loading builds" "$LINENO" 5
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    BUILD_TYPE="$BUILD_TYPE ODK"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+if test "$enable_odk" != yes; then
+    unset DOXYGEN
+else
+    if test "$with_doxygen" = no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for doxygen" >&5
+printf %s "checking for doxygen... " >&6; }
+        unset DOXYGEN
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    else
+        if test "$with_doxygen" = yes; then
+            # Extract the first word of "doxygen", so it can be a program name with args.
+set dummy doxygen; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_DOXYGEN+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $DOXYGEN in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_DOXYGEN="$DOXYGEN" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_DOXYGEN="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+DOXYGEN=$ac_cv_path_DOXYGEN
+if test -n "$DOXYGEN"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $DOXYGEN" >&5
+printf "%s\n" "$DOXYGEN" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+            if test -z "$DOXYGEN"; then
+                as_fn_error $? "doxygen not found in \$PATH; specify its pathname via --with-doxygen=..., or disable its use via --without-doxygen" "$LINENO" 5
+            fi
+            if $DOXYGEN -g - | grep -q "HAVE_DOT *= *YES"; then
+                if ! dot -V 2>/dev/null; then
+                    as_fn_error $? "dot not found in \$PATH but doxygen defaults to HAVE_DOT=YES; install graphviz or disable its use via --without-doxygen" "$LINENO" 5
+                fi
+            fi
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for doxygen" >&5
+printf %s "checking for doxygen... " >&6; }
+            PathFormat "$with_doxygen"
+            DOXYGEN="$formatted_path_unix"
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $formatted_path" >&5
+printf "%s\n" "$formatted_path" >&6; }
+        fi
+        if test -n "$DOXYGEN"; then
+            DOXYGEN_VERSION=`$DOXYGEN --version 2>/dev/null`
+            DOXYGEN_NUMVERSION=`echo $DOXYGEN_VERSION | $AWK -F. '{ print \$1*10000 + \$2*100 + \$3 }'`
+            if ! test "$DOXYGEN_NUMVERSION" -ge "10804" ; then
+                as_fn_error $? "found doxygen is too old; need at least version 1.8.4 or specify --without-doxygen" "$LINENO" 5
+            fi
+        fi
+        if test -n "$WSL_ONLY_AS_HELPER"; then
+                                                            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether doxygen is a windows executable" >&5
+printf %s "checking whether doxygen is a windows executable... " >&6; }
+            if $(file "$DOXYGEN" | grep -q "PE32"); then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+                as_fn_error $? "please provide a path to a windows version of doxygen or use --without-doxygen" "$LINENO" 5
+            fi
+        fi
+    fi
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable fuzzers" >&5
+printf %s "checking whether to enable fuzzers... " >&6; }
+if test "$enable_fuzzers" != yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    if test -z $LIB_FUZZING_ENGINE; then
+      as_fn_error $? "'LIB_FUZZING_ENGINE' must be set when using --enable-fuzzers. Examples include '-fsanitize=fuzzer'." "$LINENO" 5
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_FUZZERS="TRUE"
+    printf "%s\n" "#define ENABLE_FUZZERS 1" >>confdefs.h
+
+    BUILD_TYPE="$BUILD_TYPE FUZZERS"
+fi
+
+
+if test "$with_system_zlib" = "auto"; then
+    case "$_os" in
+    WINNT)
+        with_system_zlib="$with_system_libs"
+        ;;
+    *)
+        if test "$enable_fuzzers" != "yes"; then
+            with_system_zlib=yes
+        else
+            with_system_zlib=no
+        fi
+        ;;
+    esac
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which zlib to use" >&5
+printf %s "checking which zlib to use... " >&6; }
+if test "$with_system_zlib" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_ZLIB=TRUE
+    ac_fn_c_check_header_compile "$LINENO" "zlib.h" "ac_cv_header_zlib_h" "$ac_includes_default"
+if test "x$ac_cv_header_zlib_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "zlib.h not found. install zlib" "$LINENO" 5
+fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for deflate in -lz" >&5
+printf %s "checking for deflate in -lz... " >&6; }
+if test ${ac_cv_lib_z_deflate+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lz  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char deflate ();
+int
+main (void)
+{
+return deflate ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_z_deflate=yes
+else $as_nop
+  ac_cv_lib_z_deflate=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_z_deflate" >&5
+printf "%s\n" "$ac_cv_lib_z_deflate" >&6; }
+if test "x$ac_cv_lib_z_deflate" = xyes
+then :
+   ZLIB_LIBS=-lz
+else $as_nop
+  as_fn_error $? "zlib not found or functional" "$LINENO" 5
+fi
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    SYSTEM_ZLIB=
+    BUILD_TYPE="$BUILD_TYPE ZLIB"
+    ZLIB_CFLAGS="-I${WORKDIR}/UnpackedTarball/zlib"
+    if test "$COM" = "MSC"; then
+        ZLIB_LIBS="${WORKDIR}/LinkTarget/StaticLibrary/zlib.lib"
+    else
+        ZLIB_LIBS="-L${WORKDIR}/LinkTarget/StaticLibrary -lzlib"
+    fi
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libjpeg to use" >&5
+printf %s "checking which libjpeg to use... " >&6; }
+if test "$with_system_jpeg" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_LIBJPEG=TRUE
+    ac_fn_c_check_header_compile "$LINENO" "jpeglib.h" "ac_cv_header_jpeglib_h" "$ac_includes_default"
+if test "x$ac_cv_header_jpeglib_h" = xyes
+then :
+   LIBJPEG_CFLAGS=
+else $as_nop
+  as_fn_error $? "jpeg.h not found. install libjpeg" "$LINENO" 5
+fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for jpeg_resync_to_restart in -ljpeg" >&5
+printf %s "checking for jpeg_resync_to_restart in -ljpeg... " >&6; }
+if test ${ac_cv_lib_jpeg_jpeg_resync_to_restart+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-ljpeg  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char jpeg_resync_to_restart ();
+int
+main (void)
+{
+return jpeg_resync_to_restart ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_jpeg_jpeg_resync_to_restart=yes
+else $as_nop
+  ac_cv_lib_jpeg_jpeg_resync_to_restart=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_jpeg_jpeg_resync_to_restart" >&5
+printf "%s\n" "$ac_cv_lib_jpeg_jpeg_resync_to_restart" >&6; }
+if test "x$ac_cv_lib_jpeg_jpeg_resync_to_restart" = xyes
+then :
+   LIBJPEG_LIBS="-ljpeg"
+else $as_nop
+  as_fn_error $? "jpeg library not found or functional" "$LINENO" 5
+fi
+
+else
+    SYSTEM_LIBJPEG=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal, libjpeg-turbo" >&5
+printf "%s\n" "internal, libjpeg-turbo" >&6; }
+    BUILD_TYPE="$BUILD_TYPE LIBJPEG_TURBO"
+
+    case "$host_cpu" in
+    x86_64 | amd64 | i*86 | x86 | ia32)
+        for ac_prog in nasm nasmw yasm
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_NASM+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$NASM"; then
+  ac_cv_prog_NASM="$NASM" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_NASM="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+NASM=$ac_cv_prog_NASM
+if test -n "$NASM"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $NASM" >&5
+printf "%s\n" "$NASM" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$NASM" && break
+done
+
+        if test -z "$NASM" -a "$build_os" = "cygwin"; then
+            if test -n "$LODE_HOME" -a -x "$LODE_HOME/opt/bin/nasm"; then
+                NASM="$LODE_HOME/opt/bin/nasm"
+            elif test -x "/opt/lo/bin/nasm"; then
+                NASM="/opt/lo/bin/nasm"
+            fi
+        fi
+
+        if test -n "$NASM"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for object file format of host system" >&5
+printf %s "checking for object file format of host system... " >&6; }
+            case "$host_os" in
+              cygwin* | mingw* | pw32* | wsl*)
+                case "$host_cpu" in
+                  x86_64)
+                    objfmt='Win64-COFF'
+                    ;;
+                  *)
+                    objfmt='Win32-COFF'
+                    ;;
+                esac
+              ;;
+              msdosdjgpp* | go32*)
+                objfmt='COFF'
+              ;;
+              os2-emx*) # not tested
+                objfmt='MSOMF' # obj
+              ;;
+              linux*coff* | linux*oldld*)
+                objfmt='COFF' # ???
+              ;;
+              linux*aout*)
+                objfmt='a.out'
+              ;;
+              linux*)
+                case "$host_cpu" in
+                  x86_64)
+                    objfmt='ELF64'
+                    ;;
+                  *)
+                    objfmt='ELF'
+                    ;;
+                esac
+              ;;
+              kfreebsd* | freebsd* | netbsd* | openbsd*)
+                if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
+                  objfmt='BSD-a.out'
+                else
+                  case "$host_cpu" in
+                    x86_64 | amd64)
+                      objfmt='ELF64'
+                      ;;
+                    *)
+                      objfmt='ELF'
+                      ;;
+                  esac
+                fi
+              ;;
+              solaris* | sunos* | sysv* | sco*)
+                case "$host_cpu" in
+                  x86_64)
+                    objfmt='ELF64'
+                    ;;
+                  *)
+                    objfmt='ELF'
+                    ;;
+                esac
+              ;;
+              darwin* | rhapsody* | nextstep* | openstep* | macos*)
+                case "$host_cpu" in
+                  x86_64)
+                    objfmt='Mach-O64'
+                    ;;
+                  *)
+                    objfmt='Mach-O'
+                    ;;
+                esac
+              ;;
+              *)
+                objfmt='ELF ?'
+              ;;
+            esac
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $objfmt" >&5
+printf "%s\n" "$objfmt" >&6; }
+            if test "$objfmt" = 'ELF ?'; then
+              objfmt='ELF'
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: unexpected host system. assumed that the format is $objfmt." >&5
+printf "%s\n" "$as_me: WARNING: unexpected host system. assumed that the format is $objfmt." >&2;}
+            fi
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for object file format specifier (NAFLAGS) " >&5
+printf %s "checking for object file format specifier (NAFLAGS) ... " >&6; }
+            case "$objfmt" in
+              MSOMF)      NAFLAGS='-fobj -DOBJ32 -DPIC';;
+              Win32-COFF) NAFLAGS='-fwin32 -DWIN32 -DPIC';;
+              Win64-COFF) NAFLAGS='-fwin64 -DWIN64 -D__x86_64__ -DPIC';;
+              COFF)       NAFLAGS='-fcoff -DCOFF -DPIC';;
+              a.out)      NAFLAGS='-faout -DAOUT -DPIC';;
+              BSD-a.out)  NAFLAGS='-faoutb -DAOUT -DPIC';;
+              ELF)        NAFLAGS='-felf -DELF -DPIC';;
+              ELF64)      NAFLAGS='-felf64 -DELF -D__x86_64__ -DPIC';;
+              RDF)        NAFLAGS='-frdf -DRDF -DPIC';;
+              Mach-O)     NAFLAGS='-fmacho -DMACHO -DPIC';;
+              Mach-O64)   NAFLAGS='-fmacho64 -DMACHO -D__x86_64__ -DPIC';;
+            esac
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $NAFLAGS" >&5
+printf "%s\n" "$NAFLAGS" >&6; }
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the assembler ($NASM $NAFLAGS) works" >&5
+printf %s "checking whether the assembler ($NASM $NAFLAGS) works... " >&6; }
+            cat > conftest.asm << EOF
+            %line 24361 "configure"
+                    section .text
+                    global  _main,main
+            _main:
+            main:   xor     eax,eax
+                    ret
+
+EOF
+            try_nasm='$NASM $NAFLAGS -o conftest.o conftest.asm'
+            if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$try_nasm\""; } >&5
+  (eval $try_nasm) 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; } && test -s conftest.o; then
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+            else
+              echo "configure: failed program was:" >&5
+              cat conftest.asm >&5
+              rm -rf conftest*
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: installation or configuration problem: assembler cannot create object files." >&5
+printf "%s\n" "$as_me: WARNING: installation or configuration problem: assembler cannot create object files." >&2;}
+              NASM=""
+            fi
+
+        fi
+
+        if test -z "$NASM"; then
+cat << _EOS
+****************************************************************************
+You need yasm or nasm (Netwide Assembler) to build the internal jpeg library optimally.
+To get one please:
+
+_EOS
+            if test "$build_os" = "cygwin"; then
+cat << _EOS
+install a pre-compiled binary for Win32
+
+mkdir -p /opt/lo/bin
+cd /opt/lo/bin
+wget https://dev-www.libreoffice.org/bin/cygwin/nasm.exe
+chmod +x nasm
+
+or get and install one from https://www.nasm.us/
+
+Then re-run autogen.sh
+
+Note: autogen.sh will try to use /opt/lo/bin/nasm if the environment variable NASM is not already defined.
+Alternatively, you can install the 'new' nasm where ever you want and make sure that \`command -v nasm\` finds it.
+
+_EOS
+            else
+cat << _EOS
+consult https://github.com/libjpeg-turbo/libjpeg-turbo/blob/main/BUILDING.md
+
+_EOS
+            fi
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: no suitable nasm (Netwide Assembler) found" >&5
+printf "%s\n" "$as_me: WARNING: no suitable nasm (Netwide Assembler) found" >&2;}
+            add_warning "no suitable nasm (Netwide Assembler) found for internal libjpeg-turbo"
+        fi
+      ;;
+    esac
+fi
+
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_clucene="yes";
+
+
+
+
+# Check whether --with-system-clucene was given.
+if test ${with_system_clucene+y}
+then :
+  withval=$with_system_clucene;
+else $as_nop
+
+    if test "${with_system_clucene+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_clucene="$with_system_libs";
+    else
+        with_system_clucene="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which clucene to use" >&5
+printf %s "checking which clucene to use... " >&6; }
+if test "$test_clucene" != no -a "$found_clucene" != yes -a "$enable_clucene" != no; then
+    ENABLE_CLUCENE=TRUE
+    if test "$with_system_clucene" = yes -a "$test_system_clucene" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_CLUCENE=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libclucene-core" >&5
+printf %s "checking for libclucene-core... " >&6; }
+
+if test -n "$CLUCENE_CFLAGS"; then
+    pkg_cv_CLUCENE_CFLAGS="$CLUCENE_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libclucene-core\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libclucene-core") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CLUCENE_CFLAGS=`$PKG_CONFIG --cflags "libclucene-core" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$CLUCENE_LIBS"; then
+    pkg_cv_CLUCENE_LIBS="$CLUCENE_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libclucene-core\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libclucene-core") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CLUCENE_LIBS=`$PKG_CONFIG --libs "libclucene-core" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                CLUCENE_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libclucene-core" 2>&1`
+        else
+                CLUCENE_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libclucene-core" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$CLUCENE_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libclucene-core) were not met:
+
+$CLUCENE_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables CLUCENE_CFLAGS
+and CLUCENE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables CLUCENE_CFLAGS
+and CLUCENE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        CLUCENE_CFLAGS=$pkg_cv_CLUCENE_CFLAGS
+        CLUCENE_LIBS=$pkg_cv_CLUCENE_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        CLUCENE_CFLAGS=$(printf '%s' "${CLUCENE_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${CLUCENE_LIBS}"
+        CLUCENE_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_CLUCENE=
+        CLUCENE_CFLAGS="${CLUCENE_CFLAGS_internal}"
+        CLUCENE_LIBS="${CLUCENE_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE CLUCENE"
+    fi
+else
+    if test "$found_clucene" = yes -a "$enable_clucene" != no -a "$with_system_clucene" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_CLUCENE=TRUE
+        SYSTEM_CLUCENE=TRUE
+    else
+        ENABLE_CLUCENE=
+        SYSTEM_CLUCENE=
+        CLUCENE_CFLAGS=
+        CLUCENE_LIBS=
+        if test "$test_clucene" != no -a "$enable_clucene" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+if test "$SYSTEM_CLUCENE" = TRUE; then
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    save_CPPFLAGS=$CPPFLAGS
+    CXXFLAGS="$CXXFLAGS $CLUCENE_CFLAGS"
+    CPPFLAGS="$CPPFLAGS $CLUCENE_CFLAGS"
+            ac_fn_cxx_check_header_compile "$LINENO" "CLucene/analysis/cjk/CJKAnalyzer.h" "ac_cv_header_CLucene_analysis_cjk_CJKAnalyzer_h" "#include <CLucene.h>
+"
+if test "x$ac_cv_header_CLucene_analysis_cjk_CJKAnalyzer_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "Your version of libclucene has contribs-lib missing." "$LINENO" 5
+fi
+
+    CXXFLAGS=$save_CXXFLAGS
+    CPPFLAGS=$save_CPPFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    CLUCENE_LIBS="$CLUCENE_LIBS -lclucene-contribs-lib"
+fi
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_expat="yes";
+
+
+
+
+# Check whether --with-system-expat was given.
+if test ${with_system_expat+y}
+then :
+  withval=$with_system_expat;
+else $as_nop
+
+    if test "${with_system_expat+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_expat="$with_system_libs";
+    else
+        with_system_expat="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which expat to use" >&5
+printf %s "checking which expat to use... " >&6; }
+if test "$test_expat" != no -a "$found_expat" != yes -a "$enable_expat" != no; then
+    ENABLE_EXPAT=TRUE
+    if test "$with_system_expat" = yes -a "$test_system_expat" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_EXPAT=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for expat" >&5
+printf %s "checking for expat... " >&6; }
+
+if test -n "$EXPAT_CFLAGS"; then
+    pkg_cv_EXPAT_CFLAGS="$EXPAT_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"expat\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "expat") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_EXPAT_CFLAGS=`$PKG_CONFIG --cflags "expat" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$EXPAT_LIBS"; then
+    pkg_cv_EXPAT_LIBS="$EXPAT_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"expat\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "expat") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_EXPAT_LIBS=`$PKG_CONFIG --libs "expat" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                EXPAT_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "expat" 2>&1`
+        else
+                EXPAT_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "expat" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$EXPAT_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (expat) were not met:
+
+$EXPAT_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables EXPAT_CFLAGS
+and EXPAT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables EXPAT_CFLAGS
+and EXPAT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        EXPAT_CFLAGS=$pkg_cv_EXPAT_CFLAGS
+        EXPAT_LIBS=$pkg_cv_EXPAT_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        EXPAT_CFLAGS=$(printf '%s' "${EXPAT_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${EXPAT_LIBS}"
+        EXPAT_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_EXPAT=
+        EXPAT_CFLAGS="${EXPAT_CFLAGS_internal}"
+        EXPAT_LIBS="${EXPAT_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE EXPAT"
+    fi
+else
+    if test "$found_expat" = yes -a "$enable_expat" != no -a "$with_system_expat" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_EXPAT=TRUE
+        SYSTEM_EXPAT=TRUE
+    else
+        ENABLE_EXPAT=
+        SYSTEM_EXPAT=
+        EXPAT_CFLAGS=
+        EXPAT_LIBS=
+        if test "$test_expat" != no -a "$enable_expat" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_xmlsec="yes";
+
+
+
+
+# Check whether --with-system-xmlsec was given.
+if test ${with_system_xmlsec+y}
+then :
+  withval=$with_system_xmlsec;
+else $as_nop
+
+    if test "${with_system_xmlsec+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_xmlsec="$with_system_libs";
+    else
+        with_system_xmlsec="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which xmlsec to use" >&5
+printf %s "checking which xmlsec to use... " >&6; }
+if test "$test_xmlsec" != no -a "$found_xmlsec" != yes -a "$enable_xmlsec" != no; then
+    ENABLE_XMLSEC=TRUE
+    if test "$with_system_xmlsec" = yes -a "$test_system_xmlsec" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_XMLSEC=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for xmlsec1-nss >= 1.2.35" >&5
+printf %s "checking for xmlsec1-nss >= 1.2.35... " >&6; }
+
+if test -n "$XMLSEC_CFLAGS"; then
+    pkg_cv_XMLSEC_CFLAGS="$XMLSEC_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xmlsec1-nss >= 1.2.35\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xmlsec1-nss >= 1.2.35") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_XMLSEC_CFLAGS=`$PKG_CONFIG --cflags "xmlsec1-nss >= 1.2.35" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$XMLSEC_LIBS"; then
+    pkg_cv_XMLSEC_LIBS="$XMLSEC_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xmlsec1-nss >= 1.2.35\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xmlsec1-nss >= 1.2.35") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_XMLSEC_LIBS=`$PKG_CONFIG --libs "xmlsec1-nss >= 1.2.35" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                XMLSEC_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "xmlsec1-nss >= 1.2.35" 2>&1`
+        else
+                XMLSEC_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "xmlsec1-nss >= 1.2.35" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$XMLSEC_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (xmlsec1-nss >= 1.2.35) were not met:
+
+$XMLSEC_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables XMLSEC_CFLAGS
+and XMLSEC_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables XMLSEC_CFLAGS
+and XMLSEC_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        XMLSEC_CFLAGS=$pkg_cv_XMLSEC_CFLAGS
+        XMLSEC_LIBS=$pkg_cv_XMLSEC_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        XMLSEC_CFLAGS=$(printf '%s' "${XMLSEC_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${XMLSEC_LIBS}"
+        XMLSEC_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_XMLSEC=
+        XMLSEC_CFLAGS="${XMLSEC_CFLAGS_internal}"
+        XMLSEC_LIBS="${XMLSEC_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE XMLSEC"
+    fi
+else
+    if test "$found_xmlsec" = yes -a "$enable_xmlsec" != no -a "$with_system_xmlsec" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_XMLSEC=TRUE
+        SYSTEM_XMLSEC=TRUE
+    else
+        ENABLE_XMLSEC=
+        SYSTEM_XMLSEC=
+        XMLSEC_CFLAGS=
+        XMLSEC_LIBS=
+        if test "$test_xmlsec" != no -a "$enable_xmlsec" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable Embedded OpenType support" >&5
+printf %s "checking whether to enable Embedded OpenType support... " >&6; }
+if test "$enable_eot" = "yes"; then
+    ENABLE_EOT="TRUE"
+    printf "%s\n" "#define ENABLE_EOT 1" >>confdefs.h
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libeot="yes";
+
+
+
+
+# Check whether --with-system-libeot was given.
+if test ${with_system_libeot+y}
+then :
+  withval=$with_system_libeot;
+else $as_nop
+
+    if test "${with_system_libeot+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libeot="$with_system_libs";
+    else
+        with_system_libeot="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libeot to use" >&5
+printf %s "checking which libeot to use... " >&6; }
+if test "$test_libeot" != no -a "$found_libeot" != yes -a "$enable_libeot" != no; then
+    ENABLE_LIBEOT=TRUE
+    if test "$with_system_libeot" = yes -a "$test_system_libeot" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LIBEOT=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libeot >= 0.01" >&5
+printf %s "checking for libeot >= 0.01... " >&6; }
+
+if test -n "$LIBEOT_CFLAGS"; then
+    pkg_cv_LIBEOT_CFLAGS="$LIBEOT_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libeot >= 0.01\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libeot >= 0.01") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBEOT_CFLAGS=`$PKG_CONFIG --cflags "libeot >= 0.01" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBEOT_LIBS"; then
+    pkg_cv_LIBEOT_LIBS="$LIBEOT_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libeot >= 0.01\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libeot >= 0.01") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBEOT_LIBS=`$PKG_CONFIG --libs "libeot >= 0.01" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBEOT_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libeot >= 0.01" 2>&1`
+        else
+                LIBEOT_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libeot >= 0.01" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBEOT_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libeot >= 0.01) were not met:
+
+$LIBEOT_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBEOT_CFLAGS
+and LIBEOT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBEOT_CFLAGS
+and LIBEOT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBEOT_CFLAGS=$pkg_cv_LIBEOT_CFLAGS
+        LIBEOT_LIBS=$pkg_cv_LIBEOT_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBEOT_CFLAGS=$(printf '%s' "${LIBEOT_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBEOT_LIBS}"
+        LIBEOT_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LIBEOT=
+        LIBEOT_CFLAGS="${LIBEOT_CFLAGS_internal}"
+        LIBEOT_LIBS="${LIBEOT_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE LIBEOT"
+    fi
+else
+    if test "$found_libeot" = yes -a "$enable_libeot" != no -a "$with_system_libeot" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_LIBEOT=TRUE
+        SYSTEM_LIBEOT=TRUE
+    else
+        ENABLE_LIBEOT=
+        SYSTEM_LIBEOT=
+        LIBEOT_CFLAGS=
+        LIBEOT_LIBS=
+        if test "$test_libeot" != no -a "$enable_libeot" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+else
+    ENABLE_EOT=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+REVENGE_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/librevenge/inc"
+if test "$COM" = "MSC"
+then :
+  librevenge_libdir="${WORKDIR}/LinkTarget/Library"
+else $as_nop
+  librevenge_libdir="${WORKDIR}/UnpackedTarball/librevenge/src/lib/.libs"
+
+fi
+REVENGE_LIBS_internal="-L${librevenge_libdir} -lrevenge-0.0"
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_librevenge="yes";
+
+
+
+
+# Check whether --with-system-librevenge was given.
+if test ${with_system_librevenge+y}
+then :
+  withval=$with_system_librevenge;
+else $as_nop
+
+    if test "${with_system_librevenge+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_librevenge="$with_system_libs";
+    else
+        with_system_librevenge="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which librevenge to use" >&5
+printf %s "checking which librevenge to use... " >&6; }
+if test "$test_librevenge" != no -a "$found_librevenge" != yes -a "$enable_librevenge" != no; then
+    ENABLE_REVENGE=TRUE
+    if test "$with_system_librevenge" = yes -a "$test_system_librevenge" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_REVENGE=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for librevenge-0.0 >= 0.0.1" >&5
+printf %s "checking for librevenge-0.0 >= 0.0.1... " >&6; }
+
+if test -n "$REVENGE_CFLAGS"; then
+    pkg_cv_REVENGE_CFLAGS="$REVENGE_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"librevenge-0.0 >= 0.0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "librevenge-0.0 >= 0.0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_REVENGE_CFLAGS=`$PKG_CONFIG --cflags "librevenge-0.0 >= 0.0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$REVENGE_LIBS"; then
+    pkg_cv_REVENGE_LIBS="$REVENGE_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"librevenge-0.0 >= 0.0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "librevenge-0.0 >= 0.0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_REVENGE_LIBS=`$PKG_CONFIG --libs "librevenge-0.0 >= 0.0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                REVENGE_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "librevenge-0.0 >= 0.0.1" 2>&1`
+        else
+                REVENGE_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "librevenge-0.0 >= 0.0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$REVENGE_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (librevenge-0.0 >= 0.0.1) were not met:
+
+$REVENGE_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables REVENGE_CFLAGS
+and REVENGE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables REVENGE_CFLAGS
+and REVENGE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        REVENGE_CFLAGS=$pkg_cv_REVENGE_CFLAGS
+        REVENGE_LIBS=$pkg_cv_REVENGE_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        REVENGE_CFLAGS=$(printf '%s' "${REVENGE_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${REVENGE_LIBS}"
+        REVENGE_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_REVENGE=
+        REVENGE_CFLAGS="${REVENGE_CFLAGS_internal}"
+        REVENGE_LIBS="${REVENGE_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE REVENGE"
+    fi
+else
+    if test "$found_librevenge" = yes -a "$enable_librevenge" != no -a "$with_system_librevenge" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_REVENGE=TRUE
+        SYSTEM_REVENGE=TRUE
+    else
+        ENABLE_REVENGE=
+        SYSTEM_REVENGE=
+        REVENGE_CFLAGS=
+        REVENGE_LIBS=
+        if test "$test_librevenge" != no -a "$enable_librevenge" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libodfgen="yes";
+
+
+
+
+# Check whether --with-system-libodfgen was given.
+if test ${with_system_libodfgen+y}
+then :
+  withval=$with_system_libodfgen;
+else $as_nop
+
+    if test "${with_system_libodfgen+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libodfgen="$with_system_libs";
+    else
+        with_system_libodfgen="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libodfgen to use" >&5
+printf %s "checking which libodfgen to use... " >&6; }
+if test "$test_libodfgen" != no -a "$found_libodfgen" != yes -a "$enable_libodfgen" != no; then
+    ENABLE_ODFGEN=TRUE
+    if test "$with_system_libodfgen" = yes -a "$test_system_libodfgen" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_ODFGEN=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libodfgen-0.1" >&5
+printf %s "checking for libodfgen-0.1... " >&6; }
+
+if test -n "$ODFGEN_CFLAGS"; then
+    pkg_cv_ODFGEN_CFLAGS="$ODFGEN_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libodfgen-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libodfgen-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ODFGEN_CFLAGS=`$PKG_CONFIG --cflags "libodfgen-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ODFGEN_LIBS"; then
+    pkg_cv_ODFGEN_LIBS="$ODFGEN_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libodfgen-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libodfgen-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ODFGEN_LIBS=`$PKG_CONFIG --libs "libodfgen-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ODFGEN_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libodfgen-0.1" 2>&1`
+        else
+                ODFGEN_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libodfgen-0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ODFGEN_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libodfgen-0.1) were not met:
+
+$ODFGEN_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables ODFGEN_CFLAGS
+and ODFGEN_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables ODFGEN_CFLAGS
+and ODFGEN_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        ODFGEN_CFLAGS=$pkg_cv_ODFGEN_CFLAGS
+        ODFGEN_LIBS=$pkg_cv_ODFGEN_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        ODFGEN_CFLAGS=$(printf '%s' "${ODFGEN_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${ODFGEN_LIBS}"
+        ODFGEN_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_ODFGEN=
+        ODFGEN_CFLAGS="${ODFGEN_CFLAGS_internal}"
+        ODFGEN_LIBS="${ODFGEN_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE ODFGEN"
+    fi
+else
+    if test "$found_libodfgen" = yes -a "$enable_libodfgen" != no -a "$with_system_libodfgen" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_ODFGEN=TRUE
+        SYSTEM_ODFGEN=TRUE
+    else
+        ENABLE_ODFGEN=
+        SYSTEM_ODFGEN=
+        ODFGEN_CFLAGS=
+        ODFGEN_LIBS=
+        if test "$test_libodfgen" != no -a "$enable_libodfgen" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libepubgen="yes";
+
+
+
+
+# Check whether --with-system-libepubgen was given.
+if test ${with_system_libepubgen+y}
+then :
+  withval=$with_system_libepubgen;
+else $as_nop
+
+    if test "${with_system_libepubgen+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libepubgen="$with_system_libs";
+    else
+        with_system_libepubgen="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libepubgen to use" >&5
+printf %s "checking which libepubgen to use... " >&6; }
+if test "$test_libepubgen" != no -a "$found_libepubgen" != yes -a "$enable_libepubgen" != no; then
+    ENABLE_EPUBGEN=TRUE
+    if test "$with_system_libepubgen" = yes -a "$test_system_libepubgen" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_EPUBGEN=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libepubgen-0.1" >&5
+printf %s "checking for libepubgen-0.1... " >&6; }
+
+if test -n "$EPUBGEN_CFLAGS"; then
+    pkg_cv_EPUBGEN_CFLAGS="$EPUBGEN_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libepubgen-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libepubgen-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_EPUBGEN_CFLAGS=`$PKG_CONFIG --cflags "libepubgen-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$EPUBGEN_LIBS"; then
+    pkg_cv_EPUBGEN_LIBS="$EPUBGEN_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libepubgen-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libepubgen-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_EPUBGEN_LIBS=`$PKG_CONFIG --libs "libepubgen-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                EPUBGEN_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libepubgen-0.1" 2>&1`
+        else
+                EPUBGEN_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libepubgen-0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$EPUBGEN_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libepubgen-0.1) were not met:
+
+$EPUBGEN_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables EPUBGEN_CFLAGS
+and EPUBGEN_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables EPUBGEN_CFLAGS
+and EPUBGEN_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        EPUBGEN_CFLAGS=$pkg_cv_EPUBGEN_CFLAGS
+        EPUBGEN_LIBS=$pkg_cv_EPUBGEN_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        EPUBGEN_CFLAGS=$(printf '%s' "${EPUBGEN_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${EPUBGEN_LIBS}"
+        EPUBGEN_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_EPUBGEN=
+        EPUBGEN_CFLAGS="${EPUBGEN_CFLAGS_internal}"
+        EPUBGEN_LIBS="${EPUBGEN_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE EPUBGEN"
+    fi
+else
+    if test "$found_libepubgen" = yes -a "$enable_libepubgen" != no -a "$with_system_libepubgen" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_EPUBGEN=TRUE
+        SYSTEM_EPUBGEN=TRUE
+    else
+        ENABLE_EPUBGEN=
+        SYSTEM_EPUBGEN=
+        EPUBGEN_CFLAGS=
+        EPUBGEN_LIBS=
+        if test "$test_libepubgen" != no -a "$enable_libepubgen" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+WPD_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/libwpd/inc"
+if test "$COM" = "MSC"
+then :
+  libwpd_libdir="${WORKDIR}/LinkTarget/Library"
+else $as_nop
+  libwpd_libdir="${WORKDIR}/UnpackedTarball/libwpd/src/lib/.libs"
+
+fi
+WPD_LIBS_internal="-L${libwpd_libdir} -lwpd-0.10"
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libwpd="yes";
+
+
+
+
+# Check whether --with-system-libwpd was given.
+if test ${with_system_libwpd+y}
+then :
+  withval=$with_system_libwpd;
+else $as_nop
+
+    if test "${with_system_libwpd+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libwpd="$with_system_libs";
+    else
+        with_system_libwpd="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libwpd to use" >&5
+printf %s "checking which libwpd to use... " >&6; }
+if test "$test_libwpd" != no -a "$found_libwpd" != yes -a "$enable_libwpd" != no; then
+    ENABLE_WPD=TRUE
+    if test "$with_system_libwpd" = yes -a "$test_system_libwpd" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_WPD=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libwpd-0.10" >&5
+printf %s "checking for libwpd-0.10... " >&6; }
+
+if test -n "$WPD_CFLAGS"; then
+    pkg_cv_WPD_CFLAGS="$WPD_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libwpd-0.10\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libwpd-0.10") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_WPD_CFLAGS=`$PKG_CONFIG --cflags "libwpd-0.10" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$WPD_LIBS"; then
+    pkg_cv_WPD_LIBS="$WPD_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libwpd-0.10\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libwpd-0.10") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_WPD_LIBS=`$PKG_CONFIG --libs "libwpd-0.10" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                WPD_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libwpd-0.10" 2>&1`
+        else
+                WPD_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libwpd-0.10" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$WPD_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libwpd-0.10) were not met:
+
+$WPD_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables WPD_CFLAGS
+and WPD_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables WPD_CFLAGS
+and WPD_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        WPD_CFLAGS=$pkg_cv_WPD_CFLAGS
+        WPD_LIBS=$pkg_cv_WPD_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        WPD_CFLAGS=$(printf '%s' "${WPD_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${WPD_LIBS}"
+        WPD_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_WPD=
+        WPD_CFLAGS="${WPD_CFLAGS_internal}"
+        WPD_LIBS="${WPD_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE WPD"
+    fi
+else
+    if test "$found_libwpd" = yes -a "$enable_libwpd" != no -a "$with_system_libwpd" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_WPD=TRUE
+        SYSTEM_WPD=TRUE
+    else
+        ENABLE_WPD=
+        SYSTEM_WPD=
+        WPD_CFLAGS=
+        WPD_LIBS=
+        if test "$test_libwpd" != no -a "$enable_libwpd" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libwpg="yes";
+
+
+
+
+# Check whether --with-system-libwpg was given.
+if test ${with_system_libwpg+y}
+then :
+  withval=$with_system_libwpg;
+else $as_nop
+
+    if test "${with_system_libwpg+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libwpg="$with_system_libs";
+    else
+        with_system_libwpg="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libwpg to use" >&5
+printf %s "checking which libwpg to use... " >&6; }
+if test "$test_libwpg" != no -a "$found_libwpg" != yes -a "$enable_libwpg" != no; then
+    ENABLE_WPG=TRUE
+    if test "$with_system_libwpg" = yes -a "$test_system_libwpg" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_WPG=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libwpg-0.3" >&5
+printf %s "checking for libwpg-0.3... " >&6; }
+
+if test -n "$WPG_CFLAGS"; then
+    pkg_cv_WPG_CFLAGS="$WPG_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libwpg-0.3\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libwpg-0.3") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_WPG_CFLAGS=`$PKG_CONFIG --cflags "libwpg-0.3" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$WPG_LIBS"; then
+    pkg_cv_WPG_LIBS="$WPG_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libwpg-0.3\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libwpg-0.3") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_WPG_LIBS=`$PKG_CONFIG --libs "libwpg-0.3" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                WPG_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libwpg-0.3" 2>&1`
+        else
+                WPG_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libwpg-0.3" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$WPG_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libwpg-0.3) were not met:
+
+$WPG_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables WPG_CFLAGS
+and WPG_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables WPG_CFLAGS
+and WPG_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        WPG_CFLAGS=$pkg_cv_WPG_CFLAGS
+        WPG_LIBS=$pkg_cv_WPG_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        WPG_CFLAGS=$(printf '%s' "${WPG_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${WPG_LIBS}"
+        WPG_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_WPG=
+        WPG_CFLAGS="${WPG_CFLAGS_internal}"
+        WPG_LIBS="${WPG_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE WPG"
+    fi
+else
+    if test "$found_libwpg" = yes -a "$enable_libwpg" != no -a "$with_system_libwpg" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_WPG=TRUE
+        SYSTEM_WPG=TRUE
+    else
+        ENABLE_WPG=
+        SYSTEM_WPG=
+        WPG_CFLAGS=
+        WPG_LIBS=
+        if test "$test_libwpg" != no -a "$enable_libwpg" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libwps="yes";
+
+
+
+
+# Check whether --with-system-libwps was given.
+if test ${with_system_libwps+y}
+then :
+  withval=$with_system_libwps;
+else $as_nop
+
+    if test "${with_system_libwps+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libwps="$with_system_libs";
+    else
+        with_system_libwps="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libwps to use" >&5
+printf %s "checking which libwps to use... " >&6; }
+if test "$test_libwps" != no -a "$found_libwps" != yes -a "$enable_libwps" != no; then
+    ENABLE_WPS=TRUE
+    if test "$with_system_libwps" = yes -a "$test_system_libwps" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_WPS=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libwps-0.4" >&5
+printf %s "checking for libwps-0.4... " >&6; }
+
+if test -n "$WPS_CFLAGS"; then
+    pkg_cv_WPS_CFLAGS="$WPS_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libwps-0.4\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libwps-0.4") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_WPS_CFLAGS=`$PKG_CONFIG --cflags "libwps-0.4" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$WPS_LIBS"; then
+    pkg_cv_WPS_LIBS="$WPS_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libwps-0.4\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libwps-0.4") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_WPS_LIBS=`$PKG_CONFIG --libs "libwps-0.4" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                WPS_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libwps-0.4" 2>&1`
+        else
+                WPS_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libwps-0.4" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$WPS_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libwps-0.4) were not met:
+
+$WPS_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables WPS_CFLAGS
+and WPS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables WPS_CFLAGS
+and WPS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        WPS_CFLAGS=$pkg_cv_WPS_CFLAGS
+        WPS_LIBS=$pkg_cv_WPS_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        WPS_CFLAGS=$(printf '%s' "${WPS_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${WPS_LIBS}"
+        WPS_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_WPS=
+        WPS_CFLAGS="${WPS_CFLAGS_internal}"
+        WPS_LIBS="${WPS_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE WPS"
+    fi
+else
+    if test "$found_libwps" = yes -a "$enable_libwps" != no -a "$with_system_libwps" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_WPS=TRUE
+        SYSTEM_WPS=TRUE
+    else
+        ENABLE_WPS=
+        SYSTEM_WPS=
+        WPS_CFLAGS=
+        WPS_LIBS=
+        if test "$test_libwps" != no -a "$enable_libwps" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+    if test -n "$SYSTEM_WPS"
+then :
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for WPS version" >&5
+printf %s "checking for WPS version... " >&6; }
+        if test -n "$PKG_CONFIG"
+then :
+
+            ver=`$PKG_CONFIG --modversion "libwps-0.4"`
+            if test -n "$ver"
+then :
+
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ver" >&5
+printf "%s\n" "$ver" >&6; }
+
+    save_IFS="$IFS"
+    IFS=.
+    echo "$ver" | while read major minor micro; do
+        printf "%s\n" "#define WPS_VERSION_MAJOR $major" >>confdefs.h
+
+        printf "%s\n" "#define WPS_VERSION_MINOR $minor" >>confdefs.h
+
+        printf "%s\n" "#define WPS_VERSION_MICRO $micro" >>confdefs.h
+
+    done
+    IFS="$save_IFS"
+
+
+else $as_nop
+
+                as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+            as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+
+    printf "%s\n" "#define WPS_VERSION_MAJOR 0" >>confdefs.h
+
+    printf "%s\n" "#define WPS_VERSION_MINOR 4" >>confdefs.h
+
+    printf "%s\n" "#define WPS_VERSION_MICRO 14" >>confdefs.h
+
+
+
+fi
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libvisio="yes";
+
+
+
+
+# Check whether --with-system-libvisio was given.
+if test ${with_system_libvisio+y}
+then :
+  withval=$with_system_libvisio;
+else $as_nop
+
+    if test "${with_system_libvisio+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libvisio="$with_system_libs";
+    else
+        with_system_libvisio="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libvisio to use" >&5
+printf %s "checking which libvisio to use... " >&6; }
+if test "$test_libvisio" != no -a "$found_libvisio" != yes -a "$enable_libvisio" != no; then
+    ENABLE_VISIO=TRUE
+    if test "$with_system_libvisio" = yes -a "$test_system_libvisio" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_VISIO=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libvisio-0.1" >&5
+printf %s "checking for libvisio-0.1... " >&6; }
+
+if test -n "$VISIO_CFLAGS"; then
+    pkg_cv_VISIO_CFLAGS="$VISIO_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libvisio-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libvisio-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_VISIO_CFLAGS=`$PKG_CONFIG --cflags "libvisio-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$VISIO_LIBS"; then
+    pkg_cv_VISIO_LIBS="$VISIO_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libvisio-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libvisio-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_VISIO_LIBS=`$PKG_CONFIG --libs "libvisio-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                VISIO_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libvisio-0.1" 2>&1`
+        else
+                VISIO_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libvisio-0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$VISIO_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libvisio-0.1) were not met:
+
+$VISIO_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables VISIO_CFLAGS
+and VISIO_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables VISIO_CFLAGS
+and VISIO_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        VISIO_CFLAGS=$pkg_cv_VISIO_CFLAGS
+        VISIO_LIBS=$pkg_cv_VISIO_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        VISIO_CFLAGS=$(printf '%s' "${VISIO_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${VISIO_LIBS}"
+        VISIO_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_VISIO=
+        VISIO_CFLAGS="${VISIO_CFLAGS_internal}"
+        VISIO_LIBS="${VISIO_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE VISIO"
+    fi
+else
+    if test "$found_libvisio" = yes -a "$enable_libvisio" != no -a "$with_system_libvisio" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_VISIO=TRUE
+        SYSTEM_VISIO=TRUE
+    else
+        ENABLE_VISIO=
+        SYSTEM_VISIO=
+        VISIO_CFLAGS=
+        VISIO_LIBS=
+        if test "$test_libvisio" != no -a "$enable_libvisio" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libcdr="yes";
+
+
+
+
+# Check whether --with-system-libcdr was given.
+if test ${with_system_libcdr+y}
+then :
+  withval=$with_system_libcdr;
+else $as_nop
+
+    if test "${with_system_libcdr+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libcdr="$with_system_libs";
+    else
+        with_system_libcdr="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libcdr to use" >&5
+printf %s "checking which libcdr to use... " >&6; }
+if test "$test_libcdr" != no -a "$found_libcdr" != yes -a "$enable_libcdr" != no; then
+    ENABLE_CDR=TRUE
+    if test "$with_system_libcdr" = yes -a "$test_system_libcdr" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_CDR=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libcdr-0.1" >&5
+printf %s "checking for libcdr-0.1... " >&6; }
+
+if test -n "$CDR_CFLAGS"; then
+    pkg_cv_CDR_CFLAGS="$CDR_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libcdr-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libcdr-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CDR_CFLAGS=`$PKG_CONFIG --cflags "libcdr-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$CDR_LIBS"; then
+    pkg_cv_CDR_LIBS="$CDR_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libcdr-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libcdr-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CDR_LIBS=`$PKG_CONFIG --libs "libcdr-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                CDR_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libcdr-0.1" 2>&1`
+        else
+                CDR_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libcdr-0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$CDR_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libcdr-0.1) were not met:
+
+$CDR_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables CDR_CFLAGS
+and CDR_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables CDR_CFLAGS
+and CDR_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        CDR_CFLAGS=$pkg_cv_CDR_CFLAGS
+        CDR_LIBS=$pkg_cv_CDR_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        CDR_CFLAGS=$(printf '%s' "${CDR_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${CDR_LIBS}"
+        CDR_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_CDR=
+        CDR_CFLAGS="${CDR_CFLAGS_internal}"
+        CDR_LIBS="${CDR_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE CDR"
+    fi
+else
+    if test "$found_libcdr" = yes -a "$enable_libcdr" != no -a "$with_system_libcdr" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_CDR=TRUE
+        SYSTEM_CDR=TRUE
+    else
+        ENABLE_CDR=
+        SYSTEM_CDR=
+        CDR_CFLAGS=
+        CDR_LIBS=
+        if test "$test_libcdr" != no -a "$enable_libcdr" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libmspub="yes";
+
+
+
+
+# Check whether --with-system-libmspub was given.
+if test ${with_system_libmspub+y}
+then :
+  withval=$with_system_libmspub;
+else $as_nop
+
+    if test "${with_system_libmspub+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libmspub="$with_system_libs";
+    else
+        with_system_libmspub="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libmspub to use" >&5
+printf %s "checking which libmspub to use... " >&6; }
+if test "$test_libmspub" != no -a "$found_libmspub" != yes -a "$enable_libmspub" != no; then
+    ENABLE_MSPUB=TRUE
+    if test "$with_system_libmspub" = yes -a "$test_system_libmspub" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_MSPUB=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libmspub-0.1" >&5
+printf %s "checking for libmspub-0.1... " >&6; }
+
+if test -n "$MSPUB_CFLAGS"; then
+    pkg_cv_MSPUB_CFLAGS="$MSPUB_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libmspub-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libmspub-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_MSPUB_CFLAGS=`$PKG_CONFIG --cflags "libmspub-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$MSPUB_LIBS"; then
+    pkg_cv_MSPUB_LIBS="$MSPUB_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libmspub-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libmspub-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_MSPUB_LIBS=`$PKG_CONFIG --libs "libmspub-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                MSPUB_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libmspub-0.1" 2>&1`
+        else
+                MSPUB_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libmspub-0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$MSPUB_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libmspub-0.1) were not met:
+
+$MSPUB_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables MSPUB_CFLAGS
+and MSPUB_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables MSPUB_CFLAGS
+and MSPUB_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        MSPUB_CFLAGS=$pkg_cv_MSPUB_CFLAGS
+        MSPUB_LIBS=$pkg_cv_MSPUB_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        MSPUB_CFLAGS=$(printf '%s' "${MSPUB_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${MSPUB_LIBS}"
+        MSPUB_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_MSPUB=
+        MSPUB_CFLAGS="${MSPUB_CFLAGS_internal}"
+        MSPUB_LIBS="${MSPUB_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE MSPUB"
+    fi
+else
+    if test "$found_libmspub" = yes -a "$enable_libmspub" != no -a "$with_system_libmspub" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_MSPUB=TRUE
+        SYSTEM_MSPUB=TRUE
+    else
+        ENABLE_MSPUB=
+        SYSTEM_MSPUB=
+        MSPUB_CFLAGS=
+        MSPUB_LIBS=
+        if test "$test_libmspub" != no -a "$enable_libmspub" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libmwaw="yes";
+
+
+
+
+# Check whether --with-system-libmwaw was given.
+if test ${with_system_libmwaw+y}
+then :
+  withval=$with_system_libmwaw;
+else $as_nop
+
+    if test "${with_system_libmwaw+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libmwaw="$with_system_libs";
+    else
+        with_system_libmwaw="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libmwaw to use" >&5
+printf %s "checking which libmwaw to use... " >&6; }
+if test "$test_libmwaw" != no -a "$found_libmwaw" != yes -a "$enable_libmwaw" != no; then
+    ENABLE_MWAW=TRUE
+    if test "$with_system_libmwaw" = yes -a "$test_system_libmwaw" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_MWAW=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libmwaw-0.3 >= 0.3.21" >&5
+printf %s "checking for libmwaw-0.3 >= 0.3.21... " >&6; }
+
+if test -n "$MWAW_CFLAGS"; then
+    pkg_cv_MWAW_CFLAGS="$MWAW_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libmwaw-0.3 >= 0.3.21\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libmwaw-0.3 >= 0.3.21") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_MWAW_CFLAGS=`$PKG_CONFIG --cflags "libmwaw-0.3 >= 0.3.21" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$MWAW_LIBS"; then
+    pkg_cv_MWAW_LIBS="$MWAW_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libmwaw-0.3 >= 0.3.21\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libmwaw-0.3 >= 0.3.21") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_MWAW_LIBS=`$PKG_CONFIG --libs "libmwaw-0.3 >= 0.3.21" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                MWAW_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libmwaw-0.3 >= 0.3.21" 2>&1`
+        else
+                MWAW_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libmwaw-0.3 >= 0.3.21" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$MWAW_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libmwaw-0.3 >= 0.3.21) were not met:
+
+$MWAW_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables MWAW_CFLAGS
+and MWAW_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables MWAW_CFLAGS
+and MWAW_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        MWAW_CFLAGS=$pkg_cv_MWAW_CFLAGS
+        MWAW_LIBS=$pkg_cv_MWAW_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        MWAW_CFLAGS=$(printf '%s' "${MWAW_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${MWAW_LIBS}"
+        MWAW_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_MWAW=
+        MWAW_CFLAGS="${MWAW_CFLAGS_internal}"
+        MWAW_LIBS="${MWAW_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE MWAW"
+    fi
+else
+    if test "$found_libmwaw" = yes -a "$enable_libmwaw" != no -a "$with_system_libmwaw" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_MWAW=TRUE
+        SYSTEM_MWAW=TRUE
+    else
+        ENABLE_MWAW=
+        SYSTEM_MWAW=
+        MWAW_CFLAGS=
+        MWAW_LIBS=
+        if test "$test_libmwaw" != no -a "$enable_libmwaw" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+    if test -n "$SYSTEM_MWAW"
+then :
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for MWAW version" >&5
+printf %s "checking for MWAW version... " >&6; }
+        if test -n "$PKG_CONFIG"
+then :
+
+            ver=`$PKG_CONFIG --modversion "libmwaw-0.3"`
+            if test -n "$ver"
+then :
+
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ver" >&5
+printf "%s\n" "$ver" >&6; }
+
+    save_IFS="$IFS"
+    IFS=.
+    echo "$ver" | while read major minor micro; do
+        printf "%s\n" "#define MWAW_VERSION_MAJOR $major" >>confdefs.h
+
+        printf "%s\n" "#define MWAW_VERSION_MINOR $minor" >>confdefs.h
+
+        printf "%s\n" "#define MWAW_VERSION_MICRO $micro" >>confdefs.h
+
+    done
+    IFS="$save_IFS"
+
+
+else $as_nop
+
+                as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+            as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+
+    printf "%s\n" "#define MWAW_VERSION_MAJOR 0" >>confdefs.h
+
+    printf "%s\n" "#define MWAW_VERSION_MINOR 3" >>confdefs.h
+
+    printf "%s\n" "#define MWAW_VERSION_MICRO 21" >>confdefs.h
+
+
+
+fi
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libetonyek="yes";
+
+
+
+
+# Check whether --with-system-libetonyek was given.
+if test ${with_system_libetonyek+y}
+then :
+  withval=$with_system_libetonyek;
+else $as_nop
+
+    if test "${with_system_libetonyek+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libetonyek="$with_system_libs";
+    else
+        with_system_libetonyek="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libetonyek to use" >&5
+printf %s "checking which libetonyek to use... " >&6; }
+if test "$test_libetonyek" != no -a "$found_libetonyek" != yes -a "$enable_libetonyek" != no; then
+    ENABLE_ETONYEK=TRUE
+    if test "$with_system_libetonyek" = yes -a "$test_system_libetonyek" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_ETONYEK=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libetonyek-0.1" >&5
+printf %s "checking for libetonyek-0.1... " >&6; }
+
+if test -n "$ETONYEK_CFLAGS"; then
+    pkg_cv_ETONYEK_CFLAGS="$ETONYEK_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libetonyek-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libetonyek-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ETONYEK_CFLAGS=`$PKG_CONFIG --cflags "libetonyek-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ETONYEK_LIBS"; then
+    pkg_cv_ETONYEK_LIBS="$ETONYEK_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libetonyek-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libetonyek-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ETONYEK_LIBS=`$PKG_CONFIG --libs "libetonyek-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ETONYEK_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libetonyek-0.1" 2>&1`
+        else
+                ETONYEK_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libetonyek-0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ETONYEK_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libetonyek-0.1) were not met:
+
+$ETONYEK_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables ETONYEK_CFLAGS
+and ETONYEK_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables ETONYEK_CFLAGS
+and ETONYEK_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        ETONYEK_CFLAGS=$pkg_cv_ETONYEK_CFLAGS
+        ETONYEK_LIBS=$pkg_cv_ETONYEK_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        ETONYEK_CFLAGS=$(printf '%s' "${ETONYEK_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${ETONYEK_LIBS}"
+        ETONYEK_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_ETONYEK=
+        ETONYEK_CFLAGS="${ETONYEK_CFLAGS_internal}"
+        ETONYEK_LIBS="${ETONYEK_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE ETONYEK"
+    fi
+else
+    if test "$found_libetonyek" = yes -a "$enable_libetonyek" != no -a "$with_system_libetonyek" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_ETONYEK=TRUE
+        SYSTEM_ETONYEK=TRUE
+    else
+        ENABLE_ETONYEK=
+        SYSTEM_ETONYEK=
+        ETONYEK_CFLAGS=
+        ETONYEK_LIBS=
+        if test "$test_libetonyek" != no -a "$enable_libetonyek" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+    if test -n "$SYSTEM_ETONYEK"
+then :
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for ETONYEK version" >&5
+printf %s "checking for ETONYEK version... " >&6; }
+        if test -n "$PKG_CONFIG"
+then :
+
+            ver=`$PKG_CONFIG --modversion "libetonyek-0.1"`
+            if test -n "$ver"
+then :
+
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ver" >&5
+printf "%s\n" "$ver" >&6; }
+
+    save_IFS="$IFS"
+    IFS=.
+    echo "$ver" | while read major minor micro; do
+        printf "%s\n" "#define ETONYEK_VERSION_MAJOR $major" >>confdefs.h
+
+        printf "%s\n" "#define ETONYEK_VERSION_MINOR $minor" >>confdefs.h
+
+        printf "%s\n" "#define ETONYEK_VERSION_MICRO $micro" >>confdefs.h
+
+    done
+    IFS="$save_IFS"
+
+
+else $as_nop
+
+                as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+            as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+
+    printf "%s\n" "#define ETONYEK_VERSION_MAJOR 0" >>confdefs.h
+
+    printf "%s\n" "#define ETONYEK_VERSION_MINOR 1" >>confdefs.h
+
+    printf "%s\n" "#define ETONYEK_VERSION_MICRO 10" >>confdefs.h
+
+
+
+fi
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libfreehand="yes";
+
+
+
+
+# Check whether --with-system-libfreehand was given.
+if test ${with_system_libfreehand+y}
+then :
+  withval=$with_system_libfreehand;
+else $as_nop
+
+    if test "${with_system_libfreehand+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libfreehand="$with_system_libs";
+    else
+        with_system_libfreehand="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libfreehand to use" >&5
+printf %s "checking which libfreehand to use... " >&6; }
+if test "$test_libfreehand" != no -a "$found_libfreehand" != yes -a "$enable_libfreehand" != no; then
+    ENABLE_FREEHAND=TRUE
+    if test "$with_system_libfreehand" = yes -a "$test_system_libfreehand" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_FREEHAND=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libfreehand-0.1" >&5
+printf %s "checking for libfreehand-0.1... " >&6; }
+
+if test -n "$FREEHAND_CFLAGS"; then
+    pkg_cv_FREEHAND_CFLAGS="$FREEHAND_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libfreehand-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libfreehand-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FREEHAND_CFLAGS=`$PKG_CONFIG --cflags "libfreehand-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$FREEHAND_LIBS"; then
+    pkg_cv_FREEHAND_LIBS="$FREEHAND_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libfreehand-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libfreehand-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FREEHAND_LIBS=`$PKG_CONFIG --libs "libfreehand-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                FREEHAND_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libfreehand-0.1" 2>&1`
+        else
+                FREEHAND_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libfreehand-0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$FREEHAND_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libfreehand-0.1) were not met:
+
+$FREEHAND_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables FREEHAND_CFLAGS
+and FREEHAND_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables FREEHAND_CFLAGS
+and FREEHAND_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        FREEHAND_CFLAGS=$pkg_cv_FREEHAND_CFLAGS
+        FREEHAND_LIBS=$pkg_cv_FREEHAND_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        FREEHAND_CFLAGS=$(printf '%s' "${FREEHAND_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${FREEHAND_LIBS}"
+        FREEHAND_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_FREEHAND=
+        FREEHAND_CFLAGS="${FREEHAND_CFLAGS_internal}"
+        FREEHAND_LIBS="${FREEHAND_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE FREEHAND"
+    fi
+else
+    if test "$found_libfreehand" = yes -a "$enable_libfreehand" != no -a "$with_system_libfreehand" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_FREEHAND=TRUE
+        SYSTEM_FREEHAND=TRUE
+    else
+        ENABLE_FREEHAND=
+        SYSTEM_FREEHAND=
+        FREEHAND_CFLAGS=
+        FREEHAND_LIBS=
+        if test "$test_libfreehand" != no -a "$enable_libfreehand" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libebook="yes";
+
+
+
+
+# Check whether --with-system-libebook was given.
+if test ${with_system_libebook+y}
+then :
+  withval=$with_system_libebook;
+else $as_nop
+
+    if test "${with_system_libebook+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libebook="$with_system_libs";
+    else
+        with_system_libebook="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libebook to use" >&5
+printf %s "checking which libebook to use... " >&6; }
+if test "$test_libebook" != no -a "$found_libebook" != yes -a "$enable_libebook" != no; then
+    ENABLE_EBOOK=TRUE
+    if test "$with_system_libebook" = yes -a "$test_system_libebook" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_EBOOK=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libe-book-0.1" >&5
+printf %s "checking for libe-book-0.1... " >&6; }
+
+if test -n "$EBOOK_CFLAGS"; then
+    pkg_cv_EBOOK_CFLAGS="$EBOOK_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libe-book-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libe-book-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_EBOOK_CFLAGS=`$PKG_CONFIG --cflags "libe-book-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$EBOOK_LIBS"; then
+    pkg_cv_EBOOK_LIBS="$EBOOK_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libe-book-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libe-book-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_EBOOK_LIBS=`$PKG_CONFIG --libs "libe-book-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                EBOOK_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libe-book-0.1" 2>&1`
+        else
+                EBOOK_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libe-book-0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$EBOOK_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libe-book-0.1) were not met:
+
+$EBOOK_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables EBOOK_CFLAGS
+and EBOOK_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables EBOOK_CFLAGS
+and EBOOK_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        EBOOK_CFLAGS=$pkg_cv_EBOOK_CFLAGS
+        EBOOK_LIBS=$pkg_cv_EBOOK_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        EBOOK_CFLAGS=$(printf '%s' "${EBOOK_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${EBOOK_LIBS}"
+        EBOOK_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_EBOOK=
+        EBOOK_CFLAGS="${EBOOK_CFLAGS_internal}"
+        EBOOK_LIBS="${EBOOK_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE EBOOK"
+    fi
+else
+    if test "$found_libebook" = yes -a "$enable_libebook" != no -a "$with_system_libebook" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_EBOOK=TRUE
+        SYSTEM_EBOOK=TRUE
+    else
+        ENABLE_EBOOK=
+        SYSTEM_EBOOK=
+        EBOOK_CFLAGS=
+        EBOOK_LIBS=
+        if test "$test_libebook" != no -a "$enable_libebook" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+    if test -n "$SYSTEM_EBOOK"
+then :
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for EBOOK version" >&5
+printf %s "checking for EBOOK version... " >&6; }
+        if test -n "$PKG_CONFIG"
+then :
+
+            ver=`$PKG_CONFIG --modversion "libe-book-0.1"`
+            if test -n "$ver"
+then :
+
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ver" >&5
+printf "%s\n" "$ver" >&6; }
+
+    save_IFS="$IFS"
+    IFS=.
+    echo "$ver" | while read major minor micro; do
+        printf "%s\n" "#define EBOOK_VERSION_MAJOR $major" >>confdefs.h
+
+        printf "%s\n" "#define EBOOK_VERSION_MINOR $minor" >>confdefs.h
+
+        printf "%s\n" "#define EBOOK_VERSION_MICRO $micro" >>confdefs.h
+
+    done
+    IFS="$save_IFS"
+
+
+else $as_nop
+
+                as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+            as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+
+    printf "%s\n" "#define EBOOK_VERSION_MAJOR 0" >>confdefs.h
+
+    printf "%s\n" "#define EBOOK_VERSION_MINOR 1" >>confdefs.h
+
+    printf "%s\n" "#define EBOOK_VERSION_MICRO 2" >>confdefs.h
+
+
+
+fi
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libabw="yes";
+
+
+
+
+# Check whether --with-system-libabw was given.
+if test ${with_system_libabw+y}
+then :
+  withval=$with_system_libabw;
+else $as_nop
+
+    if test "${with_system_libabw+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libabw="$with_system_libs";
+    else
+        with_system_libabw="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libabw to use" >&5
+printf %s "checking which libabw to use... " >&6; }
+if test "$test_libabw" != no -a "$found_libabw" != yes -a "$enable_libabw" != no; then
+    ENABLE_ABW=TRUE
+    if test "$with_system_libabw" = yes -a "$test_system_libabw" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_ABW=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libabw-0.1" >&5
+printf %s "checking for libabw-0.1... " >&6; }
+
+if test -n "$ABW_CFLAGS"; then
+    pkg_cv_ABW_CFLAGS="$ABW_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libabw-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libabw-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ABW_CFLAGS=`$PKG_CONFIG --cflags "libabw-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ABW_LIBS"; then
+    pkg_cv_ABW_LIBS="$ABW_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libabw-0.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libabw-0.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ABW_LIBS=`$PKG_CONFIG --libs "libabw-0.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ABW_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libabw-0.1" 2>&1`
+        else
+                ABW_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libabw-0.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ABW_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libabw-0.1) were not met:
+
+$ABW_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables ABW_CFLAGS
+and ABW_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables ABW_CFLAGS
+and ABW_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        ABW_CFLAGS=$pkg_cv_ABW_CFLAGS
+        ABW_LIBS=$pkg_cv_ABW_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        ABW_CFLAGS=$(printf '%s' "${ABW_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${ABW_LIBS}"
+        ABW_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_ABW=
+        ABW_CFLAGS="${ABW_CFLAGS_internal}"
+        ABW_LIBS="${ABW_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE ABW"
+    fi
+else
+    if test "$found_libabw" = yes -a "$enable_libabw" != no -a "$with_system_libabw" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_ABW=TRUE
+        SYSTEM_ABW=TRUE
+    else
+        ENABLE_ABW=
+        SYSTEM_ABW=
+        ABW_CFLAGS=
+        ABW_LIBS=
+        if test "$test_libabw" != no -a "$enable_libabw" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libpagemaker="yes";
+
+
+
+
+# Check whether --with-system-libpagemaker was given.
+if test ${with_system_libpagemaker+y}
+then :
+  withval=$with_system_libpagemaker;
+else $as_nop
+
+    if test "${with_system_libpagemaker+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libpagemaker="$with_system_libs";
+    else
+        with_system_libpagemaker="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libpagemaker to use" >&5
+printf %s "checking which libpagemaker to use... " >&6; }
+if test "$test_libpagemaker" != no -a "$found_libpagemaker" != yes -a "$enable_libpagemaker" != no; then
+    ENABLE_PAGEMAKER=TRUE
+    if test "$with_system_libpagemaker" = yes -a "$test_system_libpagemaker" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_PAGEMAKER=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libpagemaker-0.0" >&5
+printf %s "checking for libpagemaker-0.0... " >&6; }
+
+if test -n "$PAGEMAKER_CFLAGS"; then
+    pkg_cv_PAGEMAKER_CFLAGS="$PAGEMAKER_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libpagemaker-0.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libpagemaker-0.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_PAGEMAKER_CFLAGS=`$PKG_CONFIG --cflags "libpagemaker-0.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$PAGEMAKER_LIBS"; then
+    pkg_cv_PAGEMAKER_LIBS="$PAGEMAKER_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libpagemaker-0.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libpagemaker-0.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_PAGEMAKER_LIBS=`$PKG_CONFIG --libs "libpagemaker-0.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                PAGEMAKER_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libpagemaker-0.0" 2>&1`
+        else
+                PAGEMAKER_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libpagemaker-0.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$PAGEMAKER_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libpagemaker-0.0) were not met:
+
+$PAGEMAKER_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables PAGEMAKER_CFLAGS
+and PAGEMAKER_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables PAGEMAKER_CFLAGS
+and PAGEMAKER_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        PAGEMAKER_CFLAGS=$pkg_cv_PAGEMAKER_CFLAGS
+        PAGEMAKER_LIBS=$pkg_cv_PAGEMAKER_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        PAGEMAKER_CFLAGS=$(printf '%s' "${PAGEMAKER_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${PAGEMAKER_LIBS}"
+        PAGEMAKER_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_PAGEMAKER=
+        PAGEMAKER_CFLAGS="${PAGEMAKER_CFLAGS_internal}"
+        PAGEMAKER_LIBS="${PAGEMAKER_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE PAGEMAKER"
+    fi
+else
+    if test "$found_libpagemaker" = yes -a "$enable_libpagemaker" != no -a "$with_system_libpagemaker" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_PAGEMAKER=TRUE
+        SYSTEM_PAGEMAKER=TRUE
+    else
+        ENABLE_PAGEMAKER=
+        SYSTEM_PAGEMAKER=
+        PAGEMAKER_CFLAGS=
+        PAGEMAKER_LIBS=
+        if test "$test_libpagemaker" != no -a "$enable_libpagemaker" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libqxp="yes";
+
+
+
+
+# Check whether --with-system-libqxp was given.
+if test ${with_system_libqxp+y}
+then :
+  withval=$with_system_libqxp;
+else $as_nop
+
+    if test "${with_system_libqxp+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libqxp="$with_system_libs";
+    else
+        with_system_libqxp="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libqxp to use" >&5
+printf %s "checking which libqxp to use... " >&6; }
+if test "$test_libqxp" != no -a "$found_libqxp" != yes -a "$enable_libqxp" != no; then
+    ENABLE_QXP=TRUE
+    if test "$with_system_libqxp" = yes -a "$test_system_libqxp" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_QXP=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libqxp-0.0" >&5
+printf %s "checking for libqxp-0.0... " >&6; }
+
+if test -n "$QXP_CFLAGS"; then
+    pkg_cv_QXP_CFLAGS="$QXP_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libqxp-0.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libqxp-0.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_QXP_CFLAGS=`$PKG_CONFIG --cflags "libqxp-0.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$QXP_LIBS"; then
+    pkg_cv_QXP_LIBS="$QXP_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libqxp-0.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libqxp-0.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_QXP_LIBS=`$PKG_CONFIG --libs "libqxp-0.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                QXP_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libqxp-0.0" 2>&1`
+        else
+                QXP_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libqxp-0.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$QXP_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libqxp-0.0) were not met:
+
+$QXP_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables QXP_CFLAGS
+and QXP_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables QXP_CFLAGS
+and QXP_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        QXP_CFLAGS=$pkg_cv_QXP_CFLAGS
+        QXP_LIBS=$pkg_cv_QXP_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        QXP_CFLAGS=$(printf '%s' "${QXP_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${QXP_LIBS}"
+        QXP_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_QXP=
+        QXP_CFLAGS="${QXP_CFLAGS_internal}"
+        QXP_LIBS="${QXP_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE QXP"
+    fi
+else
+    if test "$found_libqxp" = yes -a "$enable_libqxp" != no -a "$with_system_libqxp" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_QXP=TRUE
+        SYSTEM_QXP=TRUE
+    else
+        ENABLE_QXP=
+        SYSTEM_QXP=
+        QXP_CFLAGS=
+        QXP_LIBS=
+        if test "$test_libqxp" != no -a "$enable_libqxp" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libzmf="yes";
+
+
+
+
+# Check whether --with-system-libzmf was given.
+if test ${with_system_libzmf+y}
+then :
+  withval=$with_system_libzmf;
+else $as_nop
+
+    if test "${with_system_libzmf+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libzmf="$with_system_libs";
+    else
+        with_system_libzmf="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libzmf to use" >&5
+printf %s "checking which libzmf to use... " >&6; }
+if test "$test_libzmf" != no -a "$found_libzmf" != yes -a "$enable_libzmf" != no; then
+    ENABLE_ZMF=TRUE
+    if test "$with_system_libzmf" = yes -a "$test_system_libzmf" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_ZMF=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libzmf-0.0" >&5
+printf %s "checking for libzmf-0.0... " >&6; }
+
+if test -n "$ZMF_CFLAGS"; then
+    pkg_cv_ZMF_CFLAGS="$ZMF_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libzmf-0.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libzmf-0.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ZMF_CFLAGS=`$PKG_CONFIG --cflags "libzmf-0.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ZMF_LIBS"; then
+    pkg_cv_ZMF_LIBS="$ZMF_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libzmf-0.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libzmf-0.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ZMF_LIBS=`$PKG_CONFIG --libs "libzmf-0.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ZMF_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libzmf-0.0" 2>&1`
+        else
+                ZMF_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libzmf-0.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ZMF_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libzmf-0.0) were not met:
+
+$ZMF_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables ZMF_CFLAGS
+and ZMF_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables ZMF_CFLAGS
+and ZMF_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        ZMF_CFLAGS=$pkg_cv_ZMF_CFLAGS
+        ZMF_LIBS=$pkg_cv_ZMF_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        ZMF_CFLAGS=$(printf '%s' "${ZMF_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${ZMF_LIBS}"
+        ZMF_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_ZMF=
+        ZMF_CFLAGS="${ZMF_CFLAGS_internal}"
+        ZMF_LIBS="${ZMF_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE ZMF"
+    fi
+else
+    if test "$found_libzmf" = yes -a "$enable_libzmf" != no -a "$with_system_libzmf" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_ZMF=TRUE
+        SYSTEM_ZMF=TRUE
+    else
+        ENABLE_ZMF=
+        SYSTEM_ZMF=
+        ZMF_CFLAGS=
+        ZMF_LIBS=
+        if test "$test_libzmf" != no -a "$enable_libzmf" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libstaroffice="yes";
+
+
+
+
+# Check whether --with-system-libstaroffice was given.
+if test ${with_system_libstaroffice+y}
+then :
+  withval=$with_system_libstaroffice;
+else $as_nop
+
+    if test "${with_system_libstaroffice+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libstaroffice="$with_system_libs";
+    else
+        with_system_libstaroffice="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libstaroffice to use" >&5
+printf %s "checking which libstaroffice to use... " >&6; }
+if test "$test_libstaroffice" != no -a "$found_libstaroffice" != yes -a "$enable_libstaroffice" != no; then
+    ENABLE_STAROFFICE=TRUE
+    if test "$with_system_libstaroffice" = yes -a "$test_system_libstaroffice" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_STAROFFICE=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libstaroffice-0.0" >&5
+printf %s "checking for libstaroffice-0.0... " >&6; }
+
+if test -n "$STAROFFICE_CFLAGS"; then
+    pkg_cv_STAROFFICE_CFLAGS="$STAROFFICE_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libstaroffice-0.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libstaroffice-0.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_STAROFFICE_CFLAGS=`$PKG_CONFIG --cflags "libstaroffice-0.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$STAROFFICE_LIBS"; then
+    pkg_cv_STAROFFICE_LIBS="$STAROFFICE_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libstaroffice-0.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libstaroffice-0.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_STAROFFICE_LIBS=`$PKG_CONFIG --libs "libstaroffice-0.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                STAROFFICE_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libstaroffice-0.0" 2>&1`
+        else
+                STAROFFICE_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libstaroffice-0.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$STAROFFICE_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libstaroffice-0.0) were not met:
+
+$STAROFFICE_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables STAROFFICE_CFLAGS
+and STAROFFICE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables STAROFFICE_CFLAGS
+and STAROFFICE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        STAROFFICE_CFLAGS=$pkg_cv_STAROFFICE_CFLAGS
+        STAROFFICE_LIBS=$pkg_cv_STAROFFICE_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        STAROFFICE_CFLAGS=$(printf '%s' "${STAROFFICE_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${STAROFFICE_LIBS}"
+        STAROFFICE_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_STAROFFICE=
+        STAROFFICE_CFLAGS="${STAROFFICE_CFLAGS_internal}"
+        STAROFFICE_LIBS="${STAROFFICE_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE STAROFFICE"
+    fi
+else
+    if test "$found_libstaroffice" = yes -a "$enable_libstaroffice" != no -a "$with_system_libstaroffice" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_STAROFFICE=TRUE
+        SYSTEM_STAROFFICE=TRUE
+    else
+        ENABLE_STAROFFICE=
+        SYSTEM_STAROFFICE=
+        STAROFFICE_CFLAGS=
+        STAROFFICE_LIBS=
+        if test "$test_libstaroffice" != no -a "$enable_libstaroffice" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+    if test -n "$SYSTEM_STAROFFICE"
+then :
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for STAROFFICE version" >&5
+printf %s "checking for STAROFFICE version... " >&6; }
+        if test -n "$PKG_CONFIG"
+then :
+
+            ver=`$PKG_CONFIG --modversion "libstaroffice-0.0"`
+            if test -n "$ver"
+then :
+
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ver" >&5
+printf "%s\n" "$ver" >&6; }
+
+    save_IFS="$IFS"
+    IFS=.
+    echo "$ver" | while read major minor micro; do
+        printf "%s\n" "#define STAROFFICE_VERSION_MAJOR $major" >>confdefs.h
+
+        printf "%s\n" "#define STAROFFICE_VERSION_MINOR $minor" >>confdefs.h
+
+        printf "%s\n" "#define STAROFFICE_VERSION_MICRO $micro" >>confdefs.h
+
+    done
+    IFS="$save_IFS"
+
+
+else $as_nop
+
+                as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+            as_fn_error $? "not found" "$LINENO" 5
+
+fi
+
+else $as_nop
+
+
+    printf "%s\n" "#define STAROFFICE_VERSION_MAJOR 0" >>confdefs.h
+
+    printf "%s\n" "#define STAROFFICE_VERSION_MINOR 0" >>confdefs.h
+
+    printf "%s\n" "#define STAROFFICE_VERSION_MICRO 7" >>confdefs.h
+
+
+
+fi
+
+
+if test "$with_system_lcms2" != "yes"; then
+    SYSTEM_LCMS2=
+fi
+LCMS2_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/lcms2/include"
+LCMS2_LIBS_internal="-L${WORKDIR}/UnpackedTarball/lcms2/src/.libs -llcms2"
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_lcms2="yes";
+
+
+
+
+# Check whether --with-system-lcms2 was given.
+if test ${with_system_lcms2+y}
+then :
+  withval=$with_system_lcms2;
+else $as_nop
+
+    if test "${with_system_lcms2+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_lcms2="$with_system_libs";
+    else
+        with_system_lcms2="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which lcms2 to use" >&5
+printf %s "checking which lcms2 to use... " >&6; }
+if test "$test_lcms2" != no -a "$found_lcms2" != yes -a "$enable_lcms2" != no; then
+    ENABLE_LCMS2=TRUE
+    if test "$with_system_lcms2" = yes -a "$test_system_lcms2" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LCMS2=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for lcms2" >&5
+printf %s "checking for lcms2... " >&6; }
+
+if test -n "$LCMS2_CFLAGS"; then
+    pkg_cv_LCMS2_CFLAGS="$LCMS2_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"lcms2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "lcms2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LCMS2_CFLAGS=`$PKG_CONFIG --cflags "lcms2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LCMS2_LIBS"; then
+    pkg_cv_LCMS2_LIBS="$LCMS2_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"lcms2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "lcms2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LCMS2_LIBS=`$PKG_CONFIG --libs "lcms2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LCMS2_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "lcms2" 2>&1`
+        else
+                LCMS2_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "lcms2" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LCMS2_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (lcms2) were not met:
+
+$LCMS2_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LCMS2_CFLAGS
+and LCMS2_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LCMS2_CFLAGS
+and LCMS2_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LCMS2_CFLAGS=$pkg_cv_LCMS2_CFLAGS
+        LCMS2_LIBS=$pkg_cv_LCMS2_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LCMS2_CFLAGS=$(printf '%s' "${LCMS2_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LCMS2_LIBS}"
+        LCMS2_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LCMS2=
+        LCMS2_CFLAGS="${LCMS2_CFLAGS_internal}"
+        LCMS2_LIBS="${LCMS2_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE LCMS2"
+    fi
+else
+    if test "$found_lcms2" = yes -a "$enable_lcms2" != no -a "$with_system_lcms2" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_LCMS2=TRUE
+        SYSTEM_LCMS2=TRUE
+    else
+        ENABLE_LCMS2=
+        SYSTEM_LCMS2=
+        LCMS2_CFLAGS=
+        LCMS2_LIBS=
+        if test "$test_lcms2" != no -a "$enable_lcms2" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+if test "$GCC" = "yes"; then
+    LCMS2_CFLAGS="${LCMS2_CFLAGS} -Wno-long-long"
+fi
+if test "$COM" = "MSC"; then # override the above
+    LCMS2_LIBS=${WORKDIR}/UnpackedTarball/lcms2/bin/lcms2.lib
+fi
+
+if test "$_os" != "Android" ; then
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_cppunit="yes";
+
+
+
+
+# Check whether --with-system-cppunit was given.
+if test ${with_system_cppunit+y}
+then :
+  withval=$with_system_cppunit;
+else $as_nop
+
+    if test "${with_system_cppunit+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_cppunit="$with_system_libs";
+    else
+        with_system_cppunit="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which cppunit to use" >&5
+printf %s "checking which cppunit to use... " >&6; }
+if test "$test_cppunit" != no -a "$found_cppunit" != yes -a "$enable_cppunit" != no; then
+    ENABLE_CPPUNIT=TRUE
+    if test "$with_system_cppunit" = yes -a "$test_system_cppunit" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_CPPUNIT=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for cppunit >= 1.14.0" >&5
+printf %s "checking for cppunit >= 1.14.0... " >&6; }
+
+if test -n "$CPPUNIT_CFLAGS"; then
+    pkg_cv_CPPUNIT_CFLAGS="$CPPUNIT_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"cppunit >= 1.14.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "cppunit >= 1.14.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CPPUNIT_CFLAGS=`$PKG_CONFIG --cflags "cppunit >= 1.14.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$CPPUNIT_LIBS"; then
+    pkg_cv_CPPUNIT_LIBS="$CPPUNIT_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"cppunit >= 1.14.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "cppunit >= 1.14.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CPPUNIT_LIBS=`$PKG_CONFIG --libs "cppunit >= 1.14.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                CPPUNIT_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "cppunit >= 1.14.0" 2>&1`
+        else
+                CPPUNIT_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "cppunit >= 1.14.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$CPPUNIT_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (cppunit >= 1.14.0) were not met:
+
+$CPPUNIT_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables CPPUNIT_CFLAGS
+and CPPUNIT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables CPPUNIT_CFLAGS
+and CPPUNIT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        CPPUNIT_CFLAGS=$pkg_cv_CPPUNIT_CFLAGS
+        CPPUNIT_LIBS=$pkg_cv_CPPUNIT_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        CPPUNIT_CFLAGS=$(printf '%s' "${CPPUNIT_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${CPPUNIT_LIBS}"
+        CPPUNIT_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_CPPUNIT=
+        CPPUNIT_CFLAGS="${CPPUNIT_CFLAGS_internal}"
+        CPPUNIT_LIBS="${CPPUNIT_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE CPPUNIT"
+    fi
+else
+    if test "$found_cppunit" = yes -a "$enable_cppunit" != no -a "$with_system_cppunit" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_CPPUNIT=TRUE
+        SYSTEM_CPPUNIT=TRUE
+    else
+        ENABLE_CPPUNIT=
+        SYSTEM_CPPUNIT=
+        CPPUNIT_CFLAGS=
+        CPPUNIT_LIBS=
+        if test "$test_cppunit" != no -a "$enable_cppunit" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+fi
+
+FREETYPE_CFLAGS_internal="${ISYSTEM}${WORKDIR}/UnpackedTarball/freetype/include"
+if test "x$ac_config_site_64bit_host" = xYES; then
+    FREETYPE_LIBS_internal="-L${WORKDIR}/UnpackedTarball/freetype/instdir/lib64 -lfreetype"
+else
+    FREETYPE_LIBS_internal="-L${WORKDIR}/UnpackedTarball/freetype/instdir/lib -lfreetype"
+fi
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_freetype="yes";
+
+
+
+# Check whether --with-system-freetype was given.
+if test ${with_system_freetype+y}
+then :
+  withval=$with_system_freetype;
+else $as_nop
+
+    if test "${with_system_freetype+set}" != set -a "${with_system_libs+set}" = set -a "TRUE" != TRUE; then
+        with_system_freetype="$with_system_libs";
+    else
+        with_system_freetype="yes"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which freetype to use" >&5
+printf %s "checking which freetype to use... " >&6; }
+if test "$test_freetype" != no -a "$found_freetype" != yes -a "$enable_freetype" != no; then
+    ENABLE_FREETYPE=TRUE
+    if test "$with_system_freetype" = yes -a "$test_system_freetype" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_FREETYPE=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for freetype2 >= 9.9.3" >&5
+printf %s "checking for freetype2 >= 9.9.3... " >&6; }
+
+if test -n "$FREETYPE_CFLAGS"; then
+    pkg_cv_FREETYPE_CFLAGS="$FREETYPE_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"freetype2 >= 9.9.3\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "freetype2 >= 9.9.3") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FREETYPE_CFLAGS=`$PKG_CONFIG --cflags "freetype2 >= 9.9.3" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$FREETYPE_LIBS"; then
+    pkg_cv_FREETYPE_LIBS="$FREETYPE_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"freetype2 >= 9.9.3\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "freetype2 >= 9.9.3") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FREETYPE_LIBS=`$PKG_CONFIG --libs "freetype2 >= 9.9.3" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                FREETYPE_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "freetype2 >= 9.9.3" 2>&1`
+        else
+                FREETYPE_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "freetype2 >= 9.9.3" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$FREETYPE_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (freetype2 >= 9.9.3) were not met:
+
+$FREETYPE_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables FREETYPE_CFLAGS
+and FREETYPE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables FREETYPE_CFLAGS
+and FREETYPE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        FREETYPE_CFLAGS=$pkg_cv_FREETYPE_CFLAGS
+        FREETYPE_LIBS=$pkg_cv_FREETYPE_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        FREETYPE_CFLAGS=$(printf '%s' "${FREETYPE_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${FREETYPE_LIBS}"
+        FREETYPE_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_FREETYPE=
+        FREETYPE_CFLAGS="${FREETYPE_CFLAGS_internal}"
+        FREETYPE_LIBS="${FREETYPE_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE FREETYPE"
+    fi
+else
+    if test "$found_freetype" = yes -a "$enable_freetype" != no -a "$with_system_freetype" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_FREETYPE=TRUE
+        SYSTEM_FREETYPE=TRUE
+    else
+        ENABLE_FREETYPE=
+        SYSTEM_FREETYPE=
+        FREETYPE_CFLAGS=
+        FREETYPE_LIBS=
+        if test "$test_freetype" != no -a "$enable_freetype" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+# ===================================================================
+# Check for system libxslt
+# to prevent incompatibilities between internal libxml2 and external libxslt,
+# or vice versa, use with_system_libxml here
+# ===================================================================
+if test "$with_system_libxml" = "auto"; then
+    case "$_os" in
+    WINNT|iOS|Android)
+        with_system_libxml="$with_system_libs"
+        ;;
+    Emscripten)
+        with_system_libxml=no
+        ;;
+    *)
+        if test "$enable_fuzzers" != "yes"; then
+            with_system_libxml=yes
+        else
+            with_system_libxml=no
+        fi
+        ;;
+    esac
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libxslt to use" >&5
+printf %s "checking which libxslt to use... " >&6; }
+if test "$with_system_libxml" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_LIBXSLT=TRUE
+    if test "$_os" = "Darwin"; then
+                LIBXSLT_CFLAGS="-I$MACOSX_SDK_PATH/usr/include/libxml2"
+        LIBEXSLT_CFLAGS="$LIBXSLT_CFLAGS"
+                LIBXSLT_LIBS="-lxslt -lxml2 -lz -lpthread -liconv -lm"
+        LIBEXSLT_LIBS="-lexslt $LIBXSLT_LIBS"
+    else
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libxslt" >&5
+printf %s "checking for libxslt... " >&6; }
+
+if test -n "$LIBXSLT_CFLAGS"; then
+    pkg_cv_LIBXSLT_CFLAGS="$LIBXSLT_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libxslt\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libxslt") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBXSLT_CFLAGS=`$PKG_CONFIG --cflags "libxslt" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBXSLT_LIBS"; then
+    pkg_cv_LIBXSLT_LIBS="$LIBXSLT_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libxslt\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libxslt") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBXSLT_LIBS=`$PKG_CONFIG --libs "libxslt" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBXSLT_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libxslt" 2>&1`
+        else
+                LIBXSLT_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libxslt" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBXSLT_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libxslt) were not met:
+
+$LIBXSLT_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBXSLT_CFLAGS
+and LIBXSLT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBXSLT_CFLAGS
+and LIBXSLT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBXSLT_CFLAGS=$pkg_cv_LIBXSLT_CFLAGS
+        LIBXSLT_LIBS=$pkg_cv_LIBXSLT_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBXSLT_CFLAGS=$(printf '%s' "$LIBXSLT_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBXSLT_LIBS}"
+        LIBXSLT_LIBS="${filteredlibs}"
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libexslt" >&5
+printf %s "checking for libexslt... " >&6; }
+
+if test -n "$LIBEXSLT_CFLAGS"; then
+    pkg_cv_LIBEXSLT_CFLAGS="$LIBEXSLT_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libexslt\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libexslt") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBEXSLT_CFLAGS=`$PKG_CONFIG --cflags "libexslt" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBEXSLT_LIBS"; then
+    pkg_cv_LIBEXSLT_LIBS="$LIBEXSLT_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libexslt\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libexslt") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBEXSLT_LIBS=`$PKG_CONFIG --libs "libexslt" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBEXSLT_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libexslt" 2>&1`
+        else
+                LIBEXSLT_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libexslt" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBEXSLT_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libexslt) were not met:
+
+$LIBEXSLT_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBEXSLT_CFLAGS
+and LIBEXSLT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBEXSLT_CFLAGS
+and LIBEXSLT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBEXSLT_CFLAGS=$pkg_cv_LIBEXSLT_CFLAGS
+        LIBEXSLT_LIBS=$pkg_cv_LIBEXSLT_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBEXSLT_CFLAGS=$(printf '%s' "$LIBEXSLT_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBEXSLT_LIBS}"
+        LIBEXSLT_LIBS=$(printf '%s' "${filteredlibs}" | sed -e "s/-lgpg-error//"  -e "s/-lgcrypt//")
+    fi
+
+        # Extract the first word of "xsltproc", so it can be a program name with args.
+set dummy xsltproc; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_XSLTPROC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $XSLTPROC in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_XSLTPROC="$XSLTPROC" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_XSLTPROC="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_XSLTPROC" && ac_cv_path_XSLTPROC="no"
+  ;;
+esac
+fi
+XSLTPROC=$ac_cv_path_XSLTPROC
+if test -n "$XSLTPROC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $XSLTPROC" >&5
+printf "%s\n" "$XSLTPROC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    if test "$XSLTPROC" = "no"; then
+        as_fn_error $? "xsltproc is required" "$LINENO" 5
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    SYSTEM_LIBXSLT=
+    BUILD_TYPE="$BUILD_TYPE LIBXSLT"
+fi
+
+if test -z "$SYSTEM_LIBXSLT_FOR_BUILD"; then
+    SYSTEM_LIBXSLT_FOR_BUILD="$SYSTEM_LIBXSLT"
+fi
+
+
+
+
+
+
+
+
+# ===================================================================
+# Check for system libxml
+# ===================================================================
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libxml to use" >&5
+printf %s "checking which libxml to use... " >&6; }
+if test "$with_system_libxml" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_LIBXML=TRUE
+    if test "$_os" = "Darwin"; then
+                LIBXML_CFLAGS="-I$MACOSX_SDK_PATH/usr/include/libxml2"
+                LIBXML_LIBS="-lxml2 -lz -lpthread -liconv -lm"
+    elif test $_os = iOS; then
+                usr=`echo '#include <stdlib.h>' | $CC -E -MD - | grep usr/include/stdlib.h | head -1 | sed -e 's,# 1 ",,' -e 's,/usr/include/.*,/usr,'`
+        LIBXML_CFLAGS="-I$usr/include/libxml2"
+        LIBXML_LIBS="-L$usr/lib -lxml2 -liconv"
+    else
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libxml-2.0 >= 2.0" >&5
+printf %s "checking for libxml-2.0 >= 2.0... " >&6; }
+
+if test -n "$LIBXML_CFLAGS"; then
+    pkg_cv_LIBXML_CFLAGS="$LIBXML_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libxml-2.0 >= 2.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libxml-2.0 >= 2.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBXML_CFLAGS=`$PKG_CONFIG --cflags "libxml-2.0 >= 2.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBXML_LIBS"; then
+    pkg_cv_LIBXML_LIBS="$LIBXML_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libxml-2.0 >= 2.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libxml-2.0 >= 2.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBXML_LIBS=`$PKG_CONFIG --libs "libxml-2.0 >= 2.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBXML_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libxml-2.0 >= 2.0" 2>&1`
+        else
+                LIBXML_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libxml-2.0 >= 2.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBXML_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libxml-2.0 >= 2.0) were not met:
+
+$LIBXML_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBXML_CFLAGS
+and LIBXML_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBXML_CFLAGS
+and LIBXML_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBXML_CFLAGS=$pkg_cv_LIBXML_CFLAGS
+        LIBXML_LIBS=$pkg_cv_LIBXML_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBXML_CFLAGS=$(printf '%s' "$LIBXML_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBXML_LIBS}"
+        LIBXML_LIBS="${filteredlibs}"
+    fi
+
+        # Extract the first word of "xmllint", so it can be a program name with args.
+set dummy xmllint; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_XMLLINT+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $XMLLINT in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_XMLLINT="$XMLLINT" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_XMLLINT="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_XMLLINT" && ac_cv_path_XMLLINT="no"
+  ;;
+esac
+fi
+XMLLINT=$ac_cv_path_XMLLINT
+if test -n "$XMLLINT"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $XMLLINT" >&5
+printf "%s\n" "$XMLLINT" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    if test "$XMLLINT" = "no"; then
+        as_fn_error $? "xmllint is required" "$LINENO" 5
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    SYSTEM_LIBXML=
+    LIBXML_CFLAGS="-I${WORKDIR}/UnpackedTarball/libxml2/include"
+    if test "$COM" = "MSC"; then
+        LIBXML_CFLAGS="${LIBXML_CFLAGS} -I${WORKDIR}/UnpackedTarball/icu/source/i18n -I${WORKDIR}/UnpackedTarball/icu/source/common"
+    fi
+    if test "$COM" = "MSC"; then
+        LIBXML_LIBS="${WORKDIR}/UnpackedTarball/libxml2/win32/bin.msvc/libxml2.lib"
+    else
+        LIBXML_LIBS="-L${WORKDIR}/UnpackedTarball/libxml2/.libs -lxml2"
+        if test "$DISABLE_DYNLOADING" = TRUE; then
+            LIBXML_LIBS="$LIBXML_LIBS -lm"
+        fi
+    fi
+    BUILD_TYPE="$BUILD_TYPE LIBXML2"
+fi
+
+if test -z "$SYSTEM_LIBXML_FOR_BUILD"; then
+    SYSTEM_LIBXML_FOR_BUILD="$SYSTEM_LIBXML"
+fi
+
+
+
+
+
+# =====================================================================
+# Checking for a Python interpreter with version >= 3.3.
+# Optionally user can pass an option to configure, i. e.
+# ./configure PYTHON=/usr/bin/python
+# =====================================================================
+if test $_os = Darwin -a "$enable_python" != no -a "$enable_python" != fully-internal -a "$enable_python" != internal -a "$enable_python" != system; then
+    # Only allowed choices for macOS are 'no', 'internal' (default), and 'fully-internal'
+    # unless PYTHON is defined as above which allows 'system'
+    enable_python=internal
+fi
+if test "$build_os" != "cygwin" -a "$enable_python" != fully-internal; then
+    if test -n "$PYTHON"; then
+        PYTHON_FOR_BUILD=$PYTHON
+    else
+        # This allows a lack of system python with no error, we use internal one in that case.
+
+
+
+
+
+
+        if test -n "$PYTHON"; then
+      # If the user set $PYTHON, use it and don't search something else.
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $PYTHON version is >= 3.3" >&5
+printf %s "checking whether $PYTHON version is >= 3.3... " >&6; }
+      prog="import sys
+# split strings by '.' and convert to numeric.  Append some zeros
+# because we need at least 4 digits for the hex conversion.
+# map returns an iterator in Python 3.0 and a list in 2.x
+minver = list(map(int, '3.3'.split('.'))) + [0, 0, 0]
+minverhex = 0
+# xrange is not present in Python 3.0 and range returns an iterator
+for i in list(range(0, 4)): minverhex = (minverhex << 8) + minver[i]
+sys.exit(sys.hexversion < minverhex)"
+  if { echo "$as_me:$LINENO: $PYTHON -c "$prog"" >&5
+   ($PYTHON -c "$prog") >&5 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+			       as_fn_error $? "Python interpreter is too old" "$LINENO" 5
+fi
+      am_display_PYTHON=$PYTHON
+    else
+      # Otherwise, try each interpreter until we find one that satisfies
+      # VERSION.
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a Python interpreter with version >= 3.3" >&5
+printf %s "checking for a Python interpreter with version >= 3.3... " >&6; }
+if test ${am_cv_pathless_PYTHON+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+
+	for am_cv_pathless_PYTHON in python python2 python3  python3.11 python3.10  python3.9 python3.8 python3.7 python3.6 python3.5 python3.4 python3.3  python3.2 python3.1 python3.0  python2.7 python2.6 python2.5 python2.4 python2.3 python2.2 python2.1  python2.0 none; do
+	  test "$am_cv_pathless_PYTHON" = none && break
+	  prog="import sys
+# split strings by '.' and convert to numeric.  Append some zeros
+# because we need at least 4 digits for the hex conversion.
+# map returns an iterator in Python 3.0 and a list in 2.x
+minver = list(map(int, '3.3'.split('.'))) + [0, 0, 0]
+minverhex = 0
+# xrange is not present in Python 3.0 and range returns an iterator
+for i in list(range(0, 4)): minverhex = (minverhex << 8) + minver[i]
+sys.exit(sys.hexversion < minverhex)"
+  if { echo "$as_me:$LINENO: $am_cv_pathless_PYTHON -c "$prog"" >&5
+   ($am_cv_pathless_PYTHON -c "$prog") >&5 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }
+then :
+  break
+fi
+	done
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_pathless_PYTHON" >&5
+printf "%s\n" "$am_cv_pathless_PYTHON" >&6; }
+      # Set $PYTHON to the absolute path of $am_cv_pathless_PYTHON.
+      if test "$am_cv_pathless_PYTHON" = none; then
+	PYTHON=:
+      else
+        # Extract the first word of "$am_cv_pathless_PYTHON", so it can be a program name with args.
+set dummy $am_cv_pathless_PYTHON; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_PYTHON+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $PYTHON in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PYTHON="$PYTHON" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_PYTHON="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PYTHON=$ac_cv_path_PYTHON
+if test -n "$PYTHON"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PYTHON" >&5
+printf "%s\n" "$PYTHON" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+      fi
+      am_display_PYTHON=$am_cv_pathless_PYTHON
+    fi
+
+
+  if test "$PYTHON" = :; then
+        :
+  else
+
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON version" >&5
+printf %s "checking for $am_display_PYTHON version... " >&6; }
+if test ${am_cv_python_version+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_version=`$PYTHON -c "import sys; print ('%u.%u' % sys.version_info[:2])"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_version" >&5
+printf "%s\n" "$am_cv_python_version" >&6; }
+  PYTHON_VERSION=$am_cv_python_version
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON platform" >&5
+printf %s "checking for $am_display_PYTHON platform... " >&6; }
+if test ${am_cv_python_platform+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_platform=`$PYTHON -c "import sys; sys.stdout.write(sys.platform)"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_platform" >&5
+printf "%s\n" "$am_cv_python_platform" >&6; }
+  PYTHON_PLATFORM=$am_cv_python_platform
+
+
+                            if test "x$prefix" = xNONE; then
+    am__usable_prefix=$ac_default_prefix
+  else
+    am__usable_prefix=$prefix
+  fi
+
+  # Allow user to request using sys.* values from Python,
+  # instead of the GNU $prefix values.
+
+# Check whether --with-python-sys-prefix was given.
+if test ${with_python_sys_prefix+y}
+then :
+  withval=$with_python_sys_prefix; am_use_python_sys=:
+else $as_nop
+  am_use_python_sys=false
+fi
+
+
+  # Allow user to override whatever the default Python prefix is.
+
+# Check whether --with-python_prefix was given.
+if test ${with_python_prefix+y}
+then :
+  withval=$with_python_prefix; am_python_prefix_subst=$withval
+   am_cv_python_prefix=$withval
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit $am_display_PYTHON prefix" >&5
+printf %s "checking for explicit $am_display_PYTHON prefix... " >&6; }
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_prefix" >&5
+printf "%s\n" "$am_cv_python_prefix" >&6; }
+else $as_nop
+
+   if $am_use_python_sys; then
+     # using python sys.prefix value, not GNU
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python default $am_display_PYTHON prefix" >&5
+printf %s "checking for python default $am_display_PYTHON prefix... " >&6; }
+if test ${am_cv_python_prefix+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_prefix=`$PYTHON -c "import sys; sys.stdout.write(sys.prefix)"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_prefix" >&5
+printf "%s\n" "$am_cv_python_prefix" >&6; }
+
+               case $am_cv_python_prefix in
+     $am__usable_prefix*)
+       am__strip_prefix=`echo "$am__usable_prefix" | sed 's|.|.|g'`
+       am_python_prefix_subst=`echo "$am_cv_python_prefix" | sed "s,^$am__strip_prefix,\\${prefix},"`
+       ;;
+     *)
+       am_python_prefix_subst=$am_cv_python_prefix
+       ;;
+     esac
+   else # using GNU prefix value, not python sys.prefix
+     am_python_prefix_subst='${prefix}'
+     am_python_prefix=$am_python_prefix_subst
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for GNU default $am_display_PYTHON prefix" >&5
+printf %s "checking for GNU default $am_display_PYTHON prefix... " >&6; }
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_python_prefix" >&5
+printf "%s\n" "$am_python_prefix" >&6; }
+   fi
+fi
+
+  # Substituting python_prefix_subst value.
+  PYTHON_PREFIX=$am_python_prefix_subst
+
+
+  # emacs-page Now do it all over again for Python exec_prefix, but with yet
+  # another conditional: fall back to regular prefix if that was specified.
+
+# Check whether --with-python_exec_prefix was given.
+if test ${with_python_exec_prefix+y}
+then :
+  withval=$with_python_exec_prefix; am_python_exec_prefix_subst=$withval
+   am_cv_python_exec_prefix=$withval
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for explicit $am_display_PYTHON exec_prefix... " >&6; }
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_exec_prefix" >&5
+printf "%s\n" "$am_cv_python_exec_prefix" >&6; }
+else $as_nop
+
+   # no explicit --with-python_exec_prefix, but if
+   # --with-python_prefix was given, use its value for python_exec_prefix too.
+   if test -n "$with_python_prefix"
+then :
+  am_python_exec_prefix_subst=$with_python_prefix
+    am_cv_python_exec_prefix=$with_python_prefix
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python_prefix-given $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for python_prefix-given $am_display_PYTHON exec_prefix... " >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_exec_prefix" >&5
+printf "%s\n" "$am_cv_python_exec_prefix" >&6; }
+else $as_nop
+
+    # Set am__usable_exec_prefix whether using GNU or Python values,
+    # since we use that variable for pyexecdir.
+    if test "x$exec_prefix" = xNONE; then
+      am__usable_exec_prefix=$am__usable_prefix
+    else
+      am__usable_exec_prefix=$exec_prefix
+    fi
+    #
+    if $am_use_python_sys; then # using python sys.exec_prefix, not GNU
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python default $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for python default $am_display_PYTHON exec_prefix... " >&6; }
+if test ${am_cv_python_exec_prefix+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_exec_prefix=`$PYTHON -c "import sys; sys.stdout.write(sys.exec_prefix)"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_exec_prefix" >&5
+printf "%s\n" "$am_cv_python_exec_prefix" >&6; }
+                        case $am_cv_python_exec_prefix in
+      $am__usable_exec_prefix*)
+        am__strip_prefix=`echo "$am__usable_exec_prefix" | sed 's|.|.|g'`
+        am_python_exec_prefix_subst=`echo "$am_cv_python_exec_prefix" | sed "s,^$am__strip_prefix,\\${exec_prefix},"`
+        ;;
+      *)
+        am_python_exec_prefix_subst=$am_cv_python_exec_prefix
+        ;;
+     esac
+   else # using GNU $exec_prefix, not python sys.exec_prefix
+     am_python_exec_prefix_subst='${exec_prefix}'
+     am_python_exec_prefix=$am_python_exec_prefix_subst
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for GNU default $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for GNU default $am_display_PYTHON exec_prefix... " >&6; }
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_python_exec_prefix" >&5
+printf "%s\n" "$am_python_exec_prefix" >&6; }
+   fi
+fi
+fi
+
+  # Substituting python_exec_prefix_subst.
+  PYTHON_EXEC_PREFIX=$am_python_exec_prefix_subst
+
+
+  # Factor out some code duplication into this shell variable.
+  am_python_setup_sysconfig="\
+import sys
+# Prefer sysconfig over distutils.sysconfig, for better compatibility
+# with python 3.x.  See automake bug#10227.
+try:
+    import sysconfig
+except ImportError:
+    can_use_sysconfig = 0
+else:
+    can_use_sysconfig = 1
+# Can't use sysconfig in CPython 2.7, since it's broken in virtualenvs:
+# <https://github.com/pypa/virtualenv/issues/118>
+try:
+    from platform import python_implementation
+    if python_implementation() == 'CPython' and sys.version[:3] == '2.7':
+        can_use_sysconfig = 0
+except ImportError:
+    pass"
+
+
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON script directory (pythondir)" >&5
+printf %s "checking for $am_display_PYTHON script directory (pythondir)... " >&6; }
+if test ${am_cv_python_pythondir+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test "x$am_cv_python_prefix" = x; then
+     am_py_prefix=$am__usable_prefix
+   else
+     am_py_prefix=$am_cv_python_prefix
+   fi
+   am_cv_python_pythondir=`$PYTHON -c "
+$am_python_setup_sysconfig
+if can_use_sysconfig:
+  if hasattr(sysconfig, 'get_default_scheme'):
+    scheme = sysconfig.get_default_scheme()
+  else:
+    scheme = sysconfig._get_default_scheme()
+  if scheme == 'posix_local':
+    # Debian's default scheme installs to /usr/local/ but we want to find headers in /usr/
+    scheme = 'posix_prefix'
+  sitedir = sysconfig.get_path('purelib', scheme, vars={'base':'$am_py_prefix'})
+else:
+  from distutils import sysconfig
+  sitedir = sysconfig.get_python_lib(0, 0, prefix='$am_py_prefix')
+sys.stdout.write(sitedir)"`
+   #
+   case $am_cv_python_pythondir in
+   $am_py_prefix*)
+     am__strip_prefix=`echo "$am_py_prefix" | sed 's|.|.|g'`
+     am_cv_python_pythondir=`echo "$am_cv_python_pythondir" | sed "s,^$am__strip_prefix,\\${PYTHON_PREFIX},"`
+     ;;
+   *)
+     case $am_py_prefix in
+       /usr|/System*) ;;
+       *) am_cv_python_pythondir="\${PYTHON_PREFIX}/lib/python$PYTHON_VERSION/site-packages"
+          ;;
+     esac
+     ;;
+   esac
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_pythondir" >&5
+printf "%s\n" "$am_cv_python_pythondir" >&6; }
+  pythondir=$am_cv_python_pythondir
+
+
+          pkgpythondir=\${pythondir}/$PACKAGE
+
+
+          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON extension module directory (pyexecdir)" >&5
+printf %s "checking for $am_display_PYTHON extension module directory (pyexecdir)... " >&6; }
+if test ${am_cv_python_pyexecdir+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test "x$am_cv_python_exec_prefix" = x; then
+     am_py_exec_prefix=$am__usable_exec_prefix
+   else
+     am_py_exec_prefix=$am_cv_python_exec_prefix
+   fi
+   am_cv_python_pyexecdir=`$PYTHON -c "
+$am_python_setup_sysconfig
+if can_use_sysconfig:
+  if hasattr(sysconfig, 'get_default_scheme'):
+    scheme = sysconfig.get_default_scheme()
+  else:
+    scheme = sysconfig._get_default_scheme()
+  if scheme == 'posix_local':
+    # Debian's default scheme installs to /usr/local/ but we want to find headers in /usr/
+    scheme = 'posix_prefix'
+  sitedir = sysconfig.get_path('platlib', scheme, vars={'platbase':'$am_py_exec_prefix'})
+else:
+  from distutils import sysconfig
+  sitedir = sysconfig.get_python_lib(1, 0, prefix='$am_py_exec_prefix')
+sys.stdout.write(sitedir)"`
+   #
+   case $am_cv_python_pyexecdir in
+   $am_py_exec_prefix*)
+     am__strip_prefix=`echo "$am_py_exec_prefix" | sed 's|.|.|g'`
+     am_cv_python_pyexecdir=`echo "$am_cv_python_pyexecdir" | sed "s,^$am__strip_prefix,\\${PYTHON_EXEC_PREFIX},"`
+     ;;
+   *)
+     case $am_py_exec_prefix in
+       /usr|/System*) ;;
+       *) am_cv_python_pyexecdir="\${PYTHON_EXEC_PREFIX}/lib/python$PYTHON_VERSION/site-packages"
+          ;;
+     esac
+     ;;
+   esac
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_pyexecdir" >&5
+printf "%s\n" "$am_cv_python_pyexecdir" >&6; }
+  pyexecdir=$am_cv_python_pyexecdir
+
+
+      pkgpyexecdir=\${pyexecdir}/$PACKAGE
+
+
+
+  fi
+
+        # Clean PYTHON_VERSION checked below if cross-compiling
+        PYTHON_VERSION=""
+        if test "$PYTHON" != ":"; then
+            PYTHON_FOR_BUILD=$PYTHON
+        fi
+    fi
+fi
+
+# Checks for Python to use for Pyuno
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which Python to use for Pyuno" >&5
+printf %s "checking which Python to use for Pyuno... " >&6; }
+case "$enable_python" in
+no|disable)
+    if test -z "$PYTHON_FOR_BUILD" -a "$cross_compiling" != yes; then
+        # Python is required to build LibreOffice. In theory we could separate the build-time Python
+        # requirement from the choice whether to include Python stuff in the installer, but why
+        # bother?
+        as_fn_error $? "Python is required at build time." "$LINENO" 5
+    fi
+    enable_python=no
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none" >&5
+printf "%s\n" "none" >&6; }
+    ;;
+""|yes|auto)
+    if test "$DISABLE_SCRIPTING" = TRUE; then
+        if test -z "$PYTHON_FOR_BUILD" -a "$cross_compiling" != yes; then
+            as_fn_error $? "Python support can't be disabled without cross-compiling or a system python." "$LINENO" 5
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none, overridden by --disable-scripting" >&5
+printf "%s\n" "none, overridden by --disable-scripting" >&6; }
+        enable_python=no
+    elif test $build_os = cygwin -o $build_os = wsl; then
+                        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: fully internal" >&5
+printf "%s\n" "fully internal" >&6; }
+        enable_python=internal
+    elif test "$cross_compiling" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: system" >&5
+printf "%s\n" "system" >&6; }
+        enable_python=system
+    else
+        # Unset variables set by the above AM_PATH_PYTHON so that
+        # we actually do check anew.
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: " >&5
+printf "%s\n" "" >&6; }
+        unset PYTHON am_cv_pathless_PYTHON ac_cv_path_PYTHON am_cv_python_version am_cv_python_platform am_cv_python_pythondir am_cv_python_pyexecdir
+
+
+
+
+
+
+        if test -n "$PYTHON"; then
+      # If the user set $PYTHON, use it and don't search something else.
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $PYTHON version is >= 3.3" >&5
+printf %s "checking whether $PYTHON version is >= 3.3... " >&6; }
+      prog="import sys
+# split strings by '.' and convert to numeric.  Append some zeros
+# because we need at least 4 digits for the hex conversion.
+# map returns an iterator in Python 3.0 and a list in 2.x
+minver = list(map(int, '3.3'.split('.'))) + [0, 0, 0]
+minverhex = 0
+# xrange is not present in Python 3.0 and range returns an iterator
+for i in list(range(0, 4)): minverhex = (minverhex << 8) + minver[i]
+sys.exit(sys.hexversion < minverhex)"
+  if { echo "$as_me:$LINENO: $PYTHON -c "$prog"" >&5
+   ($PYTHON -c "$prog") >&5 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+			       as_fn_error $? "Python interpreter is too old" "$LINENO" 5
+fi
+      am_display_PYTHON=$PYTHON
+    else
+      # Otherwise, try each interpreter until we find one that satisfies
+      # VERSION.
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a Python interpreter with version >= 3.3" >&5
+printf %s "checking for a Python interpreter with version >= 3.3... " >&6; }
+if test ${am_cv_pathless_PYTHON+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+
+	for am_cv_pathless_PYTHON in python python2 python3  python3.11 python3.10  python3.9 python3.8 python3.7 python3.6 python3.5 python3.4 python3.3  python3.2 python3.1 python3.0  python2.7 python2.6 python2.5 python2.4 python2.3 python2.2 python2.1  python2.0 none; do
+	  test "$am_cv_pathless_PYTHON" = none && break
+	  prog="import sys
+# split strings by '.' and convert to numeric.  Append some zeros
+# because we need at least 4 digits for the hex conversion.
+# map returns an iterator in Python 3.0 and a list in 2.x
+minver = list(map(int, '3.3'.split('.'))) + [0, 0, 0]
+minverhex = 0
+# xrange is not present in Python 3.0 and range returns an iterator
+for i in list(range(0, 4)): minverhex = (minverhex << 8) + minver[i]
+sys.exit(sys.hexversion < minverhex)"
+  if { echo "$as_me:$LINENO: $am_cv_pathless_PYTHON -c "$prog"" >&5
+   ($am_cv_pathless_PYTHON -c "$prog") >&5 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }
+then :
+  break
+fi
+	done
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_pathless_PYTHON" >&5
+printf "%s\n" "$am_cv_pathless_PYTHON" >&6; }
+      # Set $PYTHON to the absolute path of $am_cv_pathless_PYTHON.
+      if test "$am_cv_pathless_PYTHON" = none; then
+	PYTHON=:
+      else
+        # Extract the first word of "$am_cv_pathless_PYTHON", so it can be a program name with args.
+set dummy $am_cv_pathless_PYTHON; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_PYTHON+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $PYTHON in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PYTHON="$PYTHON" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_PYTHON="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PYTHON=$ac_cv_path_PYTHON
+if test -n "$PYTHON"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PYTHON" >&5
+printf "%s\n" "$PYTHON" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+      fi
+      am_display_PYTHON=$am_cv_pathless_PYTHON
+    fi
+
+
+  if test "$PYTHON" = :; then
+        :
+  else
+
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON version" >&5
+printf %s "checking for $am_display_PYTHON version... " >&6; }
+if test ${am_cv_python_version+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_version=`$PYTHON -c "import sys; print ('%u.%u' % sys.version_info[:2])"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_version" >&5
+printf "%s\n" "$am_cv_python_version" >&6; }
+  PYTHON_VERSION=$am_cv_python_version
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON platform" >&5
+printf %s "checking for $am_display_PYTHON platform... " >&6; }
+if test ${am_cv_python_platform+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_platform=`$PYTHON -c "import sys; sys.stdout.write(sys.platform)"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_platform" >&5
+printf "%s\n" "$am_cv_python_platform" >&6; }
+  PYTHON_PLATFORM=$am_cv_python_platform
+
+
+                            if test "x$prefix" = xNONE; then
+    am__usable_prefix=$ac_default_prefix
+  else
+    am__usable_prefix=$prefix
+  fi
+
+  # Allow user to request using sys.* values from Python,
+  # instead of the GNU $prefix values.
+
+# Check whether --with-python-sys-prefix was given.
+if test ${with_python_sys_prefix+y}
+then :
+  withval=$with_python_sys_prefix; am_use_python_sys=:
+else $as_nop
+  am_use_python_sys=false
+fi
+
+
+  # Allow user to override whatever the default Python prefix is.
+
+# Check whether --with-python_prefix was given.
+if test ${with_python_prefix+y}
+then :
+  withval=$with_python_prefix; am_python_prefix_subst=$withval
+   am_cv_python_prefix=$withval
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit $am_display_PYTHON prefix" >&5
+printf %s "checking for explicit $am_display_PYTHON prefix... " >&6; }
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_prefix" >&5
+printf "%s\n" "$am_cv_python_prefix" >&6; }
+else $as_nop
+
+   if $am_use_python_sys; then
+     # using python sys.prefix value, not GNU
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python default $am_display_PYTHON prefix" >&5
+printf %s "checking for python default $am_display_PYTHON prefix... " >&6; }
+if test ${am_cv_python_prefix+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_prefix=`$PYTHON -c "import sys; sys.stdout.write(sys.prefix)"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_prefix" >&5
+printf "%s\n" "$am_cv_python_prefix" >&6; }
+
+               case $am_cv_python_prefix in
+     $am__usable_prefix*)
+       am__strip_prefix=`echo "$am__usable_prefix" | sed 's|.|.|g'`
+       am_python_prefix_subst=`echo "$am_cv_python_prefix" | sed "s,^$am__strip_prefix,\\${prefix},"`
+       ;;
+     *)
+       am_python_prefix_subst=$am_cv_python_prefix
+       ;;
+     esac
+   else # using GNU prefix value, not python sys.prefix
+     am_python_prefix_subst='${prefix}'
+     am_python_prefix=$am_python_prefix_subst
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for GNU default $am_display_PYTHON prefix" >&5
+printf %s "checking for GNU default $am_display_PYTHON prefix... " >&6; }
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_python_prefix" >&5
+printf "%s\n" "$am_python_prefix" >&6; }
+   fi
+fi
+
+  # Substituting python_prefix_subst value.
+  PYTHON_PREFIX=$am_python_prefix_subst
+
+
+  # emacs-page Now do it all over again for Python exec_prefix, but with yet
+  # another conditional: fall back to regular prefix if that was specified.
+
+# Check whether --with-python_exec_prefix was given.
+if test ${with_python_exec_prefix+y}
+then :
+  withval=$with_python_exec_prefix; am_python_exec_prefix_subst=$withval
+   am_cv_python_exec_prefix=$withval
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for explicit $am_display_PYTHON exec_prefix... " >&6; }
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_exec_prefix" >&5
+printf "%s\n" "$am_cv_python_exec_prefix" >&6; }
+else $as_nop
+
+   # no explicit --with-python_exec_prefix, but if
+   # --with-python_prefix was given, use its value for python_exec_prefix too.
+   if test -n "$with_python_prefix"
+then :
+  am_python_exec_prefix_subst=$with_python_prefix
+    am_cv_python_exec_prefix=$with_python_prefix
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python_prefix-given $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for python_prefix-given $am_display_PYTHON exec_prefix... " >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_exec_prefix" >&5
+printf "%s\n" "$am_cv_python_exec_prefix" >&6; }
+else $as_nop
+
+    # Set am__usable_exec_prefix whether using GNU or Python values,
+    # since we use that variable for pyexecdir.
+    if test "x$exec_prefix" = xNONE; then
+      am__usable_exec_prefix=$am__usable_prefix
+    else
+      am__usable_exec_prefix=$exec_prefix
+    fi
+    #
+    if $am_use_python_sys; then # using python sys.exec_prefix, not GNU
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python default $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for python default $am_display_PYTHON exec_prefix... " >&6; }
+if test ${am_cv_python_exec_prefix+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_exec_prefix=`$PYTHON -c "import sys; sys.stdout.write(sys.exec_prefix)"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_exec_prefix" >&5
+printf "%s\n" "$am_cv_python_exec_prefix" >&6; }
+                        case $am_cv_python_exec_prefix in
+      $am__usable_exec_prefix*)
+        am__strip_prefix=`echo "$am__usable_exec_prefix" | sed 's|.|.|g'`
+        am_python_exec_prefix_subst=`echo "$am_cv_python_exec_prefix" | sed "s,^$am__strip_prefix,\\${exec_prefix},"`
+        ;;
+      *)
+        am_python_exec_prefix_subst=$am_cv_python_exec_prefix
+        ;;
+     esac
+   else # using GNU $exec_prefix, not python sys.exec_prefix
+     am_python_exec_prefix_subst='${exec_prefix}'
+     am_python_exec_prefix=$am_python_exec_prefix_subst
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for GNU default $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for GNU default $am_display_PYTHON exec_prefix... " >&6; }
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_python_exec_prefix" >&5
+printf "%s\n" "$am_python_exec_prefix" >&6; }
+   fi
+fi
+fi
+
+  # Substituting python_exec_prefix_subst.
+  PYTHON_EXEC_PREFIX=$am_python_exec_prefix_subst
+
+
+  # Factor out some code duplication into this shell variable.
+  am_python_setup_sysconfig="\
+import sys
+# Prefer sysconfig over distutils.sysconfig, for better compatibility
+# with python 3.x.  See automake bug#10227.
+try:
+    import sysconfig
+except ImportError:
+    can_use_sysconfig = 0
+else:
+    can_use_sysconfig = 1
+# Can't use sysconfig in CPython 2.7, since it's broken in virtualenvs:
+# <https://github.com/pypa/virtualenv/issues/118>
+try:
+    from platform import python_implementation
+    if python_implementation() == 'CPython' and sys.version[:3] == '2.7':
+        can_use_sysconfig = 0
+except ImportError:
+    pass"
+
+
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON script directory (pythondir)" >&5
+printf %s "checking for $am_display_PYTHON script directory (pythondir)... " >&6; }
+if test ${am_cv_python_pythondir+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test "x$am_cv_python_prefix" = x; then
+     am_py_prefix=$am__usable_prefix
+   else
+     am_py_prefix=$am_cv_python_prefix
+   fi
+   am_cv_python_pythondir=`$PYTHON -c "
+$am_python_setup_sysconfig
+if can_use_sysconfig:
+  if hasattr(sysconfig, 'get_default_scheme'):
+    scheme = sysconfig.get_default_scheme()
+  else:
+    scheme = sysconfig._get_default_scheme()
+  if scheme == 'posix_local':
+    # Debian's default scheme installs to /usr/local/ but we want to find headers in /usr/
+    scheme = 'posix_prefix'
+  sitedir = sysconfig.get_path('purelib', scheme, vars={'base':'$am_py_prefix'})
+else:
+  from distutils import sysconfig
+  sitedir = sysconfig.get_python_lib(0, 0, prefix='$am_py_prefix')
+sys.stdout.write(sitedir)"`
+   #
+   case $am_cv_python_pythondir in
+   $am_py_prefix*)
+     am__strip_prefix=`echo "$am_py_prefix" | sed 's|.|.|g'`
+     am_cv_python_pythondir=`echo "$am_cv_python_pythondir" | sed "s,^$am__strip_prefix,\\${PYTHON_PREFIX},"`
+     ;;
+   *)
+     case $am_py_prefix in
+       /usr|/System*) ;;
+       *) am_cv_python_pythondir="\${PYTHON_PREFIX}/lib/python$PYTHON_VERSION/site-packages"
+          ;;
+     esac
+     ;;
+   esac
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_pythondir" >&5
+printf "%s\n" "$am_cv_python_pythondir" >&6; }
+  pythondir=$am_cv_python_pythondir
+
+
+          pkgpythondir=\${pythondir}/$PACKAGE
+
+
+          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON extension module directory (pyexecdir)" >&5
+printf %s "checking for $am_display_PYTHON extension module directory (pyexecdir)... " >&6; }
+if test ${am_cv_python_pyexecdir+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test "x$am_cv_python_exec_prefix" = x; then
+     am_py_exec_prefix=$am__usable_exec_prefix
+   else
+     am_py_exec_prefix=$am_cv_python_exec_prefix
+   fi
+   am_cv_python_pyexecdir=`$PYTHON -c "
+$am_python_setup_sysconfig
+if can_use_sysconfig:
+  if hasattr(sysconfig, 'get_default_scheme'):
+    scheme = sysconfig.get_default_scheme()
+  else:
+    scheme = sysconfig._get_default_scheme()
+  if scheme == 'posix_local':
+    # Debian's default scheme installs to /usr/local/ but we want to find headers in /usr/
+    scheme = 'posix_prefix'
+  sitedir = sysconfig.get_path('platlib', scheme, vars={'platbase':'$am_py_exec_prefix'})
+else:
+  from distutils import sysconfig
+  sitedir = sysconfig.get_python_lib(1, 0, prefix='$am_py_exec_prefix')
+sys.stdout.write(sitedir)"`
+   #
+   case $am_cv_python_pyexecdir in
+   $am_py_exec_prefix*)
+     am__strip_prefix=`echo "$am_py_exec_prefix" | sed 's|.|.|g'`
+     am_cv_python_pyexecdir=`echo "$am_cv_python_pyexecdir" | sed "s,^$am__strip_prefix,\\${PYTHON_EXEC_PREFIX},"`
+     ;;
+   *)
+     case $am_py_exec_prefix in
+       /usr|/System*) ;;
+       *) am_cv_python_pyexecdir="\${PYTHON_EXEC_PREFIX}/lib/python$PYTHON_VERSION/site-packages"
+          ;;
+     esac
+     ;;
+   esac
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_pyexecdir" >&5
+printf "%s\n" "$am_cv_python_pyexecdir" >&6; }
+  pyexecdir=$am_cv_python_pyexecdir
+
+
+      pkgpyexecdir=\${pyexecdir}/$PACKAGE
+
+
+
+  fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which Python to use for Pyuno" >&5
+printf %s "checking which Python to use for Pyuno... " >&6; }
+        if test "$PYTHON" = ":"; then
+            if test -z "$PYTHON_FOR_BUILD"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: fully internal" >&5
+printf "%s\n" "fully internal" >&6; }
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+            fi
+            enable_python=internal
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: system" >&5
+printf "%s\n" "system" >&6; }
+            enable_python=system
+        fi
+    fi
+    ;;
+internal)
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    ;;
+fully-internal)
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: fully internal" >&5
+printf "%s\n" "fully internal" >&6; }
+    enable_python=internal
+    ;;
+system)
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: system" >&5
+printf "%s\n" "system" >&6; }
+    if test "$_os" = Darwin -a -z "$PYTHON"; then
+        as_fn_error $? "--enable-python=system doesn't work on macOS because the version provided is obsolete" "$LINENO" 5
+    fi
+    ;;
+*)
+    as_fn_error $? "Incorrect --enable-python option" "$LINENO" 5
+    ;;
+esac
+
+if test $enable_python != no; then
+    BUILD_TYPE="$BUILD_TYPE PYUNO"
+fi
+
+if test $enable_python = system; then
+    if test -n "$PYTHON_CFLAGS" -a -n "$PYTHON_LIBS"; then
+        # Fallback: Accept these in the environment, or as set above
+        # for MacOSX.
+        :
+    elif test "$cross_compiling" != yes; then
+        # Unset variables set by the above AM_PATH_PYTHON so that
+        # we actually do check anew.
+        unset PYTHON am_cv_pathless_PYTHON ac_cv_path_PYTHON am_cv_python_version am_cv_python_platform am_cv_python_pythondir am_cv_python_pyexecdir
+        # This causes an error if no python command is found
+
+
+
+
+
+
+        if test -n "$PYTHON"; then
+      # If the user set $PYTHON, use it and don't search something else.
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $PYTHON version is >= 3.3" >&5
+printf %s "checking whether $PYTHON version is >= 3.3... " >&6; }
+      prog="import sys
+# split strings by '.' and convert to numeric.  Append some zeros
+# because we need at least 4 digits for the hex conversion.
+# map returns an iterator in Python 3.0 and a list in 2.x
+minver = list(map(int, '3.3'.split('.'))) + [0, 0, 0]
+minverhex = 0
+# xrange is not present in Python 3.0 and range returns an iterator
+for i in list(range(0, 4)): minverhex = (minverhex << 8) + minver[i]
+sys.exit(sys.hexversion < minverhex)"
+  if { echo "$as_me:$LINENO: $PYTHON -c "$prog"" >&5
+   ($PYTHON -c "$prog") >&5 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+			       as_fn_error $? "Python interpreter is too old" "$LINENO" 5
+fi
+      am_display_PYTHON=$PYTHON
+    else
+      # Otherwise, try each interpreter until we find one that satisfies
+      # VERSION.
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a Python interpreter with version >= 3.3" >&5
+printf %s "checking for a Python interpreter with version >= 3.3... " >&6; }
+if test ${am_cv_pathless_PYTHON+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+
+	for am_cv_pathless_PYTHON in python python2 python3  python3.11 python3.10  python3.9 python3.8 python3.7 python3.6 python3.5 python3.4 python3.3  python3.2 python3.1 python3.0  python2.7 python2.6 python2.5 python2.4 python2.3 python2.2 python2.1  python2.0 none; do
+	  test "$am_cv_pathless_PYTHON" = none && break
+	  prog="import sys
+# split strings by '.' and convert to numeric.  Append some zeros
+# because we need at least 4 digits for the hex conversion.
+# map returns an iterator in Python 3.0 and a list in 2.x
+minver = list(map(int, '3.3'.split('.'))) + [0, 0, 0]
+minverhex = 0
+# xrange is not present in Python 3.0 and range returns an iterator
+for i in list(range(0, 4)): minverhex = (minverhex << 8) + minver[i]
+sys.exit(sys.hexversion < minverhex)"
+  if { echo "$as_me:$LINENO: $am_cv_pathless_PYTHON -c "$prog"" >&5
+   ($am_cv_pathless_PYTHON -c "$prog") >&5 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }
+then :
+  break
+fi
+	done
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_pathless_PYTHON" >&5
+printf "%s\n" "$am_cv_pathless_PYTHON" >&6; }
+      # Set $PYTHON to the absolute path of $am_cv_pathless_PYTHON.
+      if test "$am_cv_pathless_PYTHON" = none; then
+	PYTHON=:
+      else
+        # Extract the first word of "$am_cv_pathless_PYTHON", so it can be a program name with args.
+set dummy $am_cv_pathless_PYTHON; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_PYTHON+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $PYTHON in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PYTHON="$PYTHON" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_PYTHON="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PYTHON=$ac_cv_path_PYTHON
+if test -n "$PYTHON"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PYTHON" >&5
+printf "%s\n" "$PYTHON" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+      fi
+      am_display_PYTHON=$am_cv_pathless_PYTHON
+    fi
+
+
+  if test "$PYTHON" = :; then
+        as_fn_error $? "no suitable Python interpreter found" "$LINENO" 5
+  else
+
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON version" >&5
+printf %s "checking for $am_display_PYTHON version... " >&6; }
+if test ${am_cv_python_version+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_version=`$PYTHON -c "import sys; print ('%u.%u' % sys.version_info[:2])"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_version" >&5
+printf "%s\n" "$am_cv_python_version" >&6; }
+  PYTHON_VERSION=$am_cv_python_version
+
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON platform" >&5
+printf %s "checking for $am_display_PYTHON platform... " >&6; }
+if test ${am_cv_python_platform+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_platform=`$PYTHON -c "import sys; sys.stdout.write(sys.platform)"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_platform" >&5
+printf "%s\n" "$am_cv_python_platform" >&6; }
+  PYTHON_PLATFORM=$am_cv_python_platform
+
+
+                            if test "x$prefix" = xNONE; then
+    am__usable_prefix=$ac_default_prefix
+  else
+    am__usable_prefix=$prefix
+  fi
+
+  # Allow user to request using sys.* values from Python,
+  # instead of the GNU $prefix values.
+
+# Check whether --with-python-sys-prefix was given.
+if test ${with_python_sys_prefix+y}
+then :
+  withval=$with_python_sys_prefix; am_use_python_sys=:
+else $as_nop
+  am_use_python_sys=false
+fi
+
+
+  # Allow user to override whatever the default Python prefix is.
+
+# Check whether --with-python_prefix was given.
+if test ${with_python_prefix+y}
+then :
+  withval=$with_python_prefix; am_python_prefix_subst=$withval
+   am_cv_python_prefix=$withval
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit $am_display_PYTHON prefix" >&5
+printf %s "checking for explicit $am_display_PYTHON prefix... " >&6; }
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_prefix" >&5
+printf "%s\n" "$am_cv_python_prefix" >&6; }
+else $as_nop
+
+   if $am_use_python_sys; then
+     # using python sys.prefix value, not GNU
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python default $am_display_PYTHON prefix" >&5
+printf %s "checking for python default $am_display_PYTHON prefix... " >&6; }
+if test ${am_cv_python_prefix+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_prefix=`$PYTHON -c "import sys; sys.stdout.write(sys.prefix)"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_prefix" >&5
+printf "%s\n" "$am_cv_python_prefix" >&6; }
+
+               case $am_cv_python_prefix in
+     $am__usable_prefix*)
+       am__strip_prefix=`echo "$am__usable_prefix" | sed 's|.|.|g'`
+       am_python_prefix_subst=`echo "$am_cv_python_prefix" | sed "s,^$am__strip_prefix,\\${prefix},"`
+       ;;
+     *)
+       am_python_prefix_subst=$am_cv_python_prefix
+       ;;
+     esac
+   else # using GNU prefix value, not python sys.prefix
+     am_python_prefix_subst='${prefix}'
+     am_python_prefix=$am_python_prefix_subst
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for GNU default $am_display_PYTHON prefix" >&5
+printf %s "checking for GNU default $am_display_PYTHON prefix... " >&6; }
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_python_prefix" >&5
+printf "%s\n" "$am_python_prefix" >&6; }
+   fi
+fi
+
+  # Substituting python_prefix_subst value.
+  PYTHON_PREFIX=$am_python_prefix_subst
+
+
+  # emacs-page Now do it all over again for Python exec_prefix, but with yet
+  # another conditional: fall back to regular prefix if that was specified.
+
+# Check whether --with-python_exec_prefix was given.
+if test ${with_python_exec_prefix+y}
+then :
+  withval=$with_python_exec_prefix; am_python_exec_prefix_subst=$withval
+   am_cv_python_exec_prefix=$withval
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for explicit $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for explicit $am_display_PYTHON exec_prefix... " >&6; }
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_exec_prefix" >&5
+printf "%s\n" "$am_cv_python_exec_prefix" >&6; }
+else $as_nop
+
+   # no explicit --with-python_exec_prefix, but if
+   # --with-python_prefix was given, use its value for python_exec_prefix too.
+   if test -n "$with_python_prefix"
+then :
+  am_python_exec_prefix_subst=$with_python_prefix
+    am_cv_python_exec_prefix=$with_python_prefix
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python_prefix-given $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for python_prefix-given $am_display_PYTHON exec_prefix... " >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_exec_prefix" >&5
+printf "%s\n" "$am_cv_python_exec_prefix" >&6; }
+else $as_nop
+
+    # Set am__usable_exec_prefix whether using GNU or Python values,
+    # since we use that variable for pyexecdir.
+    if test "x$exec_prefix" = xNONE; then
+      am__usable_exec_prefix=$am__usable_prefix
+    else
+      am__usable_exec_prefix=$exec_prefix
+    fi
+    #
+    if $am_use_python_sys; then # using python sys.exec_prefix, not GNU
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python default $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for python default $am_display_PYTHON exec_prefix... " >&6; }
+if test ${am_cv_python_exec_prefix+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  am_cv_python_exec_prefix=`$PYTHON -c "import sys; sys.stdout.write(sys.exec_prefix)"`
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_exec_prefix" >&5
+printf "%s\n" "$am_cv_python_exec_prefix" >&6; }
+                        case $am_cv_python_exec_prefix in
+      $am__usable_exec_prefix*)
+        am__strip_prefix=`echo "$am__usable_exec_prefix" | sed 's|.|.|g'`
+        am_python_exec_prefix_subst=`echo "$am_cv_python_exec_prefix" | sed "s,^$am__strip_prefix,\\${exec_prefix},"`
+        ;;
+      *)
+        am_python_exec_prefix_subst=$am_cv_python_exec_prefix
+        ;;
+     esac
+   else # using GNU $exec_prefix, not python sys.exec_prefix
+     am_python_exec_prefix_subst='${exec_prefix}'
+     am_python_exec_prefix=$am_python_exec_prefix_subst
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for GNU default $am_display_PYTHON exec_prefix" >&5
+printf %s "checking for GNU default $am_display_PYTHON exec_prefix... " >&6; }
+     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_python_exec_prefix" >&5
+printf "%s\n" "$am_python_exec_prefix" >&6; }
+   fi
+fi
+fi
+
+  # Substituting python_exec_prefix_subst.
+  PYTHON_EXEC_PREFIX=$am_python_exec_prefix_subst
+
+
+  # Factor out some code duplication into this shell variable.
+  am_python_setup_sysconfig="\
+import sys
+# Prefer sysconfig over distutils.sysconfig, for better compatibility
+# with python 3.x.  See automake bug#10227.
+try:
+    import sysconfig
+except ImportError:
+    can_use_sysconfig = 0
+else:
+    can_use_sysconfig = 1
+# Can't use sysconfig in CPython 2.7, since it's broken in virtualenvs:
+# <https://github.com/pypa/virtualenv/issues/118>
+try:
+    from platform import python_implementation
+    if python_implementation() == 'CPython' and sys.version[:3] == '2.7':
+        can_use_sysconfig = 0
+except ImportError:
+    pass"
+
+
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON script directory (pythondir)" >&5
+printf %s "checking for $am_display_PYTHON script directory (pythondir)... " >&6; }
+if test ${am_cv_python_pythondir+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test "x$am_cv_python_prefix" = x; then
+     am_py_prefix=$am__usable_prefix
+   else
+     am_py_prefix=$am_cv_python_prefix
+   fi
+   am_cv_python_pythondir=`$PYTHON -c "
+$am_python_setup_sysconfig
+if can_use_sysconfig:
+  if hasattr(sysconfig, 'get_default_scheme'):
+    scheme = sysconfig.get_default_scheme()
+  else:
+    scheme = sysconfig._get_default_scheme()
+  if scheme == 'posix_local':
+    # Debian's default scheme installs to /usr/local/ but we want to find headers in /usr/
+    scheme = 'posix_prefix'
+  sitedir = sysconfig.get_path('purelib', scheme, vars={'base':'$am_py_prefix'})
+else:
+  from distutils import sysconfig
+  sitedir = sysconfig.get_python_lib(0, 0, prefix='$am_py_prefix')
+sys.stdout.write(sitedir)"`
+   #
+   case $am_cv_python_pythondir in
+   $am_py_prefix*)
+     am__strip_prefix=`echo "$am_py_prefix" | sed 's|.|.|g'`
+     am_cv_python_pythondir=`echo "$am_cv_python_pythondir" | sed "s,^$am__strip_prefix,\\${PYTHON_PREFIX},"`
+     ;;
+   *)
+     case $am_py_prefix in
+       /usr|/System*) ;;
+       *) am_cv_python_pythondir="\${PYTHON_PREFIX}/lib/python$PYTHON_VERSION/site-packages"
+          ;;
+     esac
+     ;;
+   esac
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_pythondir" >&5
+printf "%s\n" "$am_cv_python_pythondir" >&6; }
+  pythondir=$am_cv_python_pythondir
+
+
+          pkgpythondir=\${pythondir}/$PACKAGE
+
+
+          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $am_display_PYTHON extension module directory (pyexecdir)" >&5
+printf %s "checking for $am_display_PYTHON extension module directory (pyexecdir)... " >&6; }
+if test ${am_cv_python_pyexecdir+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test "x$am_cv_python_exec_prefix" = x; then
+     am_py_exec_prefix=$am__usable_exec_prefix
+   else
+     am_py_exec_prefix=$am_cv_python_exec_prefix
+   fi
+   am_cv_python_pyexecdir=`$PYTHON -c "
+$am_python_setup_sysconfig
+if can_use_sysconfig:
+  if hasattr(sysconfig, 'get_default_scheme'):
+    scheme = sysconfig.get_default_scheme()
+  else:
+    scheme = sysconfig._get_default_scheme()
+  if scheme == 'posix_local':
+    # Debian's default scheme installs to /usr/local/ but we want to find headers in /usr/
+    scheme = 'posix_prefix'
+  sitedir = sysconfig.get_path('platlib', scheme, vars={'platbase':'$am_py_exec_prefix'})
+else:
+  from distutils import sysconfig
+  sitedir = sysconfig.get_python_lib(1, 0, prefix='$am_py_exec_prefix')
+sys.stdout.write(sitedir)"`
+   #
+   case $am_cv_python_pyexecdir in
+   $am_py_exec_prefix*)
+     am__strip_prefix=`echo "$am_py_exec_prefix" | sed 's|.|.|g'`
+     am_cv_python_pyexecdir=`echo "$am_cv_python_pyexecdir" | sed "s,^$am__strip_prefix,\\${PYTHON_EXEC_PREFIX},"`
+     ;;
+   *)
+     case $am_py_exec_prefix in
+       /usr|/System*) ;;
+       *) am_cv_python_pyexecdir="\${PYTHON_EXEC_PREFIX}/lib/python$PYTHON_VERSION/site-packages"
+          ;;
+     esac
+     ;;
+   esac
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_python_pyexecdir" >&5
+printf "%s\n" "$am_cv_python_pyexecdir" >&6; }
+  pyexecdir=$am_cv_python_pyexecdir
+
+
+      pkgpyexecdir=\${pyexecdir}/$PACKAGE
+
+
+
+  fi
+
+        python_include=`$PYTHON -c "import distutils.sysconfig; print(distutils.sysconfig.get_config_var('INCLUDEPY'));"`
+        python_version=`$PYTHON -c "import distutils.sysconfig; print(distutils.sysconfig.get_config_var('VERSION'));"`
+        python_libs=`$PYTHON -c "import distutils.sysconfig; print(distutils.sysconfig.get_config_var('LIBS'));"`
+        python_libdir=`$PYTHON -c "import distutils.sysconfig; print(distutils.sysconfig.get_config_var('LIBDIR'));"`
+        if test -z "$PKG_CONFIG"; then
+            PYTHON_CFLAGS="-I$python_include"
+            PYTHON_LIBS="-L$python_libdir -lpython$python_version $python_libs"
+        elif $PKG_CONFIG --exists python-$python_version-embed; then
+            PYTHON_CFLAGS="`$PKG_CONFIG --cflags python-$python_version-embed`"
+            PYTHON_LIBS="`$PKG_CONFIG --libs python-$python_version-embed` $python_libs"
+        elif $PKG_CONFIG --exists python-$python_version; then
+            PYTHON_CFLAGS="`$PKG_CONFIG --cflags python-$python_version`"
+            PYTHON_LIBS="`$PKG_CONFIG --libs python-$python_version` $python_libs"
+        else
+            PYTHON_CFLAGS="-I$python_include"
+            PYTHON_LIBS="-L$python_libdir -lpython$python_version $python_libs"
+        fi
+        FilterLibs "${PYTHON_LIBS}"
+        PYTHON_LIBS="${filteredlibs}"
+    else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python version" >&5
+printf %s "checking for python version... " >&6; }
+        if test -n "$PYTHON_VERSION"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PYTHON_VERSION" >&5
+printf "%s\n" "$PYTHON_VERSION" >&6; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not found" >&5
+printf "%s\n" "not found" >&6; }
+               as_fn_error $? "no usable python found" "$LINENO" 5
+fi
+        test -n "$PYTHON_CFLAGS" && break
+    fi
+
+        save_CPPFLAGS="$CPPFLAGS"
+    CPPFLAGS="$CPPFLAGS $PYTHON_CFLAGS"
+    ac_fn_c_check_header_compile "$LINENO" "Python.h" "ac_cv_header_Python_h" "$ac_includes_default"
+if test "x$ac_cv_header_Python_h" = xyes
+then :
+
+fi
+
+    CPPFLAGS="$save_CPPFLAGS"
+
+    # let the PYTHON_FOR_BUILD match the same python installation that
+    # provides PYTHON_CFLAGS/PYTHON_LDFLAGS for pyuno, which should be
+    # better for PythonTests.
+    PYTHON_FOR_BUILD=$PYTHON
+fi
+
+if test "$with_lxml" != no; then
+    if test -z "$PYTHON_FOR_BUILD"; then
+        case $build_os in
+            cygwin)
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: No system-provided python lxml, gla11y will only report widget classes and ids" >&5
+printf "%s\n" "$as_me: WARNING: No system-provided python lxml, gla11y will only report widget classes and ids" >&2;}
+                ;;
+            *)
+                if test "$cross_compiling" != yes ; then
+                    BUILD_TYPE="$BUILD_TYPE LXML"
+                fi
+                ;;
+        esac
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for python lxml" >&5
+printf %s "checking for python lxml... " >&6; }
+        if $PYTHON_FOR_BUILD -c "import lxml.etree as ET" 2> /dev/null ; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        else
+            case $build_os in
+                cygwin)
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, gla11y will only report widget classes and ids" >&5
+printf "%s\n" "no, gla11y will only report widget classes and ids" >&6; }
+                    ;;
+                *)
+                    if test "$cross_compiling" != yes -a "x$ac_cv_header_Python_h" = "xyes"; then
+                        if test -n ${SYSTEM_LIBXSLT} -o -n ${SYSTEM_LIBXML}; then
+                            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, and no system libxml/libxslt, gla11y will only report widget classes and ids" >&5
+printf "%s\n" "no, and no system libxml/libxslt, gla11y will only report widget classes and ids" >&6; }
+                        else
+                            BUILD_TYPE="$BUILD_TYPE LXML"
+                            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, using internal lxml" >&5
+printf "%s\n" "no, using internal lxml" >&6; }
+                        fi
+                    else
+                        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, and system does not provide python development headers, gla11y will only report widget classes and ids" >&5
+printf "%s\n" "no, and system does not provide python development headers, gla11y will only report widget classes and ids" >&6; }
+                    fi
+                    ;;
+            esac
+        fi
+    fi
+fi
+
+if test \( "$cross_compiling" = yes -a -z "$PYTHON_FOR_BUILD" \) -o "$enable_python" = internal; then
+    SYSTEM_PYTHON=
+    PYTHON_VERSION_MAJOR=3
+    PYTHON_VERSION_MINOR=9
+    PYTHON_VERSION=${PYTHON_VERSION_MAJOR}.${PYTHON_VERSION_MINOR}.22
+    if ! grep -q -i python.*${PYTHON_VERSION} ${SRC_ROOT}/download.lst; then
+        as_fn_error $? "PYTHON_VERSION ${PYTHON_VERSION} but no matching file in download.lst" "$LINENO" 5
+    fi
+    printf "%s\n" "#define PYTHON_VERSION_STRING L\"${PYTHON_VERSION}\"" >>confdefs.h
+
+
+    # Embedded Python dies without Home set
+    if test "$HOME" = ""; then
+        export HOME=""
+    fi
+fi
+
+case $enable_python in
+system)
+    SYSTEM_PYTHON=TRUE
+
+    if test "x$ac_cv_header_Python_h" != "xyes"; then
+       as_fn_error $? "Python headers not found. You probably want to set both the PYTHON_CFLAGS and PYTHON_LIBS environment variables." "$LINENO" 5
+    fi
+
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    CFLAGS="$CFLAGS $PYTHON_CFLAGS"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for correct python library version" >&5
+printf %s "checking for correct python library version... " >&6; }
+       if test "$cross_compiling" = yes
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: skipped; cross-compiling" >&5
+printf "%s\n" "skipped; cross-compiling" >&6; }
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <Python.h>
+
+int main(int argc, char **argv) {
+   if ((PY_MAJOR_VERSION == 3 && PY_MINOR_VERSION >= 3)) return 0;
+   else return 1;
+}
+
+_ACEOF
+if ac_fn_c_try_run "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok" >&5
+printf "%s\n" "ok" >&6; }
+else $as_nop
+  as_fn_error $? "Python >= 3.3 is needed when building with Python 3" "$LINENO" 5
+fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+        ;;
+
+internal)
+    BUILD_TYPE="$BUILD_TYPE PYTHON"
+    if test "$OS" = LINUX -o "$OS" = WNT ; then
+        BUILD_TYPE="$BUILD_TYPE LIBFFI"
+    fi
+    ;;
+no)
+    DISABLE_PYTHON=TRUE
+    SYSTEM_PYTHON=
+    ;;
+*)
+    as_fn_error $? "Internal configure script error, invalid enable_python value \"$enable_python\"" "$LINENO" 5
+    ;;
+esac
+
+
+
+
+
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build LibreLogo" >&5
+printf %s "checking whether to build LibreLogo... " >&6; }
+case "$enable_python" in
+no|disable)
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no; Python disabled" >&5
+printf "%s\n" "no; Python disabled" >&6; }
+    ;;
+*)
+    if test "${enable_librelogo}" = "no"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        BUILD_TYPE="${BUILD_TYPE} LIBRELOGO"
+        printf "%s\n" "#define ENABLE_LIBRELOGO 1" >>confdefs.h
+
+    fi
+    ;;
+esac
+
+
+ENABLE_MARIADBC=
+MARIADBC_MAJOR=1
+MARIADBC_MINOR=0
+MARIADBC_MICRO=2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build the MariaDB/MySQL SDBC driver" >&5
+printf %s "checking whether to build the MariaDB/MySQL SDBC driver... " >&6; }
+if test "x$enable_mariadb_sdbc" != "xno" -a "$enable_mpl_subset" != "yes"; then
+    ENABLE_MARIADBC=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    BUILD_TYPE="$BUILD_TYPE MARIADBC"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+
+
+if test "$ENABLE_MARIADBC" = "TRUE"; then
+
+    if test "$with_gssapi" = "yes" -a "$enable_openssl" = "no"; then
+        as_fn_error $? "GSSAPI needs OpenSSL, but --disable-openssl was given." "$LINENO" 5
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which MariaDB to use" >&5
+printf %s "checking which MariaDB to use... " >&6; }
+    if test "$with_system_mariadb" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_MARIADB_CONNECTOR_C=TRUE
+        #AC_PATH_PROG(MARIADBCONFIG, [mariadb_config])
+        if test -z "$MARIADBCONFIG"; then
+            # Extract the first word of "mysql_config", so it can be a program name with args.
+set dummy mysql_config; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_MARIADBCONFIG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $MARIADBCONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_MARIADBCONFIG="$MARIADBCONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_MARIADBCONFIG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+MARIADBCONFIG=$ac_cv_path_MARIADBCONFIG
+if test -n "$MARIADBCONFIG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MARIADBCONFIG" >&5
+printf "%s\n" "$MARIADBCONFIG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+            if test -z "$MARIADBCONFIG"; then
+                as_fn_error $? "mysql_config is missing. Install MySQL client library development package." "$LINENO" 5
+                #AC_MSG_ERROR([mariadb_config and mysql_config are missing. Install MariaDB or MySQL client library development package.])
+            fi
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking MariaDB version" >&5
+printf %s "checking MariaDB version... " >&6; }
+        MARIADB_VERSION=`$MARIADBCONFIG --version`
+        MARIADB_MAJOR=`$MARIADBCONFIG --version | cut -d"." -f1`
+        if test "$MARIADB_MAJOR" -ge "5"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: OK" >&5
+printf "%s\n" "OK" >&6; }
+        else
+            as_fn_error $? "too old, use 5.0.x or later" "$LINENO" 5
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for MariaDB Client library" >&5
+printf %s "checking for MariaDB Client library... " >&6; }
+        MARIADB_CFLAGS=`$MARIADBCONFIG --cflags`
+        if test "$COM_IS_CLANG" = TRUE; then
+            MARIADB_CFLAGS=$(printf '%s' "$MARIADB_CFLAGS" | sed -e s/-fstack-protector-strong//)
+        fi
+        MARIADB_LIBS=`$MARIADBCONFIG --libs_r`
+                                if test "$OS" = LINUX -a "$CPUNAME" = INTEL; then
+            MARIADB_CFLAGS=$(printf '%s' "$MARIADB_CFLAGS" | sed -e s/-m64//)
+            MARIADB_LIBS=$(printf '%s' "$MARIADB_LIBS" \
+                | sed -e 's|/lib64/|/lib/|')
+        fi
+        FilterLibs "${MARIADB_LIBS}"
+        MARIADB_LIBS="${filteredlibs}"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: includes '$MARIADB_CFLAGS', libraries '$MARIADB_LIBS'" >&5
+printf "%s\n" "includes '$MARIADB_CFLAGS', libraries '$MARIADB_LIBS'" >&6; }
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to bundle the MySQL/MariaDB client library" >&5
+printf %s "checking whether to bundle the MySQL/MariaDB client library... " >&6; }
+        if test "$enable_bundle_mariadb" = "yes"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+            BUNDLE_MARIADB_CONNECTOR_C=TRUE
+            LIBMARIADB=lib$(echo "${MARIADB_LIBS}" | sed -e 's/[[:space:]]\{1,\}-l\([^[:space:]]\{1,\}\)/\
+\1\
+/g' -e 's/^-l\([^[:space:]]\{1,\}\)[[:space:]]*/\
+\1\
+/g' | grep -E '(mysqlclient|mariadb)')
+            if test "$_os" = "Darwin"; then
+                LIBMARIADB=${LIBMARIADB}.dylib
+                if test "$with_gssapi" != "no"; then
+                    WITH_GSSAPI=TRUE
+                    save_LIBS=$LIBS
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing gss_init_sec_context" >&5
+printf %s "checking for library containing gss_init_sec_context... " >&6; }
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char gss_init_sec_context ();
+int
+main (void)
+{
+return gss_init_sec_context ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' gssapi_krb5 gss 'gssapi -lkrb5 -lcrypto'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_gss_init_sec_context=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+
+else $as_nop
+  ac_cv_search_gss_init_sec_context=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_gss_init_sec_context" >&5
+printf "%s\n" "$ac_cv_search_gss_init_sec_context" >&6; }
+ac_res=$ac_cv_search_gss_init_sec_context
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'gss_init_sec_context' required for GSSAPI" "$LINENO" 5
+fi
+
+                    GSSAPI_LIBS=$LIBS
+                    LIBS=$save_LIBS
+                fi
+            elif test "$_os" = "WINNT"; then
+                LIBMARIADB=${LIBMARIADB}.dll
+            else
+                LIBMARIADB=${LIBMARIADB}.so
+                if test "$with_gssapi" != "no"; then
+                    WITH_GSSAPI=TRUE
+                    save_LIBS=$LIBS
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing gss_init_sec_context" >&5
+printf %s "checking for library containing gss_init_sec_context... " >&6; }
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char gss_init_sec_context ();
+int
+main (void)
+{
+return gss_init_sec_context ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' gssapi_krb5 gss 'gssapi -lkrb5 -lcrypto'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_gss_init_sec_context=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+
+else $as_nop
+  ac_cv_search_gss_init_sec_context=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_gss_init_sec_context" >&5
+printf "%s\n" "$ac_cv_search_gss_init_sec_context" >&6; }
+ac_res=$ac_cv_search_gss_init_sec_context
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'gss_init_sec_context' required for GSSAPI" "$LINENO" 5
+fi
+
+                    GSSAPI_LIBS=$LIBS
+                    LIBS=$save_LIBS
+                fi
+            fi
+            LIBMARIADB_PATH=$($MARIADBCONFIG --variable=pkglibdir)
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $LIBMARIADB in $LIBMARIADB_PATH" >&5
+printf %s "checking for $LIBMARIADB in $LIBMARIADB_PATH... " >&6; }
+            if test -e "$LIBMARIADB_PATH/$LIBMARIADB"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found." >&5
+printf "%s\n" "found." >&6; }
+                PathFormat "$LIBMARIADB_PATH"
+                LIBMARIADB_PATH="$formatted_path"
+            else
+                as_fn_error $? "not found." "$LINENO" 5
+            fi
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+            BUNDLE_MARIADB_CONNECTOR_C=
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_MARIADB_CONNECTOR_C=
+        MARIADB_CFLAGS="-I${WORKDIR}/UnpackedTarball/mariadb-connector-c/include"
+        MARIADB_LIBS="-L${WORKDIR}/LinkTarget/StaticLibrary -lmariadb-connector-c"
+        BUILD_TYPE="$BUILD_TYPE MARIADB_CONNECTOR_C"
+    fi
+
+
+
+
+
+
+
+fi
+
+if test "$with_java" != "no" -a "$cross_compiling" != "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which hsqldb to use" >&5
+printf %s "checking which hsqldb to use... " >&6; }
+    if test "$with_system_hsqldb" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_HSQLDB=TRUE
+        if test -z $HSQLDB_JAR; then
+            HSQLDB_JAR=/usr/share/java/hsqldb.jar
+        fi
+        if ! test -f $HSQLDB_JAR; then
+               as_fn_error $? "hsqldb.jar not found." "$LINENO" 5
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether hsqldb is 1.8.0.x" >&5
+printf %s "checking whether hsqldb is 1.8.0.x... " >&6; }
+        export HSQLDB_JAR
+        if $PERL -e \
+           'use Archive::Zip;
+            my $file = "$ENV{'HSQLDB_JAR'}";
+            my $zip = Archive::Zip->new( $file );
+            my $mf = $zip->contents ( "META-INF/MANIFEST.MF" );
+            if ( $mf =~ m/Specification-Version: 1.8.*/ )
+            {
+                push @l, split(/\n/, $mf);
+                foreach my $line (@l)
+                {
+                    if ($line =~ m/Specification-Version:/)
+                    {
+                        ($t, $version) = split (/:/,$line);
+                        $version =~ s/^\s//;
+                        ($a, $b, $c, $d) = split (/\./,$version);
+                        if ($c == "0" && $d > "8")
+                        {
+                            exit 0;
+                        }
+                        else
+                        {
+                            exit 1;
+                        }
+                    }
+                }
+            }
+            else
+            {
+                exit 1;
+            }'; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        else
+            as_fn_error $? "no, you need hsqldb >= 1.8.0.9 but < 1.8.1" "$LINENO" 5
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_HSQLDB=
+        BUILD_TYPE="$BUILD_TYPE HSQLDB"
+        NEED_ANT=TRUE
+    fi
+else
+    if test "$with_java" != "no" -a -z "$HSQLDB_JAR"; then
+        BUILD_TYPE="$BUILD_TYPE HSQLDB"
+    fi
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build the PostgreSQL SDBC driver" >&5
+printf %s "checking whether to build the PostgreSQL SDBC driver... " >&6; }
+if test "x$enable_postgresql_sdbc" != "xno"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    SCPDEFS="$SCPDEFS -DWITH_POSTGRESQL_SDBC"
+
+    if test "$with_krb5" = "yes" -a "$enable_openssl" = "no"; then
+        as_fn_error $? "krb5 needs OpenSSL, but --disable-openssl was given." "$LINENO" 5
+    fi
+    if test "$with_gssapi" = "yes" -a "$enable_openssl" = "no"; then
+        as_fn_error $? "GSSAPI needs OpenSSL, but --disable-openssl was given." "$LINENO" 5
+    fi
+
+    postgres_interface=""
+    if test "$with_system_postgresql" = "yes"; then
+        postgres_interface="external PostgreSQL"
+        SYSTEM_POSTGRESQL=TRUE
+        if test "$_os" = Darwin; then
+            supp_path=''
+            for d in /Library/PostgreSQL/9.*/bin /sw/opt/postgresql/9.*/bin /opt/local/lib/postgresql9*/bin; do
+                pg_supp_path="$P_SEP$d$pg_supp_path"
+            done
+        fi
+        # Extract the first word of "pg_config", so it can be a program name with args.
+set dummy pg_config; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_PGCONFIG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $PGCONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PGCONFIG="$PGCONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH$pg_supp_path
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_PGCONFIG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PGCONFIG=$ac_cv_path_PGCONFIG
+if test -n "$PGCONFIG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PGCONFIG" >&5
+printf "%s\n" "$PGCONFIG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test -n "$PGCONFIG"; then
+            POSTGRESQL_INC=-I$(${PGCONFIG} --includedir)
+            POSTGRESQL_LIB="-L$(${PGCONFIG} --libdir)"
+        else
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libpq" >&5
+printf %s "checking for libpq... " >&6; }
+
+if test -n "$POSTGRESQL_CFLAGS"; then
+    pkg_cv_POSTGRESQL_CFLAGS="$POSTGRESQL_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libpq\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libpq") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_POSTGRESQL_CFLAGS=`$PKG_CONFIG --cflags "libpq" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$POSTGRESQL_LIBS"; then
+    pkg_cv_POSTGRESQL_LIBS="$POSTGRESQL_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libpq\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libpq") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_POSTGRESQL_LIBS=`$PKG_CONFIG --libs "libpq" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                POSTGRESQL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libpq" 2>&1`
+        else
+                POSTGRESQL_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libpq" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$POSTGRESQL_PKG_ERRORS" >&5
+
+
+              as_fn_error $? "pg_config or 'pkg-config libpq' needed; set PGCONFIG if not in PATH" "$LINENO" 5
+
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+              as_fn_error $? "pg_config or 'pkg-config libpq' needed; set PGCONFIG if not in PATH" "$LINENO" 5
+
+else
+        POSTGRESQL_CFLAGS=$pkg_cv_POSTGRESQL_CFLAGS
+        POSTGRESQL_LIBS=$pkg_cv_POSTGRESQL_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+              POSTGRESQL_INC=$POSTGRESQL_CFLAGS
+              POSTGRESQL_LIB=$POSTGRESQL_LIBS
+
+fi
+        fi
+        FilterLibs "${POSTGRESQL_LIB}"
+        POSTGRESQL_LIB="${filteredlibs}"
+    else
+        # if/when anything else than PostgreSQL uses Kerberos,
+        # move this out of `test "x$enable_postgresql_sdbc" != "xno"'
+        WITH_KRB5=
+        WITH_GSSAPI=
+        case "$_os" in
+        Darwin)
+            # macOS has system MIT Kerberos 5 since 10.4
+            if test "$with_krb5" != "no"; then
+                WITH_KRB5=TRUE
+                save_LIBS=$LIBS
+                # Not sure whether it makes any sense here to search multiple potential libraries; it is not likely
+                # that the libraries where these functions are located on macOS will change, is it?
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing com_err" >&5
+printf %s "checking for library containing com_err... " >&6; }
+if test ${ac_cv_search_com_err+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char com_err ();
+int
+main (void)
+{
+return com_err ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' com_err 'com_err -lssl -lcrypto' krb5 'krb5 -lcrypto -ldes -lasn1 -lroken'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_com_err=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_com_err+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_com_err+y}
+then :
+
+else $as_nop
+  ac_cv_search_com_err=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_com_err" >&5
+printf "%s\n" "$ac_cv_search_com_err" >&6; }
+ac_res=$ac_cv_search_com_err
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'com_err' required for Kerberos 5" "$LINENO" 5
+fi
+
+                KRB5_LIBS=$LIBS
+                LIBS=$save_LIBS
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing krb5_sendauth" >&5
+printf %s "checking for library containing krb5_sendauth... " >&6; }
+if test ${ac_cv_search_krb5_sendauth+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char krb5_sendauth ();
+int
+main (void)
+{
+return krb5_sendauth ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' krb5 'krb5 -lcrypto -ldes -lasn1 -lroken'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_krb5_sendauth=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_krb5_sendauth+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_krb5_sendauth+y}
+then :
+
+else $as_nop
+  ac_cv_search_krb5_sendauth=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_krb5_sendauth" >&5
+printf "%s\n" "$ac_cv_search_krb5_sendauth" >&6; }
+ac_res=$ac_cv_search_krb5_sendauth
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'krb5_sendauth' required for Kerberos 5" "$LINENO" 5
+fi
+
+                KRB5_LIBS="$KRB5_LIBS $LIBS"
+                LIBS=$save_LIBS
+            fi
+            if test "$with_gssapi" != "no"; then
+                WITH_GSSAPI=TRUE
+                save_LIBS=$LIBS
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing gss_init_sec_context" >&5
+printf %s "checking for library containing gss_init_sec_context... " >&6; }
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char gss_init_sec_context ();
+int
+main (void)
+{
+return gss_init_sec_context ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' gssapi_krb5 gss 'gssapi -lkrb5 -lcrypto'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_gss_init_sec_context=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+
+else $as_nop
+  ac_cv_search_gss_init_sec_context=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_gss_init_sec_context" >&5
+printf "%s\n" "$ac_cv_search_gss_init_sec_context" >&6; }
+ac_res=$ac_cv_search_gss_init_sec_context
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'gss_init_sec_context' required for GSSAPI" "$LINENO" 5
+fi
+
+                GSSAPI_LIBS=$LIBS
+                LIBS=$save_LIBS
+            fi
+            ;;
+        WINNT)
+            if test "$with_krb5" = "yes" -o "$with_gssapi" = "yes"; then
+                as_fn_error $? "Refusing to enable MIT Kerberos 5 or GSSAPI on Windows." "$LINENO" 5
+            fi
+            ;;
+        Linux|GNU|*BSD|DragonFly)
+            if test "$with_krb5" != "no"; then
+                WITH_KRB5=TRUE
+                save_LIBS=$LIBS
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing com_err" >&5
+printf %s "checking for library containing com_err... " >&6; }
+if test ${ac_cv_search_com_err+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char com_err ();
+int
+main (void)
+{
+return com_err ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' com_err 'com_err -lssl -lcrypto' krb5 'krb5 -lcrypto -ldes -lasn1 -lroken'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_com_err=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_com_err+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_com_err+y}
+then :
+
+else $as_nop
+  ac_cv_search_com_err=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_com_err" >&5
+printf "%s\n" "$ac_cv_search_com_err" >&6; }
+ac_res=$ac_cv_search_com_err
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'com_err' required for Kerberos 5" "$LINENO" 5
+fi
+
+                KRB5_LIBS=$LIBS
+                LIBS=$save_LIBS
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing krb5_sendauth" >&5
+printf %s "checking for library containing krb5_sendauth... " >&6; }
+if test ${ac_cv_search_krb5_sendauth+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char krb5_sendauth ();
+int
+main (void)
+{
+return krb5_sendauth ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' krb5 'krb5 -lcrypto -ldes -lasn1 -lroken'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_krb5_sendauth=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_krb5_sendauth+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_krb5_sendauth+y}
+then :
+
+else $as_nop
+  ac_cv_search_krb5_sendauth=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_krb5_sendauth" >&5
+printf "%s\n" "$ac_cv_search_krb5_sendauth" >&6; }
+ac_res=$ac_cv_search_krb5_sendauth
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'krb5_sendauth' required for Kerberos 5" "$LINENO" 5
+fi
+
+                KRB5_LIBS="$KRB5_LIBS $LIBS"
+                LIBS=$save_LIBS
+            fi
+            if test "$with_gssapi" != "no"; then
+                WITH_GSSAPI=TRUE
+                save_LIBS=$LIBS
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing gss_init_sec_context" >&5
+printf %s "checking for library containing gss_init_sec_context... " >&6; }
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char gss_init_sec_context ();
+int
+main (void)
+{
+return gss_init_sec_context ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' gssapi_krb5 gss 'gssapi -lkrb5 -lcrypto'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_gss_init_sec_context=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+
+else $as_nop
+  ac_cv_search_gss_init_sec_context=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_gss_init_sec_context" >&5
+printf "%s\n" "$ac_cv_search_gss_init_sec_context" >&6; }
+ac_res=$ac_cv_search_gss_init_sec_context
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'gss_init_sec_context' required for GSSAPI" "$LINENO" 5
+fi
+
+                GSSAPI_LIBS=$LIBS
+                LIBS=$save_LIBS
+            fi
+            ;;
+        *)
+            if test "$with_krb5" = "yes"; then
+                WITH_KRB5=TRUE
+                save_LIBS=$LIBS
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing com_err" >&5
+printf %s "checking for library containing com_err... " >&6; }
+if test ${ac_cv_search_com_err+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char com_err ();
+int
+main (void)
+{
+return com_err ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' com_err 'com_err -lssl -lcrypto' krb5 'krb5 -lcrypto -ldes -lasn1 -lroken'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_com_err=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_com_err+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_com_err+y}
+then :
+
+else $as_nop
+  ac_cv_search_com_err=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_com_err" >&5
+printf "%s\n" "$ac_cv_search_com_err" >&6; }
+ac_res=$ac_cv_search_com_err
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'com_err' required for Kerberos 5" "$LINENO" 5
+fi
+
+                KRB5_LIBS=$LIBS
+                LIBS=$save_LIBS
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing krb5_sendauth" >&5
+printf %s "checking for library containing krb5_sendauth... " >&6; }
+if test ${ac_cv_search_krb5_sendauth+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char krb5_sendauth ();
+int
+main (void)
+{
+return krb5_sendauth ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' krb5 'krb5 -lcrypto -ldes -lasn1 -lroken'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_krb5_sendauth=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_krb5_sendauth+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_krb5_sendauth+y}
+then :
+
+else $as_nop
+  ac_cv_search_krb5_sendauth=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_krb5_sendauth" >&5
+printf "%s\n" "$ac_cv_search_krb5_sendauth" >&6; }
+ac_res=$ac_cv_search_krb5_sendauth
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'krb5_sendauth' required for Kerberos 5" "$LINENO" 5
+fi
+
+                KRB5_LIBS="$KRB5_LIBS $LIBS"
+                LIBS=$save_LIBS
+            fi
+            if test "$with_gssapi" = "yes"; then
+                WITH_GSSAPI=TRUE
+                save_LIBS=$LIBS
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing gss_init_sec_context" >&5
+printf %s "checking for library containing gss_init_sec_context... " >&6; }
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char gss_init_sec_context ();
+int
+main (void)
+{
+return gss_init_sec_context ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' gssapi_krb5 gss 'gssapi -lkrb5 -lcrypto'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_gss_init_sec_context=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+
+else $as_nop
+  ac_cv_search_gss_init_sec_context=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_gss_init_sec_context" >&5
+printf "%s\n" "$ac_cv_search_gss_init_sec_context" >&6; }
+ac_res=$ac_cv_search_gss_init_sec_context
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'gss_init_sec_context' required for GSSAPI" "$LINENO" 5
+fi
+
+                LIBS=$save_LIBS
+                GSSAPI_LIBS=$LIBS
+            fi
+        esac
+
+        if test -n "$with_libpq_path"; then
+            SYSTEM_POSTGRESQL=TRUE
+            postgres_interface="external libpq"
+            POSTGRESQL_LIB="-L${with_libpq_path}/lib/"
+            POSTGRESQL_INC=-I"${with_libpq_path}/include/"
+        else
+            SYSTEM_POSTGRESQL=
+            postgres_interface="internal"
+            POSTGRESQL_LIB=""
+            POSTGRESQL_INC="%OVERRIDE_ME%"
+            BUILD_TYPE="$BUILD_TYPE POSTGRESQL"
+        fi
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking PostgreSQL C interface" >&5
+printf %s "checking PostgreSQL C interface... " >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $postgres_interface" >&5
+printf "%s\n" "$postgres_interface" >&6; }
+
+    if test "${SYSTEM_POSTGRESQL}" = "TRUE"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking system PostgreSQL prerequisites" >&5
+printf "%s\n" "$as_me: checking system PostgreSQL prerequisites" >&6;}
+        save_CFLAGS=$CFLAGS
+        save_CPPFLAGS=$CPPFLAGS
+        save_LIBS=$LIBS
+        CPPFLAGS="${CPPFLAGS} ${POSTGRESQL_INC}"
+        LIBS="${LIBS} ${POSTGRESQL_LIB}"
+        ac_fn_c_check_header_compile "$LINENO" "libpq-fe.h" "ac_cv_header_libpq_fe_h" "$ac_includes_default"
+if test "x$ac_cv_header_libpq_fe_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "libpq-fe.h is needed" "$LINENO" 5
+fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for PQconnectdbParams in -lpq" >&5
+printf %s "checking for PQconnectdbParams in -lpq... " >&6; }
+if test ${ac_cv_lib_pq_PQconnectdbParams+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lpq  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char PQconnectdbParams ();
+int
+main (void)
+{
+return PQconnectdbParams ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_pq_PQconnectdbParams=yes
+else $as_nop
+  ac_cv_lib_pq_PQconnectdbParams=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pq_PQconnectdbParams" >&5
+printf "%s\n" "$ac_cv_lib_pq_PQconnectdbParams" >&6; }
+if test "x$ac_cv_lib_pq_PQconnectdbParams" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "libpq not found or too old. Need >= 9.0" "$LINENO" 5
+fi
+
+        CFLAGS=$save_CFLAGS
+        CPPFLAGS=$save_CPPFLAGS
+        LIBS=$save_LIBS
+    fi
+    BUILD_POSTGRESQL_SDBC=TRUE
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+
+
+
+
+
+
+ENABLE_FIREBIRD_SDBC=
+if test "$enable_firebird_sdbc" = "yes" ; then
+    SCPDEFS="$SCPDEFS -DWITH_FIREBIRD_SDBC"
+
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which Firebird to use" >&5
+printf %s "checking which Firebird to use... " >&6; }
+    if test "$with_system_firebird" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_FIREBIRD=TRUE
+        # Extract the first word of "fb_config", so it can be a program name with args.
+set dummy fb_config; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_FIREBIRDCONFIG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $FIREBIRDCONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_FIREBIRDCONFIG="$FIREBIRDCONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_FIREBIRDCONFIG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+FIREBIRDCONFIG=$ac_cv_path_FIREBIRDCONFIG
+if test -n "$FIREBIRDCONFIG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $FIREBIRDCONFIG" >&5
+printf "%s\n" "$FIREBIRDCONFIG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test -z "$FIREBIRDCONFIG"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: No fb_config -- using pkg-config" >&5
+printf "%s\n" "$as_me: No fb_config -- using pkg-config" >&6;}
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for fbclient >= 3" >&5
+printf %s "checking for fbclient >= 3... " >&6; }
+
+if test -n "$FIREBIRD_CFLAGS"; then
+    pkg_cv_FIREBIRD_CFLAGS="$FIREBIRD_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"fbclient >= 3\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "fbclient >= 3") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FIREBIRD_CFLAGS=`$PKG_CONFIG --cflags "fbclient >= 3" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$FIREBIRD_LIBS"; then
+    pkg_cv_FIREBIRD_LIBS="$FIREBIRD_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"fbclient >= 3\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "fbclient >= 3") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FIREBIRD_LIBS=`$PKG_CONFIG --libs "fbclient >= 3" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                FIREBIRD_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "fbclient >= 3" 2>&1`
+        else
+                FIREBIRD_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "fbclient >= 3" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$FIREBIRD_PKG_ERRORS" >&5
+
+
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for fbembed" >&5
+printf %s "checking for fbembed... " >&6; }
+
+if test -n "$FIREBIRD_CFLAGS"; then
+    pkg_cv_FIREBIRD_CFLAGS="$FIREBIRD_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"fbembed\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "fbembed") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FIREBIRD_CFLAGS=`$PKG_CONFIG --cflags "fbembed" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$FIREBIRD_LIBS"; then
+    pkg_cv_FIREBIRD_LIBS="$FIREBIRD_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"fbembed\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "fbembed") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FIREBIRD_LIBS=`$PKG_CONFIG --libs "fbembed" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                FIREBIRD_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "fbembed" 2>&1`
+        else
+                FIREBIRD_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "fbembed" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$FIREBIRD_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (fbembed) were not met:
+
+$FIREBIRD_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables FIREBIRD_CFLAGS
+and FIREBIRD_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables FIREBIRD_CFLAGS
+and FIREBIRD_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        FIREBIRD_CFLAGS=$pkg_cv_FIREBIRD_CFLAGS
+        FIREBIRD_LIBS=$pkg_cv_FIREBIRD_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        FIREBIRD_PKGNAME=fbembed
+fi
+
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for fbembed" >&5
+printf %s "checking for fbembed... " >&6; }
+
+if test -n "$FIREBIRD_CFLAGS"; then
+    pkg_cv_FIREBIRD_CFLAGS="$FIREBIRD_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"fbembed\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "fbembed") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FIREBIRD_CFLAGS=`$PKG_CONFIG --cflags "fbembed" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$FIREBIRD_LIBS"; then
+    pkg_cv_FIREBIRD_LIBS="$FIREBIRD_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"fbembed\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "fbembed") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_FIREBIRD_LIBS=`$PKG_CONFIG --libs "fbembed" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                FIREBIRD_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "fbembed" 2>&1`
+        else
+                FIREBIRD_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "fbembed" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$FIREBIRD_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (fbembed) were not met:
+
+$FIREBIRD_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables FIREBIRD_CFLAGS
+and FIREBIRD_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables FIREBIRD_CFLAGS
+and FIREBIRD_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        FIREBIRD_CFLAGS=$pkg_cv_FIREBIRD_CFLAGS
+        FIREBIRD_LIBS=$pkg_cv_FIREBIRD_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        FIREBIRD_PKGNAME=fbembed
+fi
+
+else
+        FIREBIRD_CFLAGS=$pkg_cv_FIREBIRD_CFLAGS
+        FIREBIRD_LIBS=$pkg_cv_FIREBIRD_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        FIREBIRD_PKGNAME=fbclient
+fi
+            FIREBIRD_VERSION=`pkg-config --modversion "$FIREBIRD_PKGNAME"`
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: fb_config found" >&5
+printf "%s\n" "$as_me: fb_config found" >&6;}
+            FIREBIRD_VERSION=`$FIREBIRDCONFIG --version`
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Firebird Client library" >&5
+printf %s "checking for Firebird Client library... " >&6; }
+            FIREBIRD_CFLAGS=`$FIREBIRDCONFIG --cflags`
+            FIREBIRD_LIBS=`$FIREBIRDCONFIG --embedlibs`
+            FilterLibs "${FIREBIRD_LIBS}"
+            FIREBIRD_LIBS="${filteredlibs}"
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: includes \`$FIREBIRD_CFLAGS', libraries \`$FIREBIRD_LIBS'" >&5
+printf "%s\n" "includes \`$FIREBIRD_CFLAGS', libraries \`$FIREBIRD_LIBS'" >&6; }
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking Firebird version" >&5
+printf %s "checking Firebird version... " >&6; }
+        if test -n "${FIREBIRD_VERSION}"; then
+            FIREBIRD_MAJOR=`echo $FIREBIRD_VERSION | cut -d"." -f1`
+            if test "$FIREBIRD_MAJOR" -ge "3"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: OK" >&5
+printf "%s\n" "OK" >&6; }
+            else
+                as_fn_error $? "Ensure firebird >= 3 is installed" "$LINENO" 5
+            fi
+        else
+            save_CFLAGS="${CFLAGS}"
+            CFLAGS="${CFLAGS} ${FIREBIRD_CFLAGS}"
+            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <ibase.h>
+#if defined(FB_API_VER) && FB_API_VER == 30
+int fb_api_is_30(void) { return 0; }
+#else
+#error "Wrong Firebird API version"
+#endif
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: OK" >&5
+printf "%s\n" "OK" >&6; }
+else $as_nop
+  as_fn_error $? "Ensure firebird 3.0.x is installed" "$LINENO" 5
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+            CFLAGS="$save_CFLAGS"
+        fi
+        ENABLE_FIREBIRD_SDBC=TRUE
+        printf "%s\n" "#define ENABLE_FIREBIRD_SDBC 1" >>confdefs.h
+
+    elif test "$enable_database_connectivity" = no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none" >&5
+printf "%s\n" "none" >&6; }
+    elif test "$cross_compiling" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none" >&5
+printf "%s\n" "none" >&6; }
+    else
+                        if test "${CPUNAME}" != INTEL -a "${CPUNAME}" != X86_64; then
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libatomic_ops="yes";
+
+
+
+
+# Check whether --with-system-libatomic_ops was given.
+if test ${with_system_libatomic_ops+y}
+then :
+  withval=$with_system_libatomic_ops;
+else $as_nop
+
+    if test "${with_system_libatomic_ops+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libatomic_ops="$with_system_libs";
+    else
+        with_system_libatomic_ops="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libatomic_ops to use" >&5
+printf %s "checking which libatomic_ops to use... " >&6; }
+if test "$test_libatomic_ops" != no -a "$found_libatomic_ops" != yes -a "$enable_libatomic_ops" != no; then
+    ENABLE_LIBATOMIC_OPS=TRUE
+    if test "$with_system_libatomic_ops" = yes -a "$test_system_libatomic_ops" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LIBATOMIC_OPS=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for atomic_ops >= 0.7.2" >&5
+printf %s "checking for atomic_ops >= 0.7.2... " >&6; }
+
+if test -n "$LIBATOMIC_OPS_CFLAGS"; then
+    pkg_cv_LIBATOMIC_OPS_CFLAGS="$LIBATOMIC_OPS_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"atomic_ops >= 0.7.2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "atomic_ops >= 0.7.2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBATOMIC_OPS_CFLAGS=`$PKG_CONFIG --cflags "atomic_ops >= 0.7.2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBATOMIC_OPS_LIBS"; then
+    pkg_cv_LIBATOMIC_OPS_LIBS="$LIBATOMIC_OPS_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"atomic_ops >= 0.7.2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "atomic_ops >= 0.7.2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBATOMIC_OPS_LIBS=`$PKG_CONFIG --libs "atomic_ops >= 0.7.2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBATOMIC_OPS_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "atomic_ops >= 0.7.2" 2>&1`
+        else
+                LIBATOMIC_OPS_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "atomic_ops >= 0.7.2" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBATOMIC_OPS_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (atomic_ops >= 0.7.2) were not met:
+
+$LIBATOMIC_OPS_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBATOMIC_OPS_CFLAGS
+and LIBATOMIC_OPS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBATOMIC_OPS_CFLAGS
+and LIBATOMIC_OPS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBATOMIC_OPS_CFLAGS=$pkg_cv_LIBATOMIC_OPS_CFLAGS
+        LIBATOMIC_OPS_LIBS=$pkg_cv_LIBATOMIC_OPS_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBATOMIC_OPS_CFLAGS=$(printf '%s' "${LIBATOMIC_OPS_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBATOMIC_OPS_LIBS}"
+        LIBATOMIC_OPS_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LIBATOMIC_OPS=
+        LIBATOMIC_OPS_CFLAGS="${LIBATOMIC_OPS_CFLAGS_internal}"
+        LIBATOMIC_OPS_LIBS="${LIBATOMIC_OPS_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE LIBATOMIC_OPS"
+    fi
+else
+    if test "$found_libatomic_ops" = yes -a "$enable_libatomic_ops" != no -a "$with_system_libatomic_ops" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_LIBATOMIC_OPS=TRUE
+        SYSTEM_LIBATOMIC_OPS=TRUE
+    else
+        ENABLE_LIBATOMIC_OPS=
+        SYSTEM_LIBATOMIC_OPS=
+        LIBATOMIC_OPS_CFLAGS=
+        LIBATOMIC_OPS_LIBS=
+        if test "$test_libatomic_ops" != no -a "$enable_libatomic_ops" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+            if test "$with_system_libatomic_ops" = "yes"; then
+                SYSTEM_LIBATOMIC_OPS=TRUE
+                       for ac_header in atomic_ops.h
+do :
+  ac_fn_c_check_header_compile "$LINENO" "atomic_ops.h" "ac_cv_header_atomic_ops_h" "$ac_includes_default"
+if test "x$ac_cv_header_atomic_ops_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_ATOMIC_OPS_H 1" >>confdefs.h
+
+else $as_nop
+  as_fn_error $? "atomic_ops.h not found. install libatomic_ops" "$LINENO" 5
+fi
+
+done
+            else
+                SYSTEM_LIBATOMIC_OPS=
+                LIBATOMIC_OPS_CFLAGS="-I${WORKDIR}/UnpackedTarball/libatomic_ops/include"
+                LIBATOMIC_OPS_LIBS="-latomic_ops"
+                BUILD_TYPE="$BUILD_TYPE LIBATOMIC_OPS"
+            fi
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_FIREBIRD=
+        FIREBIRD_CFLAGS="-I${WORKDIR}/UnpackedTarball/firebird/gen/Release/firebird/include"
+        FIREBIRD_LIBS="-lfbclient"
+
+        if test "$with_system_libtommath" = "yes"; then
+            SYSTEM_LIBTOMMATH=TRUE
+                        save_LIBS=$LIBS
+            ac_fn_c_check_header_compile "$LINENO" "tommath.h" "ac_cv_header_tommath_h" "$ac_includes_default"
+if test "x$ac_cv_header_tommath_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "Include file for tommath not found - please install development tommath package" "$LINENO" 5
+fi
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for mp_init in -ltommath" >&5
+printf %s "checking for mp_init in -ltommath... " >&6; }
+if test ${ac_cv_lib_tommath_mp_init+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-ltommath  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char mp_init ();
+int
+main (void)
+{
+return mp_init ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_tommath_mp_init=yes
+else $as_nop
+  ac_cv_lib_tommath_mp_init=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_tommath_mp_init" >&5
+printf "%s\n" "$ac_cv_lib_tommath_mp_init" >&6; }
+if test "x$ac_cv_lib_tommath_mp_init" = xyes
+then :
+  LIBTOMMATH_LIBS=-ltommath
+else $as_nop
+  as_fn_error $? "Library tommath not found - please install development tommath package" "$LINENO" 5
+fi
+
+            LIBS=$save_LIBS
+        else
+            SYSTEM_LIBTOMMATH=
+            LIBTOMMATH_CFLAGS="-I${WORKDIR}/UnpackedTarball/libtommath"
+            LIBTOMMATH_LIBS="-ltommath"
+            BUILD_TYPE="$BUILD_TYPE LIBTOMMATH"
+        fi
+
+        BUILD_TYPE="$BUILD_TYPE FIREBIRD"
+        ENABLE_FIREBIRD_SDBC=TRUE
+        printf "%s\n" "#define ENABLE_FIREBIRD_SDBC 1" >>confdefs.h
+
+    fi
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+        # Check whether --enable-curl was given.
+if test ${enable_curl+y}
+then :
+  enableval=$enable_curl;
+else $as_nop
+  enable_curl="yes"
+fi
+
+
+
+
+
+# Check whether --with-system-curl was given.
+if test ${with_system_curl+y}
+then :
+  withval=$with_system_curl;
+else $as_nop
+
+    if test "${with_system_curl+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_curl="$with_system_libs";
+    else
+        with_system_curl="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which curl to use" >&5
+printf %s "checking which curl to use... " >&6; }
+if test "$test_curl" != no -a "$found_curl" != yes -a "$enable_curl" != no; then
+    ENABLE_CURL=TRUE
+    if test "$with_system_curl" = yes -a "$test_system_curl" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_CURL=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libcurl >= 7.68.0" >&5
+printf %s "checking for libcurl >= 7.68.0... " >&6; }
+
+if test -n "$CURL_CFLAGS"; then
+    pkg_cv_CURL_CFLAGS="$CURL_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libcurl >= 7.68.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libcurl >= 7.68.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CURL_CFLAGS=`$PKG_CONFIG --cflags "libcurl >= 7.68.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$CURL_LIBS"; then
+    pkg_cv_CURL_LIBS="$CURL_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libcurl >= 7.68.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libcurl >= 7.68.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CURL_LIBS=`$PKG_CONFIG --libs "libcurl >= 7.68.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                CURL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libcurl >= 7.68.0" 2>&1`
+        else
+                CURL_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libcurl >= 7.68.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$CURL_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libcurl >= 7.68.0) were not met:
+
+$CURL_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables CURL_CFLAGS
+and CURL_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables CURL_CFLAGS
+and CURL_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        CURL_CFLAGS=$pkg_cv_CURL_CFLAGS
+        CURL_LIBS=$pkg_cv_CURL_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        CURL_CFLAGS=$(printf '%s' "${CURL_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${CURL_LIBS}"
+        CURL_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_CURL=
+        CURL_CFLAGS="${CURL_CFLAGS_internal}"
+        CURL_LIBS="${CURL_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE CURL"
+    fi
+else
+    if test "$found_curl" = yes -a "$enable_curl" != no -a "$with_system_curl" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_CURL=TRUE
+        SYSTEM_CURL=TRUE
+    else
+        ENABLE_CURL=
+        SYSTEM_CURL=
+        CURL_CFLAGS=
+        CURL_LIBS=
+        if test "$test_curl" != no -a "$enable_curl" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+if test "$enable_curl" = "yes" -a "$with_system_curl" != "yes" -a "$with_gssapi" != "no"; then
+    if test "$_os" != "WINNT"; then
+        WITH_GSSAPI=TRUE
+        save_LIBS=$LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for library containing gss_init_sec_context" >&5
+printf %s "checking for library containing gss_init_sec_context... " >&6; }
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char gss_init_sec_context ();
+int
+main (void)
+{
+return gss_init_sec_context ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' gssapi_krb5 gss 'gssapi -lkrb5 -lcrypto'
+do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_search_gss_init_sec_context=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext
+  if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+  break
+fi
+done
+if test ${ac_cv_search_gss_init_sec_context+y}
+then :
+
+else $as_nop
+  ac_cv_search_gss_init_sec_context=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_gss_init_sec_context" >&5
+printf "%s\n" "$ac_cv_search_gss_init_sec_context" >&6; }
+ac_res=$ac_cv_search_gss_init_sec_context
+if test "$ac_res" != no
+then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+else $as_nop
+  as_fn_error $? "could not find function 'gss_init_sec_context' required for GSSAPI" "$LINENO" 5
+fi
+
+        GSSAPI_LIBS=$LIBS
+        LIBS=$save_LIBS
+    fi
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which boost to use" >&5
+printf %s "checking which boost to use... " >&6; }
+if test "$with_system_boost" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_BOOST=TRUE
+
+
+# Check whether --with-boost was given.
+if test ${with_boost+y}
+then :
+  withval=$with_boost;
+     case $withval in #(
+  no) :
+    want_boost="no";_AX_BOOST_BASE_boost_path="" ;; #(
+  yes) :
+    want_boost="yes";_AX_BOOST_BASE_boost_path="" ;; #(
+  *) :
+    want_boost="yes";_AX_BOOST_BASE_boost_path="$withval" ;;
+esac
+
+else $as_nop
+  want_boost="yes"
+fi
+
+
+
+
+# Check whether --with-boost-libdir was given.
+if test ${with_boost_libdir+y}
+then :
+  withval=$with_boost_libdir;
+   if test -d "$withval"
+then :
+  _AX_BOOST_BASE_boost_lib_path="$withval"
+else $as_nop
+  as_fn_error $? "--with-boost-libdir expected directory name" "$LINENO" 5
+fi
+
+else $as_nop
+  _AX_BOOST_BASE_boost_lib_path=""
+fi
+
+
+BOOST_LDFLAGS=""
+BOOST_CPPFLAGS=""
+if test "x$want_boost" = "xyes"
+then :
+
+
+  if test "x1.69" = "x"
+then :
+  _AX_BOOST_BASE_TONUMERICVERSION_req="1.20.0"
+else $as_nop
+  _AX_BOOST_BASE_TONUMERICVERSION_req="1.69"
+fi
+  _AX_BOOST_BASE_TONUMERICVERSION_req_shorten=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req : '\([0-9]*\.[0-9]*\)'`
+  _AX_BOOST_BASE_TONUMERICVERSION_req_major=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req : '\([0-9]*\)'`
+  if test "x$_AX_BOOST_BASE_TONUMERICVERSION_req_major" = "x"
+then :
+  as_fn_error $? "You should at least specify libboost major version" "$LINENO" 5
+fi
+  _AX_BOOST_BASE_TONUMERICVERSION_req_minor=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req : '[0-9]*\.\([0-9]*\)'`
+  if test "x$_AX_BOOST_BASE_TONUMERICVERSION_req_minor" = "x"
+then :
+  _AX_BOOST_BASE_TONUMERICVERSION_req_minor="0"
+fi
+  _AX_BOOST_BASE_TONUMERICVERSION_req_sub_minor=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req : '[0-9]*\.[0-9]*\.\([0-9]*\)'`
+  if test "X$_AX_BOOST_BASE_TONUMERICVERSION_req_sub_minor" = "X"
+then :
+  _AX_BOOST_BASE_TONUMERICVERSION_req_sub_minor="0"
+fi
+  _AX_BOOST_BASE_TONUMERICVERSION_RET=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req_major \* 100000 \+  $_AX_BOOST_BASE_TONUMERICVERSION_req_minor \* 100 \+ $_AX_BOOST_BASE_TONUMERICVERSION_req_sub_minor`
+  WANT_BOOST_VERSION=$_AX_BOOST_BASE_TONUMERICVERSION_RET
+
+    succeeded=no
+
+
+
+                        case ${host_cpu} in #(
+  x86_64) :
+    libsubdirs="lib64 libx32 lib lib64" ;; #(
+  mips*64*) :
+    libsubdirs="lib64 lib32 lib lib64" ;; #(
+  ppc64|powerpc64|s390x|sparc64|aarch64|ppc64le|powerpc64le|riscv64|e2k|loongarch64) :
+    libsubdirs="lib64 lib lib64" ;; #(
+  *) :
+    libsubdirs="lib"
+     ;;
+esac
+
+                case ${host_cpu} in #(
+  i?86) :
+    multiarch_libsubdir="lib/i386-${host_os}" ;; #(
+  armv7l) :
+    multiarch_libsubdir="lib/arm-${host_os}" ;; #(
+  *) :
+    multiarch_libsubdir="lib/${host_cpu}-${host_os}"
+     ;;
+esac
+
+                if test "x$_AX_BOOST_BASE_boost_path" != "x"
+then :
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for boostlib >= 1.69 ($WANT_BOOST_VERSION) includes in \"$_AX_BOOST_BASE_boost_path/include\"" >&5
+printf %s "checking for boostlib >= 1.69 ($WANT_BOOST_VERSION) includes in \"$_AX_BOOST_BASE_boost_path/include\"... " >&6; }
+         if test -d "$_AX_BOOST_BASE_boost_path/include" && test -r "$_AX_BOOST_BASE_boost_path/include"
+then :
+
+           { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+           BOOST_CPPFLAGS="-I$_AX_BOOST_BASE_boost_path/include"
+           for _AX_BOOST_BASE_boost_path_tmp in $multiarch_libsubdir $libsubdirs; do
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for boostlib >= 1.69 ($WANT_BOOST_VERSION) lib path in \"$_AX_BOOST_BASE_boost_path/$_AX_BOOST_BASE_boost_path_tmp\"" >&5
+printf %s "checking for boostlib >= 1.69 ($WANT_BOOST_VERSION) lib path in \"$_AX_BOOST_BASE_boost_path/$_AX_BOOST_BASE_boost_path_tmp\"... " >&6; }
+                if test -d "$_AX_BOOST_BASE_boost_path/$_AX_BOOST_BASE_boost_path_tmp" && test -r "$_AX_BOOST_BASE_boost_path/$_AX_BOOST_BASE_boost_path_tmp"
+then :
+
+                        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+                        BOOST_LDFLAGS="-L$_AX_BOOST_BASE_boost_path/$_AX_BOOST_BASE_boost_path_tmp";
+                        break;
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+           done
+else $as_nop
+
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+else $as_nop
+
+        if test X"$cross_compiling" = Xyes; then
+            search_libsubdirs=$multiarch_libsubdir
+        else
+            search_libsubdirs="$multiarch_libsubdir $libsubdirs"
+        fi
+        for _AX_BOOST_BASE_boost_path_tmp in /usr /usr/local /opt /opt/local /opt/homebrew ; do
+            if test -d "$_AX_BOOST_BASE_boost_path_tmp/include/boost" && test -r "$_AX_BOOST_BASE_boost_path_tmp/include/boost" ; then
+                for libsubdir in $search_libsubdirs ; do
+                    if ls "$_AX_BOOST_BASE_boost_path_tmp/$libsubdir/libboost_"* >/dev/null 2>&1 ; then break; fi
+                done
+                BOOST_LDFLAGS="-L$_AX_BOOST_BASE_boost_path_tmp/$libsubdir"
+                BOOST_CPPFLAGS="-I$_AX_BOOST_BASE_boost_path_tmp/include"
+                break;
+            fi
+        done
+
+fi
+
+            if test "x$_AX_BOOST_BASE_boost_lib_path" != "x"
+then :
+  BOOST_LDFLAGS="-L$_AX_BOOST_BASE_boost_lib_path"
+fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for boostlib >= 1.69 ($WANT_BOOST_VERSION)" >&5
+printf %s "checking for boostlib >= 1.69 ($WANT_BOOST_VERSION)... " >&6; }
+    CPPFLAGS_SAVED="$CPPFLAGS"
+    CPPFLAGS="$CPPFLAGS $BOOST_CPPFLAGS"
+    export CPPFLAGS
+
+    LDFLAGS_SAVED="$LDFLAGS"
+    LDFLAGS="$LDFLAGS $BOOST_LDFLAGS"
+    export LDFLAGS
+
+
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <boost/version.hpp>
+
+int
+main (void)
+{
+
+(void) ((void)sizeof(char[1 - 2*!!((BOOST_VERSION) < ($WANT_BOOST_VERSION))]));
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    succeeded=yes
+    found_system=yes
+
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+
+
+            if test "x$succeeded" != "xyes" ; then
+        CPPFLAGS="$CPPFLAGS_SAVED"
+        LDFLAGS="$LDFLAGS_SAVED"
+        BOOST_CPPFLAGS=
+        if test -z "$_AX_BOOST_BASE_boost_lib_path" ; then
+            BOOST_LDFLAGS=
+        fi
+        _version=0
+        if test -n "$_AX_BOOST_BASE_boost_path" ; then
+            if test -d "$_AX_BOOST_BASE_boost_path" && test -r "$_AX_BOOST_BASE_boost_path"; then
+                for i in `ls -d $_AX_BOOST_BASE_boost_path/include/boost-* 2>/dev/null`; do
+                    _version_tmp=`echo $i | sed "s#$_AX_BOOST_BASE_boost_path##" | sed 's/\/include\/boost-//' | sed 's/_/./'`
+                    V_CHECK=`expr $_version_tmp \> $_version`
+                    if test "x$V_CHECK" = "x1" ; then
+                        _version=$_version_tmp
+                    fi
+                    VERSION_UNDERSCORE=`echo $_version | sed 's/\./_/'`
+                    BOOST_CPPFLAGS="-I$_AX_BOOST_BASE_boost_path/include/boost-$VERSION_UNDERSCORE"
+                done
+                                if test -z "$BOOST_CPPFLAGS"; then
+                    if test -d "$_AX_BOOST_BASE_boost_path/boost" && test -r "$_AX_BOOST_BASE_boost_path/boost"; then
+                        BOOST_CPPFLAGS="-I$_AX_BOOST_BASE_boost_path"
+                    fi
+                fi
+                                                if test -n "$BOOST_CPPFLAGS" && test -z "$BOOST_LDFLAGS"; then
+                    for libsubdir in $libsubdirs ; do
+                        if ls "$_AX_BOOST_BASE_boost_path/$libsubdir/libboost_"* >/dev/null 2>&1 ; then break; fi
+                    done
+                    BOOST_LDFLAGS="-L$_AX_BOOST_BASE_boost_path/$libsubdir"
+                fi
+            fi
+        else
+            if test "x$cross_compiling" != "xyes" ; then
+                for _AX_BOOST_BASE_boost_path in /usr /usr/local /opt /opt/local /opt/homebrew ; do
+                    if test -d "$_AX_BOOST_BASE_boost_path" && test -r "$_AX_BOOST_BASE_boost_path" ; then
+                        for i in `ls -d $_AX_BOOST_BASE_boost_path/include/boost-* 2>/dev/null`; do
+                            _version_tmp=`echo $i | sed "s#$_AX_BOOST_BASE_boost_path##" | sed 's/\/include\/boost-//' | sed 's/_/./'`
+                            V_CHECK=`expr $_version_tmp \> $_version`
+                            if test "x$V_CHECK" = "x1" ; then
+                                _version=$_version_tmp
+                                best_path=$_AX_BOOST_BASE_boost_path
+                            fi
+                        done
+                    fi
+                done
+
+                VERSION_UNDERSCORE=`echo $_version | sed 's/\./_/'`
+                BOOST_CPPFLAGS="-I$best_path/include/boost-$VERSION_UNDERSCORE"
+                if test -z "$_AX_BOOST_BASE_boost_lib_path" ; then
+                    for libsubdir in $libsubdirs ; do
+                        if ls "$best_path/$libsubdir/libboost_"* >/dev/null 2>&1 ; then break; fi
+                    done
+                    BOOST_LDFLAGS="-L$best_path/$libsubdir"
+                fi
+            fi
+
+            if test -n "$BOOST_ROOT" ; then
+                for libsubdir in $libsubdirs ; do
+                    if ls "$BOOST_ROOT/stage/$libsubdir/libboost_"* >/dev/null 2>&1 ; then break; fi
+                done
+                if test -d "$BOOST_ROOT" && test -r "$BOOST_ROOT" && test -d "$BOOST_ROOT/stage/$libsubdir" && test -r "$BOOST_ROOT/stage/$libsubdir"; then
+                    version_dir=`expr //$BOOST_ROOT : '.*/\(.*\)'`
+                    stage_version=`echo $version_dir | sed 's/boost_//' | sed 's/_/./g'`
+                        stage_version_shorten=`expr $stage_version : '\([0-9]*\.[0-9]*\)'`
+                    V_CHECK=`expr $stage_version_shorten \>\= $_version`
+                    if test "x$V_CHECK" = "x1" && test -z "$_AX_BOOST_BASE_boost_lib_path" ; then
+                        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: We will use a staged boost library from $BOOST_ROOT" >&5
+printf "%s\n" "$as_me: We will use a staged boost library from $BOOST_ROOT" >&6;}
+                        BOOST_CPPFLAGS="-I$BOOST_ROOT"
+                        BOOST_LDFLAGS="-L$BOOST_ROOT/stage/$libsubdir"
+                    fi
+                fi
+            fi
+        fi
+
+        CPPFLAGS="$CPPFLAGS $BOOST_CPPFLAGS"
+        export CPPFLAGS
+        LDFLAGS="$LDFLAGS $BOOST_LDFLAGS"
+        export LDFLAGS
+
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <boost/version.hpp>
+
+int
+main (void)
+{
+
+(void) ((void)sizeof(char[1 - 2*!!((BOOST_VERSION) < ($WANT_BOOST_VERSION))]));
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        succeeded=yes
+        found_system=yes
+
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    fi
+
+    if test "x$succeeded" != "xyes" ; then
+        if test "x$_version" = "x0" ; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: We could not detect the boost libraries (version 1.69 or higher). If you have a staged boost library (still not installed) please specify \$BOOST_ROOT in your environment and do not give a PATH to --with-boost option.  If you are sure you have boost installed, then check your version number looking in <boost/version.hpp>. See http://randspringer.de/boost for more documentation." >&5
+printf "%s\n" "$as_me: We could not detect the boost libraries (version 1.69 or higher). If you have a staged boost library (still not installed) please specify \$BOOST_ROOT in your environment and do not give a PATH to --with-boost option.  If you are sure you have boost installed, then check your version number looking in <boost/version.hpp>. See http://randspringer.de/boost for more documentation." >&6;}
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Your boost libraries seems to old (version $_version)." >&5
+printf "%s\n" "$as_me: Your boost libraries seems to old (version $_version)." >&6;}
+        fi
+        # execute ACTION-IF-NOT-FOUND (if present):
+        as_fn_error $? "no suitable Boost found" "$LINENO" 5
+    else
+
+printf "%s\n" "#define HAVE_BOOST /**/" >>confdefs.h
+
+        # execute ACTION-IF-FOUND (if present):
+        :
+    fi
+
+    CPPFLAGS="$CPPFLAGS_SAVED"
+    LDFLAGS="$LDFLAGS_SAVED"
+
+
+fi
+
+
+
+
+
+# Check whether --with-boost-date-time was given.
+if test ${with_boost_date_time+y}
+then :
+  withval=$with_boost_date_time;
+        if test "$withval" = "no"; then
+			want_boost="no"
+        elif test "$withval" = "yes"; then
+            want_boost="yes"
+            ax_boost_user_date_time_lib=""
+        else
+		    want_boost="yes"
+		ax_boost_user_date_time_lib="$withval"
+		fi
+
+else $as_nop
+  want_boost="yes"
+
+fi
+
+
+	if test "x$want_boost" = "xyes"; then
+
+		CPPFLAGS_SAVED="$CPPFLAGS"
+		CPPFLAGS="$CPPFLAGS $BOOST_CPPFLAGS"
+		export CPPFLAGS
+
+		LDFLAGS_SAVED="$LDFLAGS"
+		LDFLAGS="$LDFLAGS $BOOST_LDFLAGS"
+		export LDFLAGS
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the Boost::Date_Time library is available" >&5
+printf %s "checking whether the Boost::Date_Time library is available... " >&6; }
+if test ${ax_cv_boost_date_time+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+		 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <boost/date_time/gregorian/gregorian_types.hpp>
+int
+main (void)
+{
+using namespace boost::gregorian; date d(2002,Jan,10);
+                                     return 0;
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ax_cv_boost_date_time=yes
+else $as_nop
+  ax_cv_boost_date_time=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+         ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_boost_date_time" >&5
+printf "%s\n" "$ax_cv_boost_date_time" >&6; }
+		if test "x$ax_cv_boost_date_time" = "xyes"; then
+
+printf "%s\n" "#define HAVE_BOOST_DATE_TIME /**/" >>confdefs.h
+
+            BOOSTLIBDIR=`echo $BOOST_LDFLAGS | sed -e 's/[^\/]*//'`
+            if test "x$ax_boost_user_date_time_lib" = "x"; then
+                for libextension in `ls $BOOSTLIBDIR/libboost_date_time*.so* $BOOSTLIBDIR/libboost_date_time*.dylib* $BOOSTLIBDIR/libboost_date_time*.a* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^lib\(boost_date_time.*\)\.so.*$;\1;' -e 's;^lib\(boost_date_time.*\)\.dylib.*$;\1;' -e 's;^lib\(boost_date_time.*\)\.a*$;\1;'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_DATE_TIME_LIB="-l$ax_lib";  link_date_time="yes"; break
+else $as_nop
+  link_date_time="no"
+fi
+
+				done
+                if test "x$link_date_time" != "xyes"; then
+                for libextension in `ls $BOOSTLIBDIR/boost_date_time*.dll* $BOOSTLIBDIR/boost_date_time*.a* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^\(boost_date_time.*\)\.dll.*$;\1;' -e 's;^\(boost_date_time.*\)\.a.*$;\1;'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_DATE_TIME_LIB="-l$ax_lib";  link_date_time="yes"; break
+else $as_nop
+  link_date_time="no"
+fi
+
+				done
+                fi
+
+            else
+               for ax_lib in $ax_boost_user_date_time_lib boost_date_time-$ax_boost_user_date_time_lib; do
+				      as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_main" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for main in -l$ax_lib" >&5
+printf %s "checking for main in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+
+int
+main (void)
+{
+return main ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_DATE_TIME_LIB="-l$ax_lib";  link_date_time="yes"; break
+else $as_nop
+  link_date_time="no"
+fi
+
+                  done
+
+            fi
+            if test "x$ax_lib" = "x"; then
+                as_fn_error $? "Could not find a version of the Boost::Date_Time library!" "$LINENO" 5
+            fi
+			if test "x$link_date_time" != "xyes"; then
+				as_fn_error $? "Could not link against $ax_lib !" "$LINENO" 5
+			fi
+		fi
+
+		CPPFLAGS="$CPPFLAGS_SAVED"
+	LDFLAGS="$LDFLAGS_SAVED"
+	fi
+
+
+
+# Check whether --with-boost-filesystem was given.
+if test ${with_boost_filesystem+y}
+then :
+  withval=$with_boost_filesystem;
+        if test "$withval" = "no"; then
+			want_boost="no"
+        elif test "$withval" = "yes"; then
+            want_boost="yes"
+            ax_boost_user_filesystem_lib=""
+        else
+		    want_boost="yes"
+		ax_boost_user_filesystem_lib="$withval"
+		fi
+
+else $as_nop
+  want_boost="yes"
+
+fi
+
+
+	if test "x$want_boost" = "xyes"; then
+
+		CPPFLAGS_SAVED="$CPPFLAGS"
+		CPPFLAGS="$CPPFLAGS $BOOST_CPPFLAGS"
+		export CPPFLAGS
+
+		LDFLAGS_SAVED="$LDFLAGS"
+		LDFLAGS="$LDFLAGS $BOOST_LDFLAGS"
+		export LDFLAGS
+
+		LIBS_SAVED=$LIBS
+		LIBS="$LIBS $BOOST_SYSTEM_LIB"
+		export LIBS
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the Boost::Filesystem library is available" >&5
+printf %s "checking whether the Boost::Filesystem library is available... " >&6; }
+if test ${ax_cv_boost_filesystem+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <boost/filesystem/path.hpp>
+int
+main (void)
+{
+using namespace boost::filesystem;
+                                   path my_path( "foo/bar/data.txt" );
+                                   return 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ax_cv_boost_filesystem=yes
+else $as_nop
+  ax_cv_boost_filesystem=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+         ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_boost_filesystem" >&5
+printf "%s\n" "$ax_cv_boost_filesystem" >&6; }
+		if test "x$ax_cv_boost_filesystem" = "xyes"; then
+
+printf "%s\n" "#define HAVE_BOOST_FILESYSTEM /**/" >>confdefs.h
+
+            BOOSTLIBDIR=`echo $BOOST_LDFLAGS | sed -e 's/[^\/]*//'`
+            if test "x$ax_boost_user_filesystem_lib" = "x"; then
+                for libextension in `ls -r $BOOSTLIBDIR/libboost_filesystem* 2>/dev/null | sed 's,.*/lib,,' | sed 's,\..*,,'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_FILESYSTEM_LIB="-l$ax_lib";  link_filesystem="yes"; break
+else $as_nop
+  link_filesystem="no"
+fi
+
+				done
+                if test "x$link_filesystem" != "xyes"; then
+                for libextension in `ls -r $BOOSTLIBDIR/boost_filesystem* 2>/dev/null | sed 's,.*/,,' | sed -e 's,\..*,,'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_FILESYSTEM_LIB="-l$ax_lib";  link_filesystem="yes"; break
+else $as_nop
+  link_filesystem="no"
+fi
+
+				done
+		    fi
+            else
+               for ax_lib in $ax_boost_user_filesystem_lib boost_filesystem-$ax_boost_user_filesystem_lib; do
+				      as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_FILESYSTEM_LIB="-l$ax_lib";  link_filesystem="yes"; break
+else $as_nop
+  link_filesystem="no"
+fi
+
+                  done
+
+            fi
+            if test "x$ax_lib" = "x"; then
+                as_fn_error $? "Could not find a version of the Boost::Filesystem library!" "$LINENO" 5
+            fi
+			if test "x$link_filesystem" != "xyes"; then
+				as_fn_error $? "Could not link against $ax_lib !" "$LINENO" 5
+			fi
+		fi
+
+		CPPFLAGS="$CPPFLAGS_SAVED"
+		LDFLAGS="$LDFLAGS_SAVED"
+		LIBS="$LIBS_SAVED"
+	fi
+
+
+
+# Check whether --with-boost-iostreams was given.
+if test ${with_boost_iostreams+y}
+then :
+  withval=$with_boost_iostreams;
+        if test "$withval" = "no"; then
+			want_boost="no"
+        elif test "$withval" = "yes"; then
+            want_boost="yes"
+            ax_boost_user_iostreams_lib=""
+        else
+		    want_boost="yes"
+		ax_boost_user_iostreams_lib="$withval"
+		fi
+
+else $as_nop
+  want_boost="yes"
+
+fi
+
+
+	if test "x$want_boost" = "xyes"; then
+
+		CPPFLAGS_SAVED="$CPPFLAGS"
+		CPPFLAGS="$CPPFLAGS $BOOST_CPPFLAGS"
+		export CPPFLAGS
+
+		LDFLAGS_SAVED="$LDFLAGS"
+		LDFLAGS="$LDFLAGS $BOOST_LDFLAGS"
+		export LDFLAGS
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the Boost::IOStreams library is available" >&5
+printf %s "checking whether the Boost::IOStreams library is available... " >&6; }
+if test ${ax_cv_boost_iostreams+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+		 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <boost/iostreams/filtering_stream.hpp>
+											 #include <boost/range/iterator_range.hpp>
+
+int
+main (void)
+{
+std::string  input = "Hello World!";
+								 namespace io = boost::iostreams;
+									 io::filtering_istream  in(boost::make_iterator_range(input));
+									 return 0;
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ax_cv_boost_iostreams=yes
+else $as_nop
+  ax_cv_boost_iostreams=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+         ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_boost_iostreams" >&5
+printf "%s\n" "$ax_cv_boost_iostreams" >&6; }
+		if test "x$ax_cv_boost_iostreams" = "xyes"; then
+
+printf "%s\n" "#define HAVE_BOOST_IOSTREAMS /**/" >>confdefs.h
+
+            BOOSTLIBDIR=`echo $BOOST_LDFLAGS | sed -e 's/[^\/]*//'`
+            if test "x$ax_boost_user_iostreams_lib" = "x"; then
+                for libextension in `ls $BOOSTLIBDIR/libboost_iostreams*.so* $BOOSTLIBDIR/libboost_iostream*.dylib* $BOOSTLIBDIR/libboost_iostreams*.a* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^lib\(boost_iostreams.*\)\.so.*$;\1;' -e 's;^lib\(boost_iostream.*\)\.dylib.*$;\1;' -e 's;^lib\(boost_iostreams.*\)\.a.*$;\1;'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_IOSTREAMS_LIB="-l$ax_lib";  link_iostreams="yes"; break
+else $as_nop
+  link_iostreams="no"
+fi
+
+				done
+                if test "x$link_iostreams" != "xyes"; then
+                for libextension in `ls $BOOSTLIBDIR/boost_iostreams*.dll* $BOOSTLIBDIR/boost_iostreams*.a* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^\(boost_iostreams.*\)\.dll.*$;\1;' -e 's;^\(boost_iostreams.*\)\.a.*$;\1;'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_IOSTREAMS_LIB="-l$ax_lib";  link_iostreams="yes"; break
+else $as_nop
+  link_iostreams="no"
+fi
+
+				done
+                fi
+
+            else
+               for ax_lib in $ax_boost_user_iostreams_lib boost_iostreams-$ax_boost_user_iostreams_lib; do
+				      as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_main" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for main in -l$ax_lib" >&5
+printf %s "checking for main in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+
+int
+main (void)
+{
+return main ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_IOSTREAMS_LIB="-l$ax_lib";  link_iostreams="yes"; break
+else $as_nop
+  link_iostreams="no"
+fi
+
+                  done
+
+            fi
+            if test "x$ax_lib" = "x"; then
+                as_fn_error $? "Could not find a version of the Boost::IOStreams library!" "$LINENO" 5
+            fi
+			if test "x$link_iostreams" != "xyes"; then
+				as_fn_error $? "Could not link against $ax_lib !" "$LINENO" 5
+			fi
+		fi
+
+		CPPFLAGS="$CPPFLAGS_SAVED"
+	LDFLAGS="$LDFLAGS_SAVED"
+	fi
+
+
+
+# Check whether --with-boost-locale was given.
+if test ${with_boost_locale+y}
+then :
+  withval=$with_boost_locale;
+        if test "$withval" = "no"; then
+			want_boost="no"
+        elif test "$withval" = "yes"; then
+            want_boost="yes"
+            ax_boost_user_locale_lib=""
+        else
+		    want_boost="yes"
+		ax_boost_user_locale_lib="$withval"
+		fi
+
+else $as_nop
+  want_boost="yes"
+
+fi
+
+
+	if test "x$want_boost" = "xyes"; then
+
+
+		CPPFLAGS_SAVED="$CPPFLAGS"
+		CPPFLAGS="$CPPFLAGS $BOOST_CPPFLAGS"
+		export CPPFLAGS
+
+		LDFLAGS_SAVED="$LDFLAGS"
+		LDFLAGS="$LDFLAGS $BOOST_LDFLAGS"
+		export LDFLAGS
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the Boost::Locale library is available" >&5
+printf %s "checking whether the Boost::Locale library is available... " >&6; }
+if test ${ax_cv_boost_locale+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+			 CXXFLAGS_SAVE=$CXXFLAGS
+
+			 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <boost/locale.hpp>
+int
+main (void)
+{
+boost::locale::generator gen;
+                                   std::locale::global(gen(""));
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ax_cv_boost_locale=yes
+else $as_nop
+  ax_cv_boost_locale=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+			 CXXFLAGS=$CXXFLAGS_SAVE
+             ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_boost_locale" >&5
+printf "%s\n" "$ax_cv_boost_locale" >&6; }
+		if test "x$ax_cv_boost_locale" = "xyes"; then
+
+
+
+printf "%s\n" "#define HAVE_BOOST_LOCALE /**/" >>confdefs.h
+
+            BOOSTLIBDIR=`echo $BOOST_LDFLAGS | sed -e 's/[^\/]*//'`
+
+			LDFLAGS_SAVE=$LDFLAGS
+            if test "x$ax_boost_user_locale_lib" = "x"; then
+                for libextension in `ls $BOOSTLIBDIR/libboost_locale*.so* $BOOSTLIBDIR/libboost_locale*.dylib* $BOOSTLIBDIR/libboost_locale*.a* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^lib\(boost_locale.*\)\.so.*$;\1;' -e 's;^lib\(boost_locale.*\)\.dylib.*$;\1;' -e 's;^lib\(boost_locale.*\)\.a.*$;\1;'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_LOCALE_LIB="-l$ax_lib";  link_locale="yes"; break
+else $as_nop
+  link_locale="no"
+fi
+
+				done
+                if test "x$link_locale" != "xyes"; then
+                for libextension in `ls $BOOSTLIBDIR/boost_locale*.dll* $BOOSTLIBDIR/boost_locale*.a* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^\(boost_locale.*\)\.dll.*$;\1;' -e 's;^\(boost_locale.*\)\.a.*$;\1;'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_LOCALE_LIB="-l$ax_lib";  link_locale="yes"; break
+else $as_nop
+  link_locale="no"
+fi
+
+				done
+                fi
+
+            else
+               for ax_lib in $ax_boost_user_locale_lib boost_locale-$ax_boost_user_locale_lib; do
+				      as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_LOCALE_LIB="-l$ax_lib";  link_locale="yes"; break
+else $as_nop
+  link_locale="no"
+fi
+
+                  done
+
+            fi
+            if test "x$ax_lib" = "x"; then
+                as_fn_error $? "Could not find a version of the Boost::Locale library!" "$LINENO" 5
+            fi
+			if test "x$link_locale" = "xno"; then
+				as_fn_error $? "Could not link against $ax_lib !" "$LINENO" 5
+			fi
+		fi
+
+		CPPFLAGS="$CPPFLAGS_SAVED"
+	LDFLAGS="$LDFLAGS_SAVED"
+	fi
+
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS $BOOST_CPPFLAGS $CXXFLAGS_CXX11"
+    ac_fn_cxx_check_header_compile "$LINENO" "boost/shared_ptr.hpp" "ac_cv_header_boost_shared_ptr_hpp" "$ac_includes_default"
+if test "x$ac_cv_header_boost_shared_ptr_hpp" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "boost/shared_ptr.hpp not found. install boost" "$LINENO" 5
+fi
+
+    ac_fn_cxx_check_header_compile "$LINENO" "boost/spirit/include/classic_core.hpp" "ac_cv_header_boost_spirit_include_classic_core_hpp" "$ac_includes_default"
+if test "x$ac_cv_header_boost_spirit_include_classic_core_hpp" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "boost/spirit/include/classic_core.hpp not found. install boost >= 1.36" "$LINENO" 5
+fi
+
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    # this is in m4/ax_boost_base.m4
+    FilterLibs "${BOOST_LDFLAGS}"
+    BOOST_LDFLAGS="${filteredlibs}"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    BUILD_TYPE="$BUILD_TYPE BOOST"
+    SYSTEM_BOOST=
+    if test "${COM}" = "GCC" -o "${COM_IS_CLANG}" = "TRUE"; then
+        # use warning-suppressing wrapper headers
+        BOOST_CPPFLAGS="-I${SRC_ROOT}/external/boost/include -I${WORKDIR}/UnpackedTarball/boost"
+    else
+        BOOST_CPPFLAGS="-I${WORKDIR}/UnpackedTarball/boost"
+    fi
+fi
+
+
+MDDS_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/mdds/include"
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_mdds="yes";
+
+
+
+
+# Check whether --with-system-mdds was given.
+if test ${with_system_mdds+y}
+then :
+  withval=$with_system_mdds;
+else $as_nop
+
+    if test "${with_system_mdds+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_mdds="$with_system_libs";
+    else
+        with_system_mdds="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which mdds to use" >&5
+printf %s "checking which mdds to use... " >&6; }
+if test "$test_mdds" != no -a "$found_mdds" != yes -a "$enable_mdds" != no; then
+    ENABLE_MDDS=TRUE
+    if test "$with_system_mdds" = yes -a "$test_system_mdds" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_MDDS=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for mdds-2.1 >= 2.1.0" >&5
+printf %s "checking for mdds-2.1 >= 2.1.0... " >&6; }
+
+if test -n "$MDDS_CFLAGS"; then
+    pkg_cv_MDDS_CFLAGS="$MDDS_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"mdds-2.1 >= 2.1.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "mdds-2.1 >= 2.1.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_MDDS_CFLAGS=`$PKG_CONFIG --cflags "mdds-2.1 >= 2.1.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$MDDS_LIBS"; then
+    pkg_cv_MDDS_LIBS="$MDDS_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"mdds-2.1 >= 2.1.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "mdds-2.1 >= 2.1.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_MDDS_LIBS=`$PKG_CONFIG --libs "mdds-2.1 >= 2.1.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                MDDS_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "mdds-2.1 >= 2.1.0" 2>&1`
+        else
+                MDDS_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "mdds-2.1 >= 2.1.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$MDDS_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (mdds-2.1 >= 2.1.0) were not met:
+
+$MDDS_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables MDDS_CFLAGS
+and MDDS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables MDDS_CFLAGS
+and MDDS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        MDDS_CFLAGS=$pkg_cv_MDDS_CFLAGS
+        MDDS_LIBS=$pkg_cv_MDDS_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        MDDS_CFLAGS=$(printf '%s' "${MDDS_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${MDDS_LIBS}"
+        MDDS_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_MDDS=
+        MDDS_CFLAGS="${MDDS_CFLAGS_internal}"
+        MDDS_LIBS="${MDDS_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE MDDS"
+    fi
+else
+    if test "$found_mdds" = yes -a "$enable_mdds" != no -a "$with_system_mdds" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_MDDS=TRUE
+        SYSTEM_MDDS=TRUE
+    else
+        ENABLE_MDDS=
+        SYSTEM_MDDS=
+        MDDS_CFLAGS=
+        MDDS_LIBS=
+        if test "$test_mdds" != no -a "$enable_mdds" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which dragonbox to use" >&5
+printf %s "checking which dragonbox to use... " >&6; }
+if test "$with_system_dragonbox" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_DRAGONBOX=TRUE
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CPPFLAGS=$CPPFLAGS
+    # This is where upstream installs to, unfortunately no .pc or so...
+    DRAGONBOX_CFLAGS=-I/usr/include/dragonbox-1.1.3
+    CPPFLAGS="$CPPFLAGS $DRAGONBOX_CFLAGS"
+    ac_fn_cxx_check_header_compile "$LINENO" "dragonbox/dragonbox.h" "ac_cv_header_dragonbox_dragonbox_h" "$ac_includes_default"
+if test "x$ac_cv_header_dragonbox_dragonbox_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "dragonbox/dragonbox.h not found. install dragonbox" "$LINENO" 5
+fi
+
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    CPPFLAGS=$save_CPPFLAGS
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    BUILD_TYPE="$BUILD_TYPE DRAGONBOX"
+    SYSTEM_DRAGONBOX=
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which frozen to use" >&5
+printf %s "checking which frozen to use... " >&6; }
+if test "$with_system_frozen" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_FROZEN=TRUE
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CPPFLAGS=$CPPFLAGS
+    ac_fn_cxx_check_header_compile "$LINENO" "frozen/unordered_map.h" "ac_cv_header_frozen_unordered_map_h" "$ac_includes_default"
+if test "x$ac_cv_header_frozen_unordered_map_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "frozen/unordered_map.h not found. install frozen headers" "$LINENO" 5
+fi
+
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    CPPFLAGS=$save_CPPFLAGS
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    BUILD_TYPE="$BUILD_TYPE FROZEN"
+    SYSTEM_FROZEN=
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libfixmath to use" >&5
+printf %s "checking which libfixmath to use... " >&6; }
+if test "$with_system_libfixmath" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_LIBFIXMATH=TRUE
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    ac_fn_cxx_check_header_compile "$LINENO" "libfixmath/fix16.hpp" "ac_cv_header_libfixmath_fix16_hpp" "$ac_includes_default"
+if test "x$ac_cv_header_libfixmath_fix16_hpp" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "libfixmath/fix16.hpp not found. install libfixmath" "$LINENO" 5
+fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for fix16_mul in -llibfixmath" >&5
+printf %s "checking for fix16_mul in -llibfixmath... " >&6; }
+if test ${ac_cv_lib_libfixmath_fix16_mul+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-llibfixmath  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+namespace conftest {
+  extern "C" int fix16_mul ();
+}
+int
+main (void)
+{
+return conftest::fix16_mul ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  ac_cv_lib_libfixmath_fix16_mul=yes
+else $as_nop
+  ac_cv_lib_libfixmath_fix16_mul=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_libfixmath_fix16_mul" >&5
+printf "%s\n" "$ac_cv_lib_libfixmath_fix16_mul" >&6; }
+if test "x$ac_cv_lib_libfixmath_fix16_mul" = xyes
+then :
+  LIBFIXMATH_LIBS=-llibfixmath
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for fix16_mul in -lfixmath" >&5
+printf %s "checking for fix16_mul in -lfixmath... " >&6; }
+if test ${ac_cv_lib_fixmath_fix16_mul+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lfixmath  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+namespace conftest {
+  extern "C" int fix16_mul ();
+}
+int
+main (void)
+{
+return conftest::fix16_mul ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  ac_cv_lib_fixmath_fix16_mul=yes
+else $as_nop
+  ac_cv_lib_fixmath_fix16_mul=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_fixmath_fix16_mul" >&5
+printf "%s\n" "$ac_cv_lib_fixmath_fix16_mul" >&6; }
+if test "x$ac_cv_lib_fixmath_fix16_mul" = xyes
+then :
+  LIBFIXMATH_LIBS=-lfixmath
+else $as_nop
+  as_fn_error $? "libfixmath lib not found or functional" "$LINENO" 5
+fi
+
+fi
+
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    SYSTEM_LIBFIXMATH=
+    LIBFIXMATH_LIBS=
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which glm to use" >&5
+printf %s "checking which glm to use... " >&6; }
+if test "$with_system_glm" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_GLM=TRUE
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    ac_fn_cxx_check_header_compile "$LINENO" "glm/glm.hpp" "ac_cv_header_glm_glm_hpp" "$ac_includes_default"
+if test "x$ac_cv_header_glm_glm_hpp" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "glm/glm.hpp not found. install glm" "$LINENO" 5
+fi
+
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    BUILD_TYPE="$BUILD_TYPE GLM"
+    SYSTEM_GLM=
+    GLM_CFLAGS="${ISYSTEM}${WORKDIR}/UnpackedTarball/glm"
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which odbc headers to use" >&5
+printf %s "checking which odbc headers to use... " >&6; }
+if test "$with_system_odbc" = "yes" -o '(' "$with_system_headers" = "yes" -a "$with_system_odbc" = "auto" ')' -o '(' "$_os" = "WINNT" -a  "$with_system_odbc" != "no" ')'; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_ODBC_HEADERS=TRUE
+
+    if test "$build_os" = "cygwin" -o "$build_os" = "wsl" -o -n "$WSL_ONLY_AS_HELPER"; then
+        save_CPPFLAGS=$CPPFLAGS
+        find_winsdk
+        PathFormat "$winsdktest"
+        CPPFLAGS="$CPPFLAGS -I$formatted_path/include/um -I$formatted_path/Include/$winsdklibsubdir/um -I$formatted_path/include -I$formatted_path/include/shared -I$formatted_path/include/$winsdklibsubdir/shared"
+        ac_fn_c_check_header_compile "$LINENO" "sqlext.h" "ac_cv_header_sqlext_h" "#include <windows.h>
+"
+if test "x$ac_cv_header_sqlext_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "odbc not found. install odbc" "$LINENO" 5
+fi
+
+        CPPFLAGS=$save_CPPFLAGS
+    else
+        ac_fn_c_check_header_compile "$LINENO" "sqlext.h" "ac_cv_header_sqlext_h" "$ac_includes_default"
+if test "x$ac_cv_header_sqlext_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "odbc not found. install odbc" "$LINENO" 5
+fi
+
+    fi
+elif test "$enable_database_connectivity" = no; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none" >&5
+printf "%s\n" "none" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    SYSTEM_ODBC_HEADERS=
+fi
+
+
+if test "$enable_fuzzers" != "yes" -a "$enable_nss" = "yes"; then
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_nss="yes";
+
+
+
+# Check whether --with-system-nss was given.
+if test ${with_system_nss+y}
+then :
+  withval=$with_system_nss;
+else $as_nop
+  case "$_os" in
+            Linux)
+                with_system_nss=yes
+            ;;
+            *)
+                with_system_nss=no
+            ;;
+          esac
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which nss to use" >&5
+printf %s "checking which nss to use... " >&6; }
+if test "$test_nss" != no -a "$found_nss" != yes -a "$enable_nss" != no; then
+    ENABLE_NSS=TRUE
+    if test "$with_system_nss" = yes -a "$test_system_nss" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_NSS=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for nss >= 3.9.3 nspr >= 4.8" >&5
+printf %s "checking for nss >= 3.9.3 nspr >= 4.8... " >&6; }
+
+if test -n "$NSS_CFLAGS"; then
+    pkg_cv_NSS_CFLAGS="$NSS_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"nss >= 3.9.3 nspr >= 4.8\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "nss >= 3.9.3 nspr >= 4.8") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_NSS_CFLAGS=`$PKG_CONFIG --cflags "nss >= 3.9.3 nspr >= 4.8" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$NSS_LIBS"; then
+    pkg_cv_NSS_LIBS="$NSS_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"nss >= 3.9.3 nspr >= 4.8\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "nss >= 3.9.3 nspr >= 4.8") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_NSS_LIBS=`$PKG_CONFIG --libs "nss >= 3.9.3 nspr >= 4.8" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                NSS_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "nss >= 3.9.3 nspr >= 4.8" 2>&1`
+        else
+                NSS_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "nss >= 3.9.3 nspr >= 4.8" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$NSS_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (nss >= 3.9.3 nspr >= 4.8) were not met:
+
+$NSS_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables NSS_CFLAGS
+and NSS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables NSS_CFLAGS
+and NSS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        NSS_CFLAGS=$pkg_cv_NSS_CFLAGS
+        NSS_LIBS=$pkg_cv_NSS_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        NSS_CFLAGS=$(printf '%s' "${NSS_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${NSS_LIBS}"
+        NSS_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_NSS=
+        NSS_CFLAGS="${NSS_CFLAGS_internal}"
+        NSS_LIBS="${NSS_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE NSS"
+    fi
+else
+    if test "$found_nss" = yes -a "$enable_nss" != no -a "$with_system_nss" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_NSS=TRUE
+        SYSTEM_NSS=TRUE
+    else
+        ENABLE_NSS=
+        SYSTEM_NSS=
+        NSS_CFLAGS=
+        NSS_LIBS=
+        if test "$test_nss" != no -a "$enable_nss" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+    printf "%s\n" "#define HAVE_FEATURE_NSS 1" >>confdefs.h
+
+    ENABLE_NSS=TRUE
+elif test $_os != iOS -a "$enable_openssl" != "no"; then
+    with_tls=openssl
+fi
+
+
+
+if test "$test_openldap" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable LDAP support" >&5
+printf %s "checking whether to enable LDAP support... " >&6; }
+    if test "$enable_ldap" = yes -a \( "$enable_openssl" = yes -o "$with_system_openldap" = yes \); then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        ENABLE_LDAP=TRUE
+    else
+        if test "$enable_ldap" != "yes"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (needs OPENSSL or system openldap)" >&5
+printf "%s\n" "no (needs OPENSSL or system openldap)" >&6; }
+        fi
+    fi
+
+
+    if test "$ENABLE_LDAP" = TRUE; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which openldap library to use" >&5
+printf %s "checking which openldap library to use... " >&6; }
+        if test "$with_system_openldap" = yes; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+            SYSTEM_OPENLDAP=TRUE
+                   for ac_header in ldap.h
+do :
+  ac_fn_c_check_header_compile "$LINENO" "ldap.h" "ac_cv_header_ldap_h" "$ac_includes_default"
+if test "x$ac_cv_header_ldap_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_LDAP_H 1" >>confdefs.h
+
+else $as_nop
+  as_fn_error $? "ldap.h not found. install openldap libs" "$LINENO" 5
+fi
+
+done
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for ldap_simple_bind_s in -lldap" >&5
+printf %s "checking for ldap_simple_bind_s in -lldap... " >&6; }
+if test ${ac_cv_lib_ldap_ldap_simple_bind_s+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lldap  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char ldap_simple_bind_s ();
+int
+main (void)
+{
+return ldap_simple_bind_s ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_ldap_ldap_simple_bind_s=yes
+else $as_nop
+  ac_cv_lib_ldap_ldap_simple_bind_s=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ldap_ldap_simple_bind_s" >&5
+printf "%s\n" "$ac_cv_lib_ldap_ldap_simple_bind_s" >&6; }
+if test "x$ac_cv_lib_ldap_ldap_simple_bind_s" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "openldap lib not found or functional" "$LINENO" 5
+fi
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for ldap_set_option in -lldap" >&5
+printf %s "checking for ldap_set_option in -lldap... " >&6; }
+if test ${ac_cv_lib_ldap_ldap_set_option+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lldap  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char ldap_set_option ();
+int
+main (void)
+{
+return ldap_set_option ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_ldap_ldap_set_option=yes
+else $as_nop
+  ac_cv_lib_ldap_ldap_set_option=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ldap_ldap_set_option" >&5
+printf "%s\n" "$ac_cv_lib_ldap_ldap_set_option" >&6; }
+if test "x$ac_cv_lib_ldap_ldap_set_option" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "openldap lib not found or functional" "$LINENO" 5
+fi
+
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+            BUILD_TYPE="$BUILD_TYPE OPENLDAP"
+        fi
+    fi
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which TLS/SSL and cryptographic implementation to use" >&5
+printf %s "checking which TLS/SSL and cryptographic implementation to use... " >&6; }
+if test -n "$with_tls"; then
+    case $with_tls in
+    openssl)
+        printf "%s\n" "#define USE_TLS_OPENSSL 1" >>confdefs.h
+
+        TLS=OPENSSL
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $TLS" >&5
+printf "%s\n" "$TLS" >&6; }
+
+        if test "$enable_openssl" != "yes"; then
+            as_fn_error $? "\"Disabling OpenSSL was requested, but the requested TLS to use is actually OpenSSL.\"" "$LINENO" 5
+        fi
+
+        # warn that OpenSSL has been selected but not all TLS code has this option
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: TLS/SSL implementation to use is OpenSSL but some code may still depend on NSS" >&5
+printf "%s\n" "$as_me: WARNING: TLS/SSL implementation to use is OpenSSL but some code may still depend on NSS" >&2;}
+        add_warning "TLS/SSL implementation to use is OpenSSL but some code may still depend on NSS"
+        ;;
+    nss)
+        printf "%s\n" "#define USE_TLS_NSS 1" >>confdefs.h
+
+        TLS=NSS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $TLS" >&5
+printf "%s\n" "$TLS" >&6; }
+        ;;
+    no)
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none" >&5
+printf "%s\n" "none" >&6; }
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Skipping TLS/SSL" >&5
+printf "%s\n" "$as_me: WARNING: Skipping TLS/SSL" >&2;}
+        ;;
+    *)
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: " >&5
+printf "%s\n" "" >&6; }
+        as_fn_error $? "unsupported implementation $with_tls. Supported are:
+openssl - OpenSSL
+nss - Mozilla's Network Security Services (NSS)
+    " "$LINENO" 5
+        ;;
+    esac
+else
+    # default to using NSS, it results in smaller oox lib
+    printf "%s\n" "#define USE_TLS_NSS 1" >>confdefs.h
+
+    TLS=NSS
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $TLS" >&5
+printf "%s\n" "$TLS" >&6; }
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which sane header to use" >&5
+printf %s "checking which sane header to use... " >&6; }
+if test "$with_system_sane" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    ac_fn_c_check_header_compile "$LINENO" "sane/sane.h" "ac_cv_header_sane_sane_h" "$ac_includes_default"
+if test "x$ac_cv_header_sane_sane_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "sane not found. install sane" "$LINENO" 5
+fi
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    BUILD_TYPE="$BUILD_TYPE SANE"
+fi
+
+ICU_MAJOR=74
+ICU_MINOR=2
+ICU_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/icu/source/i18n -I${WORKDIR}/UnpackedTarball/icu/source/common"
+ICU_LIBS_internal="-L${WORKDIR}/UnpackedTarball/icu/source/lib"
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_icu="yes";
+
+
+
+
+# Check whether --with-system-icu was given.
+if test ${with_system_icu+y}
+then :
+  withval=$with_system_icu;
+else $as_nop
+
+    if test "${with_system_icu+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_icu="$with_system_libs";
+    else
+        with_system_icu="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which icu to use" >&5
+printf %s "checking which icu to use... " >&6; }
+if test "$test_icu" != no -a "$found_icu" != yes -a "$enable_icu" != no; then
+    ENABLE_ICU=TRUE
+    if test "$with_system_icu" = yes -a "$test_system_icu" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_ICU=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for icu-i18n >= 66" >&5
+printf %s "checking for icu-i18n >= 66... " >&6; }
+
+if test -n "$ICU_CFLAGS"; then
+    pkg_cv_ICU_CFLAGS="$ICU_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"icu-i18n >= 66\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "icu-i18n >= 66") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ICU_CFLAGS=`$PKG_CONFIG --cflags "icu-i18n >= 66" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ICU_LIBS"; then
+    pkg_cv_ICU_LIBS="$ICU_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"icu-i18n >= 66\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "icu-i18n >= 66") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ICU_LIBS=`$PKG_CONFIG --libs "icu-i18n >= 66" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ICU_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "icu-i18n >= 66" 2>&1`
+        else
+                ICU_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "icu-i18n >= 66" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ICU_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (icu-i18n >= 66) were not met:
+
+$ICU_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables ICU_CFLAGS
+and ICU_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables ICU_CFLAGS
+and ICU_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        ICU_CFLAGS=$pkg_cv_ICU_CFLAGS
+        ICU_LIBS=$pkg_cv_ICU_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        ICU_CFLAGS=$(printf '%s' "${ICU_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${ICU_LIBS}"
+        ICU_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_ICU=
+        ICU_CFLAGS="${ICU_CFLAGS_internal}"
+        ICU_LIBS="${ICU_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE ICU"
+    fi
+else
+    if test "$found_icu" = yes -a "$enable_icu" != no -a "$with_system_icu" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_ICU=TRUE
+        SYSTEM_ICU=TRUE
+    else
+        ENABLE_ICU=
+        SYSTEM_ICU=
+        ICU_CFLAGS=
+        ICU_LIBS=
+        if test "$test_icu" != no -a "$enable_icu" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+if test "$SYSTEM_ICU" = TRUE; then
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for unicode/rbbi.h" >&5
+printf %s "checking for unicode/rbbi.h... " >&6; }
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+unicode/rbbi.h
+_ACEOF
+if ac_fn_cxx_try_cpp "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+  as_fn_error $? "icu headers not found" "$LINENO" 5
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    ICU_VERSION=`$PKG_CONFIG --modversion icu-i18n 2>/dev/null`
+    ICU_MAJOR=`echo $ICU_VERSION | cut -d"." -f1`
+    ICU_MINOR=`echo $ICU_VERSION | cut -d"." -f2`
+
+    if test "$CROSS_COMPILING" != TRUE; then
+        # using the system icu tools can lead to version confusion, use the
+        # ones from the build environment when cross-compiling
+        # Extract the first word of "genbrk", so it can be a program name with args.
+set dummy genbrk; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_SYSTEM_GENBRK+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $SYSTEM_GENBRK in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_SYSTEM_GENBRK="$SYSTEM_GENBRK" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$PATH:/usr/sbin:/sbin"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_SYSTEM_GENBRK="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+SYSTEM_GENBRK=$ac_cv_path_SYSTEM_GENBRK
+if test -n "$SYSTEM_GENBRK"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $SYSTEM_GENBRK" >&5
+printf "%s\n" "$SYSTEM_GENBRK" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test -z "$SYSTEM_GENBRK"; then
+            as_fn_error $? "\'genbrk\' not found in \$PATH, install the icu development tool \'genbrk\'" "$LINENO" 5
+        fi
+        # Extract the first word of "genccode", so it can be a program name with args.
+set dummy genccode; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_SYSTEM_GENCCODE+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $SYSTEM_GENCCODE in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_SYSTEM_GENCCODE="$SYSTEM_GENCCODE" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$PATH:/usr/sbin:/sbin:/usr/local/sbin"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_SYSTEM_GENCCODE="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+SYSTEM_GENCCODE=$ac_cv_path_SYSTEM_GENCCODE
+if test -n "$SYSTEM_GENCCODE"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $SYSTEM_GENCCODE" >&5
+printf "%s\n" "$SYSTEM_GENCCODE" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test -z "$SYSTEM_GENCCODE"; then
+            as_fn_error $? "\'genccode\' not found in \$PATH, install the icu development tool \'genccode\'" "$LINENO" 5
+        fi
+        # Extract the first word of "gencmn", so it can be a program name with args.
+set dummy gencmn; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_SYSTEM_GENCMN+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $SYSTEM_GENCMN in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_SYSTEM_GENCMN="$SYSTEM_GENCMN" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$PATH:/usr/sbin:/sbin:/usr/local/sbin"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_SYSTEM_GENCMN="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+SYSTEM_GENCMN=$ac_cv_path_SYSTEM_GENCMN
+if test -n "$SYSTEM_GENCMN"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $SYSTEM_GENCMN" >&5
+printf "%s\n" "$SYSTEM_GENCMN" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        if test -z "$SYSTEM_GENCMN"; then
+            as_fn_error $? "\'gencmn\' not found in \$PATH, install the icu development tool \'gencmn\'" "$LINENO" 5
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+if test "$enable_curl" = "yes"; then
+    printf "%s\n" "#define HAVE_FEATURE_CURL 1" >>confdefs.h
+
+fi
+
+DEFAULT_CRASHDUMP_VALUE="true"
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable breakpad" >&5
+printf %s "checking whether to enable breakpad... " >&6; }
+if test "$enable_breakpad" != yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    if test "$enable_curl" != "yes"; then
+        as_fn_error $? "--disable-breakpad must be used when --disable-curl is used" "$LINENO" 5
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_BREAKPAD="TRUE"
+    printf "%s\n" "#define ENABLE_BREAKPAD 1" >>confdefs.h
+
+    printf "%s\n" "#define HAVE_FEATURE_BREAKPAD 1" >>confdefs.h
+
+    BUILD_TYPE="$BUILD_TYPE BREAKPAD"
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for disable crash dump" >&5
+printf %s "checking for disable crash dump... " >&6; }
+    if test "$enable_crashdump" = no; then
+        DEFAULT_CRASHDUMP_VALUE="false"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for crashreport config" >&5
+printf %s "checking for crashreport config... " >&6; }
+    if test "$with_symbol_config" = "no"; then
+        BREAKPAD_SYMBOL_CONFIG="invalid"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    else
+        BREAKPAD_SYMBOL_CONFIG="$with_symbol_config"
+        printf "%s\n" "#define BREAKPAD_SYMBOL_CONFIG 1" >>confdefs.h
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    fi
+
+fi
+
+
+
+if test "$enable_libcmis" = "yes"; then
+    if test "$enable_curl" != "yes"; then
+        as_fn_error $? "--disable-libcmis must be used when --disable-curl is used" "$LINENO" 5
+    fi
+fi
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_orcus="yes";
+
+
+
+
+# Check whether --with-system-orcus was given.
+if test ${with_system_orcus+y}
+then :
+  withval=$with_system_orcus;
+else $as_nop
+
+    if test "${with_system_orcus+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_orcus="$with_system_libs";
+    else
+        with_system_orcus="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which orcus to use" >&5
+printf %s "checking which orcus to use... " >&6; }
+if test "$test_orcus" != no -a "$found_orcus" != yes -a "$enable_orcus" != no; then
+    ENABLE_ORCUS=TRUE
+    if test "$with_system_orcus" = yes -a "$test_system_orcus" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_ORCUS=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for liborcus-0.18 >= 0.19.1" >&5
+printf %s "checking for liborcus-0.18 >= 0.19.1... " >&6; }
+
+if test -n "$ORCUS_CFLAGS"; then
+    pkg_cv_ORCUS_CFLAGS="$ORCUS_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"liborcus-0.18 >= 0.19.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "liborcus-0.18 >= 0.19.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ORCUS_CFLAGS=`$PKG_CONFIG --cflags "liborcus-0.18 >= 0.19.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ORCUS_LIBS"; then
+    pkg_cv_ORCUS_LIBS="$ORCUS_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"liborcus-0.18 >= 0.19.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "liborcus-0.18 >= 0.19.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ORCUS_LIBS=`$PKG_CONFIG --libs "liborcus-0.18 >= 0.19.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ORCUS_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "liborcus-0.18 >= 0.19.1" 2>&1`
+        else
+                ORCUS_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "liborcus-0.18 >= 0.19.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ORCUS_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (liborcus-0.18 >= 0.19.1) were not met:
+
+$ORCUS_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables ORCUS_CFLAGS
+and ORCUS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables ORCUS_CFLAGS
+and ORCUS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        ORCUS_CFLAGS=$pkg_cv_ORCUS_CFLAGS
+        ORCUS_LIBS=$pkg_cv_ORCUS_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        ORCUS_CFLAGS=$(printf '%s' "${ORCUS_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${ORCUS_LIBS}"
+        ORCUS_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_ORCUS=
+        ORCUS_CFLAGS="${ORCUS_CFLAGS_internal}"
+        ORCUS_LIBS="${ORCUS_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE ORCUS"
+    fi
+else
+    if test "$found_orcus" = yes -a "$enable_orcus" != no -a "$with_system_orcus" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_ORCUS=TRUE
+        SYSTEM_ORCUS=TRUE
+    else
+        ENABLE_ORCUS=
+        SYSTEM_ORCUS=
+        ORCUS_CFLAGS=
+        ORCUS_LIBS=
+        if test "$test_orcus" != no -a "$enable_orcus" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+if test "$with_system_orcus" != "yes"; then
+    if test "$SYSTEM_BOOST" = "TRUE"; then
+
+
+# Check whether --with-boost-system was given.
+if test ${with_boost_system+y}
+then :
+  withval=$with_boost_system;
+        if test "$withval" = "no"; then
+			want_boost="no"
+        elif test "$withval" = "yes"; then
+            want_boost="yes"
+            ax_boost_user_system_lib=""
+        else
+		    want_boost="yes"
+		ax_boost_user_system_lib="$withval"
+		fi
+
+else $as_nop
+  want_boost="yes"
+
+fi
+
+
+	if test "x$want_boost" = "xyes"; then
+
+
+		CPPFLAGS_SAVED="$CPPFLAGS"
+		CPPFLAGS="$CPPFLAGS $BOOST_CPPFLAGS"
+		export CPPFLAGS
+
+		LDFLAGS_SAVED="$LDFLAGS"
+		LDFLAGS="$LDFLAGS $BOOST_LDFLAGS"
+		export LDFLAGS
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the Boost::System library is available" >&5
+printf %s "checking whether the Boost::System library is available... " >&6; }
+if test ${ax_cv_boost_system+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+			 CXXFLAGS_SAVE=$CXXFLAGS
+			 CXXFLAGS=
+
+			 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <boost/system/error_code.hpp>
+int
+main (void)
+{
+boost::system::error_category *a = 0;
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  ax_cv_boost_system=yes
+else $as_nop
+  ax_cv_boost_system=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+			 CXXFLAGS=$CXXFLAGS_SAVE
+             ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_boost_system" >&5
+printf "%s\n" "$ax_cv_boost_system" >&6; }
+		if test "x$ax_cv_boost_system" = "xyes"; then
+
+
+
+printf "%s\n" "#define HAVE_BOOST_SYSTEM /**/" >>confdefs.h
+
+            BOOSTLIBDIR=`echo $BOOST_LDFLAGS | sed -e 's/[^\/]*//'`
+
+			LDFLAGS_SAVE=$LDFLAGS
+            if test "x$ax_boost_user_system_lib" = "x"; then
+                for libextension in `ls -r $BOOSTLIBDIR/libboost_system* 2>/dev/null | sed 's,.*/lib,,' | sed 's,\..*,,'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_SYSTEM_LIB="-l$ax_lib";  link_system="yes"; break
+else $as_nop
+  link_system="no"
+fi
+
+				done
+                if test "x$link_system" != "xyes"; then
+                for libextension in `ls -r $BOOSTLIBDIR/boost_system* 2>/dev/null | sed 's,.*/,,' | sed -e 's,\..*,,'` ; do
+                     ax_lib=${libextension}
+				    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_SYSTEM_LIB="-l$ax_lib";  link_system="yes"; break
+else $as_nop
+  link_system="no"
+fi
+
+				done
+                fi
+
+            else
+               for ax_lib in $ax_boost_user_system_lib boost_system-$ax_boost_user_system_lib; do
+				      as_ac_Lib=`printf "%s\n" "ac_cv_lib_$ax_lib""_exit" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for exit in -l$ax_lib" >&5
+printf %s "checking for exit in -l$ax_lib... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$ax_lib  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char exit ();
+int
+main (void)
+{
+return exit ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  BOOST_SYSTEM_LIB="-l$ax_lib";  link_system="yes"; break
+else $as_nop
+  link_system="no"
+fi
+
+                  done
+
+            fi
+            if test "x$ax_lib" = "x"; then
+                as_fn_error $? "Could not find a version of the Boost::System library!" "$LINENO" 5
+            fi
+			if test "x$link_system" = "xno"; then
+				as_fn_error $? "Could not link against $ax_lib !" "$LINENO" 5
+			fi
+		fi
+
+		CPPFLAGS="$CPPFLAGS_SAVED"
+	LDFLAGS="$LDFLAGS_SAVED"
+	fi
+
+    fi
+fi
+SYSTEM_LIBORCUS=$SYSTEM_ORCUS
+
+
+
+harfbuzz_required_version=5.1.0
+
+GRAPHITE_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/graphite/include -DGRAPHITE2_STATIC"
+HARFBUZZ_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/harfbuzz/src"
+case "$_os" in
+    Linux)
+        GRAPHITE_LIBS_internal="${WORKDIR}/LinkTarget/StaticLibrary/libgraphite.a"
+        HARFBUZZ_LIBS_internal="${WORKDIR}/UnpackedTarball/harfbuzz/src/.libs/libharfbuzz.a"
+        ;;
+    *)
+        GRAPHITE_LIBS_internal="-L${WORKDIR}/LinkTarget/StaticLibrary -lgraphite"
+        HARFBUZZ_LIBS_internal="-L${WORKDIR}/UnpackedTarball/harfbuzz/src/.libs -lharfbuzz"
+        ;;
+esac
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_graphite="yes";
+
+
+
+
+# Check whether --with-system-graphite was given.
+if test ${with_system_graphite+y}
+then :
+  withval=$with_system_graphite;
+else $as_nop
+
+    if test "${with_system_graphite+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_graphite="$with_system_libs";
+    else
+        with_system_graphite="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which graphite to use" >&5
+printf %s "checking which graphite to use... " >&6; }
+if test "$test_graphite" != no -a "$found_graphite" != yes -a "$enable_graphite" != no; then
+    ENABLE_GRAPHITE=TRUE
+    if test "$with_system_graphite" = yes -a "$test_system_graphite" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_GRAPHITE=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for graphite2 >= 0.9.3" >&5
+printf %s "checking for graphite2 >= 0.9.3... " >&6; }
+
+if test -n "$GRAPHITE_CFLAGS"; then
+    pkg_cv_GRAPHITE_CFLAGS="$GRAPHITE_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"graphite2 >= 0.9.3\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "graphite2 >= 0.9.3") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GRAPHITE_CFLAGS=`$PKG_CONFIG --cflags "graphite2 >= 0.9.3" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$GRAPHITE_LIBS"; then
+    pkg_cv_GRAPHITE_LIBS="$GRAPHITE_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"graphite2 >= 0.9.3\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "graphite2 >= 0.9.3") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GRAPHITE_LIBS=`$PKG_CONFIG --libs "graphite2 >= 0.9.3" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                GRAPHITE_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "graphite2 >= 0.9.3" 2>&1`
+        else
+                GRAPHITE_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "graphite2 >= 0.9.3" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$GRAPHITE_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (graphite2 >= 0.9.3) were not met:
+
+$GRAPHITE_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables GRAPHITE_CFLAGS
+and GRAPHITE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables GRAPHITE_CFLAGS
+and GRAPHITE_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        GRAPHITE_CFLAGS=$pkg_cv_GRAPHITE_CFLAGS
+        GRAPHITE_LIBS=$pkg_cv_GRAPHITE_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        GRAPHITE_CFLAGS=$(printf '%s' "${GRAPHITE_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${GRAPHITE_LIBS}"
+        GRAPHITE_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_GRAPHITE=
+        GRAPHITE_CFLAGS="${GRAPHITE_CFLAGS_internal}"
+        GRAPHITE_LIBS="${GRAPHITE_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE GRAPHITE"
+    fi
+else
+    if test "$found_graphite" = yes -a "$enable_graphite" != no -a "$with_system_graphite" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_GRAPHITE=TRUE
+        SYSTEM_GRAPHITE=TRUE
+    else
+        ENABLE_GRAPHITE=
+        SYSTEM_GRAPHITE=
+        GRAPHITE_CFLAGS=
+        GRAPHITE_LIBS=
+        if test "$test_graphite" != no -a "$enable_graphite" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_harfbuzz="yes";
+
+
+
+
+# Check whether --with-system-harfbuzz was given.
+if test ${with_system_harfbuzz+y}
+then :
+  withval=$with_system_harfbuzz;
+else $as_nop
+
+    if test "${with_system_harfbuzz+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_harfbuzz="$with_system_libs";
+    else
+        with_system_harfbuzz="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which harfbuzz to use" >&5
+printf %s "checking which harfbuzz to use... " >&6; }
+if test "$test_harfbuzz" != no -a "$found_harfbuzz" != yes -a "$enable_harfbuzz" != no; then
+    ENABLE_HARFBUZZ=TRUE
+    if test "$with_system_harfbuzz" = yes -a "$test_system_harfbuzz" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_HARFBUZZ=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for harfbuzz-icu >= $harfbuzz_required_version" >&5
+printf %s "checking for harfbuzz-icu >= $harfbuzz_required_version... " >&6; }
+
+if test -n "$HARFBUZZ_CFLAGS"; then
+    pkg_cv_HARFBUZZ_CFLAGS="$HARFBUZZ_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"harfbuzz-icu >= \$harfbuzz_required_version\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "harfbuzz-icu >= $harfbuzz_required_version") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_HARFBUZZ_CFLAGS=`$PKG_CONFIG --cflags "harfbuzz-icu >= $harfbuzz_required_version" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$HARFBUZZ_LIBS"; then
+    pkg_cv_HARFBUZZ_LIBS="$HARFBUZZ_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"harfbuzz-icu >= \$harfbuzz_required_version\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "harfbuzz-icu >= $harfbuzz_required_version") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_HARFBUZZ_LIBS=`$PKG_CONFIG --libs "harfbuzz-icu >= $harfbuzz_required_version" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                HARFBUZZ_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "harfbuzz-icu >= $harfbuzz_required_version" 2>&1`
+        else
+                HARFBUZZ_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "harfbuzz-icu >= $harfbuzz_required_version" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$HARFBUZZ_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (harfbuzz-icu >= $harfbuzz_required_version) were not met:
+
+$HARFBUZZ_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables HARFBUZZ_CFLAGS
+and HARFBUZZ_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables HARFBUZZ_CFLAGS
+and HARFBUZZ_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        HARFBUZZ_CFLAGS=$pkg_cv_HARFBUZZ_CFLAGS
+        HARFBUZZ_LIBS=$pkg_cv_HARFBUZZ_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        HARFBUZZ_CFLAGS=$(printf '%s' "${HARFBUZZ_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${HARFBUZZ_LIBS}"
+        HARFBUZZ_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_HARFBUZZ=
+        HARFBUZZ_CFLAGS="${HARFBUZZ_CFLAGS_internal}"
+        HARFBUZZ_LIBS="${HARFBUZZ_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE HARFBUZZ"
+    fi
+else
+    if test "$found_harfbuzz" = yes -a "$enable_harfbuzz" != no -a "$with_system_harfbuzz" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_HARFBUZZ=TRUE
+        SYSTEM_HARFBUZZ=TRUE
+    else
+        ENABLE_HARFBUZZ=
+        SYSTEM_HARFBUZZ=
+        HARFBUZZ_CFLAGS=
+        HARFBUZZ_LIBS=
+        if test "$test_harfbuzz" != no -a "$enable_harfbuzz" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+if test "$COM" = "MSC"; then # override the above
+    GRAPHITE_LIBS="${WORKDIR}/LinkTarget/StaticLibrary/graphite.lib"
+    HARFBUZZ_LIBS="${WORKDIR}/UnpackedTarball/harfbuzz/src/.libs/libharfbuzz.lib"
+fi
+
+if test "$with_system_harfbuzz" = "yes"; then
+    if test "$with_system_graphite" = "no"; then
+        as_fn_error $? "--with-system-graphite must be used when --with-system-harfbuzz is used" "$LINENO" 5
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether system Harfbuzz is built with Graphite support" >&5
+printf %s "checking whether system Harfbuzz is built with Graphite support... " >&6; }
+    save_LIBS="$LIBS"
+    save_CFLAGS="$CFLAGS"
+    LIBS="$LIBS $HARFBUZZ_LIBS"
+    CFLAGS="$CFLAGS $HARFBUZZ_CFLAGS"
+    ac_fn_c_check_func "$LINENO" "hb_graphite2_face_get_gr_face" "ac_cv_func_hb_graphite2_face_get_gr_face"
+if test "x$ac_cv_func_hb_graphite2_face_get_gr_face" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "Harfbuzz needs to be built with Graphite support." "$LINENO" 5
+fi
+
+    LIBS="$save_LIBS"
+    CFLAGS="$save_CFLAGS"
+else
+    if test "$with_system_graphite" = "yes"; then
+        as_fn_error $? "--without-system-graphite must be used when --without-system-harfbuzz is used" "$LINENO" 5
+    fi
+fi
+
+if test "$USING_X11" = TRUE; then
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for X" >&5
+printf %s "checking for X... " >&6; }
+
+
+# Check whether --with-x was given.
+if test ${with_x+y}
+then :
+  withval=$with_x;
+fi
+
+# $have_x is `yes', `no', `disabled', or empty when we do not yet know.
+if test "x$with_x" = xno; then
+  # The user explicitly disabled X.
+  have_x=disabled
+else
+  case $x_includes,$x_libraries in #(
+    *\'*) as_fn_error $? "cannot use X directory names containing '" "$LINENO" 5;; #(
+    *,NONE | NONE,*) if test ${ac_cv_have_x+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  # One or both of the vars are not set, and there is no cached value.
+ac_x_includes=no
+ac_x_libraries=no
+# Do we need to do anything special at all?
+ac_save_LIBS=$LIBS
+LIBS="-lX11 $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <X11/Xlib.h>
+int
+main (void)
+{
+XrmInitialize ()
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  # We can compile and link X programs with no special options.
+  ac_x_includes=
+  ac_x_libraries=
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS="$ac_save_LIBS"
+# If that didn't work, only try xmkmf and file system searches
+# for native compilation.
+if test x"$ac_x_includes" = xno && test "$cross_compiling" = no
+then :
+  rm -f -r conftest.dir
+if mkdir conftest.dir; then
+  cd conftest.dir
+  cat >Imakefile <<'_ACEOF'
+incroot:
+	@echo incroot='${INCROOT}'
+usrlibdir:
+	@echo usrlibdir='${USRLIBDIR}'
+libdir:
+	@echo libdir='${LIBDIR}'
+_ACEOF
+  if (export CC; ${XMKMF-xmkmf}) >/dev/null 2>/dev/null && test -f Makefile; then
+    # GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
+    for ac_var in incroot usrlibdir libdir; do
+      eval "ac_im_$ac_var=\`\${MAKE-make} $ac_var 2>/dev/null | sed -n 's/^$ac_var=//p'\`"
+    done
+    # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
+    for ac_extension in a so sl dylib la dll; do
+      if test ! -f "$ac_im_usrlibdir/libX11.$ac_extension" &&
+	 test -f "$ac_im_libdir/libX11.$ac_extension"; then
+	ac_im_usrlibdir=$ac_im_libdir; break
+      fi
+    done
+    # Screen out bogus values from the imake configuration.  They are
+    # bogus both because they are the default anyway, and because
+    # using them would break gcc on systems where it needs fixed includes.
+    case $ac_im_incroot in
+	/usr/include) ac_x_includes= ;;
+	*) test -f "$ac_im_incroot/X11/Xos.h" && ac_x_includes=$ac_im_incroot;;
+    esac
+    case $ac_im_usrlibdir in
+	/usr/lib | /usr/lib64 | /lib | /lib64) ;;
+	*) test -d "$ac_im_usrlibdir" && ac_x_libraries=$ac_im_usrlibdir ;;
+    esac
+  fi
+  cd ..
+  rm -f -r conftest.dir
+fi
+
+  # Standard set of common directories for X headers.
+# Check X11 before X11Rn because it is often a symlink to the current release.
+ac_x_header_dirs='
+/usr/X11/include
+/usr/X11R7/include
+/usr/X11R6/include
+/usr/X11R5/include
+/usr/X11R4/include
+
+/usr/include/X11
+/usr/include/X11R7
+/usr/include/X11R6
+/usr/include/X11R5
+/usr/include/X11R4
+
+/usr/local/X11/include
+/usr/local/X11R7/include
+/usr/local/X11R6/include
+/usr/local/X11R5/include
+/usr/local/X11R4/include
+
+/usr/local/include/X11
+/usr/local/include/X11R7
+/usr/local/include/X11R6
+/usr/local/include/X11R5
+/usr/local/include/X11R4
+
+/opt/X11/include
+
+/usr/X386/include
+/usr/x386/include
+/usr/XFree86/include/X11
+
+/usr/include
+/usr/local/include
+/usr/unsupported/include
+/usr/athena/include
+/usr/local/x11r5/include
+/usr/lpp/Xamples/include
+
+/usr/openwin/include
+/usr/openwin/share/include'
+
+if test "$ac_x_includes" = no; then
+  # Guess where to find include files, by looking for Xlib.h.
+  # First, try using that file with no special directory specified.
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <X11/Xlib.h>
+_ACEOF
+if ac_fn_c_try_cpp "$LINENO"
+then :
+  # We can compile using X headers with no special include directory.
+ac_x_includes=
+else $as_nop
+  for ac_dir in $ac_x_header_dirs; do
+  if test -r "$ac_dir/X11/Xlib.h"; then
+    ac_x_includes=$ac_dir
+    break
+  fi
+done
+fi
+rm -f conftest.err conftest.i conftest.$ac_ext
+fi # $ac_x_includes = no
+
+if test "$ac_x_libraries" = no; then
+  # Check for the libraries.
+  # See if we find them without any special options.
+  # Don't add to $LIBS permanently.
+  ac_save_LIBS=$LIBS
+  LIBS="-lX11 $LIBS"
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <X11/Xlib.h>
+int
+main (void)
+{
+XrmInitialize ()
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  LIBS=$ac_save_LIBS
+# We can link X programs with no special library path.
+ac_x_libraries=
+else $as_nop
+  LIBS=$ac_save_LIBS
+for ac_dir in `printf "%s\n" "$ac_x_includes $ac_x_header_dirs" | sed s/include/lib/g`
+do
+  # Don't even attempt the hair of trying to link an X program!
+  for ac_extension in a so sl dylib la dll; do
+    if test -r "$ac_dir/libX11.$ac_extension"; then
+      ac_x_libraries=$ac_dir
+      break 2
+    fi
+  done
+done
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+fi # $ac_x_libraries = no
+
+fi
+# Record the results.
+case $ac_x_includes,$ac_x_libraries in #(
+  no,* | *,no | *\'*) :
+    # Didn't find X, or a directory has "'" in its name.
+    ac_cv_have_x="have_x=no" ;; #(
+  *) :
+    # Record where we found X for the cache.
+    ac_cv_have_x="have_x=yes\
+	ac_x_includes='$ac_x_includes'\
+	ac_x_libraries='$ac_x_libraries'" ;;
+esac
+fi
+;; #(
+    *) have_x=yes;;
+  esac
+  eval "$ac_cv_have_x"
+fi # $with_x != no
+
+if test "$have_x" != yes; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $have_x" >&5
+printf "%s\n" "$have_x" >&6; }
+  no_x=yes
+else
+  # If each of the values was on the command line, it overrides each guess.
+  test "x$x_includes" = xNONE && x_includes=$ac_x_includes
+  test "x$x_libraries" = xNONE && x_libraries=$ac_x_libraries
+  # Update the cache value to reflect the command line values.
+  ac_cv_have_x="have_x=yes\
+	ac_x_includes='$x_includes'\
+	ac_x_libraries='$x_libraries'"
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: libraries $x_libraries, headers $x_includes" >&5
+printf "%s\n" "libraries $x_libraries, headers $x_includes" >&6; }
+fi
+
+    if test "$no_x" = yes; then
+  # Not all programs may use this symbol, but it does not hurt to define it.
+
+printf "%s\n" "#define X_DISPLAY_MISSING 1" >>confdefs.h
+
+  X_CFLAGS= X_PRE_LIBS= X_LIBS= X_EXTRA_LIBS=
+else
+  if test -n "$x_includes"; then
+    X_CFLAGS="$X_CFLAGS -I$x_includes"
+  fi
+
+  # It would also be nice to do this for all -L options, not just this one.
+  if test -n "$x_libraries"; then
+    X_LIBS="$X_LIBS -L$x_libraries"
+    # For Solaris; some versions of Sun CC require a space after -R and
+    # others require no space.  Words are not sufficient . . . .
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether -R must be followed by a space" >&5
+printf %s "checking whether -R must be followed by a space... " >&6; }
+    ac_xsave_LIBS=$LIBS; LIBS="$LIBS -R$x_libraries"
+    ac_xsave_c_werror_flag=$ac_c_werror_flag
+    ac_c_werror_flag=yes
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+       X_LIBS="$X_LIBS -R$x_libraries"
+else $as_nop
+  LIBS="$ac_xsave_LIBS -R $x_libraries"
+       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+	  X_LIBS="$X_LIBS -R $x_libraries"
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: neither works" >&5
+printf "%s\n" "neither works" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    ac_c_werror_flag=$ac_xsave_c_werror_flag
+    LIBS=$ac_xsave_LIBS
+  fi
+
+  # Check for system-dependent libraries X programs must link with.
+  # Do this before checking for the system-independent R6 libraries
+  # (-lICE), since we may need -lsocket or whatever for X linking.
+
+  if test "$ISC" = yes; then
+    X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl_s -linet"
+  else
+    # Martyn Johnson says this is needed for Ultrix, if the X
+    # libraries were built with DECnet support.  And Karl Berry says
+    # the Alpha needs dnet_stub (dnet does not exist).
+    ac_xsave_LIBS="$LIBS"; LIBS="$LIBS $X_LIBS -lX11"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char XOpenDisplay ();
+int
+main (void)
+{
+return XOpenDisplay ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dnet_ntoa in -ldnet" >&5
+printf %s "checking for dnet_ntoa in -ldnet... " >&6; }
+if test ${ac_cv_lib_dnet_dnet_ntoa+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-ldnet  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char dnet_ntoa ();
+int
+main (void)
+{
+return dnet_ntoa ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_dnet_dnet_ntoa=yes
+else $as_nop
+  ac_cv_lib_dnet_dnet_ntoa=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dnet_dnet_ntoa" >&5
+printf "%s\n" "$ac_cv_lib_dnet_dnet_ntoa" >&6; }
+if test "x$ac_cv_lib_dnet_dnet_ntoa" = xyes
+then :
+  X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet"
+fi
+
+    if test $ac_cv_lib_dnet_dnet_ntoa = no; then
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dnet_ntoa in -ldnet_stub" >&5
+printf %s "checking for dnet_ntoa in -ldnet_stub... " >&6; }
+if test ${ac_cv_lib_dnet_stub_dnet_ntoa+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-ldnet_stub  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char dnet_ntoa ();
+int
+main (void)
+{
+return dnet_ntoa ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_dnet_stub_dnet_ntoa=yes
+else $as_nop
+  ac_cv_lib_dnet_stub_dnet_ntoa=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dnet_stub_dnet_ntoa" >&5
+printf "%s\n" "$ac_cv_lib_dnet_stub_dnet_ntoa" >&6; }
+if test "x$ac_cv_lib_dnet_stub_dnet_ntoa" = xyes
+then :
+  X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet_stub"
+fi
+
+    fi
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    LIBS="$ac_xsave_LIBS"
+
+    # msh@cis.ufl.edu says -lnsl (and -lsocket) are needed for his 386/AT,
+    # to get the SysV transport functions.
+    # Chad R. Larson says the Pyramis MIS-ES running DC/OSx (SVR4)
+    # needs -lnsl.
+    # The nsl library prevents programs from opening the X display
+    # on Irix 5.2, according to T.E. Dickey.
+    # The functions gethostbyname, getservbyname, and inet_addr are
+    # in -lbsd on LynxOS 3.0.1/i386, according to Lars Hecking.
+    ac_fn_c_check_func "$LINENO" "gethostbyname" "ac_cv_func_gethostbyname"
+if test "x$ac_cv_func_gethostbyname" = xyes
+then :
+
+fi
+
+    if test $ac_cv_func_gethostbyname = no; then
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gethostbyname in -lnsl" >&5
+printf %s "checking for gethostbyname in -lnsl... " >&6; }
+if test ${ac_cv_lib_nsl_gethostbyname+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lnsl  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char gethostbyname ();
+int
+main (void)
+{
+return gethostbyname ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_nsl_gethostbyname=yes
+else $as_nop
+  ac_cv_lib_nsl_gethostbyname=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_nsl_gethostbyname" >&5
+printf "%s\n" "$ac_cv_lib_nsl_gethostbyname" >&6; }
+if test "x$ac_cv_lib_nsl_gethostbyname" = xyes
+then :
+  X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl"
+fi
+
+      if test $ac_cv_lib_nsl_gethostbyname = no; then
+	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gethostbyname in -lbsd" >&5
+printf %s "checking for gethostbyname in -lbsd... " >&6; }
+if test ${ac_cv_lib_bsd_gethostbyname+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lbsd  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char gethostbyname ();
+int
+main (void)
+{
+return gethostbyname ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_bsd_gethostbyname=yes
+else $as_nop
+  ac_cv_lib_bsd_gethostbyname=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_bsd_gethostbyname" >&5
+printf "%s\n" "$ac_cv_lib_bsd_gethostbyname" >&6; }
+if test "x$ac_cv_lib_bsd_gethostbyname" = xyes
+then :
+  X_EXTRA_LIBS="$X_EXTRA_LIBS -lbsd"
+fi
+
+      fi
+    fi
+
+    # lieder@skyler.mavd.honeywell.com says without -lsocket,
+    # socket/setsockopt and other routines are undefined under SCO ODT
+    # 2.0.  But -lsocket is broken on IRIX 5.2 (and is not necessary
+    # on later versions), says Simon Leinen: it contains gethostby*
+    # variants that don't use the name server (or something).  -lsocket
+    # must be given before -lnsl if both are needed.  We assume that
+    # if connect needs -lnsl, so does gethostbyname.
+    ac_fn_c_check_func "$LINENO" "connect" "ac_cv_func_connect"
+if test "x$ac_cv_func_connect" = xyes
+then :
+
+fi
+
+    if test $ac_cv_func_connect = no; then
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for connect in -lsocket" >&5
+printf %s "checking for connect in -lsocket... " >&6; }
+if test ${ac_cv_lib_socket_connect+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lsocket $X_EXTRA_LIBS $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char connect ();
+int
+main (void)
+{
+return connect ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_socket_connect=yes
+else $as_nop
+  ac_cv_lib_socket_connect=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_socket_connect" >&5
+printf "%s\n" "$ac_cv_lib_socket_connect" >&6; }
+if test "x$ac_cv_lib_socket_connect" = xyes
+then :
+  X_EXTRA_LIBS="-lsocket $X_EXTRA_LIBS"
+fi
+
+    fi
+
+    # Guillermo Gomez says -lposix is necessary on A/UX.
+    ac_fn_c_check_func "$LINENO" "remove" "ac_cv_func_remove"
+if test "x$ac_cv_func_remove" = xyes
+then :
+
+fi
+
+    if test $ac_cv_func_remove = no; then
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for remove in -lposix" >&5
+printf %s "checking for remove in -lposix... " >&6; }
+if test ${ac_cv_lib_posix_remove+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lposix  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char remove ();
+int
+main (void)
+{
+return remove ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_posix_remove=yes
+else $as_nop
+  ac_cv_lib_posix_remove=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_posix_remove" >&5
+printf "%s\n" "$ac_cv_lib_posix_remove" >&6; }
+if test "x$ac_cv_lib_posix_remove" = xyes
+then :
+  X_EXTRA_LIBS="$X_EXTRA_LIBS -lposix"
+fi
+
+    fi
+
+    # BSDI BSD/OS 2.1 needs -lipc for XOpenDisplay.
+    ac_fn_c_check_func "$LINENO" "shmat" "ac_cv_func_shmat"
+if test "x$ac_cv_func_shmat" = xyes
+then :
+
+fi
+
+    if test $ac_cv_func_shmat = no; then
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for shmat in -lipc" >&5
+printf %s "checking for shmat in -lipc... " >&6; }
+if test ${ac_cv_lib_ipc_shmat+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lipc  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char shmat ();
+int
+main (void)
+{
+return shmat ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_ipc_shmat=yes
+else $as_nop
+  ac_cv_lib_ipc_shmat=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ipc_shmat" >&5
+printf "%s\n" "$ac_cv_lib_ipc_shmat" >&6; }
+if test "x$ac_cv_lib_ipc_shmat" = xyes
+then :
+  X_EXTRA_LIBS="$X_EXTRA_LIBS -lipc"
+fi
+
+    fi
+  fi
+
+  # Check for libraries that X11R6 Xt/Xaw programs need.
+  ac_save_LDFLAGS=$LDFLAGS
+  test -n "$x_libraries" && LDFLAGS="$LDFLAGS -L$x_libraries"
+  # SM needs ICE to (dynamically) link under SunOS 4.x (so we have to
+  # check for ICE first), but we must link in the order -lSM -lICE or
+  # we get undefined symbols.  So assume we have SM if we have ICE.
+  # These have to be linked with before -lX11, unlike the other
+  # libraries we check for below, so use a different variable.
+  # John Interrante, Karl Berry
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for IceConnectionNumber in -lICE" >&5
+printf %s "checking for IceConnectionNumber in -lICE... " >&6; }
+if test ${ac_cv_lib_ICE_IceConnectionNumber+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lICE $X_EXTRA_LIBS $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char IceConnectionNumber ();
+int
+main (void)
+{
+return IceConnectionNumber ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_ICE_IceConnectionNumber=yes
+else $as_nop
+  ac_cv_lib_ICE_IceConnectionNumber=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ICE_IceConnectionNumber" >&5
+printf "%s\n" "$ac_cv_lib_ICE_IceConnectionNumber" >&6; }
+if test "x$ac_cv_lib_ICE_IceConnectionNumber" = xyes
+then :
+  X_PRE_LIBS="$X_PRE_LIBS -lSM -lICE"
+fi
+
+  LDFLAGS=$ac_save_LDFLAGS
+
+fi
+
+    CPPFLAGS="$CPPFLAGS $X_CFLAGS"
+
+    if test -z "$x_includes"; then
+        x_includes="default_x_includes"
+    fi
+    if test -z "$x_libraries"; then
+        x_libraries="default_x_libraries"
+    fi
+    CFLAGS="$CFLAGS $X_CFLAGS"
+    LDFLAGS="$LDFLAGS $X_LDFLAGS $X_LIBS"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for XOpenDisplay in -lX11" >&5
+printf %s "checking for XOpenDisplay in -lX11... " >&6; }
+if test ${ac_cv_lib_X11_XOpenDisplay+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lX11  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char XOpenDisplay ();
+int
+main (void)
+{
+return XOpenDisplay ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_X11_XOpenDisplay=yes
+else $as_nop
+  ac_cv_lib_X11_XOpenDisplay=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_X11_XOpenDisplay" >&5
+printf "%s\n" "$ac_cv_lib_X11_XOpenDisplay" >&6; }
+if test "x$ac_cv_lib_X11_XOpenDisplay" = xyes
+then :
+  x_libs="-lX11 $X_EXTRA_LIBS"
+else $as_nop
+  as_fn_error $? "X Development libraries not found" "$LINENO" 5
+fi
+
+else
+    x_includes="no_x_includes"
+    x_libraries="no_x_libraries"
+fi
+
+if test "$USING_X11" = TRUE; then
+                       for ac_header in X11/extensions/shape.h
+do :
+  ac_fn_c_check_header_compile "$LINENO" "X11/extensions/shape.h" "ac_cv_header_X11_extensions_shape_h" "#include <X11/extensions/shape.h>
+"
+if test "x$ac_cv_header_X11_extensions_shape_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_X11_EXTENSIONS_SHAPE_H 1" >>confdefs.h
+
+else $as_nop
+  as_fn_error $? "libXext headers not found" "$LINENO" 5
+fi
+
+done
+
+    # vcl needs ICE and SM
+           for ac_header in X11/ICE/ICElib.h
+do :
+  ac_fn_c_check_header_compile "$LINENO" "X11/ICE/ICElib.h" "ac_cv_header_X11_ICE_ICElib_h" "$ac_includes_default"
+if test "x$ac_cv_header_X11_ICE_ICElib_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_X11_ICE_ICELIB_H 1" >>confdefs.h
+
+else $as_nop
+  as_fn_error $? "libICE headers not found" "$LINENO" 5
+fi
+
+done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for IceConnectionNumber in -lICE" >&5
+printf %s "checking for IceConnectionNumber in -lICE... " >&6; }
+if test ${ac_cv_lib_ICE_IceConnectionNumber+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lICE  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char IceConnectionNumber ();
+int
+main (void)
+{
+return IceConnectionNumber ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_ICE_IceConnectionNumber=yes
+else $as_nop
+  ac_cv_lib_ICE_IceConnectionNumber=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ICE_IceConnectionNumber" >&5
+printf "%s\n" "$ac_cv_lib_ICE_IceConnectionNumber" >&6; }
+if test "x$ac_cv_lib_ICE_IceConnectionNumber" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "ICE library not found" "$LINENO" 5
+fi
+
+           for ac_header in X11/SM/SMlib.h
+do :
+  ac_fn_c_check_header_compile "$LINENO" "X11/SM/SMlib.h" "ac_cv_header_X11_SM_SMlib_h" "$ac_includes_default"
+if test "x$ac_cv_header_X11_SM_SMlib_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_X11_SM_SMLIB_H 1" >>confdefs.h
+
+else $as_nop
+  as_fn_error $? "libSM headers not found" "$LINENO" 5
+fi
+
+done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for SmcOpenConnection in -lSM" >&5
+printf %s "checking for SmcOpenConnection in -lSM... " >&6; }
+if test ${ac_cv_lib_SM_SmcOpenConnection+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lSM  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char SmcOpenConnection ();
+int
+main (void)
+{
+return SmcOpenConnection ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_SM_SmcOpenConnection=yes
+else $as_nop
+  ac_cv_lib_SM_SmcOpenConnection=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_SM_SmcOpenConnection" >&5
+printf "%s\n" "$ac_cv_lib_SM_SmcOpenConnection" >&6; }
+if test "x$ac_cv_lib_SM_SmcOpenConnection" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "SM library not found" "$LINENO" 5
+fi
+
+fi
+
+if test "$USING_X11" = TRUE -a "$ENABLE_JAVA" != ""; then
+    # bean/native/unix/com_sun_star_comp_beans_LocalOfficeWindow.c needs Xt
+           for ac_header in X11/Intrinsic.h
+do :
+  ac_fn_c_check_header_compile "$LINENO" "X11/Intrinsic.h" "ac_cv_header_X11_Intrinsic_h" "$ac_includes_default"
+if test "x$ac_cv_header_X11_Intrinsic_h" = xyes
+then :
+  printf "%s\n" "#define HAVE_X11_INTRINSIC_H 1" >>confdefs.h
+
+else $as_nop
+  as_fn_error $? "libXt headers not found" "$LINENO" 5
+fi
+
+done
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use Xrender" >&5
+printf %s "checking whether to use Xrender... " >&6; }
+if test "$USING_X11" = TRUE -a  "$test_xrender" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for xrender" >&5
+printf %s "checking for xrender... " >&6; }
+
+if test -n "$XRENDER_CFLAGS"; then
+    pkg_cv_XRENDER_CFLAGS="$XRENDER_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xrender\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xrender") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_XRENDER_CFLAGS=`$PKG_CONFIG --cflags "xrender" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$XRENDER_LIBS"; then
+    pkg_cv_XRENDER_LIBS="$XRENDER_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xrender\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xrender") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_XRENDER_LIBS=`$PKG_CONFIG --libs "xrender" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                XRENDER_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "xrender" 2>&1`
+        else
+                XRENDER_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "xrender" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$XRENDER_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (xrender) were not met:
+
+$XRENDER_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables XRENDER_CFLAGS
+and XRENDER_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables XRENDER_CFLAGS
+and XRENDER_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        XRENDER_CFLAGS=$pkg_cv_XRENDER_CFLAGS
+        XRENDER_LIBS=$pkg_cv_XRENDER_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+    XRENDER_CFLAGS=$(printf '%s' "$XRENDER_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    FilterLibs "${XRENDER_LIBS}"
+    XRENDER_LIBS="${filteredlibs}"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for XRenderQueryVersion in -lXrender" >&5
+printf %s "checking for XRenderQueryVersion in -lXrender... " >&6; }
+if test ${ac_cv_lib_Xrender_XRenderQueryVersion+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lXrender  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char XRenderQueryVersion ();
+int
+main (void)
+{
+return XRenderQueryVersion ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_Xrender_XRenderQueryVersion=yes
+else $as_nop
+  ac_cv_lib_Xrender_XRenderQueryVersion=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_Xrender_XRenderQueryVersion" >&5
+printf "%s\n" "$ac_cv_lib_Xrender_XRenderQueryVersion" >&6; }
+if test "x$ac_cv_lib_Xrender_XRenderQueryVersion" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "libXrender not found or functional" "$LINENO" 5
+fi
+
+    ac_fn_c_check_header_compile "$LINENO" "X11/extensions/Xrender.h" "ac_cv_header_X11_extensions_Xrender_h" "$ac_includes_default"
+if test "x$ac_cv_header_X11_extensions_Xrender_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "Xrender not found. install X" "$LINENO" 5
+fi
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable RandR support" >&5
+printf %s "checking whether to enable RandR support... " >&6; }
+if test "$USING_X11" = TRUE -a "$test_randr" = "yes" -a \( "$enable_randr" = "yes" -o "$enable_randr" = "TRUE" \); then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for xrandr >= 1.2" >&5
+printf %s "checking for xrandr >= 1.2... " >&6; }
+
+if test -n "$XRANDR_CFLAGS"; then
+    pkg_cv_XRANDR_CFLAGS="$XRANDR_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xrandr >= 1.2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xrandr >= 1.2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_XRANDR_CFLAGS=`$PKG_CONFIG --cflags "xrandr >= 1.2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$XRANDR_LIBS"; then
+    pkg_cv_XRANDR_LIBS="$XRANDR_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xrandr >= 1.2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xrandr >= 1.2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_XRANDR_LIBS=`$PKG_CONFIG --libs "xrandr >= 1.2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                XRANDR_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "xrandr >= 1.2" 2>&1`
+        else
+                XRANDR_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "xrandr >= 1.2" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$XRANDR_PKG_ERRORS" >&5
+
+        ENABLE_RANDR=""
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        ENABLE_RANDR=""
+else
+        XRANDR_CFLAGS=$pkg_cv_XRANDR_CFLAGS
+        XRANDR_LIBS=$pkg_cv_XRANDR_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        ENABLE_RANDR="TRUE"
+fi
+    if test "$ENABLE_RANDR" != "TRUE"; then
+        ac_fn_c_check_header_compile "$LINENO" "X11/extensions/Xrandr.h" "ac_cv_header_X11_extensions_Xrandr_h" "$ac_includes_default"
+if test "x$ac_cv_header_X11_extensions_Xrandr_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "X11/extensions/Xrandr.h could not be found. X11 dev missing?" "$LINENO" 5
+fi
+
+        XRANDR_CFLAGS=" "
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for XRRQueryExtension in -lXrandr" >&5
+printf %s "checking for XRRQueryExtension in -lXrandr... " >&6; }
+if test ${ac_cv_lib_Xrandr_XRRQueryExtension+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lXrandr  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char XRRQueryExtension ();
+int
+main (void)
+{
+return XRRQueryExtension ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_Xrandr_XRRQueryExtension=yes
+else $as_nop
+  ac_cv_lib_Xrandr_XRRQueryExtension=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_Xrandr_XRRQueryExtension" >&5
+printf "%s\n" "$ac_cv_lib_Xrandr_XRRQueryExtension" >&6; }
+if test "x$ac_cv_lib_Xrandr_XRRQueryExtension" = xyes
+then :
+  :
+else $as_nop
+   as_fn_error $? "libXrandr not found or functional" "$LINENO" 5
+fi
+
+        XRANDR_LIBS="-lXrandr "
+        ENABLE_RANDR="TRUE"
+    fi
+    XRANDR_CFLAGS=$(printf '%s' "$XRANDR_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    FilterLibs "${XRANDR_LIBS}"
+    XRANDR_LIBS="${filteredlibs}"
+else
+    ENABLE_RANDR=""
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+
+if test -z "$with_webdav"; then
+    with_webdav=$test_webdav
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for WebDAV support" >&5
+printf %s "checking for WebDAV support... " >&6; }
+case "$with_webdav" in
+no)
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    WITH_WEBDAV=""
+    ;;
+*)
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    # curl is already mandatory (almost) and checked elsewhere
+    if test "$enable_curl" = "no"; then
+        as_fn_error $? "\"--without-webdav must be used when --disable-curl is used\"" "$LINENO" 5
+    fi
+    WITH_WEBDAV=TRUE
+    ;;
+esac
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to execute CVE tests" >&5
+printf %s "checking whether to execute CVE tests... " >&6; }
+if test "$enable_cve_tests" = "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    DISABLE_CVE_TESTS=TRUE
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+fi
+
+ENABLE_OPENSSL=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to disable OpenSSL usage" >&5
+printf %s "checking whether to disable OpenSSL usage... " >&6; }
+if test "$enable_openssl" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_OPENSSL=TRUE
+    if test "$_os" = Darwin ; then
+        # OpenSSL is deprecated when building for 10.7 or later.
+        #
+        # https://stackoverflow.com/questions/7406946/why-is-apple-deprecating-openssl-in-macos-10-7-lion
+        # https://stackoverflow.com/questions/7475914/libcrypto-deprecated-on-mac-os-x-10-7-lion
+
+        with_system_openssl=no
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_openssl="yes";
+
+
+
+
+# Check whether --with-system-openssl was given.
+if test ${with_system_openssl+y}
+then :
+  withval=$with_system_openssl;
+else $as_nop
+
+    if test "${with_system_openssl+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_openssl="$with_system_libs";
+    else
+        with_system_openssl="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which openssl to use" >&5
+printf %s "checking which openssl to use... " >&6; }
+if test "$test_openssl" != no -a "$found_openssl" != yes -a "$enable_openssl" != no; then
+    ENABLE_OPENSSL=TRUE
+    if test "$with_system_openssl" = yes -a "$test_system_openssl" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_OPENSSL=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for openssl" >&5
+printf %s "checking for openssl... " >&6; }
+
+if test -n "$OPENSSL_CFLAGS"; then
+    pkg_cv_OPENSSL_CFLAGS="$OPENSSL_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"openssl\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "openssl") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_OPENSSL_CFLAGS=`$PKG_CONFIG --cflags "openssl" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$OPENSSL_LIBS"; then
+    pkg_cv_OPENSSL_LIBS="$OPENSSL_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"openssl\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "openssl") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_OPENSSL_LIBS=`$PKG_CONFIG --libs "openssl" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                OPENSSL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "openssl" 2>&1`
+        else
+                OPENSSL_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "openssl" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$OPENSSL_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (openssl) were not met:
+
+$OPENSSL_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables OPENSSL_CFLAGS
+and OPENSSL_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables OPENSSL_CFLAGS
+and OPENSSL_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        OPENSSL_CFLAGS=$pkg_cv_OPENSSL_CFLAGS
+        OPENSSL_LIBS=$pkg_cv_OPENSSL_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        OPENSSL_CFLAGS=$(printf '%s' "${OPENSSL_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${OPENSSL_LIBS}"
+        OPENSSL_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_OPENSSL=
+        OPENSSL_CFLAGS="${OPENSSL_CFLAGS_internal}"
+        OPENSSL_LIBS="${OPENSSL_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE OPENSSL"
+    fi
+else
+    if test "$found_openssl" = yes -a "$enable_openssl" != no -a "$with_system_openssl" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_OPENSSL=TRUE
+        SYSTEM_OPENSSL=TRUE
+    else
+        ENABLE_OPENSSL=
+        SYSTEM_OPENSSL=
+        OPENSSL_CFLAGS=
+        OPENSSL_LIBS=
+        if test "$test_openssl" != no -a "$enable_openssl" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+    elif test "$_os" = "FreeBSD" -o "$_os" = "NetBSD" -o "$_os" = "OpenBSD" -o "$_os" = "DragonFly" \
+            && test "$with_system_openssl" != "no"; then
+        with_system_openssl=yes
+        SYSTEM_OPENSSL=TRUE
+        OPENSSL_CFLAGS=
+        OPENSSL_LIBS="-lssl -lcrypto"
+    else
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_openssl="yes";
+
+
+
+
+# Check whether --with-system-openssl was given.
+if test ${with_system_openssl+y}
+then :
+  withval=$with_system_openssl;
+else $as_nop
+
+    if test "${with_system_openssl+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_openssl="$with_system_libs";
+    else
+        with_system_openssl="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which openssl to use" >&5
+printf %s "checking which openssl to use... " >&6; }
+if test "$test_openssl" != no -a "$found_openssl" != yes -a "$enable_openssl" != no; then
+    ENABLE_OPENSSL=TRUE
+    if test "$with_system_openssl" = yes -a "$test_system_openssl" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_OPENSSL=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for openssl" >&5
+printf %s "checking for openssl... " >&6; }
+
+if test -n "$OPENSSL_CFLAGS"; then
+    pkg_cv_OPENSSL_CFLAGS="$OPENSSL_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"openssl\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "openssl") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_OPENSSL_CFLAGS=`$PKG_CONFIG --cflags "openssl" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$OPENSSL_LIBS"; then
+    pkg_cv_OPENSSL_LIBS="$OPENSSL_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"openssl\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "openssl") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_OPENSSL_LIBS=`$PKG_CONFIG --libs "openssl" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                OPENSSL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "openssl" 2>&1`
+        else
+                OPENSSL_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "openssl" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$OPENSSL_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (openssl) were not met:
+
+$OPENSSL_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables OPENSSL_CFLAGS
+and OPENSSL_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables OPENSSL_CFLAGS
+and OPENSSL_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        OPENSSL_CFLAGS=$pkg_cv_OPENSSL_CFLAGS
+        OPENSSL_LIBS=$pkg_cv_OPENSSL_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        OPENSSL_CFLAGS=$(printf '%s' "${OPENSSL_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${OPENSSL_LIBS}"
+        OPENSSL_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_OPENSSL=
+        OPENSSL_CFLAGS="${OPENSSL_CFLAGS_internal}"
+        OPENSSL_LIBS="${OPENSSL_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE OPENSSL"
+    fi
+else
+    if test "$found_openssl" = yes -a "$enable_openssl" != no -a "$with_system_openssl" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_OPENSSL=TRUE
+        SYSTEM_OPENSSL=TRUE
+    else
+        ENABLE_OPENSSL=
+        SYSTEM_OPENSSL=
+        OPENSSL_CFLAGS=
+        OPENSSL_LIBS=
+        if test "$test_openssl" != no -a "$enable_openssl" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+        if test -n "${SYSTEM_OPENSSL}"; then
+            printf "%s\n" "#define SYSTEM_OPENSSL 1" >>confdefs.h
+
+        fi
+    fi
+    if test "$with_system_openssl" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether openssl supports SHA512" >&5
+printf %s "checking whether openssl supports SHA512... " >&6; }
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <openssl/sha.h>
+int
+main (void)
+{
+
+            SHA512_CTX context;
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+  as_fn_error $? "no, openssl too old. Need >= 0.9.8." "$LINENO" 5
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+    # warn that although OpenSSL is disabled, system libraries may depend on it
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: OpenSSL has been disabled. No code compiled here will make use of it but system libraries may create indirect dependencies" >&5
+printf "%s\n" "$as_me: WARNING: OpenSSL has been disabled. No code compiled here will make use of it but system libraries may create indirect dependencies" >&2;}
+    add_warning "OpenSSL has been disabled. No code compiled here will make use of it but system libraries may create indirect dependencies"
+fi
+
+
+
+if test "$enable_cipher_openssl_backend" = yes && test "$ENABLE_OPENSSL" != TRUE; then
+    if test "$libo_fuzzed_enable_cipher_openssl_backend" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Resetting --enable-cipher-openssl-backend=no" >&5
+printf "%s\n" "$as_me: Resetting --enable-cipher-openssl-backend=no" >&6;}
+        enable_cipher_openssl_backend=no
+    else
+        as_fn_error $? "--enable-cipher-openssl-backend needs OpenSSL, but --disable-openssl was given." "$LINENO" 5
+    fi
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable the OpenSSL backend for rtl/cipher.h" >&5
+printf %s "checking whether to enable the OpenSSL backend for rtl/cipher.h... " >&6; }
+ENABLE_CIPHER_OPENSSL_BACKEND=
+if test "$enable_cipher_openssl_backend" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_CIPHER_OPENSSL_BACKEND=TRUE
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+if test "$build_crypto" = yes; then
+    if test "$OS" = WNT; then
+        BUILD_TYPE="$BUILD_TYPE CRYPTO_MSCAPI"
+        printf "%s\n" "#define USE_CRYPTO_MSCAPI 1" >>confdefs.h
+
+    elif test "$ENABLE_NSS" = TRUE; then
+        BUILD_TYPE="$BUILD_TYPE CRYPTO_NSS"
+        printf "%s\n" "#define USE_CRYPTO_NSS 1" >>confdefs.h
+
+    fi
+fi
+
+ARGON2_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/argon2/include"
+if test "$COM" = "MSC"; then
+    ARGON2_LIBS_internal="${WORKDIR}/UnpackedTarball/argon2/vs2015/build/Argon2OptDll.lib"
+else
+    ARGON2_LIBS_internal="${WORKDIR}/UnpackedTarball/argon2/libargon2.a"
+fi
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_argon2="yes";
+
+
+
+
+# Check whether --with-system-argon2 was given.
+if test ${with_system_argon2+y}
+then :
+  withval=$with_system_argon2;
+else $as_nop
+
+    if test "${with_system_argon2+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_argon2="$with_system_libs";
+    else
+        with_system_argon2="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which argon2 to use" >&5
+printf %s "checking which argon2 to use... " >&6; }
+if test "$test_argon2" != no -a "$found_argon2" != yes -a "$enable_argon2" != no; then
+    ENABLE_ARGON2=TRUE
+    if test "$with_system_argon2" = yes -a "$test_system_argon2" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_ARGON2=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libargon2" >&5
+printf %s "checking for libargon2... " >&6; }
+
+if test -n "$ARGON2_CFLAGS"; then
+    pkg_cv_ARGON2_CFLAGS="$ARGON2_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libargon2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libargon2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ARGON2_CFLAGS=`$PKG_CONFIG --cflags "libargon2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ARGON2_LIBS"; then
+    pkg_cv_ARGON2_LIBS="$ARGON2_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libargon2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libargon2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ARGON2_LIBS=`$PKG_CONFIG --libs "libargon2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ARGON2_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libargon2" 2>&1`
+        else
+                ARGON2_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libargon2" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ARGON2_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libargon2) were not met:
+
+$ARGON2_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables ARGON2_CFLAGS
+and ARGON2_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables ARGON2_CFLAGS
+and ARGON2_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        ARGON2_CFLAGS=$pkg_cv_ARGON2_CFLAGS
+        ARGON2_LIBS=$pkg_cv_ARGON2_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        ARGON2_CFLAGS=$(printf '%s' "${ARGON2_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${ARGON2_LIBS}"
+        ARGON2_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_ARGON2=
+        ARGON2_CFLAGS="${ARGON2_CFLAGS_internal}"
+        ARGON2_LIBS="${ARGON2_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE ARGON2"
+    fi
+else
+    if test "$found_argon2" = yes -a "$enable_argon2" != no -a "$with_system_argon2" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_ARGON2=TRUE
+        SYSTEM_ARGON2=TRUE
+    else
+        ENABLE_ARGON2=
+        SYSTEM_ARGON2=
+        ARGON2_CFLAGS=
+        ARGON2_LIBS=
+        if test "$test_argon2" != no -a "$enable_argon2" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_redland="yes";
+
+
+
+
+# Check whether --with-system-redland was given.
+if test ${with_system_redland+y}
+then :
+  withval=$with_system_redland;
+else $as_nop
+
+    if test "${with_system_redland+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_redland="$with_system_libs";
+    else
+        with_system_redland="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which redland to use" >&5
+printf %s "checking which redland to use... " >&6; }
+if test "$test_redland" != no -a "$found_redland" != yes -a "$enable_redland" != no; then
+    ENABLE_REDLAND=TRUE
+    if test "$with_system_redland" = yes -a "$test_system_redland" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_REDLAND=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for redland >= 1.0.8 raptor2 >= 2.0.7" >&5
+printf %s "checking for redland >= 1.0.8 raptor2 >= 2.0.7... " >&6; }
+
+if test -n "$REDLAND_CFLAGS"; then
+    pkg_cv_REDLAND_CFLAGS="$REDLAND_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"redland >= 1.0.8 raptor2 >= 2.0.7\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "redland >= 1.0.8 raptor2 >= 2.0.7") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_REDLAND_CFLAGS=`$PKG_CONFIG --cflags "redland >= 1.0.8 raptor2 >= 2.0.7" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$REDLAND_LIBS"; then
+    pkg_cv_REDLAND_LIBS="$REDLAND_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"redland >= 1.0.8 raptor2 >= 2.0.7\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "redland >= 1.0.8 raptor2 >= 2.0.7") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_REDLAND_LIBS=`$PKG_CONFIG --libs "redland >= 1.0.8 raptor2 >= 2.0.7" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                REDLAND_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "redland >= 1.0.8 raptor2 >= 2.0.7" 2>&1`
+        else
+                REDLAND_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "redland >= 1.0.8 raptor2 >= 2.0.7" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$REDLAND_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (redland >= 1.0.8 raptor2 >= 2.0.7) were not met:
+
+$REDLAND_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables REDLAND_CFLAGS
+and REDLAND_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables REDLAND_CFLAGS
+and REDLAND_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        REDLAND_CFLAGS=$pkg_cv_REDLAND_CFLAGS
+        REDLAND_LIBS=$pkg_cv_REDLAND_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        REDLAND_CFLAGS=$(printf '%s' "${REDLAND_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${REDLAND_LIBS}"
+        REDLAND_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_REDLAND=
+        REDLAND_CFLAGS="${REDLAND_CFLAGS_internal}"
+        REDLAND_LIBS="${REDLAND_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE REDLAND"
+    fi
+else
+    if test "$found_redland" = yes -a "$enable_redland" != no -a "$with_system_redland" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_REDLAND=TRUE
+        SYSTEM_REDLAND=TRUE
+    else
+        ENABLE_REDLAND=
+        SYSTEM_REDLAND=
+        REDLAND_CFLAGS=
+        REDLAND_LIBS=
+        if test "$test_redland" != no -a "$enable_redland" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+if test "$with_system_redland" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for librdf_world_set_raptor_init_handler in -lrdf" >&5
+printf %s "checking for librdf_world_set_raptor_init_handler in -lrdf... " >&6; }
+if test ${ac_cv_lib_rdf_librdf_world_set_raptor_init_handler+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lrdf  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char librdf_world_set_raptor_init_handler ();
+int
+main (void)
+{
+return librdf_world_set_raptor_init_handler ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_rdf_librdf_world_set_raptor_init_handler=yes
+else $as_nop
+  ac_cv_lib_rdf_librdf_world_set_raptor_init_handler=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rdf_librdf_world_set_raptor_init_handler" >&5
+printf "%s\n" "$ac_cv_lib_rdf_librdf_world_set_raptor_init_handler" >&6; }
+if test "x$ac_cv_lib_rdf_librdf_world_set_raptor_init_handler" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "librdf too old. Need >= 1.0.16" "$LINENO" 5
+fi
+
+else
+    RAPTOR_MAJOR="0"
+    RASQAL_MAJOR="3"
+    REDLAND_MAJOR="0"
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libhunspell to use" >&5
+printf %s "checking which libhunspell to use... " >&6; }
+if test "$with_system_hunspell" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_HUNSPELL=TRUE
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for hunspell" >&5
+printf %s "checking for hunspell... " >&6; }
+
+if test -n "$HUNSPELL_CFLAGS"; then
+    pkg_cv_HUNSPELL_CFLAGS="$HUNSPELL_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"hunspell\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "hunspell") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_HUNSPELL_CFLAGS=`$PKG_CONFIG --cflags "hunspell" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$HUNSPELL_LIBS"; then
+    pkg_cv_HUNSPELL_LIBS="$HUNSPELL_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"hunspell\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "hunspell") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_HUNSPELL_LIBS=`$PKG_CONFIG --libs "hunspell" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                HUNSPELL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "hunspell" 2>&1`
+        else
+                HUNSPELL_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "hunspell" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$HUNSPELL_PKG_ERRORS" >&5
+
+        HUNSPELL_PC=""
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        HUNSPELL_PC=""
+else
+        HUNSPELL_CFLAGS=$pkg_cv_HUNSPELL_CFLAGS
+        HUNSPELL_LIBS=$pkg_cv_HUNSPELL_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        HUNSPELL_PC="TRUE"
+fi
+    if test "$HUNSPELL_PC" != "TRUE"; then
+        ac_fn_cxx_check_header_compile "$LINENO" "hunspell.hxx" "ac_cv_header_hunspell_hxx" "$ac_includes_default"
+if test "x$ac_cv_header_hunspell_hxx" = xyes
+then :
+
+else $as_nop
+
+            ac_fn_cxx_check_header_compile "$LINENO" "hunspell/hunspell.hxx" "ac_cv_header_hunspell_hunspell_hxx" "$ac_includes_default"
+if test "x$ac_cv_header_hunspell_hunspell_hxx" = xyes
+then :
+   HUNSPELL_CFLAGS=-I/usr/include/hunspell
+else $as_nop
+  as_fn_error $? "hunspell headers not found." "$LINENO" 5
+fi
+
+
+fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for main in -lhunspell" >&5
+printf %s "checking for main in -lhunspell... " >&6; }
+if test ${ac_cv_lib_hunspell_main+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lhunspell  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+namespace conftest {
+  extern "C" int main ();
+}
+int
+main (void)
+{
+return conftest::main ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  ac_cv_lib_hunspell_main=yes
+else $as_nop
+  ac_cv_lib_hunspell_main=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_hunspell_main" >&5
+printf "%s\n" "$ac_cv_lib_hunspell_main" >&6; }
+if test "x$ac_cv_lib_hunspell_main" = xyes
+then :
+  :
+else $as_nop
+   as_fn_error $? "hunspell library not found." "$LINENO" 5
+fi
+
+        HUNSPELL_LIBS=-lhunspell
+    fi
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    HUNSPELL_CFLAGS=$(printf '%s' "$HUNSPELL_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    FilterLibs "${HUNSPELL_LIBS}"
+    HUNSPELL_LIBS="${filteredlibs}"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    SYSTEM_HUNSPELL=
+    HUNSPELL_CFLAGS="-I${WORKDIR}/UnpackedTarball/hunspell/src/hunspell"
+    if test "$COM" = "MSC"; then
+        HUNSPELL_LIBS="${WORKDIR}/LinkTarget/StaticLibrary/hunspell.lib"
+    else
+        HUNSPELL_LIBS="-L${WORKDIR}/UnpackedTarball/hunspell/src/hunspell/.libs -lhunspell-1.7"
+    fi
+    BUILD_TYPE="$BUILD_TYPE HUNSPELL"
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which zxcvbn to use" >&5
+printf %s "checking which zxcvbn to use... " >&6; }
+if test "$with_system_zxcvbn" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_ZXCVBN=TRUE
+    ac_fn_c_check_header_compile "$LINENO" "zxcvbn.h" "ac_cv_header_zxcvbn_h" "$ac_includes_default"
+if test "x$ac_cv_header_zxcvbn_h" = xyes
+then :
+
+else $as_nop
+   as_fn_error $? "zxcvbn headers not found." "$LINENO" 5
+fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for ZxcvbnMatch in -lzxcvbn" >&5
+printf %s "checking for ZxcvbnMatch in -lzxcvbn... " >&6; }
+if test ${ac_cv_lib_zxcvbn_ZxcvbnMatch+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lzxcvbn  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char ZxcvbnMatch ();
+int
+main (void)
+{
+return ZxcvbnMatch ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_zxcvbn_ZxcvbnMatch=yes
+else $as_nop
+  ac_cv_lib_zxcvbn_ZxcvbnMatch=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_zxcvbn_ZxcvbnMatch" >&5
+printf "%s\n" "$ac_cv_lib_zxcvbn_ZxcvbnMatch" >&6; }
+if test "x$ac_cv_lib_zxcvbn_ZxcvbnMatch" = xyes
+then :
+  printf "%s\n" "#define HAVE_LIBZXCVBN 1" >>confdefs.h
+
+  LIBS="-lzxcvbn $LIBS"
+
+else $as_nop
+   as_fn_error $? "zxcvbn library not found." "$LINENO" 5
+fi
+
+else
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+   BUILD_TYPE="$BUILD_TYPE ZXCVBN"
+   SYSTEM_ZXCVBN=
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use zxing" >&5
+printf %s "checking whether to use zxing... " >&6; }
+if test "$enable_zxing" = "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_ZXING=
+    SYSTEM_ZXING=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_ZXING=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libzxing to use" >&5
+printf %s "checking which libzxing to use... " >&6; }
+    if test "$with_system_zxing" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_ZXING=TRUE
+        ZXING_CFLAGS=
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        save_IFS=$IFS
+        IFS=$P_SEP
+        for i in $CPLUS_INCLUDE_PATH /usr/include; do
+                                                                        IFS=$save_IFS
+                                    if test -z "$i"; then
+                continue
+            fi
+                        CXXFLAGS="$save_CXXFLAGS ${CXXFLAGS_CXX11} -I$i/ZXing"
+            ac_fn_cxx_check_header_compile "$LINENO" "MultiFormatWriter.h" "ac_cv_header_MultiFormatWriter_h" "#include <stdexcept>
+"
+if test "x$ac_cv_header_MultiFormatWriter_h" = xyes
+then :
+  ZXING_CFLAGS=-I$i/ZXing; break
+else $as_nop
+  unset ac_cv_header_MultiFormatWriter_h
+fi
+
+        done
+        CXXFLAGS=$save_CXXFLAGS
+        if test -z "$ZXING_CFLAGS"; then
+            as_fn_error $? "zxing headers not found." "$LINENO" 5
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for main in -lZXing" >&5
+printf %s "checking for main in -lZXing... " >&6; }
+if test ${ac_cv_lib_ZXing_main+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lZXing  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+namespace conftest {
+  extern "C" int main ();
+}
+int
+main (void)
+{
+return conftest::main ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  ac_cv_lib_ZXing_main=yes
+else $as_nop
+  ac_cv_lib_ZXing_main=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ZXing_main" >&5
+printf "%s\n" "$ac_cv_lib_ZXing_main" >&6; }
+if test "x$ac_cv_lib_ZXing_main" = xyes
+then :
+  ZXING_LIBS=-lZXing
+else $as_nop
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for main in -lZXingCore" >&5
+printf %s "checking for main in -lZXingCore... " >&6; }
+if test ${ac_cv_lib_ZXingCore_main+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lZXingCore  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+namespace conftest {
+  extern "C" int main ();
+}
+int
+main (void)
+{
+return conftest::main ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  ac_cv_lib_ZXingCore_main=yes
+else $as_nop
+  ac_cv_lib_ZXingCore_main=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ZXingCore_main" >&5
+printf "%s\n" "$ac_cv_lib_ZXingCore_main" >&6; }
+if test "x$ac_cv_lib_ZXingCore_main" = xyes
+then :
+  ZXING_LIBS=-lZXingCore
+else $as_nop
+   as_fn_error $? "zxing C++ library not found." "$LINENO" 5
+fi
+
+fi
+
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        ZXING_CFLAGS=$(printf '%s' "$ZXING_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${ZXING_LIBS}"
+        ZXING_LIBS="${filteredlibs}"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_ZXING=
+        BUILD_TYPE="$BUILD_TYPE ZXING"
+        ZXING_CFLAGS="-I${WORKDIR}/UnpackedTarball/zxing/core/src"
+    fi
+    if test "$ENABLE_ZXING" = TRUE; then
+        printf "%s\n" "#define ENABLE_ZXING 1" >>confdefs.h
+
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether zxing::tosvg function is available" >&5
+printf %s "checking whether zxing::tosvg function is available... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11 $ZXING_CFLAGS"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <BitMatrix.h>
+            #include <BitMatrixIO.h>
+            int main(){
+                ZXing::BitMatrix matrix(1, 1);
+                matrix.set(0, 0, true);
+                ZXing::ToSVG(matrix);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+            printf "%s\n" "#define HAVE_ZXING_TOSVG 1" >>confdefs.h
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+fi
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which box2d to use" >&5
+printf %s "checking which box2d to use... " >&6; }
+if test "$with_system_box2d" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_BOX2D=TRUE
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    ac_fn_cxx_check_header_compile "$LINENO" "box2d/box2d.h" "ac_cv_header_box2d_box2d_h" "$ac_includes_default"
+if test "x$ac_cv_header_box2d_box2d_h" = xyes
+then :
+  BOX2D_H_FOUND='TRUE'
+else $as_nop
+  BOX2D_H_FOUND='FALSE'
+fi
+
+    if test "$BOX2D_H_FOUND" = "TRUE"; then # 2.4.0+
+        _BOX2D_LIB=box2d
+        printf "%s\n" "#define BOX2D_HEADER <box2d/box2d.h>" >>confdefs.h
+
+    else
+        # fail this. there's no other alternative to check when we are here.
+        ac_fn_cxx_check_header_compile "$LINENO" "Box2D/Box2D.h" "ac_cv_header_Box2D_Box2D_h" "$ac_includes_default"
+if test "x$ac_cv_header_Box2D_Box2D_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "box2d headers not found." "$LINENO" 5
+fi
+
+        _BOX2D_LIB=Box2D
+        printf "%s\n" "#define BOX2D_HEADER <Box2D/Box2D.h>" >>confdefs.h
+
+    fi
+    as_ac_Lib=`printf "%s\n" "ac_cv_lib_$_BOX2D_LIB""_main" | $as_tr_sh`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for main in -l$_BOX2D_LIB" >&5
+printf %s "checking for main in -l$_BOX2D_LIB... " >&6; }
+if eval test \${$as_ac_Lib+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-l$_BOX2D_LIB  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+namespace conftest {
+  extern "C" int main ();
+}
+int
+main (void)
+{
+return conftest::main ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  eval "$as_ac_Lib=yes"
+else $as_nop
+  eval "$as_ac_Lib=no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+eval ac_res=\$$as_ac_Lib
+	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+printf "%s\n" "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"
+then :
+  :
+else $as_nop
+   as_fn_error $? "box2d library not found." "$LINENO" 5
+fi
+
+    BOX2D_LIBS=-l$_BOX2D_LIB
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    BOX2D_CFLAGS=$(printf '%s' "$BOX2D_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    FilterLibs "${BOX2D_LIBS}"
+    BOX2D_LIBS="${filteredlibs}"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    SYSTEM_BOX2D=
+    BUILD_TYPE="$BUILD_TYPE BOX2D"
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which altlinuxhyph to use" >&5
+printf %s "checking which altlinuxhyph to use... " >&6; }
+if test "$with_system_altlinuxhyph" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_HYPH=TRUE
+    ac_fn_c_check_header_compile "$LINENO" "hyphen.h" "ac_cv_header_hyphen_h" "$ac_includes_default"
+if test "x$ac_cv_header_hyphen_h" = xyes
+then :
+
+else $as_nop
+   as_fn_error $? "altlinuxhyph headers not found." "$LINENO" 5
+fi
+
+    ac_fn_c_check_member "$LINENO" "struct _HyphenDict" "cset" "ac_cv_member_struct__HyphenDict_cset" "#include <hyphen.h>
+"
+if test "x$ac_cv_member_struct__HyphenDict_cset" = xyes
+then :
+
+else $as_nop
+   as_fn_error $? "no. You are sure you have altlinuyhyph headers?" "$LINENO" 5
+fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for hnj_hyphen_hyphenate2 in -lhyphen" >&5
+printf %s "checking for hnj_hyphen_hyphenate2 in -lhyphen... " >&6; }
+if test ${ac_cv_lib_hyphen_hnj_hyphen_hyphenate2+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lhyphen  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char hnj_hyphen_hyphenate2 ();
+int
+main (void)
+{
+return hnj_hyphen_hyphenate2 ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_hyphen_hnj_hyphen_hyphenate2=yes
+else $as_nop
+  ac_cv_lib_hyphen_hnj_hyphen_hyphenate2=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_hyphen_hnj_hyphen_hyphenate2" >&5
+printf "%s\n" "$ac_cv_lib_hyphen_hnj_hyphen_hyphenate2" >&6; }
+if test "x$ac_cv_lib_hyphen_hnj_hyphen_hyphenate2" = xyes
+then :
+  HYPHEN_LIB=-lhyphen
+else $as_nop
+   as_fn_error $? "altlinuxhyph library not found or too old." "$LINENO" 5
+fi
+
+    if test -z "$HYPHEN_LIB"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for hnj_hyphen_hyphenate2 in -lhyph" >&5
+printf %s "checking for hnj_hyphen_hyphenate2 in -lhyph... " >&6; }
+if test ${ac_cv_lib_hyph_hnj_hyphen_hyphenate2+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lhyph  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char hnj_hyphen_hyphenate2 ();
+int
+main (void)
+{
+return hnj_hyphen_hyphenate2 ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_hyph_hnj_hyphen_hyphenate2=yes
+else $as_nop
+  ac_cv_lib_hyph_hnj_hyphen_hyphenate2=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_hyph_hnj_hyphen_hyphenate2" >&5
+printf "%s\n" "$ac_cv_lib_hyph_hnj_hyphen_hyphenate2" >&6; }
+if test "x$ac_cv_lib_hyph_hnj_hyphen_hyphenate2" = xyes
+then :
+  HYPHEN_LIB=-lhyph
+else $as_nop
+   as_fn_error $? "altlinuxhyph library not found or too old." "$LINENO" 5
+fi
+
+    fi
+    if test -z "$HYPHEN_LIB"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for hnj_hyphen_hyphenate2 in -lhnj" >&5
+printf %s "checking for hnj_hyphen_hyphenate2 in -lhnj... " >&6; }
+if test ${ac_cv_lib_hnj_hnj_hyphen_hyphenate2+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lhnj  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char hnj_hyphen_hyphenate2 ();
+int
+main (void)
+{
+return hnj_hyphen_hyphenate2 ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_hnj_hnj_hyphen_hyphenate2=yes
+else $as_nop
+  ac_cv_lib_hnj_hnj_hyphen_hyphenate2=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_hnj_hnj_hyphen_hyphenate2" >&5
+printf "%s\n" "$ac_cv_lib_hnj_hnj_hyphen_hyphenate2" >&6; }
+if test "x$ac_cv_lib_hnj_hnj_hyphen_hyphenate2" = xyes
+then :
+  HYPHEN_LIB=-lhnj
+else $as_nop
+   as_fn_error $? "altlinuxhyph library not found or too old." "$LINENO" 5
+fi
+
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    SYSTEM_HYPH=
+    BUILD_TYPE="$BUILD_TYPE HYPHEN"
+    if test "$COM" = "MSC"; then
+        HYPHEN_LIB="${WORKDIR}/LinkTarget/StaticLibrary/hyphen.lib"
+    else
+        HYPHEN_LIB="-L${WORKDIR}/UnpackedTarball/hyphen/.libs -lhyphen"
+    fi
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which mythes to use" >&5
+printf %s "checking which mythes to use... " >&6; }
+if test "$with_system_mythes" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+    SYSTEM_MYTHES=TRUE
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for mythes" >&5
+printf %s "checking for mythes... " >&6; }
+
+if test -n "$MYTHES_CFLAGS"; then
+    pkg_cv_MYTHES_CFLAGS="$MYTHES_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"mythes\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "mythes") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_MYTHES_CFLAGS=`$PKG_CONFIG --cflags "mythes" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$MYTHES_LIBS"; then
+    pkg_cv_MYTHES_LIBS="$MYTHES_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"mythes\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "mythes") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_MYTHES_LIBS=`$PKG_CONFIG --libs "mythes" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                MYTHES_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "mythes" 2>&1`
+        else
+                MYTHES_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "mythes" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$MYTHES_PKG_ERRORS" >&5
+
+        MYTHES_PKGCONFIG=no
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        MYTHES_PKGCONFIG=no
+else
+        MYTHES_CFLAGS=$pkg_cv_MYTHES_CFLAGS
+        MYTHES_LIBS=$pkg_cv_MYTHES_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        MYTHES_PKGCONFIG=yes
+fi
+    if test "$MYTHES_PKGCONFIG" = "no"; then
+        ac_fn_cxx_check_header_compile "$LINENO" "mythes.hxx" "ac_cv_header_mythes_hxx" "$ac_includes_default"
+if test "x$ac_cv_header_mythes_hxx" = xyes
+then :
+
+else $as_nop
+   as_fn_error $? "mythes.hxx headers not found." "$LINENO" 5
+fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for main in -lmythes-1.2" >&5
+printf %s "checking for main in -lmythes-1.2... " >&6; }
+if test ${ac_cv_lib_mythes_1_2_main+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lmythes-1.2  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+namespace conftest {
+  extern "C" int main ();
+}
+int
+main (void)
+{
+return conftest::main ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  ac_cv_lib_mythes_1_2_main=yes
+else $as_nop
+  ac_cv_lib_mythes_1_2_main=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_mythes_1_2_main" >&5
+printf "%s\n" "$ac_cv_lib_mythes_1_2_main" >&6; }
+if test "x$ac_cv_lib_mythes_1_2_main" = xyes
+then :
+  :
+else $as_nop
+   MYTHES_FOUND=no
+fi
+
+    if test "$MYTHES_FOUND" = "no"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for main in -lmythes" >&5
+printf %s "checking for main in -lmythes... " >&6; }
+if test ${ac_cv_lib_mythes_main+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lmythes  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+namespace conftest {
+  extern "C" int main ();
+}
+int
+main (void)
+{
+return conftest::main ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+  ac_cv_lib_mythes_main=yes
+else $as_nop
+  ac_cv_lib_mythes_main=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_mythes_main" >&5
+printf "%s\n" "$ac_cv_lib_mythes_main" >&6; }
+if test "x$ac_cv_lib_mythes_main" = xyes
+then :
+  MYTHES_FOUND=yes
+else $as_nop
+   MYTHES_FOUND=no
+fi
+
+    fi
+    if test "$MYTHES_FOUND" = "no"; then
+        as_fn_error $? "mythes library not found!." "$LINENO" 5
+    fi
+    fi
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    MYTHES_CFLAGS=$(printf '%s' "$MYTHES_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    FilterLibs "${MYTHES_LIBS}"
+    MYTHES_LIBS="${filteredlibs}"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    SYSTEM_MYTHES=
+    BUILD_TYPE="$BUILD_TYPE MYTHES"
+    if test "$COM" = "MSC"; then
+        MYTHES_LIBS="${WORKDIR}/LinkTarget/StaticLibrary/mythes.lib"
+    else
+        MYTHES_LIBS="-L${WORKDIR}/UnpackedTarball/mythes/.libs -lmythes-1.2"
+    fi
+fi
+
+
+
+
+
+ENABLE_COINMP=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build with CoinMP" >&5
+printf %s "checking whether to build with CoinMP... " >&6; }
+if test "$enable_coinmp" != "no"; then
+    ENABLE_COINMP=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    if test "$with_system_coinmp" = "yes"; then
+        SYSTEM_COINMP=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for coinmp coinutils" >&5
+printf %s "checking for coinmp coinutils... " >&6; }
+
+if test -n "$COINMP_CFLAGS"; then
+    pkg_cv_COINMP_CFLAGS="$COINMP_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"coinmp coinutils\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "coinmp coinutils") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_COINMP_CFLAGS=`$PKG_CONFIG --cflags "coinmp coinutils" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$COINMP_LIBS"; then
+    pkg_cv_COINMP_LIBS="$COINMP_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"coinmp coinutils\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "coinmp coinutils") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_COINMP_LIBS=`$PKG_CONFIG --libs "coinmp coinutils" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                COINMP_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "coinmp coinutils" 2>&1`
+        else
+                COINMP_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "coinmp coinutils" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$COINMP_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (coinmp coinutils) were not met:
+
+$COINMP_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables COINMP_CFLAGS
+and COINMP_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables COINMP_CFLAGS
+and COINMP_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        COINMP_CFLAGS=$pkg_cv_COINMP_CFLAGS
+        COINMP_LIBS=$pkg_cv_COINMP_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        FilterLibs "${COINMP_LIBS}"
+        COINMP_LIBS="${filteredlibs}"
+    else
+        BUILD_TYPE="$BUILD_TYPE COINMP"
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+
+
+ENABLE_LPSOLVE=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build with lpsolve" >&5
+printf %s "checking whether to build with lpsolve... " >&6; }
+if test "$enable_lpsolve" != "no"; then
+    ENABLE_LPSOLVE=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test "$ENABLE_LPSOLVE" = TRUE; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which lpsolve to use" >&5
+printf %s "checking which lpsolve to use... " >&6; }
+    if test "$with_system_lpsolve" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LPSOLVE=TRUE
+        ac_fn_c_check_header_compile "$LINENO" "lpsolve/lp_lib.h" "ac_cv_header_lpsolve_lp_lib_h" "$ac_includes_default"
+if test "x$ac_cv_header_lpsolve_lp_lib_h" = xyes
+then :
+
+else $as_nop
+   as_fn_error $? "lpsolve headers not found." "$LINENO" 5
+fi
+
+        save_LIBS=$LIBS
+        # some systems need this. Like Ubuntu...
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for floor in -lm" >&5
+printf %s "checking for floor in -lm... " >&6; }
+if test ${ac_cv_lib_m_floor+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lm  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char floor ();
+int
+main (void)
+{
+return floor ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_m_floor=yes
+else $as_nop
+  ac_cv_lib_m_floor=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_m_floor" >&5
+printf "%s\n" "$ac_cv_lib_m_floor" >&6; }
+if test "x$ac_cv_lib_m_floor" = xyes
+then :
+  printf "%s\n" "#define HAVE_LIBM 1" >>confdefs.h
+
+  LIBS="-lm $LIBS"
+
+fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl" >&5
+printf %s "checking for dlopen in -ldl... " >&6; }
+if test ${ac_cv_lib_dl_dlopen+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-ldl  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char dlopen ();
+int
+main (void)
+{
+return dlopen ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_dl_dlopen=yes
+else $as_nop
+  ac_cv_lib_dl_dlopen=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen" >&5
+printf "%s\n" "$ac_cv_lib_dl_dlopen" >&6; }
+if test "x$ac_cv_lib_dl_dlopen" = xyes
+then :
+  printf "%s\n" "#define HAVE_LIBDL 1" >>confdefs.h
+
+  LIBS="-ldl $LIBS"
+
+fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for make_lp in -llpsolve55" >&5
+printf %s "checking for make_lp in -llpsolve55... " >&6; }
+if test ${ac_cv_lib_lpsolve55_make_lp+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-llpsolve55  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char make_lp ();
+int
+main (void)
+{
+return make_lp ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_lpsolve55_make_lp=yes
+else $as_nop
+  ac_cv_lib_lpsolve55_make_lp=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_lpsolve55_make_lp" >&5
+printf "%s\n" "$ac_cv_lib_lpsolve55_make_lp" >&6; }
+if test "x$ac_cv_lib_lpsolve55_make_lp" = xyes
+then :
+  :
+else $as_nop
+   as_fn_error $? "lpsolve library not found or too old." "$LINENO" 5
+fi
+
+        LIBS=$save_LIBS
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LPSOLVE=
+        BUILD_TYPE="$BUILD_TYPE LPSOLVE"
+    fi
+fi
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libexttextcat="yes";
+
+
+
+
+# Check whether --with-system-libexttextcat was given.
+if test ${with_system_libexttextcat+y}
+then :
+  withval=$with_system_libexttextcat;
+else $as_nop
+
+    if test "${with_system_libexttextcat+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libexttextcat="$with_system_libs";
+    else
+        with_system_libexttextcat="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libexttextcat to use" >&5
+printf %s "checking which libexttextcat to use... " >&6; }
+if test "$test_libexttextcat" != no -a "$found_libexttextcat" != yes -a "$enable_libexttextcat" != no; then
+    ENABLE_LIBEXTTEXTCAT=TRUE
+    if test "$with_system_libexttextcat" = yes -a "$test_system_libexttextcat" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LIBEXTTEXTCAT=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libexttextcat >= 3.4.1" >&5
+printf %s "checking for libexttextcat >= 3.4.1... " >&6; }
+
+if test -n "$LIBEXTTEXTCAT_CFLAGS"; then
+    pkg_cv_LIBEXTTEXTCAT_CFLAGS="$LIBEXTTEXTCAT_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libexttextcat >= 3.4.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libexttextcat >= 3.4.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBEXTTEXTCAT_CFLAGS=`$PKG_CONFIG --cflags "libexttextcat >= 3.4.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBEXTTEXTCAT_LIBS"; then
+    pkg_cv_LIBEXTTEXTCAT_LIBS="$LIBEXTTEXTCAT_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libexttextcat >= 3.4.1\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libexttextcat >= 3.4.1") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBEXTTEXTCAT_LIBS=`$PKG_CONFIG --libs "libexttextcat >= 3.4.1" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBEXTTEXTCAT_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libexttextcat >= 3.4.1" 2>&1`
+        else
+                LIBEXTTEXTCAT_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libexttextcat >= 3.4.1" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBEXTTEXTCAT_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libexttextcat >= 3.4.1) were not met:
+
+$LIBEXTTEXTCAT_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBEXTTEXTCAT_CFLAGS
+and LIBEXTTEXTCAT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBEXTTEXTCAT_CFLAGS
+and LIBEXTTEXTCAT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBEXTTEXTCAT_CFLAGS=$pkg_cv_LIBEXTTEXTCAT_CFLAGS
+        LIBEXTTEXTCAT_LIBS=$pkg_cv_LIBEXTTEXTCAT_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBEXTTEXTCAT_CFLAGS=$(printf '%s' "${LIBEXTTEXTCAT_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBEXTTEXTCAT_LIBS}"
+        LIBEXTTEXTCAT_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LIBEXTTEXTCAT=
+        LIBEXTTEXTCAT_CFLAGS="${LIBEXTTEXTCAT_CFLAGS_internal}"
+        LIBEXTTEXTCAT_LIBS="${LIBEXTTEXTCAT_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE LIBEXTTEXTCAT"
+    fi
+else
+    if test "$found_libexttextcat" = yes -a "$enable_libexttextcat" != no -a "$with_system_libexttextcat" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_LIBEXTTEXTCAT=TRUE
+        SYSTEM_LIBEXTTEXTCAT=TRUE
+    else
+        ENABLE_LIBEXTTEXTCAT=
+        SYSTEM_LIBEXTTEXTCAT=
+        LIBEXTTEXTCAT_CFLAGS=
+        LIBEXTTEXTCAT_LIBS=
+        if test "$test_libexttextcat" != no -a "$enable_libexttextcat" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+if test "$with_system_libexttextcat" = "yes"; then
+    SYSTEM_LIBEXTTEXTCAT_DATA=file://`$PKG_CONFIG --variable=pkgdatadir libexttextcat`
+fi
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libnumbertext="yes";
+
+
+
+
+# Check whether --with-system-libnumbertext was given.
+if test ${with_system_libnumbertext+y}
+then :
+  withval=$with_system_libnumbertext;
+else $as_nop
+
+    if test "${with_system_libnumbertext+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libnumbertext="$with_system_libs";
+    else
+        with_system_libnumbertext="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libnumbertext to use" >&5
+printf %s "checking which libnumbertext to use... " >&6; }
+if test "$test_libnumbertext" != no -a "$found_libnumbertext" != yes -a "$enable_libnumbertext" != no; then
+    ENABLE_LIBNUMBERTEXT=TRUE
+    if test "$with_system_libnumbertext" = yes -a "$test_system_libnumbertext" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LIBNUMBERTEXT=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libnumbertext >= 1.0.6" >&5
+printf %s "checking for libnumbertext >= 1.0.6... " >&6; }
+
+if test -n "$LIBNUMBERTEXT_CFLAGS"; then
+    pkg_cv_LIBNUMBERTEXT_CFLAGS="$LIBNUMBERTEXT_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libnumbertext >= 1.0.6\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libnumbertext >= 1.0.6") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBNUMBERTEXT_CFLAGS=`$PKG_CONFIG --cflags "libnumbertext >= 1.0.6" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBNUMBERTEXT_LIBS"; then
+    pkg_cv_LIBNUMBERTEXT_LIBS="$LIBNUMBERTEXT_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libnumbertext >= 1.0.6\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libnumbertext >= 1.0.6") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBNUMBERTEXT_LIBS=`$PKG_CONFIG --libs "libnumbertext >= 1.0.6" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBNUMBERTEXT_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libnumbertext >= 1.0.6" 2>&1`
+        else
+                LIBNUMBERTEXT_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libnumbertext >= 1.0.6" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBNUMBERTEXT_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libnumbertext >= 1.0.6) were not met:
+
+$LIBNUMBERTEXT_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBNUMBERTEXT_CFLAGS
+and LIBNUMBERTEXT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBNUMBERTEXT_CFLAGS
+and LIBNUMBERTEXT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBNUMBERTEXT_CFLAGS=$pkg_cv_LIBNUMBERTEXT_CFLAGS
+        LIBNUMBERTEXT_LIBS=$pkg_cv_LIBNUMBERTEXT_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBNUMBERTEXT_CFLAGS=$(printf '%s' "${LIBNUMBERTEXT_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBNUMBERTEXT_LIBS}"
+        LIBNUMBERTEXT_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LIBNUMBERTEXT=
+        LIBNUMBERTEXT_CFLAGS="${LIBNUMBERTEXT_CFLAGS_internal}"
+        LIBNUMBERTEXT_LIBS="${LIBNUMBERTEXT_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE LIBNUMBERTEXT"
+    fi
+else
+    if test "$found_libnumbertext" = yes -a "$enable_libnumbertext" != no -a "$with_system_libnumbertext" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_LIBNUMBERTEXT=TRUE
+        SYSTEM_LIBNUMBERTEXT=TRUE
+    else
+        ENABLE_LIBNUMBERTEXT=
+        SYSTEM_LIBNUMBERTEXT=
+        LIBNUMBERTEXT_CFLAGS=
+        LIBNUMBERTEXT_LIBS=
+        if test "$test_libnumbertext" != no -a "$enable_libnumbertext" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+if test "$with_system_libnumbertext" = "yes"; then
+    SYSTEM_LIBNUMBERTEXT_DATA=file://`$PKG_CONFIG --variable=pkgdatadir libnumbertext`
+    SYSTEM_LIBNUMBERTEXT=YES
+else
+    SYSTEM_LIBNUMBERTEXT=
+fi
+
+
+
+if test "$_os" = "Linux"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the libc is recent enough" >&5
+printf %s "checking whether the libc is recent enough... " >&6; }
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+    #include <features.h>
+    #if defined(__GNU_LIBRARY__) && (__GLIBC__ < 2 || (__GLIBC__ == 2 && __GLIBC_MINOR__ < 1))
+    #error glibc >= 2.1 is required
+    #endif
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+
+if test "$_os" = "WINNT"; then
+    # we must use the uuidgen from the Windows SDK, which will be in the LO_PATH, but isn't in
+    # the PATH for AC_PATH_PROG. It is already tested above in the WINDOWS_SDK_HOME check.
+    UUIDGEN=uuidgen.exe
+
+else
+    # Extract the first word of "uuidgen", so it can be a program name with args.
+set dummy uuidgen; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_UUIDGEN+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $UUIDGEN in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_UUIDGEN="$UUIDGEN" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_UUIDGEN="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+UUIDGEN=$ac_cv_path_UUIDGEN
+if test -n "$UUIDGEN"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $UUIDGEN" >&5
+printf "%s\n" "$UUIDGEN" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    if test -z "$UUIDGEN"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: uuid is needed for building installation sets" >&5
+printf "%s\n" "$as_me: WARNING: uuid is needed for building installation sets" >&2;}
+    fi
+fi
+
+# Extract the first word of "bison", so it can be a program name with args.
+set dummy bison; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_BISON+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $BISON in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_BISON="$BISON" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_BISON="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+BISON=$ac_cv_path_BISON
+if test -n "$BISON"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $BISON" >&5
+printf "%s\n" "$BISON" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test -z "$BISON"; then
+    as_fn_error $? "no bison found in \$PATH, install it" "$LINENO" 5
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the bison version" >&5
+printf %s "checking the bison version... " >&6; }
+    _bison_version=`$BISON --version | grep GNU | $SED -e 's@^[^0-9]*@@' -e 's@ .*@@' -e 's@,.*@@'`
+    _bison_longver=`echo $_bison_version | $AWK -F. '{ print \$1*1000+\$2}'`
+                                    if test "$COMPILER_PLUGINS" = TRUE; then
+        if test "$_bison_longver" -lt 2004; then
+            as_fn_error $? "failed ($BISON $_bison_version need 2.4+ for --enable-compiler-plugins)" "$LINENO" 5
+        fi
+    else
+        if test "$_bison_longver" -lt 2000; then
+            as_fn_error $? "failed ($BISON $_bison_version need 2.0+)" "$LINENO" 5
+        fi
+    fi
+fi
+
+
+# Extract the first word of "flex", so it can be a program name with args.
+set dummy flex; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_FLEX+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $FLEX in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_FLEX="$FLEX" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_FLEX="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+FLEX=$ac_cv_path_FLEX
+if test -n "$FLEX"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $FLEX" >&5
+printf "%s\n" "$FLEX" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+    FLEX=`cygpath -m $FLEX`
+fi
+if test -z "$FLEX"; then
+    as_fn_error $? "no flex found in \$PATH, install it" "$LINENO" 5
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the flex version" >&5
+printf %s "checking the flex version... " >&6; }
+    _flex_version=$($FLEX --version | $SED -e 's/^.*\([[:digit:]]\{1,\}\.[[:digit:]]\{1,\}\.[[:digit:]]\{1,\}\).*$/\1/')
+    if test $(echo $_flex_version | $AWK -F. '{printf("%d%03d%03d", $1, $2, $3)}') -lt 2006000; then
+        as_fn_error $? "failed ($FLEX $_flex_version found, but need at least 2.6.0)" "$LINENO" 5
+    fi
+fi
+
+
+# Extract the first word of "diff", so it can be a program name with args.
+set dummy diff; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_DIFF+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $DIFF in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_DIFF="$DIFF" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_DIFF="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+DIFF=$ac_cv_path_DIFF
+if test -n "$DIFF"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $DIFF" >&5
+printf "%s\n" "$DIFF" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test -z "$DIFF"; then
+    as_fn_error $? "\"diff\" not found in \$PATH, install it" "$LINENO" 5
+fi
+
+
+# Extract the first word of "uniq", so it can be a program name with args.
+set dummy uniq; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_UNIQ+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $UNIQ in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_UNIQ="$UNIQ" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_UNIQ="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+UNIQ=$ac_cv_path_UNIQ
+if test -n "$UNIQ"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $UNIQ" >&5
+printf "%s\n" "$UNIQ" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test -z "$UNIQ"; then
+    as_fn_error $? "\"uniq\" not found in \$PATH, install it" "$LINENO" 5
+fi
+
+
+# Extract the first word of "patch", so it can be a program name with args.
+set dummy patch; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_PATCH+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $PATCH in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PATCH="$PATCH" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_PATCH="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PATCH=$ac_cv_path_PATCH
+if test -n "$PATCH"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PATCH" >&5
+printf "%s\n" "$PATCH" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test -z "$PATCH"; then
+    as_fn_error $? "\"patch\" not found in \$PATH, install it" "$LINENO" 5
+fi
+
+if test "$_os" = "SunOS" -o "$_os" = "Darwin" -o "$_os" = "FreeBSD"; then
+    if test -z "$with_gnu_patch"; then
+        GNUPATCH=$PATCH
+    else
+        if test -x "$with_gnu_patch"; then
+            GNUPATCH=$with_gnu_patch
+        else
+            as_fn_error $? "--with-gnu-patch did not point to an executable" "$LINENO" 5
+        fi
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $GNUPATCH is GNU patch" >&5
+printf %s "checking whether $GNUPATCH is GNU patch... " >&6; }
+    if $GNUPATCH --version | grep "Free Software Foundation" >/dev/null 2>/dev/null; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        if $GNUPATCH --version | grep "2\.0-.*-Apple" >/dev/null 2>/dev/null; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, but accepted (Apple patch)" >&5
+printf "%s\n" "no, but accepted (Apple patch)" >&6; }
+            add_warning "patch utility is not GNU patch. Apple's patch should work OK, but it might experience issues where GNU patch doesn't."
+        else
+            as_fn_error $? "no, GNU patch needed. install or specify with --with-gnu-patch=/path/to/it" "$LINENO" 5
+        fi
+    fi
+else
+    GNUPATCH=$PATCH
+fi
+
+if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+    GNUPATCH=`cygpath -m $GNUPATCH`
+fi
+
+
+if test -z "$with_gnu_cp"; then
+    # check the place where the good stuff is hidden on Solaris...
+    if test -x /usr/gnu/bin/cp; then
+        GNUCP=/usr/gnu/bin/cp
+    else
+        for ac_prog in gnucp cp
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_GNUCP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $GNUCP in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_GNUCP="$GNUCP" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_GNUCP="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+GNUCP=$ac_cv_path_GNUCP
+if test -n "$GNUCP"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GNUCP" >&5
+printf "%s\n" "$GNUCP" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$GNUCP" && break
+done
+
+    fi
+    if test -z $GNUCP; then
+        as_fn_error $? "Neither gnucp nor cp found. Install GNU cp and/or specify --with-gnu-cp=/path/to/it" "$LINENO" 5
+    fi
+else
+    if test -x "$with_gnu_cp"; then
+        GNUCP=$with_gnu_cp
+    else
+        as_fn_error $? "--with-gnu-cp did not point to an executable" "$LINENO" 5
+    fi
+fi
+
+if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+    GNUCP=`cygpath -m $GNUCP`
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $GNUCP is GNU cp from coreutils with preserve= support" >&5
+printf %s "checking whether $GNUCP is GNU cp from coreutils with preserve= support... " >&6; }
+if $GNUCP --version 2>/dev/null | grep "coreutils" >/dev/null 2>/dev/null; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+elif $GNUCP --version 2>/dev/null | grep "GNU fileutils" >/dev/null 2>/dev/null; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    case "$build_os" in
+    darwin*|netbsd*|openbsd*|freebsd*|dragonfly*)
+        x_GNUCP=\#
+        GNUCP=''
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no gnucp found - using the system's cp command" >&5
+printf "%s\n" "no gnucp found - using the system's cp command" >&6; }
+        ;;
+    *)
+        as_fn_error $? "no, GNU cp needed. install or specify with --with-gnu-cp=/path/to/it" "$LINENO" 5
+        ;;
+    esac
+fi
+
+
+
+
+
+ML_EXE=""
+if test "$_os" = "WINNT"; then
+    case "$WIN_HOST_ARCH" in
+    x86) assembler=ml.exe ;;
+    x64) assembler=ml64.exe ;;
+    arm64) assembler=armasm64.exe ;;
+    esac
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the MSVC assembler ($assembler)" >&5
+printf %s "checking for the MSVC assembler ($assembler)... " >&6; }
+    if test -f "$MSVC_HOST_PATH/$assembler"; then
+        ML_EXE=`win_short_path_for_make "$MSVC_HOST_PATH/$assembler"`
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ML_EXE" >&5
+printf "%s\n" "$ML_EXE" >&6; }
+    else
+        as_fn_error $? "not found in $MSVC_HOST_PATH" "$LINENO" 5
+    fi
+fi
+
+
+
+# Extract the first word of "zip", so it can be a program name with args.
+set dummy zip; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_ZIP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $ZIP in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ZIP="$ZIP" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_ZIP="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ZIP=$ac_cv_path_ZIP
+if test -n "$ZIP"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ZIP" >&5
+printf "%s\n" "$ZIP" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+test -z "$ZIP" && as_fn_error $? "zip is required" "$LINENO" 5
+if ! "$ZIP" --filesync < /dev/null 2>/dev/null > /dev/null; then
+    as_fn_error $? "Zip version 3.0 or newer is required to build, please install it and make sure it is the one found first in PATH" "$LINENO" 5
+fi
+
+# Extract the first word of "unzip", so it can be a program name with args.
+set dummy unzip; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_UNZIP+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $UNZIP in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_UNZIP="$UNZIP" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_UNZIP="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+UNZIP=$ac_cv_path_UNZIP
+if test -n "$UNZIP"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $UNZIP" >&5
+printf "%s\n" "$UNZIP" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+test -z "$UNZIP" && as_fn_error $? "unzip is required" "$LINENO" 5
+
+if test $build_os = cygwin; then
+    if test -n "`$ZIP -h | $GREP -i WinNT`"; then
+        as_fn_error $? "$ZIP is not the required Cygwin version of Info-ZIP's zip.exe." "$LINENO" 5
+    fi
+fi
+
+# Extract the first word of "touch", so it can be a program name with args.
+set dummy touch; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_TOUCH+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $TOUCH in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_TOUCH="$TOUCH" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_TOUCH="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+TOUCH=$ac_cv_path_TOUCH
+if test -n "$TOUCH"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $TOUCH" >&5
+printf "%s\n" "$TOUCH" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+test -z "$TOUCH" && as_fn_error $? "touch is required" "$LINENO" 5
+touch "$WARNINGS_FILE"
+if ! "$TOUCH" -h "$WARNINGS_FILE" 2>/dev/null > /dev/null; then
+    as_fn_error $? "touch version with -h option support is required to build, please install it and make sure it is the one found first in PATH" "$LINENO" 5
+fi
+
+EPOXY_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/epoxy/include"
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_epoxy="yes";
+
+
+
+
+# Check whether --with-system-epoxy was given.
+if test ${with_system_epoxy+y}
+then :
+  withval=$with_system_epoxy;
+else $as_nop
+
+    if test "${with_system_epoxy+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_epoxy="$with_system_libs";
+    else
+        with_system_epoxy="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which epoxy to use" >&5
+printf %s "checking which epoxy to use... " >&6; }
+if test "$test_epoxy" != no -a "$found_epoxy" != yes -a "$enable_epoxy" != no; then
+    ENABLE_EPOXY=TRUE
+    if test "$with_system_epoxy" = yes -a "$test_system_epoxy" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_EPOXY=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for epoxy >= 1.2" >&5
+printf %s "checking for epoxy >= 1.2... " >&6; }
+
+if test -n "$EPOXY_CFLAGS"; then
+    pkg_cv_EPOXY_CFLAGS="$EPOXY_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"epoxy >= 1.2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "epoxy >= 1.2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_EPOXY_CFLAGS=`$PKG_CONFIG --cflags "epoxy >= 1.2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$EPOXY_LIBS"; then
+    pkg_cv_EPOXY_LIBS="$EPOXY_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"epoxy >= 1.2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "epoxy >= 1.2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_EPOXY_LIBS=`$PKG_CONFIG --libs "epoxy >= 1.2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                EPOXY_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "epoxy >= 1.2" 2>&1`
+        else
+                EPOXY_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "epoxy >= 1.2" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$EPOXY_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (epoxy >= 1.2) were not met:
+
+$EPOXY_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables EPOXY_CFLAGS
+and EPOXY_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables EPOXY_CFLAGS
+and EPOXY_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        EPOXY_CFLAGS=$pkg_cv_EPOXY_CFLAGS
+        EPOXY_LIBS=$pkg_cv_EPOXY_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        EPOXY_CFLAGS=$(printf '%s' "${EPOXY_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${EPOXY_LIBS}"
+        EPOXY_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_EPOXY=
+        EPOXY_CFLAGS="${EPOXY_CFLAGS_internal}"
+        EPOXY_LIBS="${EPOXY_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE EPOXY"
+    fi
+else
+    if test "$found_epoxy" = yes -a "$enable_epoxy" != no -a "$with_system_epoxy" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_EPOXY=TRUE
+        SYSTEM_EPOXY=TRUE
+    else
+        ENABLE_EPOXY=
+        SYSTEM_EPOXY=
+        EPOXY_CFLAGS=
+        EPOXY_LIBS=
+        if test "$test_epoxy" != no -a "$enable_epoxy" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+R=""
+
+
+
+
+
+ENABLE_GEN=
+if test "$test_gen" != no -a "$enable_gen" = yes; then
+    ENABLE_GEN=TRUE
+    printf "%s\n" "#define ENABLE_GEN 1" >>confdefs.h
+
+    R="$R gen"
+fi
+
+
+
+
+
+
+
+
+
+ENABLE_GTK3=
+if test "$test_gtk3" != no -a "$enable_gtk3" = yes; then
+    ENABLE_GTK3=TRUE
+    printf "%s\n" "#define ENABLE_GTK3 1" >>confdefs.h
+
+    R="$R gtk3"
+fi
+
+
+
+
+
+
+
+
+
+ENABLE_GTK3_KDE5=
+if test "$test_gtk3_kde5" != no -a "$enable_gtk3_kde5" = yes; then
+    ENABLE_GTK3_KDE5=TRUE
+    printf "%s\n" "#define ENABLE_GTK3_KDE5 1" >>confdefs.h
+
+    R="$R gtk3_kde5"
+fi
+
+
+
+
+
+
+
+
+
+ENABLE_GTK4=
+if test "$test_gtk4" != no -a "$enable_gtk4" = yes; then
+    ENABLE_GTK4=TRUE
+    printf "%s\n" "#define ENABLE_GTK4 1" >>confdefs.h
+
+    R="$R gtk4"
+fi
+
+
+
+
+
+
+
+
+
+ENABLE_KF5=
+if test "$test_kf5" != no -a "$enable_kf5" = yes; then
+    ENABLE_KF5=TRUE
+    printf "%s\n" "#define ENABLE_KF5 1" >>confdefs.h
+
+    R="$R kf5"
+fi
+
+
+
+
+
+
+
+
+
+ENABLE_KF6=
+if test "$test_kf6" != no -a "$enable_kf6" = yes; then
+    ENABLE_KF6=TRUE
+    printf "%s\n" "#define ENABLE_KF6 1" >>confdefs.h
+
+    R="$R kf6"
+fi
+
+
+
+
+
+
+
+
+
+ENABLE_QT5=
+if test "$test_qt5" != no -a "$enable_qt5" = yes; then
+    ENABLE_QT5=TRUE
+    printf "%s\n" "#define ENABLE_QT5 1" >>confdefs.h
+
+    R="$R qt5"
+fi
+
+
+
+
+
+
+
+
+
+ENABLE_QT6=
+if test "$test_qt6" != no -a "$enable_qt6" = yes; then
+    ENABLE_QT6=TRUE
+    printf "%s\n" "#define ENABLE_QT6 1" >>confdefs.h
+
+    R="$R qt6"
+fi
+
+
+
+
+
+
+if test "$_os" = "WINNT"; then
+    R="$R win"
+elif test "$_os" = "Darwin"; then
+    R="$R osx"
+elif test "$_os" = "iOS"; then
+    R="ios"
+elif test "$_os" = Android; then
+    R="android"
+fi
+
+build_vcl_plugins="$R"
+if test -z "$build_vcl_plugins"; then
+    build_vcl_plugins=" none"
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: VCLplugs to be built:${build_vcl_plugins}" >&5
+printf "%s\n" "$as_me: VCLplugs to be built:${build_vcl_plugins}" >&6;}
+VCL_PLUGIN_INFO=$R
+
+
+if test "$DISABLE_DYNLOADING" = TRUE -a -z "$DISABLE_GUI" -a \( -z "$R" -o $(echo "$R" | wc -w) -ne 1 \); then
+    as_fn_error $? "Can't build --disable-dynamic-loading without --disable-gui and a single VCL plugin\"" "$LINENO" 5
+fi
+
+
+GTK3_CFLAGS=""
+GTK3_LIBS=""
+ENABLE_GTKTILEDVIEWER=""
+if test "$test_gtk3" = yes -a "x$enable_gtk3" = "xyes" -o "x$enable_gtk3_kde5" = "xyes"; then
+    if test "$with_system_cairo" = no; then
+        add_warning 'Non-system cairo combined with gtk3 is known to cause trouble (eg. broken image in the splashscreen). Use --with-system-cairo unless you know what you are doing.'
+    fi
+    : ${with_system_cairo:=yes}
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo" >&5
+printf %s "checking for gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo... " >&6; }
+
+if test -n "$GTK3_CFLAGS"; then
+    pkg_cv_GTK3_CFLAGS="$GTK3_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GTK3_CFLAGS=`$PKG_CONFIG --cflags "gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$GTK3_LIBS"; then
+    pkg_cv_GTK3_LIBS="$GTK3_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GTK3_LIBS=`$PKG_CONFIG --libs "gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                GTK3_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo" 2>&1`
+        else
+                GTK3_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$GTK3_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (gtk+-3.0 >= 3.20 gtk+-unix-print-3.0 gmodule-no-export-2.0 glib-2.0 >= 2.38 atk >= 2.28.1 cairo) were not met:
+
+$GTK3_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables GTK3_CFLAGS
+and GTK3_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables GTK3_CFLAGS
+and GTK3_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        GTK3_CFLAGS=$pkg_cv_GTK3_CFLAGS
+        GTK3_LIBS=$pkg_cv_GTK3_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+    GTK3_CFLAGS=$(printf '%s' "$GTK3_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    GTK3_CFLAGS="$GTK3_CFLAGS -DGDK_DISABLE_DEPRECATED -DGTK_DISABLE_DEPRECATED"
+    FilterLibs "${GTK3_LIBS}"
+    GTK3_LIBS="${filteredlibs}"
+
+        if test "$with_system_epoxy" != "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for eglMakeCurrent in -lEGL" >&5
+printf %s "checking for eglMakeCurrent in -lEGL... " >&6; }
+if test ${ac_cv_lib_EGL_eglMakeCurrent+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lEGL  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char eglMakeCurrent ();
+int
+main (void)
+{
+return eglMakeCurrent ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_EGL_eglMakeCurrent=yes
+else $as_nop
+  ac_cv_lib_EGL_eglMakeCurrent=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_EGL_eglMakeCurrent" >&5
+printf "%s\n" "$ac_cv_lib_EGL_eglMakeCurrent" >&6; }
+if test "x$ac_cv_lib_EGL_eglMakeCurrent" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "libEGL required." "$LINENO" 5
+fi
+
+        ac_fn_c_check_header_compile "$LINENO" "EGL/eglplatform.h" "ac_cv_header_EGL_eglplatform_h" "$ac_includes_default"
+if test "x$ac_cv_header_EGL_eglplatform_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "EGL headers not found. install mesa-libEGL-devel" "$LINENO" 5
+fi
+
+    fi
+elif test -n "$with_gtk3_build" -a "$OS" = "WNT"; then
+    PathFormat "${with_gtk3_build}/lib/pkgconfig"
+    if test "$build_os" = "cygwin"; then
+                formatted_path_unix=`cygpath -au "$formatted_path_unix"`
+    fi
+
+    PKG_CONFIG_PATH="$formatted_path_unix"; export PKG_CONFIG_PATH
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0" >&5
+printf %s "checking for cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0... " >&6; }
+
+if test -n "$GTK3_CFLAGS"; then
+    pkg_cv_GTK3_CFLAGS="$GTK3_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GTK3_CFLAGS=`$PKG_CONFIG --cflags "cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$GTK3_LIBS"; then
+    pkg_cv_GTK3_LIBS="$GTK3_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GTK3_LIBS=`$PKG_CONFIG --libs "cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                GTK3_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0" 2>&1`
+        else
+                GTK3_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$GTK3_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (cairo gdk-3.0 gio-2.0 glib-2.0 gobject-2.0 gtk+-3.0) were not met:
+
+$GTK3_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables GTK3_CFLAGS
+and GTK3_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables GTK3_CFLAGS
+and GTK3_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        GTK3_CFLAGS=$pkg_cv_GTK3_CFLAGS
+        GTK3_LIBS=$pkg_cv_GTK3_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+    GTK3_CFLAGS="$GTK3_CFLAGS -DGDK_DISABLE_DEPRECATED -DGTK_DISABLE_DEPRECATED"
+    FilterLibs "${GTK3_LIBS}"
+    GTK3_LIBS="${filteredlibs}"
+    ENABLE_GTKTILEDVIEWER="yes"
+fi
+
+
+
+
+GTK4_CFLAGS=""
+GTK4_LIBS=""
+if test "$test_gtk4" = yes -a "x$enable_gtk4" = "xyes"; then
+    if test "$with_system_cairo" = no; then
+        add_warning 'Non-system cairo combined with gtk4 is assumed to cause trouble; proceed at your own risk.'
+    fi
+    : ${with_system_cairo:=yes}
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk" >&5
+printf %s "checking for gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk... " >&6; }
+
+if test -n "$GTK4_CFLAGS"; then
+    pkg_cv_GTK4_CFLAGS="$GTK4_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GTK4_CFLAGS=`$PKG_CONFIG --cflags "gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$GTK4_LIBS"; then
+    pkg_cv_GTK4_LIBS="$GTK4_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GTK4_LIBS=`$PKG_CONFIG --libs "gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                GTK4_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk" 2>&1`
+        else
+                GTK4_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$GTK4_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (gtk4 gmodule-no-export-2.0 glib-2.0 >= 2.38 cairo atk) were not met:
+
+$GTK4_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables GTK4_CFLAGS
+and GTK4_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables GTK4_CFLAGS
+and GTK4_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        GTK4_CFLAGS=$pkg_cv_GTK4_CFLAGS
+        GTK4_LIBS=$pkg_cv_GTK4_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+    GTK4_CFLAGS=$(printf '%s' "$GTK4_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    GTK4_CFLAGS="$GTK4_CFLAGS -DGDK_DISABLE_DEPRECATED -DGTK_DISABLE_DEPRECATED"
+    FilterLibs "${GTK4_LIBS}"
+    GTK4_LIBS="${filteredlibs}"
+
+        if test "$with_system_epoxy" != "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for eglMakeCurrent in -lEGL" >&5
+printf %s "checking for eglMakeCurrent in -lEGL... " >&6; }
+if test ${ac_cv_lib_EGL_eglMakeCurrent+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lEGL  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char eglMakeCurrent ();
+int
+main (void)
+{
+return eglMakeCurrent ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_EGL_eglMakeCurrent=yes
+else $as_nop
+  ac_cv_lib_EGL_eglMakeCurrent=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_EGL_eglMakeCurrent" >&5
+printf "%s\n" "$ac_cv_lib_EGL_eglMakeCurrent" >&6; }
+if test "x$ac_cv_lib_EGL_eglMakeCurrent" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "libEGL required." "$LINENO" 5
+fi
+
+        ac_fn_c_check_header_compile "$LINENO" "EGL/eglplatform.h" "ac_cv_header_EGL_eglplatform_h" "$ac_includes_default"
+if test "x$ac_cv_header_EGL_eglplatform_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "EGL headers not found. install mesa-libEGL-devel" "$LINENO" 5
+fi
+
+    fi
+fi
+
+
+
+if test "$enable_introspection" = yes; then
+    if test "$ENABLE_GTK3" = "TRUE" -o "$ENABLE_GTK3_KDE5" = "TRUE"; then
+
+
+
+                enable_introspection=yes
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gobject-introspection" >&5
+printf %s "checking for gobject-introspection... " >&6; }
+
+        case $enable_introspection in #(
+  no) :
+            found_introspection="no (disabled, use --enable-introspection to enable)"
+     ;; #(
+      yes) :
+            if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gobject-introspection-1.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gobject-introspection-1.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  :
+else
+  as_fn_error $? "gobject-introspection-1.0 is not installed" "$LINENO" 5
+fi
+        if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gobject-introspection-1.0 >= INTROSPECTION_REQUIRED_VERSION\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gobject-introspection-1.0 >= INTROSPECTION_REQUIRED_VERSION") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  found_introspection=yes
+else
+  as_fn_error $? "You need to have gobject-introspection >= INTROSPECTION_REQUIRED_VERSION installed to build LibreOffice" "$LINENO" 5
+fi
+     ;; #(
+      auto) :
+            if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gobject-introspection-1.0 >= INTROSPECTION_REQUIRED_VERSION\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gobject-introspection-1.0 >= INTROSPECTION_REQUIRED_VERSION") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  found_introspection=yes
+else
+  found_introspection=no
+fi
+		enable_introspection=$found_introspection
+     ;; #(
+  *) :
+                as_fn_error $? "invalid argument passed to --enable-introspection, should be one of [no/auto/yes]" "$LINENO" 5
+     ;;
+esac
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $found_introspection" >&5
+printf "%s\n" "$found_introspection" >&6; }
+
+    INTROSPECTION_SCANNER=
+    INTROSPECTION_COMPILER=
+    INTROSPECTION_GENERATE=
+    INTROSPECTION_GIRDIR=
+    INTROSPECTION_TYPELIBDIR=
+    if test "x$found_introspection" = "xyes"; then
+       INTROSPECTION_SCANNER=`$PKG_CONFIG --variable=g_ir_scanner gobject-introspection-1.0`
+       INTROSPECTION_COMPILER=`$PKG_CONFIG --variable=g_ir_compiler gobject-introspection-1.0`
+       INTROSPECTION_GENERATE=`$PKG_CONFIG --variable=g_ir_generate gobject-introspection-1.0`
+       INTROSPECTION_GIRDIR=`$PKG_CONFIG --variable=girdir gobject-introspection-1.0`
+       INTROSPECTION_TYPELIBDIR="$($PKG_CONFIG --variable=typelibdir gobject-introspection-1.0)"
+       INTROSPECTION_CFLAGS=`$PKG_CONFIG --cflags gobject-introspection-1.0`
+       INTROSPECTION_LIBS=`$PKG_CONFIG --libs gobject-introspection-1.0`
+       INTROSPECTION_MAKEFILE=`$PKG_CONFIG --variable=datadir gobject-introspection-1.0`/gobject-introspection-1.0/Makefile.introspection
+    fi
+
+
+
+
+
+
+
+
+
+
+    else
+        as_fn_error $? "--enable-introspection requires --enable-gtk3" "$LINENO" 5
+    fi
+fi
+
+# AT-SPI2 tests require gtk3, xvfb-run, dbus-launch and atspi-2
+if ! test "$ENABLE_GTK3" = TRUE; then
+    if test "$enable_atspi_tests" = yes; then
+        as_fn_error $? "--enable-atspi-tests requires --enable-gtk3" "$LINENO" 5
+    fi
+    enable_atspi_tests=no
+fi
+if ! test "$enable_atspi_tests" = no; then
+    for ac_prog in xvfb-run
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_XVFB_RUN+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $XVFB_RUN in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_XVFB_RUN="$XVFB_RUN" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_XVFB_RUN="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+XVFB_RUN=$ac_cv_path_XVFB_RUN
+if test -n "$XVFB_RUN"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $XVFB_RUN" >&5
+printf "%s\n" "$XVFB_RUN" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$XVFB_RUN" && break
+done
+test -n "$XVFB_RUN" || XVFB_RUN="no"
+
+    if ! test "$XVFB_RUN" = no; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $XVFB_RUN works..." >&5
+printf %s "checking whether $XVFB_RUN works...... " >&6; }
+        if $XVFB_RUN --auto-servernum true >&5 2>&5; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+            XVFB_RUN=no
+        fi
+    fi
+    if test "$XVFB_RUN" = no; then
+        if test "$enable_atspi_tests" = yes; then
+            as_fn_error $? "xvfb-run required by --enable-atspi-tests not found" "$LINENO" 5
+        fi
+        enable_atspi_tests=no
+    fi
+fi
+if ! test "$enable_atspi_tests" = no; then
+    for ac_prog in dbus-launch
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_DBUS_LAUNCH+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $DBUS_LAUNCH in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_DBUS_LAUNCH="$DBUS_LAUNCH" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_DBUS_LAUNCH="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+DBUS_LAUNCH=$ac_cv_path_DBUS_LAUNCH
+if test -n "$DBUS_LAUNCH"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $DBUS_LAUNCH" >&5
+printf "%s\n" "$DBUS_LAUNCH" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$DBUS_LAUNCH" && break
+done
+test -n "$DBUS_LAUNCH" || DBUS_LAUNCH="no"
+
+    if test "$DBUS_LAUNCH" = no; then
+        if test "$enable_atspi_tests" = yes; then
+            as_fn_error $? "dbus-launch required by --enable-atspi-tests not found" "$LINENO" 5
+        fi
+        enable_atspi_tests=no
+    fi
+fi
+if ! test "$enable_atspi_tests" = no; then
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for atspi-2 gobject-2.0" >&5
+printf %s "checking for atspi-2 gobject-2.0... " >&6; }
+
+if test -n "$ATSPI2_CFLAGS"; then
+    pkg_cv_ATSPI2_CFLAGS="$ATSPI2_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"atspi-2 gobject-2.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "atspi-2 gobject-2.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ATSPI2_CFLAGS=`$PKG_CONFIG --cflags "atspi-2 gobject-2.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ATSPI2_LIBS"; then
+    pkg_cv_ATSPI2_LIBS="$ATSPI2_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"atspi-2 gobject-2.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "atspi-2 gobject-2.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ATSPI2_LIBS=`$PKG_CONFIG --libs "atspi-2 gobject-2.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ATSPI2_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "atspi-2 gobject-2.0" 2>&1`
+        else
+                ATSPI2_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "atspi-2 gobject-2.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ATSPI2_PKG_ERRORS" >&5
+
+        if test "$enable_atspi_tests" = yes; then
+                           as_fn_error $? "$ATSPI2_PKG_ERRORS" "$LINENO" 5
+                       else
+                           enable_atspi_tests=no
+                       fi
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        if test "$enable_atspi_tests" = yes; then
+                           as_fn_error $? "$ATSPI2_PKG_ERRORS" "$LINENO" 5
+                       else
+                           enable_atspi_tests=no
+                       fi
+else
+        ATSPI2_CFLAGS=$pkg_cv_ATSPI2_CFLAGS
+        ATSPI2_LIBS=$pkg_cv_ATSPI2_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+fi
+if ! test "x$enable_atspi_tests" = xno; then
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for atspi-2 >= 2.32" >&5
+printf %s "checking for atspi-2 >= 2.32... " >&6; }
+
+if test -n "$ATSPI2_2_32_CFLAGS"; then
+    pkg_cv_ATSPI2_2_32_CFLAGS="$ATSPI2_2_32_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"atspi-2 >= 2.32\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "atspi-2 >= 2.32") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ATSPI2_2_32_CFLAGS=`$PKG_CONFIG --cflags "atspi-2 >= 2.32" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ATSPI2_2_32_LIBS"; then
+    pkg_cv_ATSPI2_2_32_LIBS="$ATSPI2_2_32_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"atspi-2 >= 2.32\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "atspi-2 >= 2.32") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ATSPI2_2_32_LIBS=`$PKG_CONFIG --libs "atspi-2 >= 2.32" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ATSPI2_2_32_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "atspi-2 >= 2.32" 2>&1`
+        else
+                ATSPI2_2_32_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "atspi-2 >= 2.32" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ATSPI2_2_32_PKG_ERRORS" >&5
+
+        have_atspi_scroll_to=0
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        have_atspi_scroll_to=0
+else
+        ATSPI2_2_32_CFLAGS=$pkg_cv_ATSPI2_2_32_CFLAGS
+        ATSPI2_2_32_LIBS=$pkg_cv_ATSPI2_2_32_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        have_atspi_scroll_to=1
+fi
+
+printf "%s\n" "#define HAVE_ATSPI2_SCROLL_TO $have_atspi_scroll_to" >>confdefs.h
+
+fi
+ENABLE_ATSPI_TESTS=
+test "$enable_atspi_tests" = no || ENABLE_ATSPI_TESTS=TRUE
+
+
+ENABLE_DBUS=""
+DBUS_CFLAGS=""
+DBUS_LIBS=""
+DBUS_GLIB_CFLAGS=""
+DBUS_GLIB_LIBS=""
+DBUS_HAVE_GLIB=""
+
+if test "$enable_dbus" = "no"; then
+    test_dbus=no
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable DBUS support" >&5
+printf %s "checking whether to enable DBUS support... " >&6; }
+if test "$test_dbus" = "yes"; then
+    ENABLE_DBUS="TRUE"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dbus-1 >= 0.60" >&5
+printf %s "checking for dbus-1 >= 0.60... " >&6; }
+
+if test -n "$DBUS_CFLAGS"; then
+    pkg_cv_DBUS_CFLAGS="$DBUS_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"dbus-1 >= 0.60\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "dbus-1 >= 0.60") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_DBUS_CFLAGS=`$PKG_CONFIG --cflags "dbus-1 >= 0.60" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$DBUS_LIBS"; then
+    pkg_cv_DBUS_LIBS="$DBUS_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"dbus-1 >= 0.60\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "dbus-1 >= 0.60") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_DBUS_LIBS=`$PKG_CONFIG --libs "dbus-1 >= 0.60" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                DBUS_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "dbus-1 >= 0.60" 2>&1`
+        else
+                DBUS_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "dbus-1 >= 0.60" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$DBUS_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (dbus-1 >= 0.60) were not met:
+
+$DBUS_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables DBUS_CFLAGS
+and DBUS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables DBUS_CFLAGS
+and DBUS_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        DBUS_CFLAGS=$pkg_cv_DBUS_CFLAGS
+        DBUS_LIBS=$pkg_cv_DBUS_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+    printf "%s\n" "#define ENABLE_DBUS 1" >>confdefs.h
+
+    DBUS_CFLAGS=$(printf '%s' "$DBUS_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    FilterLibs "${DBUS_LIBS}"
+    DBUS_LIBS="${filteredlibs}"
+
+    # Glib is needed for BluetoothServer
+    # Sets also DBUS_GLIB_CFLAGS/DBUS_GLIB_LIBS if successful.
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for glib-2.0 >= 2.4" >&5
+printf %s "checking for glib-2.0 >= 2.4... " >&6; }
+
+if test -n "$DBUS_GLIB_CFLAGS"; then
+    pkg_cv_DBUS_GLIB_CFLAGS="$DBUS_GLIB_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"glib-2.0 >= 2.4\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "glib-2.0 >= 2.4") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_DBUS_GLIB_CFLAGS=`$PKG_CONFIG --cflags "glib-2.0 >= 2.4" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$DBUS_GLIB_LIBS"; then
+    pkg_cv_DBUS_GLIB_LIBS="$DBUS_GLIB_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"glib-2.0 >= 2.4\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "glib-2.0 >= 2.4") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_DBUS_GLIB_LIBS=`$PKG_CONFIG --libs "glib-2.0 >= 2.4" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                DBUS_GLIB_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "glib-2.0 >= 2.4" 2>&1`
+        else
+                DBUS_GLIB_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "glib-2.0 >= 2.4" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$DBUS_GLIB_PKG_ERRORS" >&5
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: No Glib found, Bluetooth support will be disabled" >&5
+printf "%s\n" "$as_me: WARNING: No Glib found, Bluetooth support will be disabled" >&2;}
+
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: No Glib found, Bluetooth support will be disabled" >&5
+printf "%s\n" "$as_me: WARNING: No Glib found, Bluetooth support will be disabled" >&2;}
+
+else
+        DBUS_GLIB_CFLAGS=$pkg_cv_DBUS_GLIB_CFLAGS
+        DBUS_GLIB_LIBS=$pkg_cv_DBUS_GLIB_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+            DBUS_HAVE_GLIB="TRUE"
+            printf "%s\n" "#define DBUS_HAVE_GLIB 1" >>confdefs.h
+
+
+fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable Impress remote control" >&5
+printf %s "checking whether to enable Impress remote control... " >&6; }
+if test -n "$enable_sdremote" -a "$enable_sdremote" != "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_SDREMOTE=TRUE
+    SDREMOTE_ENTITLEMENT="	<key>com.apple.security.network.server</key>
+	<true/>"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable Bluetooth support in Impress remote control" >&5
+printf %s "checking whether to enable Bluetooth support in Impress remote control... " >&6; }
+
+    if test $OS = MACOSX && test "$MACOSX_SDK_VERSION" -ge 101500; then
+        # The Bluetooth code doesn't compile with macOS SDK 10.15
+        if test "$enable_sdremote_bluetooth" = yes; then
+            as_fn_error $? "macOS SDK $macosx_sdk does not currently support --enable-sdremote-bluetooth" "$LINENO" 5
+        fi
+        add_warning "not building the bluetooth part of the sdremote - used api was removed from macOS SDK 10.15"
+        enable_sdremote_bluetooth=no
+    fi
+    # If not explicitly enabled or disabled, default
+    if test -z "$enable_sdremote_bluetooth"; then
+        case "$OS" in
+        LINUX|MACOSX|WNT)
+            # Default to yes for these
+            enable_sdremote_bluetooth=yes
+            ;;
+        *)
+            # otherwise no
+            enable_sdremote_bluetooth=no
+            ;;
+        esac
+    fi
+    # $enable_sdremote_bluetooth is guaranteed non-empty now
+
+    if test "$enable_sdremote_bluetooth" != "no"; then
+        if test "$OS" = "LINUX"; then
+            if test "$ENABLE_DBUS" = "TRUE" -a "$DBUS_HAVE_GLIB" = "TRUE"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+                ENABLE_SDREMOTE_BLUETOOTH=TRUE
+                                                                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which Bluetooth header to use" >&5
+printf %s "checking which Bluetooth header to use... " >&6; }
+                if test "$with_system_bluez" = "yes"; then
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+                    ac_fn_c_check_header_compile "$LINENO" "bluetooth/bluetooth.h" "ac_cv_header_bluetooth_bluetooth_h" "$ac_includes_default"
+if test "x$ac_cv_header_bluetooth_bluetooth_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "bluetooth.h not found. install bluez" "$LINENO" 5
+fi
+
+                    SYSTEM_BLUEZ=TRUE
+                else
+                    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+                    SYSTEM_BLUEZ=
+                fi
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, dbus disabled" >&5
+printf "%s\n" "no, dbus disabled" >&6; }
+                ENABLE_SDREMOTE_BLUETOOTH=
+                SYSTEM_BLUEZ=
+            fi
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+            ENABLE_SDREMOTE_BLUETOOTH=TRUE
+            SYSTEM_BLUEZ=
+            SDREMOTE_ENTITLEMENT="$SDREMOTE_ENTITLEMENT
+	<key>com.apple.security.device.bluetooth</key>
+	<true/>"
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        ENABLE_SDREMOTE_BLUETOOTH=
+        SYSTEM_BLUEZ=
+    fi
+else
+    ENABLE_SDREMOTE=
+    SYSTEM_BLUEZ=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+
+
+if test "$ENABLE_GTK4" = "TRUE" -o "$ENABLE_GTK3" = "TRUE" -o "$ENABLE_GTK3_KDE5" = "TRUE"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable GIO support" >&5
+printf %s "checking whether to enable GIO support... " >&6; }
+    if test "$_os" != "WINNT" -a "$_os" != "Darwin" -a "$enable_gio" = "yes"; then
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gio-2.0 >= 2.26" >&5
+printf %s "checking for gio-2.0 >= 2.26... " >&6; }
+
+if test -n "$GIO_CFLAGS"; then
+    pkg_cv_GIO_CFLAGS="$GIO_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gio-2.0 >= 2.26\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gio-2.0 >= 2.26") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GIO_CFLAGS=`$PKG_CONFIG --cflags "gio-2.0 >= 2.26" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$GIO_LIBS"; then
+    pkg_cv_GIO_LIBS="$GIO_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gio-2.0 >= 2.26\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gio-2.0 >= 2.26") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GIO_LIBS=`$PKG_CONFIG --libs "gio-2.0 >= 2.26" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                GIO_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "gio-2.0 >= 2.26" 2>&1`
+        else
+                GIO_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "gio-2.0 >= 2.26" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$GIO_PKG_ERRORS" >&5
+
+        ENABLE_GIO=""
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        ENABLE_GIO=""
+else
+        GIO_CFLAGS=$pkg_cv_GIO_CFLAGS
+        GIO_LIBS=$pkg_cv_GIO_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        ENABLE_GIO="TRUE"
+fi
+        if test "$ENABLE_GIO" = "TRUE"; then
+            printf "%s\n" "#define ENABLE_GIO 1" >>confdefs.h
+
+            GIO_CFLAGS=$(printf '%s' "$GIO_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+            FilterLibs "${GIO_LIBS}"
+            GIO_LIBS="${filteredlibs}"
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+
+
+
+
+SPLIT_APP_MODULES=""
+if test "$enable_split_app_modules" = "yes"; then
+    SPLIT_APP_MODULES="TRUE"
+fi
+
+
+SPLIT_OPT_FEATURES=""
+if test "$enable_split_opt_features" = "yes"; then
+    SPLIT_OPT_FEATURES="TRUE"
+fi
+
+
+
+ENABLE_GSTREAMER_1_0=""
+
+if test "$test_gstreamer_1_0" = yes; then
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable the GStreamer 1.0 avmedia backend" >&5
+printf %s "checking whether to enable the GStreamer 1.0 avmedia backend... " >&6; }
+    if test "$enable_avmedia" = yes -a "$enable_gstreamer_1_0" != no; then
+        ENABLE_GSTREAMER_1_0="TRUE"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 " >&5
+printf %s "checking for gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 ... " >&6; }
+
+if test -n "$GSTREAMER_1_0_CFLAGS"; then
+    pkg_cv_GSTREAMER_1_0_CFLAGS="$GSTREAMER_1_0_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 \""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 ") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GSTREAMER_1_0_CFLAGS=`$PKG_CONFIG --cflags "gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 " 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$GSTREAMER_1_0_LIBS"; then
+    pkg_cv_GSTREAMER_1_0_LIBS="$GSTREAMER_1_0_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 \""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 ") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GSTREAMER_1_0_LIBS=`$PKG_CONFIG --libs "gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 " 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                GSTREAMER_1_0_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 " 2>&1`
+        else
+                GSTREAMER_1_0_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 " 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$GSTREAMER_1_0_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (gstreamer-1.0 gstreamer-plugins-base-1.0 gstreamer-pbutils-1.0 gstreamer-video-1.0 ) were not met:
+
+$GSTREAMER_1_0_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables GSTREAMER_1_0_CFLAGS
+and GSTREAMER_1_0_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables GSTREAMER_1_0_CFLAGS
+and GSTREAMER_1_0_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        GSTREAMER_1_0_CFLAGS=$pkg_cv_GSTREAMER_1_0_CFLAGS
+        GSTREAMER_1_0_LIBS=$pkg_cv_GSTREAMER_1_0_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        GSTREAMER_1_0_CFLAGS=$(printf '%s' "$GSTREAMER_1_0_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${GSTREAMER_1_0_LIBS}"
+        GSTREAMER_1_0_LIBS="${filteredlibs}"
+        printf "%s\n" "#define ENABLE_GSTREAMER_1_0 1" >>confdefs.h
+
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+
+
+ENABLE_OPENGL_TRANSITIONS=
+ENABLE_OPENGL_CANVAS=
+if test $_os = iOS -o $_os = Android -o "$ENABLE_FUZZERS" = "TRUE"; then
+   : # disable
+elif test "$_os" = "Darwin"; then
+    # We use frameworks on macOS, no need for detail checks
+    ENABLE_OPENGL_TRANSITIONS=TRUE
+    printf "%s\n" "#define HAVE_FEATURE_OPENGL 1" >>confdefs.h
+
+    ENABLE_OPENGL_CANVAS=TRUE
+elif test $_os = WINNT; then
+    ENABLE_OPENGL_TRANSITIONS=TRUE
+    printf "%s\n" "#define HAVE_FEATURE_OPENGL 1" >>confdefs.h
+
+    ENABLE_OPENGL_CANVAS=TRUE
+else
+    if test "$USING_X11" = TRUE; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for glBegin in -lGL" >&5
+printf %s "checking for glBegin in -lGL... " >&6; }
+if test ${ac_cv_lib_GL_glBegin+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lGL  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char glBegin ();
+int
+main (void)
+{
+return glBegin ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_GL_glBegin=yes
+else $as_nop
+  ac_cv_lib_GL_glBegin=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_GL_glBegin" >&5
+printf "%s\n" "$ac_cv_lib_GL_glBegin" >&6; }
+if test "x$ac_cv_lib_GL_glBegin" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "libGL required." "$LINENO" 5
+fi
+
+        ENABLE_OPENGL_TRANSITIONS=TRUE
+        printf "%s\n" "#define HAVE_FEATURE_OPENGL 1" >>confdefs.h
+
+        ENABLE_OPENGL_CANVAS=TRUE
+    fi
+fi
+
+
+
+
+
+if test $_os != iOS -a $_os != Android -a "$ENABLE_FUZZERS" != "TRUE" -a "$enable_opencl" = "yes"; then
+    # OPENCL in BUILD_TYPE and HAVE_FEATURE_OPENCL tell that OpenCL is potentially available on the
+    # platform (optional at run-time, used through clew).
+    BUILD_TYPE="$BUILD_TYPE OPENCL"
+    printf "%s\n" "#define HAVE_FEATURE_OPENCL 1" >>confdefs.h
+
+fi
+
+
+if test $_os != Android -a $_os != iOS -a "$enable_dconf" != no; then
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dconf >= 0.40.0" >&5
+printf %s "checking for dconf >= 0.40.0... " >&6; }
+
+if test -n "$DCONF_CFLAGS"; then
+    pkg_cv_DCONF_CFLAGS="$DCONF_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"dconf >= 0.40.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "dconf >= 0.40.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_DCONF_CFLAGS=`$PKG_CONFIG --cflags "dconf >= 0.40.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$DCONF_LIBS"; then
+    pkg_cv_DCONF_LIBS="$DCONF_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"dconf >= 0.40.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "dconf >= 0.40.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_DCONF_LIBS=`$PKG_CONFIG --libs "dconf >= 0.40.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                DCONF_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "dconf >= 0.40.0" 2>&1`
+        else
+                DCONF_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "dconf >= 0.40.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$DCONF_PKG_ERRORS" >&5
+
+
+        if test "$enable_dconf" = yes; then
+            as_fn_error $? "dconf not found" "$LINENO" 5
+        else
+            enable_dconf=no
+        fi
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+        if test "$enable_dconf" = yes; then
+            as_fn_error $? "dconf not found" "$LINENO" 5
+        else
+            enable_dconf=no
+        fi
+else
+        DCONF_CFLAGS=$pkg_cv_DCONF_CFLAGS
+        DCONF_LIBS=$pkg_cv_DCONF_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable dconf" >&5
+printf %s "checking whether to enable dconf... " >&6; }
+if test $_os = Android -o $_os = iOS -o "$enable_dconf" = no; then
+    DCONF_CFLAGS=
+    DCONF_LIBS=
+    ENABLE_DCONF=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    ENABLE_DCONF=TRUE
+    printf "%s\n" "#define ENABLE_DCONF 1" >>confdefs.h
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+fi
+
+
+
+
+# pdf import?
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build the PDF import feature" >&5
+printf %s "checking whether to build the PDF import feature... " >&6; }
+ENABLE_PDFIMPORT=
+if test -z "$enable_pdfimport" -o "$enable_pdfimport" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_PDFIMPORT=TRUE
+    printf "%s\n" "#define HAVE_FEATURE_PDFIMPORT 1" >>confdefs.h
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+# Pdfium?
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build PDFium" >&5
+printf %s "checking whether to build PDFium... " >&6; }
+ENABLE_PDFIUM=
+if test \( -z "$enable_pdfium" -a "$ENABLE_PDFIMPORT" = "TRUE" \) -o "$enable_pdfium" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_PDFIUM=TRUE
+    BUILD_TYPE="$BUILD_TYPE PDFIUM"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test "$ENABLE_PDFIUM" = "TRUE"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which OpenJPEG library to use" >&5
+printf %s "checking which OpenJPEG library to use... " >&6; }
+    if test "$with_system_openjpeg" = "yes"; then
+        SYSTEM_OPENJPEG2=TRUE
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libopenjp2 " >&5
+printf %s "checking for libopenjp2 ... " >&6; }
+
+if test -n "$OPENJPEG2_CFLAGS"; then
+    pkg_cv_OPENJPEG2_CFLAGS="$OPENJPEG2_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libopenjp2 \""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libopenjp2 ") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_OPENJPEG2_CFLAGS=`$PKG_CONFIG --cflags "libopenjp2 " 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$OPENJPEG2_LIBS"; then
+    pkg_cv_OPENJPEG2_LIBS="$OPENJPEG2_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libopenjp2 \""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libopenjp2 ") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_OPENJPEG2_LIBS=`$PKG_CONFIG --libs "libopenjp2 " 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                OPENJPEG2_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libopenjp2 " 2>&1`
+        else
+                OPENJPEG2_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libopenjp2 " 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$OPENJPEG2_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libopenjp2 ) were not met:
+
+$OPENJPEG2_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables OPENJPEG2_CFLAGS
+and OPENJPEG2_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables OPENJPEG2_CFLAGS
+and OPENJPEG2_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        OPENJPEG2_CFLAGS=$pkg_cv_OPENJPEG2_CFLAGS
+        OPENJPEG2_LIBS=$pkg_cv_OPENJPEG2_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        OPENJPEG2_CFLAGS=$(printf '%s' "$OPENJPEG2_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${OPENJPEG2_LIBS}"
+        OPENJPEG2_LIBS="${filteredlibs}"
+    else
+        SYSTEM_OPENJPEG2=FALSE
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which Abseil library to use" >&5
+printf %s "checking which Abseil library to use... " >&6; }
+    if test "$with_system_abseil" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_ABSEIL=TRUE
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for absl_bad_optional_access absl_bad_variant_access absl_inlined_vector " >&5
+printf %s "checking for absl_bad_optional_access absl_bad_variant_access absl_inlined_vector ... " >&6; }
+
+if test -n "$ABSEIL_CFLAGS"; then
+    pkg_cv_ABSEIL_CFLAGS="$ABSEIL_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"absl_bad_optional_access absl_bad_variant_access absl_inlined_vector \""; } >&5
+  ($PKG_CONFIG --exists --print-errors "absl_bad_optional_access absl_bad_variant_access absl_inlined_vector ") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ABSEIL_CFLAGS=`$PKG_CONFIG --cflags "absl_bad_optional_access absl_bad_variant_access absl_inlined_vector " 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$ABSEIL_LIBS"; then
+    pkg_cv_ABSEIL_LIBS="$ABSEIL_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"absl_bad_optional_access absl_bad_variant_access absl_inlined_vector \""; } >&5
+  ($PKG_CONFIG --exists --print-errors "absl_bad_optional_access absl_bad_variant_access absl_inlined_vector ") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_ABSEIL_LIBS=`$PKG_CONFIG --libs "absl_bad_optional_access absl_bad_variant_access absl_inlined_vector " 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                ABSEIL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "absl_bad_optional_access absl_bad_variant_access absl_inlined_vector " 2>&1`
+        else
+                ABSEIL_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "absl_bad_optional_access absl_bad_variant_access absl_inlined_vector " 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$ABSEIL_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (absl_bad_optional_access absl_bad_variant_access absl_inlined_vector ) were not met:
+
+$ABSEIL_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables ABSEIL_CFLAGS
+and ABSEIL_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables ABSEIL_CFLAGS
+and ABSEIL_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        ABSEIL_CFLAGS=$pkg_cv_ABSEIL_CFLAGS
+        ABSEIL_LIBS=$pkg_cv_ABSEIL_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        ABSEIL_CFLAGS=$(printf '%s' "$ABSEIL_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${ABSEIL_LIBS}"
+        ABSEIL_LIBS="${filteredlibs}"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+    fi
+fi
+
+
+
+
+
+ENABLE_POPPLER=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build Poppler" >&5
+printf %s "checking whether to build Poppler... " >&6; }
+if test \( -z "$enable_poppler" -a "$ENABLE_PDFIMPORT" = "TRUE" -a $_os != Android \) -o "$enable_poppler" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_POPPLER=TRUE
+    printf "%s\n" "#define HAVE_FEATURE_POPPLER 1" >>confdefs.h
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test "$ENABLE_PDFIMPORT" = "TRUE" -a "$ENABLE_POPPLER" != "TRUE" -a "$ENABLE_PDFIUM" != "TRUE"; then
+    as_fn_error $? "Cannot import PDF without either Pdfium or Poppler; please enable either of them." "$LINENO" 5
+fi
+
+if test "$ENABLE_PDFIMPORT" != "TRUE" -a \( "$ENABLE_POPPLER" = "TRUE" -o "$ENABLE_PDFIUM" = "TRUE" \); then
+    as_fn_error $? "Cannot enable Pdfium or Poppler when PDF importing is disabled; please enable PDF import first." "$LINENO" 5
+fi
+
+if test "$ENABLE_PDFIMPORT" = "TRUE" -a "$ENABLE_POPPLER" = "TRUE"; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which PDF import poppler to use" >&5
+printf %s "checking which PDF import poppler to use... " >&6; }
+    if test "$with_system_poppler" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_POPPLER=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for poppler >= 0.14 poppler-cpp" >&5
+printf %s "checking for poppler >= 0.14 poppler-cpp... " >&6; }
+
+if test -n "$POPPLER_CFLAGS"; then
+    pkg_cv_POPPLER_CFLAGS="$POPPLER_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"poppler >= 0.14 poppler-cpp\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "poppler >= 0.14 poppler-cpp") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_POPPLER_CFLAGS=`$PKG_CONFIG --cflags "poppler >= 0.14 poppler-cpp" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$POPPLER_LIBS"; then
+    pkg_cv_POPPLER_LIBS="$POPPLER_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"poppler >= 0.14 poppler-cpp\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "poppler >= 0.14 poppler-cpp") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_POPPLER_LIBS=`$PKG_CONFIG --libs "poppler >= 0.14 poppler-cpp" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                POPPLER_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "poppler >= 0.14 poppler-cpp" 2>&1`
+        else
+                POPPLER_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "poppler >= 0.14 poppler-cpp" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$POPPLER_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (poppler >= 0.14 poppler-cpp) were not met:
+
+$POPPLER_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables POPPLER_CFLAGS
+and POPPLER_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables POPPLER_CFLAGS
+and POPPLER_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        POPPLER_CFLAGS=$pkg_cv_POPPLER_CFLAGS
+        POPPLER_LIBS=$pkg_cv_POPPLER_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        POPPLER_CFLAGS=$(printf '%s' "$POPPLER_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${POPPLER_LIBS}"
+        POPPLER_LIBS="${filteredlibs}"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_POPPLER=
+        BUILD_TYPE="$BUILD_TYPE POPPLER"
+    fi
+    printf "%s\n" "#define ENABLE_PDFIMPORT 1" >>confdefs.h
+
+fi
+
+
+
+
+
+# Skia?
+ENABLE_SKIA=
+if test "$enable_skia" != "no" -a "$build_skia" = "yes" -a -z "$DISABLE_GUI"; then
+    # Skia now requires at least freetype2 >= 2.8.1, which is less that what LO requires as system freetype.
+    if test "$SYSTEM_FREETYPE" = TRUE; then
+        if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"freetype2 >= 21.0.15\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "freetype2 >= 21.0.15") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  # 21.0.15 = 2.8.1
+            skia_freetype_ok=yes
+else
+  skia_freetype_ok=no
+fi
+    else # internal is ok
+        skia_freetype_ok=yes
+    fi
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build Skia" >&5
+printf %s "checking whether to build Skia... " >&6; }
+    if test "$skia_freetype_ok" = "yes"; then
+        if test "$enable_skia" = "debug"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (debug)" >&5
+printf "%s\n" "yes (debug)" >&6; }
+            ENABLE_SKIA_DEBUG=TRUE
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+            ENABLE_SKIA_DEBUG=
+        fi
+        ENABLE_SKIA=TRUE
+        if test "$ENDIANNESS" = "big" && test "$ENABLE_SKIA" = "TRUE"; then
+            as_fn_error $? "skia doesn't work/isn't supported upstream on big-endian. Use --disable-skia" "$LINENO" 5
+        fi
+
+        printf "%s\n" "#define HAVE_FEATURE_SKIA 1" >>confdefs.h
+
+        BUILD_TYPE="$BUILD_TYPE SKIA"
+
+        if test "$OS" = "MACOSX"; then
+            printf "%s\n" "#define SK_GANESH 1" >>confdefs.h
+
+            printf "%s\n" "#define SK_METAL 1" >>confdefs.h
+
+            SKIA_GPU=METAL
+
+        else
+            printf "%s\n" "#define SK_GANESH 1" >>confdefs.h
+
+            printf "%s\n" "#define SK_VULKAN 1" >>confdefs.h
+
+            SKIA_GPU=VULKAN
+
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (freetype too old)" >&5
+printf "%s\n" "no (freetype too old)" >&6; }
+        add_warning "freetype version is too old for Skia library, at least 2.8.1 required, Skia support disabled"
+    fi
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build Skia" >&5
+printf %s "checking whether to build Skia... " >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+LO_CLANG_CXXFLAGS_INTRINSICS_SSE2=
+LO_CLANG_CXXFLAGS_INTRINSICS_SSSE3=
+LO_CLANG_CXXFLAGS_INTRINSICS_SSE41=
+LO_CLANG_CXXFLAGS_INTRINSICS_SSE42=
+LO_CLANG_CXXFLAGS_INTRINSICS_AVX=
+LO_CLANG_CXXFLAGS_INTRINSICS_AVX2=
+LO_CLANG_CXXFLAGS_INTRINSICS_AVX512=
+LO_CLANG_CXXFLAGS_INTRINSICS_AVX512F=
+LO_CLANG_CXXFLAGS_INTRINSICS_F16C=
+LO_CLANG_CXXFLAGS_INTRINSICS_FMA=
+LO_CLANG_VERSION=
+HAVE_LO_CLANG_DLLEXPORTINLINES=
+
+if test "$ENABLE_SKIA" = TRUE -a "$COM_IS_CLANG" != TRUE; then
+    if test -n "$LO_CLANG_CC" -a -n "$LO_CLANG_CXX"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Clang" >&5
+printf %s "checking for Clang... " >&6; }
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LO_CLANG_CC / $LO_CLANG_CXX" >&5
+printf "%s\n" "$LO_CLANG_CC / $LO_CLANG_CXX" >&6; }
+    else
+        if test "$_os" = "WINNT"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for clang-cl" >&5
+printf %s "checking for clang-cl... " >&6; }
+            if test -x "$VC_PRODUCT_DIR/Tools/Llvm/bin/clang-cl.exe"; then
+                LO_CLANG_CC=`win_short_path_for_make "$VC_PRODUCT_DIR/Tools/Llvm/bin/clang-cl.exe"`
+            elif test -n "$PROGRAMFILES" -a -x "$(cygpath -u "$PROGRAMFILES/LLVM/bin/clang-cl.exe")"; then
+                LO_CLANG_CC=`win_short_path_for_make "$PROGRAMFILES/LLVM/bin/clang-cl.exe"`
+            elif test -x "$(cygpath -u "c:/Program Files/LLVM/bin/clang-cl.exe")"; then
+                LO_CLANG_CC=`win_short_path_for_make "c:/Program Files/LLVM/bin/clang-cl.exe"`
+            fi
+            if test -n "$LO_CLANG_CC"; then
+                                LO_CLANG_CC="$LO_CLANG_CC -m$WIN_HOST_BITS"
+                LO_CLANG_CXX="$LO_CLANG_CC"
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LO_CLANG_CC" >&5
+printf "%s\n" "$LO_CLANG_CC" >&6; }
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+            fi
+
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the dependency generation prefix (clang.exe -showIncludes)" >&5
+printf %s "checking the dependency generation prefix (clang.exe -showIncludes)... " >&6; }
+            echo "#include <stdlib.h>" > conftest.c
+            LO_CLANG_SHOWINCLUDES_PREFIX=`VSLANG=1033 $LO_CLANG_CC $CFLAGS -c -showIncludes conftest.c 2>/dev/null | \
+                grep 'stdlib\.h' | head -n1 | sed 's/ [[:alpha:]]:.*//'`
+            rm -f conftest.c conftest.obj
+            if test -z "$LO_CLANG_SHOWINCLUDES_PREFIX"; then
+                as_fn_error $? "cannot determine the -showIncludes prefix" "$LINENO" 5
+            else
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: \"$LO_CLANG_SHOWINCLUDES_PREFIX\"" >&5
+printf "%s\n" "\"$LO_CLANG_SHOWINCLUDES_PREFIX\"" >&6; }
+            fi
+        else
+            # Extract the first word of "clang", so it can be a program name with args.
+set dummy clang; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_LO_CLANG_CC+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$LO_CLANG_CC"; then
+  ac_cv_prog_LO_CLANG_CC="$LO_CLANG_CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_LO_CLANG_CC="clang"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+LO_CLANG_CC=$ac_cv_prog_LO_CLANG_CC
+if test -n "$LO_CLANG_CC"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LO_CLANG_CC" >&5
+printf "%s\n" "$LO_CLANG_CC" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+            # Extract the first word of "clang++", so it can be a program name with args.
+set dummy clang++; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_LO_CLANG_CXX+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$LO_CLANG_CXX"; then
+  ac_cv_prog_LO_CLANG_CXX="$LO_CLANG_CXX" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_LO_CLANG_CXX="clang++"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+LO_CLANG_CXX=$ac_cv_prog_LO_CLANG_CXX
+if test -n "$LO_CLANG_CXX"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LO_CLANG_CXX" >&5
+printf "%s\n" "$LO_CLANG_CXX" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+        fi
+    fi
+    if test -n "$LO_CLANG_CC" -a -n "$LO_CLANG_CXX"; then
+        clang2_version=`echo __clang_major__.__clang_minor__.__clang_patchlevel__ | $LO_CLANG_CC -E - | tail -1 | sed 's/ //g'`
+        LO_CLANG_VERSION=`echo "$clang2_version" | $AWK -F. '{ print \$1*10000+(\$2<100?\$2:99)*100+(\$3<100?\$3:99) }'`
+        if test "$LO_CLANG_VERSION" -lt 50002; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: \"$clang2_version\" is too old or unrecognized, must be at least Clang 5.0.2" >&5
+printf "%s\n" "$as_me: WARNING: \"$clang2_version\" is too old or unrecognized, must be at least Clang 5.0.2" >&2;}
+            LO_CLANG_CC=
+            LO_CLANG_CXX=
+        fi
+    fi
+    if test -n "$LO_CLANG_CC" -a -n "$LO_CLANG_CXX" -a "$_os" = "WINNT"; then
+        save_CXX="$CXX"
+        CXX="$LO_CLANG_CXX"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX supports -Zc:dllexportInlines-" >&5
+printf %s "checking whether $CXX supports -Zc:dllexportInlines-... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS -Werror -Zc:dllexportInlines-"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+
+                HAVE_LO_CLANG_DLLEXPORTINLINES=TRUE
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        CXXFLAGS=$save_CXXFLAGS
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXX="$save_CXX"
+        if test -z "$HAVE_LO_CLANG_DLLEXPORTINLINES"; then
+            as_fn_error $? "Clang compiler does not support -Zc:dllexportInlines-. The Skia library needs to be built using a newer Clang version, or use --disable-skia." "$LINENO" 5
+        fi
+    fi
+    if test -z "$LO_CLANG_CC" -o -z "$LO_CLANG_CXX"; then
+        # Skia is the default on Windows and Mac, so hard-require Clang.
+        # Elsewhere it's used just by the 'gen' VCL backend which is rarely used.
+        if test "$_os" = "WINNT" -o "$_os" = "Darwin"; then
+            as_fn_error $? "Clang compiler not found. The Skia library needs to be built using Clang, or use --disable-skia." "$LINENO" 5
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Clang compiler not found." >&5
+printf "%s\n" "$as_me: WARNING: Clang compiler not found." >&2;}
+        fi
+    else
+
+        save_CXX="$CXX"
+        CXX="$LO_CLANG_CXX"
+        # copy&paste (and adjust) of intrinsics checks, since MSVC's -arch doesn't work well for Clang-cl
+        flag_sse2=-msse2
+        flag_ssse3=-mssse3
+        flag_sse41=-msse4.1
+        flag_sse42=-msse4.2
+        flag_avx=-mavx
+        flag_avx2=-mavx2
+        flag_avx512="-mavx512f -mavx512vl -mavx512bw -mavx512dq -mavx512cd"
+        flag_avx512f=-mavx512f
+        flag_f16c=-mf16c
+        flag_fma=-mfma
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile SSE2 intrinsics" >&5
+printf %s "checking whether $CXX can compile SSE2 intrinsics... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS $flag_sse2"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <emmintrin.h>
+            int main () {
+                __m128i a = _mm_set1_epi32 (0), b = _mm_set1_epi32 (0), c;
+                c = _mm_xor_si128 (a, b);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_sse2=yes
+else $as_nop
+  can_compile_sse2=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXXFLAGS=$save_CXXFLAGS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_sse2}" >&5
+printf "%s\n" "${can_compile_sse2}" >&6; }
+        if test "${can_compile_sse2}" = "yes" ; then
+            LO_CLANG_CXXFLAGS_INTRINSICS_SSE2="$flag_sse2"
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile SSSE3 intrinsics" >&5
+printf %s "checking whether $CXX can compile SSSE3 intrinsics... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS $flag_ssse3"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <tmmintrin.h>
+            int main () {
+                __m128i a = _mm_set1_epi32 (0), b = _mm_set1_epi32 (0), c;
+                c = _mm_maddubs_epi16 (a, b);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_ssse3=yes
+else $as_nop
+  can_compile_ssse3=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXXFLAGS=$save_CXXFLAGS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_ssse3}" >&5
+printf "%s\n" "${can_compile_ssse3}" >&6; }
+        if test "${can_compile_ssse3}" = "yes" ; then
+            LO_CLANG_CXXFLAGS_INTRINSICS_SSSE3="$flag_ssse3"
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile SSE4.1 intrinsics" >&5
+printf %s "checking whether $CXX can compile SSE4.1 intrinsics... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS $flag_sse41"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <smmintrin.h>
+            int main () {
+                __m128i a = _mm_set1_epi32 (0), b = _mm_set1_epi32 (0), c;
+                c = _mm_cmpeq_epi64 (a, b);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_sse41=yes
+else $as_nop
+  can_compile_sse41=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXXFLAGS=$save_CXXFLAGS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_sse41}" >&5
+printf "%s\n" "${can_compile_sse41}" >&6; }
+        if test "${can_compile_sse41}" = "yes" ; then
+            LO_CLANG_CXXFLAGS_INTRINSICS_SSE41="$flag_sse41"
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile SSE4.2 intrinsics" >&5
+printf %s "checking whether $CXX can compile SSE4.2 intrinsics... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS $flag_sse42"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <nmmintrin.h>
+            int main () {
+                __m128i a = _mm_set1_epi32 (0), b = _mm_set1_epi32 (0), c;
+                c = _mm_cmpgt_epi64 (a, b);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_sse42=yes
+else $as_nop
+  can_compile_sse42=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXXFLAGS=$save_CXXFLAGS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_sse42}" >&5
+printf "%s\n" "${can_compile_sse42}" >&6; }
+        if test "${can_compile_sse42}" = "yes" ; then
+            LO_CLANG_CXXFLAGS_INTRINSICS_SSE42="$flag_sse42"
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile AVX intrinsics" >&5
+printf %s "checking whether $CXX can compile AVX intrinsics... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS $flag_avx"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <immintrin.h>
+            int main () {
+                __m256 a = _mm256_set1_ps (0.0f), b = _mm256_set1_ps (0.0f), c;
+                c = _mm256_xor_ps(a, b);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_avx=yes
+else $as_nop
+  can_compile_avx=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXXFLAGS=$save_CXXFLAGS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_avx}" >&5
+printf "%s\n" "${can_compile_avx}" >&6; }
+        if test "${can_compile_avx}" = "yes" ; then
+            LO_CLANG_CXXFLAGS_INTRINSICS_AVX="$flag_avx"
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile AVX2 intrinsics" >&5
+printf %s "checking whether $CXX can compile AVX2 intrinsics... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS $flag_avx2"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <immintrin.h>
+            int main () {
+                __m256i a = _mm256_set1_epi32 (0), b = _mm256_set1_epi32 (0), c;
+                c = _mm256_maddubs_epi16(a, b);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_avx2=yes
+else $as_nop
+  can_compile_avx2=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXXFLAGS=$save_CXXFLAGS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_avx2}" >&5
+printf "%s\n" "${can_compile_avx2}" >&6; }
+        if test "${can_compile_avx2}" = "yes" ; then
+            LO_CLANG_CXXFLAGS_INTRINSICS_AVX2="$flag_avx2"
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile AVX512 intrinsics" >&5
+printf %s "checking whether $CXX can compile AVX512 intrinsics... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS $flag_avx512"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <immintrin.h>
+            int main () {
+                __m512i a = _mm512_loadu_si512(0);
+                __m512d v1 = _mm512_load_pd(0);
+                // https://gcc.gnu.org/git/?p=gcc.git;a=commit;f=gcc/config/i386/avx512fintrin.h;h=23bce99cbe7016a04e14c2163ed3fe6a5a64f4e2
+                __m512d v2 = _mm512_abs_pd(v1);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_avx512=yes
+else $as_nop
+  can_compile_avx512=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXXFLAGS=$save_CXXFLAGS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_avx512}" >&5
+printf "%s\n" "${can_compile_avx512}" >&6; }
+        if test "${can_compile_avx512}" = "yes" ; then
+            LO_CLANG_CXXFLAGS_INTRINSICS_AVX512="$flag_avx512"
+            LO_CLANG_CXXFLAGS_INTRINSICS_AVX512F="$flag_avx512f"
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile F16C intrinsics" >&5
+printf %s "checking whether $CXX can compile F16C intrinsics... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS $flag_f16c"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <immintrin.h>
+            int main () {
+                __m128i a = _mm_set1_epi32 (0);
+                __m128 c;
+                c = _mm_cvtph_ps(a);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_f16c=yes
+else $as_nop
+  can_compile_f16c=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXXFLAGS=$save_CXXFLAGS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_f16c}" >&5
+printf "%s\n" "${can_compile_f16c}" >&6; }
+        if test "${can_compile_f16c}" = "yes" ; then
+            LO_CLANG_CXXFLAGS_INTRINSICS_F16C="$flag_f16c"
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX can compile FMA intrinsics" >&5
+printf %s "checking whether $CXX can compile FMA intrinsics... " >&6; }
+        ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+        save_CXXFLAGS=$CXXFLAGS
+        CXXFLAGS="$CXXFLAGS $flag_fma"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+            #include <immintrin.h>
+            int main () {
+                __m256 a = _mm256_set1_ps (0.0f), b = _mm256_set1_ps (0.0f), c = _mm256_set1_ps (0.0f), d;
+                d = _mm256_fmadd_ps(a, b, c);
+                return 0;
+            }
+
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  can_compile_fma=yes
+else $as_nop
+  can_compile_fma=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+        ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        CXXFLAGS=$save_CXXFLAGS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${can_compile_fma}" >&5
+printf "%s\n" "${can_compile_fma}" >&6; }
+        if test "${can_compile_fma}" = "yes" ; then
+            LO_CLANG_CXXFLAGS_INTRINSICS_FMA="$flag_fma"
+        fi
+
+        CXX="$save_CXX"
+    fi
+fi
+#
+# prefix LO_CLANG_CC/LO_CLANG_CXX with ccache if needed
+#
+if test "$CCACHE" != "" -a -n "$LO_CLANG_CC" -a -n "$LO_CLANG_CXX"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $LO_CLANG_CC is already ccached" >&5
+printf %s "checking whether $LO_CLANG_CC is already ccached... " >&6; }
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    save_CC="$CC"
+    CC="$LO_CLANG_CC"
+    save_CFLAGS=$CFLAGS
+    CFLAGS="$CFLAGS --ccache-skip -O2 -Werror"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  use_ccache=yes
+else $as_nop
+  use_ccache=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    CFLAGS=$save_CFLAGS
+    CC=$save_CC
+    if test $use_ccache = yes -a "${CCACHE/*sccache*/}" != ""; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        LO_CLANG_CC="$CCACHE $LO_CLANG_CC"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $LO_CLANG_CXX is already ccached" >&5
+printf %s "checking whether $LO_CLANG_CXX is already ccached... " >&6; }
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXX="$CXX"
+    CXX="$LO_CLANG_CXX"
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS --ccache-skip -O2 -Werror"
+        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_compile "$LINENO"
+then :
+  use_ccache=yes
+else $as_nop
+  use_ccache=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+    if test $use_ccache = yes -a "${CCACHE/*sccache*/}" != ""; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    else
+        LO_CLANG_CXX="$CCACHE $LO_CLANG_CXX"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+    CXXFLAGS=$save_CXXFLAGS
+    CXX=$save_CXX
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+SYSTEM_GPGMEPP=
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable gpgmepp" >&5
+printf %s "checking whether to enable gpgmepp... " >&6; }
+if test "$enable_gpgmepp" = no; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+elif test "$enable_mpl_subset" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (MPL only)" >&5
+printf "%s\n" "no (MPL only)" >&6; }
+elif test "$enable_fuzzers" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (oss-fuzz)" >&5
+printf "%s\n" "no (oss-fuzz)" >&6; }
+elif test \( \( "$_os" = "Linux" -o "$_os" = "Darwin" \) -a "$ENABLE_NSS" = TRUE \) -o "$_os" = "WINNT" ; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which gpgmepp to use" >&5
+printf %s "checking which gpgmepp to use... " >&6; }
+    if test "$with_system_gpgmepp" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_GPGMEPP=TRUE
+
+        # C++ library doesn't come with fancy gpgmepp-config, check for headers the old-fashioned way
+        ac_fn_c_check_header_compile "$LINENO" "gpgme++/gpgmepp_version.h" "ac_cv_header_gpgmepp_gpgmepp_version_h" "$ac_includes_default"
+if test "x$ac_cv_header_gpgmepp_gpgmepp_version_h" = xyes
+then :
+   GPGMEPP_CFLAGS=-I/usr/include/gpgme++
+else $as_nop
+  as_fn_error $? "gpgmepp headers not found, install gpgmepp >= 1.14 development package" "$LINENO" 5
+fi
+
+        ac_fn_c_check_header_compile "$LINENO" "gpgme.h" "ac_cv_header_gpgme_h" "$ac_includes_default"
+if test "x$ac_cv_header_gpgme_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "gpgme headers not found, install gpgme development package" "$LINENO" 5
+fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for main in -lgpgmepp" >&5
+printf %s "checking for main in -lgpgmepp... " >&6; }
+if test ${ac_cv_lib_gpgmepp_main+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lgpgmepp  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+
+int
+main (void)
+{
+return main ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_gpgmepp_main=yes
+else $as_nop
+  ac_cv_lib_gpgmepp_main=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gpgmepp_main" >&5
+printf "%s\n" "$ac_cv_lib_gpgmepp_main" >&6; }
+if test "x$ac_cv_lib_gpgmepp_main" = xyes
+then :
+  printf "%s\n" "#define HAVE_LIBGPGMEPP 1" >>confdefs.h
+
+  LIBS="-lgpgmepp $LIBS"
+
+else $as_nop
+  as_fn_error $? "gpgmepp not found or not functional" "$LINENO" 5
+fi
+
+        GPGMEPP_LIBS=-lgpgmepp
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        BUILD_TYPE="$BUILD_TYPE LIBGPGERROR LIBASSUAN GPGMEPP"
+
+        GPG_ERROR_CFLAGS="-I${WORKDIR}/UnpackedTarball/libgpg-error/src"
+        LIBASSUAN_CFLAGS="-I${WORKDIR}/UnpackedTarball/libassuan/src"
+        if test "$_os" != "WINNT"; then
+            GPG_ERROR_LIBS="-L${WORKDIR}/UnpackedTarball/libgpg-error/src/.libs -lgpg-error"
+            LIBASSUAN_LIBS="-L${WORKDIR}/UnpackedTarball/libassuan/src/.libs -lassuan"
+        fi
+    fi
+    ENABLE_GPGMEPP=TRUE
+    printf "%s\n" "#define HAVE_FEATURE_GPGME 1" >>confdefs.h
+
+    # Extract the first word of "gpg", so it can be a program name with args.
+set dummy gpg; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_GPG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $GPG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_GPG="$GPG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_GPG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+GPG=$ac_cv_path_GPG
+if test -n "$GPG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GPG" >&5
+printf "%s\n" "$GPG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    # TODO: Windows's cygwin gpg does not seem to work with our gpgme,
+    # so let's exclude that manually for the moment
+    if test -n "$GPG" -a "$_os" != "WINNT"; then
+        # make sure we not only have a working gpgme, but a full working
+        # gpg installation to run OpenPGP signature verification
+        printf "%s\n" "#define HAVE_FEATURE_GPGVERIFY 1" >>confdefs.h
+
+    fi
+    if test "$_os" = "Linux"; then
+      uid=`id -u`
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for /run/user/$uid" >&5
+printf %s "checking for /run/user/$uid... " >&6; }
+      if test -d /run/user/$uid; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        # Extract the first word of "gpgconf", so it can be a program name with args.
+set dummy gpgconf; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_GPGCONF+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $GPGCONF in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_GPGCONF="$GPGCONF" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_GPGCONF="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+GPGCONF=$ac_cv_path_GPGCONF
+if test -n "$GPGCONF"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GPGCONF" >&5
+printf "%s\n" "$GPGCONF" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+        # Older versions of gpgconf are not working as expected, since
+        # `gpgconf --remove-socketdir` fails to exit any gpg-agent daemon operating
+        # on that socket dir that has (indirectly) been started by the tests in xmlsecurity/qa/unit/signing/signing.cxx
+        # (see commit message of f0305ec0a7d199e605511844d9d6af98b66d4bfd%5E )
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether version of gpgconf is suitable ... " >&5
+printf %s "checking whether version of gpgconf is suitable ... ... " >&6; }
+        GPGCONF_VERSION=`"$GPGCONF" --version | "$AWK" '/^gpgconf \(GnuPG\)/{print $3}'`
+        GPGCONF_NUMVER=`echo $GPGCONF_VERSION | $AWK -F. '{ print \$1*10000+\$2*100+\$3 }'`
+        if test "$GPGCONF_VERSION" = "2.2_OOo" -o "$GPGCONF_NUMVER" -ge "020200"; then
+          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, $GPGCONF_VERSION" >&5
+printf "%s\n" "yes, $GPGCONF_VERSION" >&6; }
+          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gpgconf --create-socketdir... " >&5
+printf %s "checking for gpgconf --create-socketdir... ... " >&6; }
+          if $GPGCONF --dump-options > /dev/null ; then
+            if $GPGCONF --dump-options | grep -q create-socketdir ; then
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+              printf "%s\n" "#define HAVE_GPGCONF_SOCKETDIR 1" >>confdefs.h
+
+              printf "%s\n" "#define GPGME_GPGCONF \"$GPGCONF\"" >>confdefs.h
+
+            else
+              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+            fi
+          else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no. missing or broken gpgconf?" >&5
+printf "%s\n" "no. missing or broken gpgconf?" >&6; }
+          fi
+        else
+          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, $GPGCONF_VERSION" >&5
+printf "%s\n" "no, $GPGCONF_VERSION" >&6; }
+        fi
+      else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+     fi
+   fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (unsupported OS or missing NSS)" >&5
+printf "%s\n" "no (unsupported OS or missing NSS)" >&6; }
+fi
+
+
+
+
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build Java Websocket for the UNO remote websocket client" >&5
+printf %s "checking whether to build Java Websocket for the UNO remote websocket client... " >&6; }
+if test "$with_java" != "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_JAVA_WEBSOCKET=TRUE
+    BUILD_TYPE="$BUILD_TYPE JAVA_WEBSOCKET"
+    NEED_ANT=TRUE
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_JAVA_WEBSOCKET=
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build the Wiki Publisher extension" >&5
+printf %s "checking whether to build the Wiki Publisher extension... " >&6; }
+if test "x$enable_ext_wiki_publisher" = "xyes" -a "x$enable_extension_integration" != "xno" -a "$with_java" != "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_MEDIAWIKI=TRUE
+    BUILD_TYPE="$BUILD_TYPE XSLTML"
+    if test  "x$with_java" = "xno"; then
+        as_fn_error $? "Wiki Publisher requires Java! Enable Java if you want to build it." "$LINENO" 5
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_MEDIAWIKI=
+    SCPDEFS="$SCPDEFS -DWITHOUT_EXTENSION_MEDIAWIKI"
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build the Report Builder" >&5
+printf %s "checking whether to build the Report Builder... " >&6; }
+if test "$enable_report_builder" != "no" -a "$with_java" != "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_REPORTBUILDER=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which jfreereport libs to use" >&5
+printf %s "checking which jfreereport libs to use... " >&6; }
+    if test "$with_system_jfreereport" = "yes"; then
+        SYSTEM_JFREEREPORT=TRUE
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        if test -z $SAC_JAR; then
+            SAC_JAR=/usr/share/java/sac.jar
+        fi
+        if ! test -f $SAC_JAR; then
+             as_fn_error $? "sac.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $LIBXML_JAR; then
+            if test -f /usr/share/java/libxml-1.0.0.jar; then
+                LIBXML_JAR=/usr/share/java/libxml-1.0.0.jar
+            elif test -f /usr/share/java/libxml.jar; then
+                LIBXML_JAR=/usr/share/java/libxml.jar
+            else
+                as_fn_error $? "libxml.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f $LIBXML_JAR; then
+            as_fn_error $? "libxml.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $FLUTE_JAR; then
+            if test -f /usr/share/java/flute-1.3.0.jar; then
+                FLUTE_JAR=/usr/share/java/flute-1.3.0.jar
+            elif test -f /usr/share/java/flute.jar; then
+                FLUTE_JAR=/usr/share/java/flute.jar
+            else
+                as_fn_error $? "flute-1.3.0.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f $FLUTE_JAR; then
+            as_fn_error $? "flute-1.3.0.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $JFREEREPORT_JAR; then
+            if test -f /usr/share/java/flow-engine-0.9.2.jar; then
+                JFREEREPORT_JAR=/usr/share/java/flow-engine-0.9.2.jar
+            elif test -f /usr/share/java/flow-engine.jar; then
+                JFREEREPORT_JAR=/usr/share/java/flow-engine.jar
+            else
+                as_fn_error $? "jfreereport.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f  $JFREEREPORT_JAR; then
+                as_fn_error $? "jfreereport.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $LIBLAYOUT_JAR; then
+            if test -f /usr/share/java/liblayout-0.2.9.jar; then
+                LIBLAYOUT_JAR=/usr/share/java/liblayout-0.2.9.jar
+            elif test -f /usr/share/java/liblayout.jar; then
+                LIBLAYOUT_JAR=/usr/share/java/liblayout.jar
+            else
+                as_fn_error $? "liblayout.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f $LIBLAYOUT_JAR; then
+                as_fn_error $? "liblayout.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $LIBLOADER_JAR; then
+            if test -f /usr/share/java/libloader-1.0.0.jar; then
+                LIBLOADER_JAR=/usr/share/java/libloader-1.0.0.jar
+            elif test -f /usr/share/java/libloader.jar; then
+                LIBLOADER_JAR=/usr/share/java/libloader.jar
+            else
+                as_fn_error $? "libloader.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f  $LIBLOADER_JAR; then
+            as_fn_error $? "libloader.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $LIBFORMULA_JAR; then
+            if test -f /usr/share/java/libformula-0.2.0.jar; then
+                LIBFORMULA_JAR=/usr/share/java/libformula-0.2.0.jar
+            elif test -f /usr/share/java/libformula.jar; then
+                LIBFORMULA_JAR=/usr/share/java/libformula.jar
+            else
+                as_fn_error $? "libformula.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f $LIBFORMULA_JAR; then
+                as_fn_error $? "libformula.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $LIBREPOSITORY_JAR; then
+            if test -f /usr/share/java/librepository-1.0.0.jar; then
+                LIBREPOSITORY_JAR=/usr/share/java/librepository-1.0.0.jar
+            elif test -f /usr/share/java/librepository.jar; then
+                LIBREPOSITORY_JAR=/usr/share/java/librepository.jar
+            else
+                as_fn_error $? "librepository.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f $LIBREPOSITORY_JAR; then
+            as_fn_error $? "librepository.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $LIBFONTS_JAR; then
+            if test -f /usr/share/java/libfonts-1.0.0.jar; then
+                LIBFONTS_JAR=/usr/share/java/libfonts-1.0.0.jar
+            elif test -f /usr/share/java/libfonts.jar; then
+                LIBFONTS_JAR=/usr/share/java/libfonts.jar
+            else
+                as_fn_error $? "libfonts.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f $LIBFONTS_JAR; then
+                as_fn_error $? "libfonts.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $LIBSERIALIZER_JAR; then
+            if test -f /usr/share/java/libserializer-1.0.0.jar; then
+                LIBSERIALIZER_JAR=/usr/share/java/libserializer-1.0.0.jar
+            elif test -f /usr/share/java/libserializer.jar; then
+                LIBSERIALIZER_JAR=/usr/share/java/libserializer.jar
+            else
+                as_fn_error $? "libserializer.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f $LIBSERIALIZER_JAR; then
+                as_fn_error $? "libserializer.jar not found." "$LINENO" 5
+        fi
+
+        if test -z $LIBBASE_JAR; then
+            if test -f /usr/share/java/libbase-1.0.0.jar; then
+                LIBBASE_JAR=/usr/share/java/libbase-1.0.0.jar
+            elif test -f /usr/share/java/libbase.jar; then
+                LIBBASE_JAR=/usr/share/java/libbase.jar
+            else
+                as_fn_error $? "libbase.jar replacement not found." "$LINENO" 5
+            fi
+        elif ! test -f $LIBBASE_JAR; then
+            as_fn_error $? "libbase.jar not found." "$LINENO" 5
+        fi
+
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_JFREEREPORT=
+        BUILD_TYPE="$BUILD_TYPE JFREEREPORT"
+        NEED_ANT=TRUE
+    fi
+    BUILD_TYPE="$BUILD_TYPE REPORTBUILDER"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_REPORTBUILDER=
+    SYSTEM_JFREEREPORT=
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+# scripting provider for BeanShell?
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build support for scripts in BeanShell" >&5
+printf %s "checking whether to build support for scripts in BeanShell... " >&6; }
+if test "${enable_scripting_beanshell}" != "no" -a "x$with_java" != "xno"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_SCRIPTING_BEANSHELL=TRUE
+
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which beanshell to use" >&5
+printf %s "checking which beanshell to use... " >&6; }
+    if test "$with_system_beanshell" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_BSH=TRUE
+        if test -z $BSH_JAR; then
+            BSH_JAR=/usr/share/java/bsh.jar
+        fi
+        if ! test -f $BSH_JAR; then
+            as_fn_error $? "bsh.jar not found." "$LINENO" 5
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_BSH=
+        BUILD_TYPE="$BUILD_TYPE BSH"
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_SCRIPTING_BEANSHELL=
+    SCPDEFS="$SCPDEFS -DWITHOUT_SCRIPTING_BEANSHELL"
+fi
+
+
+
+
+# scripting provider for JavaScript?
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build support for scripts in JavaScript" >&5
+printf %s "checking whether to build support for scripts in JavaScript... " >&6; }
+if test "${enable_scripting_javascript}" != "no" -a "x$with_java" != "xno"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_SCRIPTING_JAVASCRIPT=TRUE
+
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which rhino to use" >&5
+printf %s "checking which rhino to use... " >&6; }
+    if test "$with_system_rhino" = "yes"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_RHINO=TRUE
+        if test -z $RHINO_JAR; then
+            RHINO_JAR=/usr/share/java/js.jar
+        fi
+        if ! test -f $RHINO_JAR; then
+            as_fn_error $? "js.jar not found." "$LINENO" 5
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_RHINO=
+        BUILD_TYPE="$BUILD_TYPE RHINO"
+        NEED_ANT=TRUE
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_SCRIPTING_JAVASCRIPT=
+    SCPDEFS="$SCPDEFS -DWITHOUT_SCRIPTING_JAVASCRIPT"
+fi
+
+
+
+
+# This is only used in Qt5/Qt6/KF5/KF6 checks to determine if /usr/lib64
+# paths should be added to library search path. So lets put all 64-bit
+# platforms there.
+supports_multilib=
+case "$host_cpu" in
+x86_64 | powerpc64 | powerpc64le | s390x | aarch64 | mips64 | mips64el | loongarch64 | riscv64)
+    if test "$SAL_TYPES_SIZEOFLONG" = "8"; then
+        supports_multilib="yes"
+    fi
+    ;;
+*)
+    ;;
+esac
+
+
+QT5_CFLAGS=""
+QT5_LIBS=""
+QT5_GOBJECT_CFLAGS=""
+QT5_GOBJECT_LIBS=""
+QT5_HAVE_GOBJECT=""
+QT5_PLATFORMS_SRCDIR=""
+if test \( "$test_kf5" = "yes" -a "$ENABLE_KF5" = "TRUE" \) -o \
+        \( "$test_qt5" = "yes" -a "$ENABLE_QT5" = "TRUE" \) -o \
+        \( "$test_gtk3_kde5" = "yes" -a "$ENABLE_GTK3_KDE5" = "TRUE" \)
+then
+    qt5_incdirs="$QT5INC /usr/include/qt5 /usr/include $x_includes"
+    qt5_libdirs="$QT5LIB /usr/lib/qt5 /usr/lib $x_libraries"
+
+    if test -n "$supports_multilib"; then
+        qt5_libdirs="$qt5_libdirs /usr/lib64/qt5 /usr/lib64/qt /usr/lib64"
+    fi
+
+    qt5_test_include="QtWidgets/qapplication.h"
+    if test "$_os" = "Emscripten"; then
+        qt5_test_library="libQt5Widgets.a"
+    else
+        qt5_test_library="libQt5Widgets.so"
+    fi
+
+        if test -n "$QT5DIR"; then
+        # Extract the first word of "qmake", so it can be a program name with args.
+set dummy qmake; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_QMAKE5+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $QMAKE5 in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_QMAKE5="$QMAKE5" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $QT5DIR/bin
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_QMAKE5="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_QMAKE5" && ac_cv_path_QMAKE5="no"
+  ;;
+esac
+fi
+QMAKE5=$ac_cv_path_QMAKE5
+if test -n "$QMAKE5"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $QMAKE5" >&5
+printf "%s\n" "$QMAKE5" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    else
+        for ac_prog in qmake-qt5 qmake
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_QMAKE5+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $QMAKE5 in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_QMAKE5="$QMAKE5" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_QMAKE5="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+QMAKE5=$ac_cv_path_QMAKE5
+if test -n "$QMAKE5"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $QMAKE5" >&5
+printf "%s\n" "$QMAKE5" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$QMAKE5" && break
+done
+test -n "$QMAKE5" || QMAKE5="no"
+
+    fi
+    if test "$QMAKE5" = "no"; then
+        as_fn_error $? "Qmake not found.  Please specify the root of your Qt5 installation by exporting QT5DIR before running \"configure\"." "$LINENO" 5
+    else
+        qmake5_test_ver="`$QMAKE5 -v 2>&1 | $SED -n -e 's/^Using Qt version \(5\.[0-9.]\+\).*$/\1/p'`"
+        if test -z "$qmake5_test_ver"; then
+            as_fn_error $? "Wrong qmake for Qt5 found. Please specify the root of your Qt5 installation by exporting QT5DIR before running \"configure\"." "$LINENO" 5
+        fi
+        qmake5_minor_version="`echo $qmake5_test_ver | cut -d. -f2`"
+        qt5_minimal_minor="15"
+        if test "$qmake5_minor_version" -lt "$qt5_minimal_minor"; then
+            as_fn_error $? "The minimal supported Qt5 version is 5.${qt5_minimal_minor}, but your 'qmake -v' reports Qt5 version $qmake5_test_ver." "$LINENO" 5
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Detected Qt5 version: $qmake5_test_ver" >&5
+printf "%s\n" "$as_me: Detected Qt5 version: $qmake5_test_ver" >&6;}
+        fi
+    fi
+
+    qt5_incdirs="`$QMAKE5 -query QT_INSTALL_HEADERS` $qt5_incdirs"
+    qt5_libdirs="`$QMAKE5 -query QT_INSTALL_LIBS` $qt5_libdirs"
+    qt5_platformsdir="`$QMAKE5 -query QT_INSTALL_PLUGINS`/platforms"
+    QT5_PLATFORMS_SRCDIR="$qt5_platformsdir"
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Qt5 headers" >&5
+printf %s "checking for Qt5 headers... " >&6; }
+    qt5_incdir="no"
+    for inc_dir in $qt5_incdirs; do
+        if test -r "$inc_dir/$qt5_test_include"; then
+            qt5_incdir="$inc_dir"
+            break
+        fi
+    done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $qt5_incdir" >&5
+printf "%s\n" "$qt5_incdir" >&6; }
+    if test "x$qt5_incdir" = "xno"; then
+        as_fn_error $? "Qt5 headers not found.  Please specify the root of your Qt5 installation by exporting QT5DIR before running \"configure\"." "$LINENO" 5
+    fi
+    # check for scenario: qt5-qtbase-devel-*.86_64 installed but host is i686
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CPPFLAGS=$CPPFLAGS
+    CPPFLAGS="${CPPFLAGS} -I${qt5_incdir}"
+    ac_fn_cxx_check_header_compile "$LINENO" "QtCore/qconfig.h" "ac_cv_header_QtCore_qconfig_h" "$ac_includes_default"
+if test "x$ac_cv_header_QtCore_qconfig_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "qconfig.h header not found." "$LINENO" 5
+fi
+
+    CPPFLAGS=$save_CPPFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Qt5 libraries" >&5
+printf %s "checking for Qt5 libraries... " >&6; }
+    qt5_libdir="no"
+    for lib_dir in $qt5_libdirs; do
+        if test -r "$lib_dir/$qt5_test_library"; then
+            qt5_libdir="$lib_dir"
+            break
+        fi
+    done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $qt5_libdir" >&5
+printf "%s\n" "$qt5_libdir" >&6; }
+    if test "x$qt5_libdir" = "xno"; then
+        as_fn_error $? "Qt5 libraries not found.  Please specify the root of your Qt5 installation by exporting QT5DIR before running \"configure\"." "$LINENO" 5
+    fi
+
+    if test "$_os" = "Emscripten"; then
+        if test ! -f "$QT5_PLATFORMS_SRCDIR"/wasm_shell.html ; then
+            QT5_PLATFORMS_SRCDIR="${QT5_PLATFORMS_SRCDIR/plugins/src\/plugins}/wasm"
+        fi
+        if test ! -f "${qt5_platformsdir}"/libqwasm.a -o ! -f "$QT5_PLATFORMS_SRCDIR"/wasm_shell.html; then
+            as_fn_error $? "No Qt5 WASM QPA plugin found in ${qt5_platformsdir} or ${QT5_PLATFORMS_SRCDIR}" "$LINENO" 5
+        fi
+
+        EMSDK_LLVM_NM="$(em-config LLVM_ROOT)"/llvm-nm
+        if ! test -x "$EMSDK_LLVM_NM"; then
+            as_fn_error $? "Missing llvm-nm expected to be found at \"$EMSDK_LLVM_NM\"." "$LINENO" 5
+        fi
+        if test ! -f "${qt5_libdir}"/libQt5Gui.a; then
+            as_fn_error $? "No Qt5 WASM libQt5Gui.a in ${qt5_libdir}" "$LINENO" 5
+        fi
+        QT5_WASM_SJLJ="`${EMSDK_LLVM_NM} "${qt5_libdir}"/libQt5Gui.a 2>/dev/null | $GREP emscripten_longjmp`"
+        if test -n "$QT5_WASM_SJLJ"; then
+            as_fn_error $? "'emscripten_longjmp' symbol found in libQt5Gui.a (missing '-s SUPPORT_LONGJMP=wasm'). See static/README.wasm.md." "$LINENO" 5
+        fi
+    fi
+
+    QT5_CFLAGS="-I$qt5_incdir -DQT_CLEAN_NAMESPACE -DQT_THREAD_SUPPORT -DQT_NO_VERSION_TAGGING"
+    QT5_CFLAGS=$(printf '%s' "$QT5_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    QT5_LIBS="-L$qt5_libdir -lQt5Core -lQt5Gui -lQt5Widgets -lQt5Network"
+    if test "$_os" = "Emscripten"; then
+        QT5_LIBS="$QT5_LIBS -lqtpcre2 -lQt5EventDispatcherSupport -lQt5FontDatabaseSupport -L${qt5_platformsdir} -lqwasm"
+    fi
+
+    if test "$USING_X11" = TRUE; then
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for xcb" >&5
+printf %s "checking for xcb... " >&6; }
+
+if test -n "$QT5_XCB_CFLAGS"; then
+    pkg_cv_QT5_XCB_CFLAGS="$QT5_XCB_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xcb\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xcb") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_QT5_XCB_CFLAGS=`$PKG_CONFIG --cflags "xcb" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$QT5_XCB_LIBS"; then
+    pkg_cv_QT5_XCB_LIBS="$QT5_XCB_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xcb\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xcb") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_QT5_XCB_LIBS=`$PKG_CONFIG --libs "xcb" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                QT5_XCB_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "xcb" 2>&1`
+        else
+                QT5_XCB_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "xcb" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$QT5_XCB_PKG_ERRORS" >&5
+
+        as_fn_error $? "XCB not found, which is needed for correct app grouping in X11." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        as_fn_error $? "XCB not found, which is needed for correct app grouping in X11." "$LINENO" 5
+else
+        QT5_XCB_CFLAGS=$pkg_cv_QT5_XCB_CFLAGS
+        QT5_XCB_LIBS=$pkg_cv_QT5_XCB_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        QT5_CFLAGS="$QT5_CFLAGS $QT5_XCB_CFLAGS $QT5_XCB_ICCCM_CFLAGS"
+        QT5_LIBS="$QT5_LIBS $QT5_XCB_LIBS $QT5_XCB_ICCCM_LIBS -lQt5X11Extras"
+        QT5_USING_X11=1
+        printf "%s\n" "#define QT5_USING_X11 1" >>confdefs.h
+
+    fi
+
+
+    for ac_prog in moc-qt5 moc
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_MOC5+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $MOC5 in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_MOC5="$MOC5" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="`dirname $qt5_libdir`/bin:$QT5DIR/bin:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_MOC5="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+MOC5=$ac_cv_path_MOC5
+if test -n "$MOC5"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MOC5" >&5
+printf "%s\n" "$MOC5" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$MOC5" && break
+done
+test -n "$MOC5" || MOC5="no"
+
+    if test "$MOC5" = "no"; then
+        as_fn_error $? "Qt Meta Object Compiler not found.  Please specify
+the root of your Qt installation by exporting QT5DIR before running \"configure\"." "$LINENO" 5
+    fi
+
+    if test "$test_gstreamer_1_0" = yes; then
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gobject-2.0" >&5
+printf %s "checking for gobject-2.0... " >&6; }
+
+if test -n "$QT5_GOBJECT_CFLAGS"; then
+    pkg_cv_QT5_GOBJECT_CFLAGS="$QT5_GOBJECT_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gobject-2.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gobject-2.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_QT5_GOBJECT_CFLAGS=`$PKG_CONFIG --cflags "gobject-2.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$QT5_GOBJECT_LIBS"; then
+    pkg_cv_QT5_GOBJECT_LIBS="$QT5_GOBJECT_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gobject-2.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gobject-2.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_QT5_GOBJECT_LIBS=`$PKG_CONFIG --libs "gobject-2.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                QT5_GOBJECT_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "gobject-2.0" 2>&1`
+        else
+                QT5_GOBJECT_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "gobject-2.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$QT5_GOBJECT_PKG_ERRORS" >&5
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: No GObject found, can't use QWidget GStreamer sink on wayland!" >&5
+printf "%s\n" "$as_me: WARNING: No GObject found, can't use QWidget GStreamer sink on wayland!" >&2;}
+
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: No GObject found, can't use QWidget GStreamer sink on wayland!" >&5
+printf "%s\n" "$as_me: WARNING: No GObject found, can't use QWidget GStreamer sink on wayland!" >&2;}
+
+else
+        QT5_GOBJECT_CFLAGS=$pkg_cv_QT5_GOBJECT_CFLAGS
+        QT5_GOBJECT_LIBS=$pkg_cv_QT5_GOBJECT_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+                QT5_HAVE_GOBJECT=1
+                printf "%s\n" "#define QT5_HAVE_GOBJECT 1" >>confdefs.h
+
+
+fi
+    fi
+fi
+
+
+
+
+
+
+
+
+
+QT6_CFLAGS=""
+QT6_LIBS=""
+QT6_PLATFORMS_SRCDIR=""
+ENABLE_QT6_MULTIMEDIA=""
+if test \( "$test_kf6" = "yes" -a "$ENABLE_KF6" = "TRUE" \) -o \
+        \( "$test_qt6" = "yes" -a "$ENABLE_QT6" = "TRUE" \)
+then
+    qt6_incdirs="$QT6INC /usr/include/qt6 /usr/include $x_includes"
+    qt6_libdirs="$QT6LIB /usr/lib/qt6 /usr/lib $x_libraries"
+
+    if test -n "$supports_multilib"; then
+        qt6_libdirs="$qt6_libdirs /usr/lib64/qt6 /usr/lib64/qt /usr/lib64"
+    fi
+
+    qt6_test_include="QtWidgets/qapplication.h"
+    if test "$_os" = "Emscripten"; then
+        qt6_test_library="libQt6Widgets.a"
+    else
+        qt6_test_library="libQt6Widgets.so"
+    fi
+
+        if test -n "$QT6DIR"; then
+        # Extract the first word of "qmake", so it can be a program name with args.
+set dummy qmake; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_QMAKE6+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $QMAKE6 in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_QMAKE6="$QMAKE6" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $QT6DIR/bin
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_QMAKE6="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_QMAKE6" && ac_cv_path_QMAKE6="no"
+  ;;
+esac
+fi
+QMAKE6=$ac_cv_path_QMAKE6
+if test -n "$QMAKE6"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $QMAKE6" >&5
+printf "%s\n" "$QMAKE6" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    else
+        for ac_prog in qmake-qt6 qmake6 qmake
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_QMAKE6+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $QMAKE6 in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_QMAKE6="$QMAKE6" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_QMAKE6="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+QMAKE6=$ac_cv_path_QMAKE6
+if test -n "$QMAKE6"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $QMAKE6" >&5
+printf "%s\n" "$QMAKE6" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$QMAKE6" && break
+done
+test -n "$QMAKE6" || QMAKE6="no"
+
+    fi
+    if test "$QMAKE6" = "no"; then
+        as_fn_error $? "Qmake not found.  Please specify the root of your Qt6 installation by exporting QT6DIR before running \"configure\"." "$LINENO" 5
+    else
+        qmake6_test_ver="`$QMAKE6 -v 2>&1 | $SED -n -e 's/^Using Qt version \(6\.[0-9.]\+\).*$/\1/p'`"
+        if test -z "$qmake6_test_ver"; then
+            as_fn_error $? "Wrong qmake for Qt6 found. Please specify the root of your Qt6 installation by exporting QT6DIR before running \"configure\"." "$LINENO" 5
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Detected Qt6 version: $qmake6_test_ver" >&5
+printf "%s\n" "$as_me: Detected Qt6 version: $qmake6_test_ver" >&6;}
+    fi
+
+    qt6_incdirs="`$QMAKE6 -query QT_INSTALL_HEADERS` $qt6_incdirs"
+    qt6_libdirs="`$QMAKE6 -query QT_INSTALL_LIBS` $qt6_libdirs"
+    qt6_platformsdir="`$QMAKE6 -query QT_INSTALL_PLUGINS`/platforms"
+    QT6_PLATFORMS_SRCDIR="$qt6_platformsdir"
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Qt6 headers" >&5
+printf %s "checking for Qt6 headers... " >&6; }
+    qt6_incdir="no"
+    for inc_dir in $qt6_incdirs; do
+        if test -r "$inc_dir/$qt6_test_include"; then
+            qt6_incdir="$inc_dir"
+            break
+        fi
+    done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $qt6_incdir" >&5
+printf "%s\n" "$qt6_incdir" >&6; }
+    if test "x$qt6_incdir" = "xno"; then
+        as_fn_error $? "Qt6 headers not found.  Please specify the root of your Qt6 installation by exporting QT6DIR before running \"configure\"." "$LINENO" 5
+    fi
+    # check for scenario: qt6-qtbase-devel-*.86_64 installed but host is i686
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CPPFLAGS=$CPPFLAGS
+    CPPFLAGS="${CPPFLAGS} -I${qt6_incdir}"
+    ac_fn_cxx_check_header_compile "$LINENO" "QtCore/qconfig.h" "ac_cv_header_QtCore_qconfig_h" "$ac_includes_default"
+if test "x$ac_cv_header_QtCore_qconfig_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "qconfig.h header not found." "$LINENO" 5
+fi
+
+    CPPFLAGS=$save_CPPFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Qt6 libraries" >&5
+printf %s "checking for Qt6 libraries... " >&6; }
+    qt6_libdir="no"
+    for lib_dir in $qt6_libdirs; do
+        if test -r "$lib_dir/$qt6_test_library"; then
+            qt6_libdir="$lib_dir"
+            break
+        fi
+    done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $qt6_libdir" >&5
+printf "%s\n" "$qt6_libdir" >&6; }
+    if test "x$qt6_libdir" = "xno"; then
+        as_fn_error $? "Qt6 libraries not found.  Please specify the root of your Qt6 installation by exporting QT6DIR before running \"configure\"." "$LINENO" 5
+    fi
+
+    if test "$_os" = "Emscripten"; then
+        if test ! -f "$QT6_PLATFORMS_SRCDIR"/wasm_shell.html ; then
+            QT6_PLATFORMS_SRCDIR="${QT6_PLATFORMS_SRCDIR/plugins/src\/plugins}/wasm"
+        fi
+        if test ! -f "${qt6_platformsdir}"/libqwasm.a -o ! -f "$QT6_PLATFORMS_SRCDIR"/wasm_shell.html; then
+            as_fn_error $? "No Qt6 WASM QPA plugin found in ${qt6_platformsdir} or ${QT6_PLATFORMS_SRCDIR}" "$LINENO" 5
+        fi
+    fi
+
+    QT6_CFLAGS="-I$qt6_incdir -DQT_CLEAN_NAMESPACE -DQT_THREAD_SUPPORT -DQT_NO_VERSION_TAGGING"
+    QT6_CFLAGS=$(printf '%s' "$QT6_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    QT6_LIBS="-L$qt6_libdir -lQt6Core -lQt6Gui -lQt6Widgets -lQt6Network"
+    if test "$_os" = "Emscripten"; then
+        QT6_LIBS="$QT6_LIBS -lQt6BundledPcre2 -lQt6BundledZLIB -L${qt6_platformsdir} -lqwasm -sGL_ENABLE_GET_PROC_ADDRESS"
+    else
+        if ! test "$enable_qt6_multimedia" = "no"; then
+            if ! test -r "$qt6_incdir/QtMultimediaWidgets/QVideoWidget"; then
+                as_fn_error $? "Qt 6 QMultimedia not found." "$LINENO" 5
+                break
+            fi
+            ENABLE_QT6_MULTIMEDIA=TRUE
+            QT6_LIBS="$QT6_LIBS -lQt6Multimedia -lQt6MultimediaWidgets"
+        fi
+    fi
+
+    if test "$USING_X11" = TRUE; then
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for xcb" >&5
+printf %s "checking for xcb... " >&6; }
+
+if test -n "$QT6_XCB_CFLAGS"; then
+    pkg_cv_QT6_XCB_CFLAGS="$QT6_XCB_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xcb\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xcb") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_QT6_XCB_CFLAGS=`$PKG_CONFIG --cflags "xcb" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$QT6_XCB_LIBS"; then
+    pkg_cv_QT6_XCB_LIBS="$QT6_XCB_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"xcb\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "xcb") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_QT6_XCB_LIBS=`$PKG_CONFIG --libs "xcb" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                QT6_XCB_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "xcb" 2>&1`
+        else
+                QT6_XCB_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "xcb" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$QT6_XCB_PKG_ERRORS" >&5
+
+        as_fn_error $? "XCB not found, which is needed for key modifier handling in X11." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        as_fn_error $? "XCB not found, which is needed for key modifier handling in X11." "$LINENO" 5
+else
+        QT6_XCB_CFLAGS=$pkg_cv_QT6_XCB_CFLAGS
+        QT6_XCB_LIBS=$pkg_cv_QT6_XCB_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        QT6_CFLAGS="$QT6_CFLAGS $QT6_XCB_CFLAGS"
+        QT6_LIBS="$QT6_LIBS $QT6_XCB_LIBS"
+        QT6_USING_X11=1
+        printf "%s\n" "#define QT6_USING_X11 1" >>confdefs.h
+
+    fi
+
+
+    for lib_dir in $qt6_libdirs; do
+        if test -z "$qt6_libexec_dirs"; then
+            qt6_libexec_dirs="$lib_dir/libexec"
+        else
+            qt6_libexec_dirs="$qt6_libexec_dirs:$lib_dir/libexec"
+        fi
+    done
+    for ac_prog in moc-qt6 moc
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_MOC6+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $MOC6 in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_MOC6="$MOC6" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="`dirname $qt6_libdir`/libexec:$QT6DIR/libexec:$qt6_libexec_dirs:`echo $qt6_libdirs | $SED -e 's/ /:/g'`:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_MOC6="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+MOC6=$ac_cv_path_MOC6
+if test -n "$MOC6"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MOC6" >&5
+printf "%s\n" "$MOC6" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$MOC6" && break
+done
+test -n "$MOC6" || MOC6="no"
+
+    if test "$MOC6" = "no"; then
+        as_fn_error $? "Qt Meta Object Compiler not found.  Please specify
+the root of your Qt installation by exporting QT6DIR before running \"configure\"." "$LINENO" 5
+    else
+        moc6_test_ver="`$MOC6 -v 2>&1 | $SED -n -e 's/^moc \(6.*\)/\1/p'`"
+        if test -z "$moc6_test_ver"; then
+            as_fn_error $? "Wrong moc for Qt6 found." "$LINENO" 5
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Detected moc version: $moc_test_ver" >&5
+printf "%s\n" "$as_me: Detected moc version: $moc_test_ver" >&6;}
+    fi
+fi
+
+
+
+
+
+
+
+KF5_CFLAGS=""
+KF5_LIBS=""
+KF5_CONFIG="kf5-config"
+if test \( "$test_kf5" = "yes" -a "$ENABLE_KF5" = "TRUE" \) -o \
+        \( "$test_gtk3_kde5" = "yes" -a "$ENABLE_GTK3_KDE5" = "TRUE" \)
+then
+    if test "$OS" = "HAIKU"; then
+        haiku_arch="`echo $RTL_ARCH | tr X x`"
+        kf5_haiku_incdirs="`findpaths -c ' ' -a $haiku_arch B_FIND_PATH_HEADERS_DIRECTORY`"
+        kf5_haiku_libdirs="`findpaths -c ' ' -a $haiku_arch B_FIND_PATH_DEVELOP_LIB_DIRECTORY`"
+    fi
+
+    kf5_incdirs="$KF5INC /usr/include $kf5_haiku_incdirs $x_includes"
+    kf5_libdirs="$KF5LIB /usr/lib /usr/lib/kf5 /usr/lib/kf5/devel $kf5_haiku_libdirs $x_libraries"
+    if test -n "$supports_multilib"; then
+        kf5_libdirs="$kf5_libdirs /usr/lib64 /usr/lib64/kf5 /usr/lib64/kf5/devel"
+    fi
+
+    kf5_test_include="KF5/KIOFileWidgets/KFileWidget"
+    kf5_test_library="libKF5KIOFileWidgets.so"
+    kf5_libdirs="$qt5_libdir $kf5_libdirs"
+
+        # Extract the first word of "$KF5_CONFIG", so it can be a program name with args.
+set dummy $KF5_CONFIG; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_KF5_CONFIG+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $KF5_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_KF5_CONFIG="$KF5_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_KF5_CONFIG="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_KF5_CONFIG" && ac_cv_path_KF5_CONFIG="no"
+  ;;
+esac
+fi
+KF5_CONFIG=$ac_cv_path_KF5_CONFIG
+if test -n "$KF5_CONFIG"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $KF5_CONFIG" >&5
+printf "%s\n" "$KF5_CONFIG" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    if test "$KF5_CONFIG" != "no"; then
+        kf5_incdirs="`$KF5_CONFIG --path include` $kf5_incdirs"
+        kf5_libdirs="`$KF5_CONFIG --path lib` $kf5_libdirs"
+    fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for KF5 headers" >&5
+printf %s "checking for KF5 headers... " >&6; }
+    kf5_incdir="no"
+    for kf5_check in $kf5_incdirs; do
+        if test -r "$kf5_check/$kf5_test_include"; then
+            kf5_incdir="$kf5_check/KF5"
+            break
+        fi
+    done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $kf5_incdir" >&5
+printf "%s\n" "$kf5_incdir" >&6; }
+    if test "x$kf5_incdir" = "xno"; then
+        as_fn_error $? "KF5 headers not found.  Please specify the root of your KF5 installation by exporting KF5DIR before running \"configure\"." "$LINENO" 5
+    fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for KF5 libraries" >&5
+printf %s "checking for KF5 libraries... " >&6; }
+    kf5_libdir="no"
+    for kf5_check in $kf5_libdirs; do
+        if test -r "$kf5_check/$kf5_test_library"; then
+            kf5_libdir="$kf5_check"
+            break
+        fi
+    done
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $kf5_libdir" >&5
+printf "%s\n" "$kf5_libdir" >&6; }
+    if test "x$kf5_libdir" = "xno"; then
+        as_fn_error $? "KF5 libraries not found.  Please specify the root of your KF5 installation by exporting KF5DIR before running \"configure\"." "$LINENO" 5
+    fi
+
+    KF5_CFLAGS="-I$kf5_incdir -I$kf5_incdir/KCoreAddons -I$kf5_incdir/KI18n -I$kf5_incdir/KConfigCore -I$kf5_incdir/KWindowSystem -I$kf5_incdir/KIOCore -I$kf5_incdir/KIOWidgets -I$kf5_incdir/KIOFileWidgets -I$qt5_incdir -I$qt5_incdir/QtCore -I$qt5_incdir/QtGui -I$qt5_incdir/QtWidgets -I$qt5_incdir/QtNetwork -DQT_CLEAN_NAMESPACE -DQT_THREAD_SUPPORT -DQT_NO_VERSION_TAGGING"
+    KF5_LIBS="-L$kf5_libdir -lKF5CoreAddons -lKF5I18n -lKF5ConfigCore -lKF5WindowSystem -lKF5KIOCore -lKF5KIOWidgets -lKF5KIOFileWidgets -L$qt5_libdir -lQt5Core -lQt5Gui -lQt5Widgets -lQt5Network"
+    KF5_CFLAGS=$(printf '%s' "$KF5_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+
+    if test "$USING_X11" = TRUE; then
+        KF5_LIBS="$KF5_LIBS -lQt5X11Extras"
+    fi
+
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS $KF5_CFLAGS"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether KDE is >= 5.0" >&5
+printf %s "checking whether KDE is >= 5.0... " >&6; }
+       if test "$cross_compiling" = yes
+then :
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5; }
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <kcoreaddons_version.h>
+
+int main(int argc, char **argv) {
+       if (KCOREADDONS_VERSION_MAJOR == 5 && KCOREADDONS_VERSION_MINOR >= 0) return 0;
+       else return 1;
+}
+
+_ACEOF
+if ac_fn_cxx_try_run "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+  as_fn_error $? "KDE version too old" "$LINENO" 5
+fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+
+
+KF6_CFLAGS=""
+KF6_LIBS=""
+if test \( "$test_kf6" = "yes" -a "$ENABLE_KF6" = "TRUE" \)
+then
+    if test "$OS" = "HAIKU"; then
+        haiku_arch="`echo $RTL_ARCH | tr X x`"
+        kf6_haiku_incdirs="`findpaths -c ' ' -a $haiku_arch B_FIND_PATH_HEADERS_DIRECTORY`"
+        kf6_haiku_libdirs="`findpaths -c ' ' -a $haiku_arch B_FIND_PATH_DEVELOP_LIB_DIRECTORY`"
+    fi
+
+    kf6_incdirs="$KF6INC /usr/include $kf6_haiku_incdirs $x_includes"
+    kf6_libdirs="$KF6LIB /usr/lib /usr/lib/kf6 /usr/lib/kf6/devel $kf6_haiku_libdirs $x_libraries"
+    if test -n "$supports_multilib"; then
+        kf6_libdirs="$kf6_libdirs /usr/lib64 /usr/lib64/kf6 /usr/lib64/kf6/devel"
+    fi
+
+    kf6_test_include="KF6/KIOFileWidgets/KFileWidget"
+    kf6_test_library="libKF6KIOFileWidgets.so"
+    kf6_libdirs="$qt6_libdir $kf6_libdirs"
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for KF6 headers" >&5
+printf %s "checking for KF6 headers... " >&6; }
+    kf6_incdir="no"
+    for kf6_check in $kf6_incdirs; do
+        if test -r "$kf6_check/$kf6_test_include"; then
+            kf6_incdir="$kf6_check/KF6"
+            break
+        fi
+    done
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $kf6_incdir" >&5
+printf "%s\n" "$kf6_incdir" >&6; }
+    if test "x$kf6_incdir" = "xno"; then
+        as_fn_error $? "KF6 headers not found.  Please specify the root of your KF6 installation by exporting KF6DIR before running \"configure\"." "$LINENO" 5
+    fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for KF6 libraries" >&5
+printf %s "checking for KF6 libraries... " >&6; }
+    kf6_libdir="no"
+    for kf6_check in $kf6_libdirs; do
+        if test -r "$kf6_check/$kf6_test_library"; then
+            kf6_libdir="$kf6_check"
+            break
+        fi
+    done
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $kf6_libdir" >&5
+printf "%s\n" "$kf6_libdir" >&6; }
+    if test "x$kf6_libdir" = "xno"; then
+        as_fn_error $? "KF6 libraries not found.  Please specify the root of your KF6 installation by exporting KF6DIR before running \"configure\"." "$LINENO" 5
+    fi
+
+    KF6_CFLAGS="-I$kf6_incdir -I$kf6_incdir/KCoreAddons -I$kf6_incdir/KI18n -I$kf6_incdir/KConfig -I$kf6_incdir/KConfigCore -I$kf6_incdir/KWindowSystem -I$kf6_incdir/KIO -I$kf6_incdir/KIOCore -I$kf6_incdir/KIOWidgets -I$kf6_incdir/KIOFileWidgets -I$qt6_incdir -I$qt6_incdir/QtCore -I$qt6_incdir/QtGui -I$qt6_incdir/QtWidgets -I$qt6_incdir/QtNetwork -DQT_CLEAN_NAMESPACE -DQT_THREAD_SUPPORT -DQT_NO_VERSION_TAGGING"
+    KF6_LIBS="-L$kf6_libdir -lKF6CoreAddons -lKF6I18n -lKF6ConfigCore -lKF6WindowSystem -lKF6KIOCore -lKF6KIOWidgets -lKF6KIOFileWidgets -L$qt6_libdir -lQt6Core -lQt6Gui -lQt6Widgets -lQt6Network"
+    KF6_CFLAGS=$(printf '%s' "$KF6_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    CXXFLAGS="$CXXFLAGS $KF6_CFLAGS"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether KDE is >= 5.240" >&5
+printf %s "checking whether KDE is >= 5.240... " >&6; }
+       if test "$cross_compiling" = yes
+then :
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5; }
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <kcoreaddons_version.h>
+
+int main(int argc, char **argv) {
+       if (KCOREADDONS_VERSION_MAJOR == 6 || (KCOREADDONS_VERSION_MAJOR == 5 && KCOREADDONS_VERSION_MINOR >= 240)) return 0;
+       else return 1;
+}
+
+_ACEOF
+if ac_fn_cxx_try_run "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+  as_fn_error $? "KDE version too old" "$LINENO" 5
+fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+
+    CXXFLAGS=$save_CXXFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+
+
+
+if test "$enable_qt6_multimedia" = "yes" -a "$ENABLE_QT6" != "TRUE"; then
+    as_fn_error $? "--enable-qt6-multimedia requires --enable-qt6 or --enable-kf6" "$LINENO" 5
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable evolution 2 support" >&5
+printf %s "checking whether to enable evolution 2 support... " >&6; }
+if test "$enable_evolution2" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for gobject-2.0" >&5
+printf %s "checking for gobject-2.0... " >&6; }
+
+if test -n "$GOBJECT_CFLAGS"; then
+    pkg_cv_GOBJECT_CFLAGS="$GOBJECT_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gobject-2.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gobject-2.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GOBJECT_CFLAGS=`$PKG_CONFIG --cflags "gobject-2.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$GOBJECT_LIBS"; then
+    pkg_cv_GOBJECT_LIBS="$GOBJECT_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"gobject-2.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "gobject-2.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_GOBJECT_LIBS=`$PKG_CONFIG --libs "gobject-2.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                GOBJECT_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "gobject-2.0" 2>&1`
+        else
+                GOBJECT_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "gobject-2.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$GOBJECT_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (gobject-2.0) were not met:
+
+$GOBJECT_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables GOBJECT_CFLAGS
+and GOBJECT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables GOBJECT_CFLAGS
+and GOBJECT_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        GOBJECT_CFLAGS=$pkg_cv_GOBJECT_CFLAGS
+        GOBJECT_LIBS=$pkg_cv_GOBJECT_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+    GOBJECT_CFLAGS=$(printf '%s' "$GOBJECT_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    FilterLibs "${GOBJECT_LIBS}"
+    GOBJECT_LIBS="${filteredlibs}"
+    ENABLE_EVOAB2="TRUE"
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which themes to include" >&5
+printf %s "checking which themes to include... " >&6; }
+# if none given use default subset of available themes
+if test "x$with_theme" = "x" -o "x$with_theme" = "xyes"; then
+    with_theme="breeze breeze_dark breeze_dark_svg breeze_svg colibre colibre_svg colibre_dark colibre_dark_svg elementary elementary_svg karasa_jaga karasa_jaga_svg sifr sifr_svg sifr_dark sifr_dark_svg sukapura sukapura_dark sukapura_dark_svg sukapura_svg"
+fi
+
+WITH_THEMES=""
+if test "x$with_theme" != "xno"; then
+    for theme in $with_theme; do
+        case $theme in
+        breeze|breeze_dark|breeze_dark_svg|breeze_svg|colibre|colibre_svg|colibre_dark|colibre_dark_svg|elementary|elementary_svg|karasa_jaga|karasa_jaga_svg|sifr|sifr_svg|sifr_dark|sifr_dark_svg|sukapura|sukapura_dark|sukapura_dark_svg|sukapura_svg) WITH_THEMES="${WITH_THEMES:+$WITH_THEMES }$theme" ;;
+        *) as_fn_error $? "Unknown value for --with-theme: $theme" "$LINENO" 5 ;;
+        esac
+    done
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $WITH_THEMES" >&5
+printf "%s\n" "$WITH_THEMES" >&6; }
+
+
+###############################################################################
+# Extensions checking
+###############################################################################
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for extensions integration" >&5
+printf %s "checking for extensions integration... " >&6; }
+if test "x$enable_extension_integration" != "xno"; then
+    WITH_EXTENSION_INTEGRATION=TRUE
+    SCPDEFS="$SCPDEFS -DWITH_EXTENSION_INTEGRATION"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, use integration" >&5
+printf "%s\n" "yes, use integration" >&6; }
+else
+    WITH_EXTENSION_INTEGRATION=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, do not integrate" >&5
+printf "%s\n" "no, do not integrate" >&6; }
+fi
+
+
+WITH_EXTRA_EXTENSIONS=
+
+
+
+# Check whether --enable-ext-numbertext was given.
+if test ${enable_ext_numbertext+y}
+then :
+  enableval=$enable_ext_numbertext;
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for building the Numbertext extension" >&5
+printf %s "checking for building the Numbertext extension... " >&6; }
+NUMBERTEXT_EXTENSION_PACK=
+if test "x$enable_ext_numbertext" = "xyes" -a "x$enable_extension_integration" != "xno"; then
+    SCPDEFS="$SCPDEFS -DWITH_EXTENSION_NUMBERTEXT"
+    NUMBERTEXT_EXTENSION_PACK="b7cae45ad2c23551fd6ccb8ae2c1f59e-numbertext_0.9.5.oxt"
+    BUILD_TYPE="$BUILD_TYPE NUMBERTEXT"
+    WITH_EXTRA_EXTENSIONS=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+if test "x$with_java" != "xno"; then
+
+# Check whether --enable-ext-nlpsolver was given.
+if test ${enable_ext_nlpsolver+y}
+then :
+  enableval=$enable_ext_nlpsolver;
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for building the NLPSolver extension" >&5
+printf %s "checking for building the NLPSolver extension... " >&6; }
+NLPSOLVER_EXTENSION_PACK=
+if test "x$enable_ext_nlpsolver" = "xyes" -a "x$enable_extension_integration" != "xno"; then
+    SCPDEFS="$SCPDEFS -DWITH_EXTENSION_NLPSOLVER"
+    NLPSOLVER_EXTENSION_PACK=""
+    BUILD_TYPE="$BUILD_TYPE NLPSOLVER"
+    WITH_EXTRA_EXTENSIONS=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to build opens___.ttf" >&5
+printf %s "checking whether to build opens___.ttf... " >&6; }
+if test "$enable_build_opensymbol" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    # Extract the first word of "fontforge", so it can be a program name with args.
+set dummy fontforge; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_FONTFORGE+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $FONTFORGE in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_FONTFORGE="$FONTFORGE" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_FONTFORGE="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+FONTFORGE=$ac_cv_path_FONTFORGE
+if test -n "$FONTFORGE"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $FONTFORGE" >&5
+printf "%s\n" "$FONTFORGE" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    if test -z "$FONTFORGE"; then
+        as_fn_error $? "fontforge not installed" "$LINENO" 5
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    BUILD_TYPE="$BUILD_TYPE OPENSYMBOL"
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to include third-party fonts" >&5
+printf %s "checking whether to include third-party fonts... " >&6; }
+if test "$with_fonts" != "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    WITH_FONTS=TRUE
+    BUILD_TYPE="$BUILD_TYPE MORE_FONTS"
+    printf "%s\n" "#define HAVE_MORE_FONTS 1" >>confdefs.h
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    WITH_FONTS=
+    SCPDEFS="$SCPDEFS -DWITHOUT_FONTS"
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable online update" >&5
+printf %s "checking whether to enable online update... " >&6; }
+ENABLE_ONLINE_UPDATE=
+if test "$enable_online_update" = ""; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    if test "$enable_online_update" = "mar"; then
+        as_fn_error $? "--enable-online-update=mar is deprecated, use --enable-online-update-mar instead" "$LINENO" 5
+    elif test "$enable_online_update" = "yes"; then
+        if test "$enable_curl" != "yes"; then
+            as_fn_error $? "--disable-online-update must be used when --disable-curl is used" "$LINENO" 5
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        ENABLE_ONLINE_UPDATE="TRUE"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable mar online update" >&5
+printf %s "checking whether to enable mar online update... " >&6; }
+ENABLE_ONLINE_UPDATE_MAR=
+if test "$enable_online_update_mar" = yes; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    BUILD_TYPE="$BUILD_TYPE ONLINEUPDATE"
+    ENABLE_ONLINE_UPDATE_MAR="TRUE"
+    printf "%s\n" "#define HAVE_FEATURE_UPDATE_MAR 1" >>confdefs.h
+
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for mar online update baseurl" >&5
+printf %s "checking for mar online update baseurl... " >&6; }
+ONLINEUPDATE_MAR_BASEURL=$with_online_update_mar_baseurl
+if test -n "$ONLINEUPDATE_MAR_BASEURL"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for mar online update certificateder" >&5
+printf %s "checking for mar online update certificateder... " >&6; }
+ONLINEUPDATE_MAR_CERTIFICATEDER=$with_online_update_mar_certificateder
+if test -n "$ONLINEUPDATE_MAR_CERTIFICATEDER"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for mar online update certificatename" >&5
+printf %s "checking for mar online update certificatename... " >&6; }
+ONLINEUPDATE_MAR_CERTIFICATENAME=$with_online_update_mar_certificatename
+if test -n "$ONLINEUPDATE_MAR_CERTIFICATENAME"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for mar online update certificatepath" >&5
+printf %s "checking for mar online update certificatepath... " >&6; }
+ONLINEUPDATE_MAR_CERTIFICATEPATH=$with_online_update_mar_certificatepath
+if test -n "$ONLINEUPDATE_MAR_CERTIFICATEPATH"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+PRIVACY_POLICY_URL="$with_privacy_policy_url"
+if test "$ENABLE_ONLINE_UPDATE" = TRUE -o "$ENABLE_BREAKPAD" = "TRUE"; then
+    if test "x$with_privacy_policy_url" = "xundefined"; then
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "online update or breakpad/crashreporting are enabled, but no --with-privacy-policy-url=... was provided
+See \`config.log' for more details" "$LINENO" 5; }
+    fi
+fi
+
+SYSTEM_BZIP2=
+if test "$ENABLE_ONLINE_UPDATE_MAR" = "TRUE" -o "$enable_python" = internal; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use system bzip2" >&5
+printf %s "checking whether to use system bzip2... " >&6; }
+    if test "$with_system_bzip2" = yes; then
+        SYSTEM_BZIP2=TRUE
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for bzip2" >&5
+printf %s "checking for bzip2... " >&6; }
+
+if test -n "$BZIP2_CFLAGS"; then
+    pkg_cv_BZIP2_CFLAGS="$BZIP2_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"bzip2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "bzip2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_BZIP2_CFLAGS=`$PKG_CONFIG --cflags "bzip2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$BZIP2_LIBS"; then
+    pkg_cv_BZIP2_LIBS="$BZIP2_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"bzip2\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "bzip2") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_BZIP2_LIBS=`$PKG_CONFIG --libs "bzip2" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                BZIP2_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "bzip2" 2>&1`
+        else
+                BZIP2_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "bzip2" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$BZIP2_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (bzip2) were not met:
+
+$BZIP2_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables BZIP2_CFLAGS
+and BZIP2_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables BZIP2_CFLAGS
+and BZIP2_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        BZIP2_CFLAGS=$pkg_cv_BZIP2_CFLAGS
+        BZIP2_LIBS=$pkg_cv_BZIP2_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        FilterLibs "${BZIP2_LIBS}"
+        BZIP2_LIBS="${filteredlibs}"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        BUILD_TYPE="$BUILD_TYPE BZIP2"
+    fi
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable extension update" >&5
+printf %s "checking whether to enable extension update... " >&6; }
+ENABLE_EXTENSION_UPDATE=
+if test "x$enable_extension_update" = "xno"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_EXTENSION_UPDATE="TRUE"
+    printf "%s\n" "#define ENABLE_EXTENSION_UPDATE 1" >>confdefs.h
+
+    SCPDEFS="$SCPDEFS -DENABLE_EXTENSION_UPDATE"
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to create MSI with LIMITUI=1 (silent install)" >&5
+printf %s "checking whether to create MSI with LIMITUI=1 (silent install)... " >&6; }
+if test "$enable_silent_msi" = "" -o "$enable_silent_msi" = "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_SILENT_MSI=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    ENABLE_SILENT_MSI=TRUE
+    SCPDEFS="$SCPDEFS -DENABLE_SILENT_MSI"
+fi
+
+
+if test "$enable_wix" = "" -o "enable_wix" = "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    ENABLE_WIX=
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    # FIXME: this should do proper detection, but the path is currently
+    # hardcoded in msicreator/createmsi.py
+    if ! test -x "/cygdrive/c/Program Files (x86)/WiX Toolset v3.11/bin/candle"; then
+      as_fn_error $? "WiX requested but WiX toolset v3.11 not found at the expected location" "$LINENO" 5
+    fi
+    ENABLE_WIX=TRUE
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether and how to use Xinerama" >&5
+printf %s "checking whether and how to use Xinerama... " >&6; }
+if test "$USING_X11" = TRUE; then
+    if test "$x_libraries" = "default_x_libraries"; then
+        XINERAMALIB=`$PKG_CONFIG --variable=libdir xinerama`
+        if test "x$XINERAMALIB" = x; then
+           XINERAMALIB="/usr/lib"
+        fi
+    else
+        XINERAMALIB="$x_libraries"
+    fi
+    if test -e "$XINERAMALIB/libXinerama.so" -a -e "$XINERAMALIB/libXinerama.a"; then
+        # we have both versions, let the user decide but use the dynamic one
+        # per default
+        USE_XINERAMA=TRUE
+        if test -z "$with_static_xinerama" -o -n "$with_system_libs"; then
+            XINERAMA_LINK=dynamic
+        else
+            XINERAMA_LINK=static
+        fi
+    elif test -e "$XINERAMALIB/libXinerama.so" -a ! -e "$XINERAMALIB/libXinerama.a"; then
+        # we have only the dynamic version
+        USE_XINERAMA=TRUE
+        XINERAMA_LINK=dynamic
+    elif test -e "$XINERAMALIB/libXinerama.a"; then
+        # static version
+        if echo $host_cpu | $GREP -E 'i[3456]86' 2>/dev/null >/dev/null; then
+            USE_XINERAMA=TRUE
+            XINERAMA_LINK=static
+        else
+            USE_XINERAMA=
+            XINERAMA_LINK=none
+        fi
+    else
+        # no Xinerama
+        USE_XINERAMA=
+        XINERAMA_LINK=none
+    fi
+    if test "$USE_XINERAMA" = "TRUE"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, with $XINERAMA_LINK linking" >&5
+printf "%s\n" "yes, with $XINERAMA_LINK linking" >&6; }
+        ac_fn_c_check_header_compile "$LINENO" "X11/extensions/Xinerama.h" "ac_cv_header_X11_extensions_Xinerama_h" "$ac_includes_default"
+if test "x$ac_cv_header_X11_extensions_Xinerama_h" = xyes
+then :
+
+else $as_nop
+  as_fn_error $? "Xinerama header not found." "$LINENO" 5
+fi
+
+        XEXTLIBS=`$PKG_CONFIG --variable=libs xext`
+        if test "x$XEXTLIB" = x; then
+           XEXTLIBS="-L$XLIB -L$XINERAMALIB -lXext"
+        fi
+        XINERAMA_EXTRA_LIBS="$XEXTLIBS"
+        if test "$_os" = "FreeBSD"; then
+            XINERAMA_EXTRA_LIBS="$XINERAMA_EXTRA_LIBS -lXt"
+        fi
+        if test "$_os" = "Linux"; then
+            XINERAMA_EXTRA_LIBS="$XINERAMA_EXTRA_LIBS -ldl"
+        fi
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for XineramaIsActive in -lXinerama" >&5
+printf %s "checking for XineramaIsActive in -lXinerama... " >&6; }
+if test ${ac_cv_lib_Xinerama_XineramaIsActive+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lXinerama $XINERAMA_EXTRA_LIBS $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+char XineramaIsActive ();
+int
+main (void)
+{
+return XineramaIsActive ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"
+then :
+  ac_cv_lib_Xinerama_XineramaIsActive=yes
+else $as_nop
+  ac_cv_lib_Xinerama_XineramaIsActive=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_Xinerama_XineramaIsActive" >&5
+printf "%s\n" "$ac_cv_lib_Xinerama_XineramaIsActive" >&6; }
+if test "x$ac_cv_lib_Xinerama_XineramaIsActive" = xyes
+then :
+  :
+else $as_nop
+  as_fn_error $? "Xinerama not functional?" "$LINENO" 5
+fi
+
+    else
+        as_fn_error $? "libXinerama not found or wrong architecture." "$LINENO" 5
+    fi
+else
+    USE_XINERAMA=
+    XINERAMA_LINK=none
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use non-standard RGBA32 cairo pixel order" >&5
+printf %s "checking whether to use non-standard RGBA32 cairo pixel order... " >&6; }
+if test -z "$enable_cairo_rgba" -a "$_os" = "Android"; then
+    enable_cairo_rgba=yes
+fi
+if test "$enable_cairo_rgba" = yes; then
+    printf "%s\n" "#define ENABLE_CAIRO_RGBA 1" >>confdefs.h
+
+    ENABLE_CAIRO_RGBA=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    ENABLE_CAIRO_RGBA=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+if test "$test_cairo" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use the system cairo" >&5
+printf %s "checking whether to use the system cairo... " >&6; }
+
+    : ${with_system_cairo:=$with_system_libs}
+    if test "$with_system_cairo" = "yes" -a "$enable_cairo_rgba" != "yes"; then
+        SYSTEM_CAIRO=TRUE
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for cairo >= 1.12.0 " >&5
+printf %s "checking for cairo >= 1.12.0 ... " >&6; }
+
+if test -n "$CAIRO_CFLAGS"; then
+    pkg_cv_CAIRO_CFLAGS="$CAIRO_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"cairo >= 1.12.0 \""; } >&5
+  ($PKG_CONFIG --exists --print-errors "cairo >= 1.12.0 ") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CAIRO_CFLAGS=`$PKG_CONFIG --cflags "cairo >= 1.12.0 " 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$CAIRO_LIBS"; then
+    pkg_cv_CAIRO_LIBS="$CAIRO_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"cairo >= 1.12.0 \""; } >&5
+  ($PKG_CONFIG --exists --print-errors "cairo >= 1.12.0 ") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_CAIRO_LIBS=`$PKG_CONFIG --libs "cairo >= 1.12.0 " 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                CAIRO_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "cairo >= 1.12.0 " 2>&1`
+        else
+                CAIRO_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "cairo >= 1.12.0 " 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$CAIRO_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (cairo >= 1.12.0 ) were not met:
+
+$CAIRO_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables CAIRO_CFLAGS
+and CAIRO_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables CAIRO_CFLAGS
+and CAIRO_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        CAIRO_CFLAGS=$pkg_cv_CAIRO_CFLAGS
+        CAIRO_LIBS=$pkg_cv_CAIRO_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        CAIRO_CFLAGS=$(printf '%s' "$CAIRO_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${CAIRO_LIBS}"
+        CAIRO_LIBS="${filteredlibs}"
+
+        if test "$test_xrender" = "yes"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether Xrender.h defines PictStandardA8" >&5
+printf %s "checking whether Xrender.h defines PictStandardA8... " >&6; }
+            ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <X11/extensions/Xrender.h>
+int
+main (void)
+{
+
+#ifdef PictStandardA8
+#else
+      return fail;
+#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else $as_nop
+  as_fn_error $? "no, X headers too old." "$LINENO" 5
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+
+            ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        BUILD_TYPE="$BUILD_TYPE CAIRO"
+    fi
+
+    if test "$enable_cairo_canvas" != no; then
+        printf "%s\n" "#define ENABLE_CAIRO_CANVAS 1" >>confdefs.h
+
+        ENABLE_CAIRO_CANVAS=TRUE
+    fi
+fi
+
+
+
+
+
+
+if test "$_os" = "WINNT"; then
+    # Windows uses bundled mDNSResponder
+    BUILD_TYPE="$BUILD_TYPE MDNSRESPONDER"
+elif test "$_os" != "Darwin" -a "$enable_avahi" = "yes"; then
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for avahi-client >= 0.6.10" >&5
+printf %s "checking for avahi-client >= 0.6.10... " >&6; }
+
+if test -n "$AVAHI_CFLAGS"; then
+    pkg_cv_AVAHI_CFLAGS="$AVAHI_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"avahi-client >= 0.6.10\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "avahi-client >= 0.6.10") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_AVAHI_CFLAGS=`$PKG_CONFIG --cflags "avahi-client >= 0.6.10" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$AVAHI_LIBS"; then
+    pkg_cv_AVAHI_LIBS="$AVAHI_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"avahi-client >= 0.6.10\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "avahi-client >= 0.6.10") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_AVAHI_LIBS=`$PKG_CONFIG --libs "avahi-client >= 0.6.10" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                AVAHI_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "avahi-client >= 0.6.10" 2>&1`
+        else
+                AVAHI_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "avahi-client >= 0.6.10" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$AVAHI_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (avahi-client >= 0.6.10) were not met:
+
+$AVAHI_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables AVAHI_CFLAGS
+and AVAHI_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables AVAHI_CFLAGS
+and AVAHI_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        AVAHI_CFLAGS=$pkg_cv_AVAHI_CFLAGS
+        AVAHI_LIBS=$pkg_cv_AVAHI_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        ENABLE_AVAHI="TRUE"
+fi
+    printf "%s\n" "#define HAVE_FEATURE_AVAHI 1" >>confdefs.h
+
+    AVAHI_CFLAGS=$(printf '%s' "$AVAHI_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    FilterLibs "${AVAHI_LIBS}"
+    AVAHI_LIBS="${filteredlibs}"
+fi
+
+
+
+
+
+SYSTEM_LIBLANGTAG=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use system liblangtag" >&5
+printf %s "checking whether to use system liblangtag... " >&6; }
+if test "$with_system_liblangtag" = yes; then
+    SYSTEM_LIBLANGTAG=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for liblangtag >= 0.4.0" >&5
+printf %s "checking for liblangtag >= 0.4.0... " >&6; }
+
+if test -n "$LIBLANGTAG_CFLAGS"; then
+    pkg_cv_LIBLANGTAG_CFLAGS="$LIBLANGTAG_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"liblangtag >= 0.4.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "liblangtag >= 0.4.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBLANGTAG_CFLAGS=`$PKG_CONFIG --cflags "liblangtag >= 0.4.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBLANGTAG_LIBS"; then
+    pkg_cv_LIBLANGTAG_LIBS="$LIBLANGTAG_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"liblangtag >= 0.4.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "liblangtag >= 0.4.0") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBLANGTAG_LIBS=`$PKG_CONFIG --libs "liblangtag >= 0.4.0" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBLANGTAG_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "liblangtag >= 0.4.0" 2>&1`
+        else
+                LIBLANGTAG_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "liblangtag >= 0.4.0" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBLANGTAG_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (liblangtag >= 0.4.0) were not met:
+
+$LIBLANGTAG_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBLANGTAG_CFLAGS
+and LIBLANGTAG_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBLANGTAG_CFLAGS
+and LIBLANGTAG_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBLANGTAG_CFLAGS=$pkg_cv_LIBLANGTAG_CFLAGS
+        LIBLANGTAG_LIBS=$pkg_cv_LIBLANGTAG_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"liblangtag >= 0.5.5\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "liblangtag >= 0.5.5") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  :
+else
+  printf "%s\n" "#define LIBLANGTAG_INLINE_FIX 1" >>confdefs.h
+
+fi
+    LIBLANGTAG_CFLAGS=$(printf '%s' "$LIBLANGTAG_CFLAGS" | sed -e "s/-I/${ISYSTEM?}/g")
+    FilterLibs "${LIBLANGTAG_LIBS}"
+    LIBLANGTAG_LIBS="${filteredlibs}"
+else
+    SYSTEM_LIBLANGTAG=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    BUILD_TYPE="$BUILD_TYPE LIBLANGTAG"
+    LIBLANGTAG_CFLAGS="-I${WORKDIR}/UnpackedTarball/liblangtag"
+    if test "$COM" = "MSC"; then
+        LIBLANGTAG_LIBS="${WORKDIR}/UnpackedTarball/liblangtag/liblangtag/.libs/liblangtag.lib"
+    else
+        LIBLANGTAG_LIBS="-L${WORKDIR}/UnpackedTarball/liblangtag/liblangtag/.libs -llangtag"
+    fi
+fi
+
+
+
+
+
+LIBPNG_CFLAGS_internal="-I${WORKDIR}/UnpackedTarball/libpng"
+LIBPNG_LIBS_internal="-L${WORKDIR}/LinkTarget/StaticLibrary -llibpng"
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libpng="yes";
+
+
+
+
+# Check whether --with-system-libpng was given.
+if test ${with_system_libpng+y}
+then :
+  withval=$with_system_libpng;
+else $as_nop
+
+    if test "${with_system_libpng+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libpng="$with_system_libs";
+    else
+        with_system_libpng="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libpng to use" >&5
+printf %s "checking which libpng to use... " >&6; }
+if test "$test_libpng" != no -a "$found_libpng" != yes -a "$enable_libpng" != no; then
+    ENABLE_LIBPNG=TRUE
+    if test "$with_system_libpng" = yes -a "$test_system_libpng" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LIBPNG=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libpng" >&5
+printf %s "checking for libpng... " >&6; }
+
+if test -n "$LIBPNG_CFLAGS"; then
+    pkg_cv_LIBPNG_CFLAGS="$LIBPNG_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libpng\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libpng") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBPNG_CFLAGS=`$PKG_CONFIG --cflags "libpng" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBPNG_LIBS"; then
+    pkg_cv_LIBPNG_LIBS="$LIBPNG_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libpng\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libpng") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBPNG_LIBS=`$PKG_CONFIG --libs "libpng" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBPNG_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libpng" 2>&1`
+        else
+                LIBPNG_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libpng" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBPNG_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libpng) were not met:
+
+$LIBPNG_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBPNG_CFLAGS
+and LIBPNG_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBPNG_CFLAGS
+and LIBPNG_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBPNG_CFLAGS=$pkg_cv_LIBPNG_CFLAGS
+        LIBPNG_LIBS=$pkg_cv_LIBPNG_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBPNG_CFLAGS=$(printf '%s' "${LIBPNG_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBPNG_LIBS}"
+        LIBPNG_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LIBPNG=
+        LIBPNG_CFLAGS="${LIBPNG_CFLAGS_internal}"
+        LIBPNG_LIBS="${LIBPNG_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE LIBPNG"
+    fi
+else
+    if test "$found_libpng" = yes -a "$enable_libpng" != no -a "$with_system_libpng" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_LIBPNG=TRUE
+        SYSTEM_LIBPNG=TRUE
+    else
+        ENABLE_LIBPNG=
+        SYSTEM_LIBPNG=
+        LIBPNG_CFLAGS=
+        LIBPNG_LIBS=
+        if test "$test_libpng" != no -a "$enable_libpng" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libtiff="yes";
+
+
+
+
+# Check whether --with-system-libtiff was given.
+if test ${with_system_libtiff+y}
+then :
+  withval=$with_system_libtiff;
+else $as_nop
+
+    if test "${with_system_libtiff+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libtiff="$with_system_libs";
+    else
+        with_system_libtiff="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libtiff to use" >&5
+printf %s "checking which libtiff to use... " >&6; }
+if test "$test_libtiff" != no -a "$found_libtiff" != yes -a "$enable_libtiff" != no; then
+    ENABLE_LIBTIFF=TRUE
+    if test "$with_system_libtiff" = yes -a "$test_system_libtiff" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LIBTIFF=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libtiff-4" >&5
+printf %s "checking for libtiff-4... " >&6; }
+
+if test -n "$LIBTIFF_CFLAGS"; then
+    pkg_cv_LIBTIFF_CFLAGS="$LIBTIFF_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libtiff-4\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libtiff-4") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBTIFF_CFLAGS=`$PKG_CONFIG --cflags "libtiff-4" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBTIFF_LIBS"; then
+    pkg_cv_LIBTIFF_LIBS="$LIBTIFF_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libtiff-4\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libtiff-4") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBTIFF_LIBS=`$PKG_CONFIG --libs "libtiff-4" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBTIFF_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libtiff-4" 2>&1`
+        else
+                LIBTIFF_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libtiff-4" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBTIFF_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libtiff-4) were not met:
+
+$LIBTIFF_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBTIFF_CFLAGS
+and LIBTIFF_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBTIFF_CFLAGS
+and LIBTIFF_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBTIFF_CFLAGS=$pkg_cv_LIBTIFF_CFLAGS
+        LIBTIFF_LIBS=$pkg_cv_LIBTIFF_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBTIFF_CFLAGS=$(printf '%s' "${LIBTIFF_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBTIFF_LIBS}"
+        LIBTIFF_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LIBTIFF=
+        LIBTIFF_CFLAGS="${LIBTIFF_CFLAGS_internal}"
+        LIBTIFF_LIBS="${LIBTIFF_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE LIBTIFF"
+    fi
+else
+    if test "$found_libtiff" = yes -a "$enable_libtiff" != no -a "$with_system_libtiff" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_LIBTIFF=TRUE
+        SYSTEM_LIBTIFF=TRUE
+    else
+        ENABLE_LIBTIFF=
+        SYSTEM_LIBTIFF=
+        LIBTIFF_CFLAGS=
+        LIBTIFF_LIBS=
+        if test "$test_libtiff" != no -a "$enable_libtiff" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+
+
+# validate arguments as possible
+
+
+
+
+
+
+
+
+
+
+
+
+        enable_libwebp="yes";
+
+
+
+
+# Check whether --with-system-libwebp was given.
+if test ${with_system_libwebp+y}
+then :
+  withval=$with_system_libwebp;
+else $as_nop
+
+    if test "${with_system_libwebp+set}" != set -a "${with_system_libs+set}" = set -a "" != TRUE; then
+        with_system_libwebp="$with_system_libs";
+    else
+        with_system_libwebp="no"
+    fi
+
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which libwebp to use" >&5
+printf %s "checking which libwebp to use... " >&6; }
+if test "$test_libwebp" != no -a "$found_libwebp" != yes -a "$enable_libwebp" != no; then
+    ENABLE_LIBWEBP=TRUE
+    if test "$with_system_libwebp" = yes -a "$test_system_libwebp" != no; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        SYSTEM_LIBWEBP=TRUE
+
+pkg_failed=no
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for libwebp" >&5
+printf %s "checking for libwebp... " >&6; }
+
+if test -n "$LIBWEBP_CFLAGS"; then
+    pkg_cv_LIBWEBP_CFLAGS="$LIBWEBP_CFLAGS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libwebp\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libwebp") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBWEBP_CFLAGS=`$PKG_CONFIG --cflags "libwebp" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+if test -n "$LIBWEBP_LIBS"; then
+    pkg_cv_LIBWEBP_LIBS="$LIBWEBP_LIBS"
+ elif test -n "$PKG_CONFIG"; then
+    if test -n "$PKG_CONFIG" && \
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"libwebp\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "libwebp") 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; then
+  pkg_cv_LIBWEBP_LIBS=`$PKG_CONFIG --libs "libwebp" 2>/dev/null`
+		      test "x$?" != "x0" && pkg_failed=yes
+else
+  pkg_failed=yes
+fi
+ else
+    pkg_failed=untried
+fi
+
+
+
+if test $pkg_failed = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi
+        if test $_pkg_short_errors_supported = yes; then
+                LIBWEBP_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "libwebp" 2>&1`
+        else
+                LIBWEBP_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "libwebp" 2>&1`
+        fi
+        # Put the nasty error message in config.log where it belongs
+        echo "$LIBWEBP_PKG_ERRORS" >&5
+
+        as_fn_error $? "Package requirements (libwebp) were not met:
+
+$LIBWEBP_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+Alternatively, you may set the environment variables LIBWEBP_CFLAGS
+and LIBWEBP_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details." "$LINENO" 5
+elif test $pkg_failed = untried; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+        { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+Alternatively, you may set the environment variables LIBWEBP_CFLAGS
+and LIBWEBP_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.
+See \`config.log' for more details" "$LINENO" 5; }
+else
+        LIBWEBP_CFLAGS=$pkg_cv_LIBWEBP_CFLAGS
+        LIBWEBP_LIBS=$pkg_cv_LIBWEBP_LIBS
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+fi
+        LIBWEBP_CFLAGS=$(printf '%s' "${LIBWEBP_CFLAGS}" | sed -e "s/-I/${ISYSTEM?}/g")
+        FilterLibs "${LIBWEBP_LIBS}"
+        LIBWEBP_LIBS="$filteredlibs"
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: internal" >&5
+printf "%s\n" "internal" >&6; }
+        SYSTEM_LIBWEBP=
+        LIBWEBP_CFLAGS="${LIBWEBP_CFLAGS_internal}"
+        LIBWEBP_LIBS="${LIBWEBP_LIBS_internal}"
+        BUILD_TYPE="$BUILD_TYPE LIBWEBP"
+    fi
+else
+    if test "$found_libwebp" = yes -a "$enable_libwebp" != no -a "$with_system_libwebp" = yes; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: external" >&5
+printf "%s\n" "external" >&6; }
+        ENABLE_LIBWEBP=TRUE
+        SYSTEM_LIBWEBP=TRUE
+    else
+        ENABLE_LIBWEBP=
+        SYSTEM_LIBWEBP=
+        LIBWEBP_CFLAGS=
+        LIBWEBP_LIBS=
+        if test "$test_libwebp" != no -a "$enable_libwebp" = no; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
+printf "%s\n" "disabled" >&6; }
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not tested" >&5
+printf "%s\n" "not tested" >&6; }
+        fi
+    fi
+fi
+
+
+
+
+
+
+if test "$ENABLE_JAVA" != ""; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use specific JVM search path at runtime" >&5
+printf %s "checking whether to use specific JVM search path at runtime... " >&6; }
+    if test -n "$with_jvm_path" -a "$with_jvm_path" != "no"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        if ! test -d "$with_jvm_path"; then
+            as_fn_error $? "\"$with_jvm_path\" not a directory" "$LINENO" 5
+        fi
+        if ! test -d "$with_jvm_path"jvm; then
+            as_fn_error $? "\"$with_jvm_path\"jvm not found, point with_jvm_path to \/path/to/\jvm" "$LINENO" 5
+        fi
+        JVM_ONE_PATH_CHECK="$with_jvm_path"
+
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+    fi
+fi
+
+
+# java takes the encoding from LC_ALL, and since autoconf forces it to C it
+# breaks filename decoding, so for the ant section, set it to LANG
+LC_ALL=$LANG
+if test "$ENABLE_JAVA" != "" -a "$NEED_ANT" = "TRUE" -a "$cross_compiling" != "yes"; then
+    ANT_HOME=; export ANT_HOME
+    WITH_ANT_HOME=; export WITH_ANT_HOME
+    if test -z "$with_ant_home" -a -n "$LODE_HOME" ; then
+        if test -x "$LODE_HOME/opt/ant/bin/ant" ; then
+            if test "$_os" = "WINNT"; then
+                with_ant_home="`cygpath -m $LODE_HOME/opt/ant`"
+            else
+                with_ant_home="$LODE_HOME/opt/ant"
+            fi
+        elif test -x  "$LODE_HOME/opt/bin/ant" ; then
+            with_ant_home="$LODE_HOME/opt/ant"
+        fi
+    fi
+    if test -z "$with_ant_home"; then
+        for ac_prog in ant ant.sh ant.bat ant.cmd
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_ANT+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $ANT in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ANT="$ANT" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_ANT="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ANT=$ac_cv_path_ANT
+if test -n "$ANT"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ANT" >&5
+printf "%s\n" "$ANT" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ANT" && break
+done
+
+    else
+        if test "$_os" = "WINNT"; then
+            # AC_PATH_PROGS needs unix path
+            PathFormat "$with_ant_home"
+            with_ant_home="$formatted_path_unix"
+        fi
+        AbsolutePath "$with_ant_home"
+        with_ant_home=$absolute_path
+        for ac_prog in ant ant.sh ant.bat ant.cmd
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_ANT+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $ANT in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ANT="$ANT" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$with_ant_home/bin:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_ANT="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ANT=$ac_cv_path_ANT
+if test -n "$ANT"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ANT" >&5
+printf "%s\n" "$ANT" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$ANT" && break
+done
+
+        WITH_ANT_HOME=$with_ant_home
+        ANT_HOME=$with_ant_home
+    fi
+
+    if test -z "$ANT"; then
+        as_fn_error $? "Ant not found - Make sure it's in the path or use --with-ant-home" "$LINENO" 5
+    else
+        # resolve relative or absolute symlink
+        while test -h "$ANT"; do
+            a_cwd=`pwd`
+            a_basename=`basename "$ANT"`
+            a_script=`ls -l "$ANT" | $SED "s/.*${a_basename} -> //g"`
+            cd "`dirname "$ANT"`"
+            cd "`dirname "$a_script"`"
+            ANT="`pwd`"/"`basename "$a_script"`"
+            cd "$a_cwd"
+        done
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if $ANT works" >&5
+printf %s "checking if $ANT works... " >&6; }
+        mkdir -p conftest.dir
+        a_cwd=$(pwd)
+        cd conftest.dir
+        cat > conftest.java << EOF
+        public class conftest {
+            int testmethod(int a, int b) {
+                    return a + b;
+            }
+        }
+EOF
+
+        cat > conftest.xml << EOF
+        <project name="conftest" default="conftest">
+        <target name="conftest">
+            <javac srcdir="." includes="conftest.java">
+            </javac>
+        </target>
+        </project>
+EOF
+
+        if test -n "$WSL_ONLY_AS_HELPER"; then
+            # need to set it directly, since ant only tries java, not java.exe from JAVA_HOME
+            export JAVACMD="$JAVAINTERPRETER"
+            # similarly it doesn't expect to be called from wsl, so it uses the wsl-realm path when
+            # building the classpath, but we need the windows-style one for the windows-java
+            PathFormat "$ANT_HOME"
+            export LOCALCLASSPATH=";$formatted_path/lib/ant-launcher.jar"
+        fi
+        { ac_try='"$ANT" -buildfile conftest.xml 1>&2'
+  { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_try\""; } >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
+  test $ac_status = 0; }; }
+        if test $? = 0 -a -f ./conftest.class; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Ant works" >&5
+printf "%s\n" "Ant works" >&6; }
+            if test -z "$WITH_ANT_HOME"; then
+                ANT_HOME=`"$ANT" -diagnostics | $EGREP "ant.home :" | $SED -e "s#ant.home : ##g"`
+                if test -z "$ANT_HOME"; then
+                    ANT_HOME=`echo "$ANT" | $SED -n "s/\/bin\/ant.*\$//p"`
+                fi
+            else
+                ANT_HOME="$WITH_ANT_HOME"
+            fi
+        else
+            echo "configure: Ant test failed" >&5
+            cat conftest.java >&5
+            cat conftest.xml >&5
+            as_fn_error $? "Ant does not work - Some Java projects will not build!" "$LINENO" 5
+        fi
+        cd "$a_cwd"
+        rm -fr conftest.dir
+    fi
+    if test -z "$ANT_HOME"; then
+        ANT_HOME="NO_ANT_HOME"
+    else
+        PathFormat "$ANT_HOME"
+        ANT_HOME="$formatted_path_unix"
+        PathFormat "$ANT"
+        ANT="$formatted_path_unix"
+    fi
+
+        if test "$ANT_HOME" != "NO_ANT_HOME"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking Ant lib directory" >&5
+printf %s "checking Ant lib directory... " >&6; }
+        if test -f $ANT_HOME/lib/ant.jar; then
+            ANT_LIB="$ANT_HOME/lib"
+        else
+            if test -f $ANT_HOME/ant.jar; then
+                ANT_LIB="$ANT_HOME"
+            else
+                if test -f /usr/share/java/ant.jar; then
+                    ANT_LIB=/usr/share/java
+                else
+                    if test -f /usr/share/ant-core/lib/ant.jar; then
+                        ANT_LIB=/usr/share/ant-core/lib
+                    else
+                        if test -f $ANT_HOME/lib/ant/ant.jar; then
+                            ANT_LIB="$ANT_HOME/lib/ant"
+                        else
+                            if test -f /usr/share/lib/ant/ant.jar; then
+                                ANT_LIB=/usr/share/lib/ant
+                            else
+                                as_fn_error $? "Ant libraries not found!" "$LINENO" 5
+                            fi
+                        fi
+                    fi
+                fi
+            fi
+        fi
+        PathFormat "$ANT_LIB"
+        ANT_LIB="$formatted_path"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Ant lib directory found." >&5
+printf "%s\n" "Ant lib directory found." >&6; }
+    fi
+
+    ant_minver=1.6.0
+    ant_minminor1=`echo $ant_minver | cut -d"." -f2`
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether Ant is >= $ant_minver" >&5
+printf %s "checking whether Ant is >= $ant_minver... " >&6; }
+    ant_version=`"$ANT" -version | $AWK '$3 == "version" { print $4; }'`
+    ant_version_major=`echo $ant_version | cut -d. -f1`
+    ant_version_minor=`echo $ant_version | cut -d. -f2`
+    echo "configure: ant_version $ant_version " >&5
+    echo "configure: ant_version_major $ant_version_major " >&5
+    echo "configure: ant_version_minor $ant_version_minor " >&5
+    if test "$ant_version_major" -ge "2"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, $ant_version" >&5
+printf "%s\n" "yes, $ant_version" >&6; }
+    elif test "$ant_version_major" = "1" -a "$ant_version_minor" -ge "$ant_minminor1"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, $ant_version" >&5
+printf "%s\n" "yes, $ant_version" >&6; }
+    else
+        as_fn_error $? "no, you need at least Ant >= $ant_minver" "$LINENO" 5
+    fi
+
+    rm -f conftest* core core.* *.core
+fi
+
+
+
+
+OOO_JUNIT_JAR=
+HAMCREST_JAR=
+if test "$ENABLE_JAVA" != "" -a "$with_junit" != "no" -a "$cross_compiling" != "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for JUnit 4" >&5
+printf %s "checking for JUnit 4... " >&6; }
+    if test "$with_junit" = "yes"; then
+        if test -n "$LODE_HOME" -a -e "$LODE_HOME/opt/share/java/junit.jar" ; then
+            OOO_JUNIT_JAR="$LODE_HOME/opt/share/java/junit.jar"
+        elif test -e /usr/share/java/junit4.jar; then
+            OOO_JUNIT_JAR=/usr/share/java/junit4.jar
+        else
+           if test -e /usr/share/lib/java/junit.jar; then
+              OOO_JUNIT_JAR=/usr/share/lib/java/junit.jar
+           else
+              OOO_JUNIT_JAR=/usr/share/java/junit.jar
+           fi
+        fi
+    else
+        OOO_JUNIT_JAR=$with_junit
+    fi
+    if test "$_os" = "WINNT"; then
+        PathFormat "$OOO_JUNIT_JAR"
+        OOO_JUNIT_JAR="$formatted_path"
+    fi
+    printf 'import org.junit.Before;' > conftest.java
+    if $JAVACOMPILER -classpath "$OOO_JUNIT_JAR" conftest.java >&5 2>&5; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $OOO_JUNIT_JAR" >&5
+printf "%s\n" "$OOO_JUNIT_JAR" >&6; }
+    else
+        as_fn_error $? "cannot find JUnit 4 jar; please install one in the default location (/usr/share/java),
+ specify its pathname via --with-junit=..., or disable it via --without-junit" "$LINENO" 5
+    fi
+    rm -f conftest.class conftest.java
+    if test $OOO_JUNIT_JAR != ""; then
+        BUILD_TYPE="$BUILD_TYPE QADEVOOO"
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for included Hamcrest" >&5
+printf %s "checking for included Hamcrest... " >&6; }
+    printf 'import org.hamcrest.BaseDescription;' > conftest.java
+    if $JAVACOMPILER -classpath "$OOO_JUNIT_JAR" conftest.java >&5 2>&5; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Included in $OOO_JUNIT_JAR" >&5
+printf "%s\n" "Included in $OOO_JUNIT_JAR" >&6; }
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Not included" >&5
+printf "%s\n" "Not included" >&6; }
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for standalone hamcrest jar." >&5
+printf %s "checking for standalone hamcrest jar.... " >&6; }
+        if test "$with_hamcrest" = "yes"; then
+            if test -e /usr/share/lib/java/hamcrest.jar; then
+                HAMCREST_JAR=/usr/share/lib/java/hamcrest.jar
+            elif test -e /usr/share/java/hamcrest/core.jar; then
+                HAMCREST_JAR=/usr/share/java/hamcrest/core.jar
+            elif test -e /usr/share/java/hamcrest/hamcrest.jar; then
+                HAMCREST_JAR=/usr/share/java/hamcrest/hamcrest.jar
+            else
+                HAMCREST_JAR=/usr/share/java/hamcrest.jar
+            fi
+        else
+            HAMCREST_JAR=$with_hamcrest
+        fi
+        if test "$_os" = "WINNT"; then
+            PathFormat "$HAMCREST_JAR"
+            HAMCREST_JAR="$formatted_path"
+        fi
+        if $JAVACOMPILER -classpath "$HAMCREST_JAR" conftest.java >&5 2>&5; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $HAMCREST_JAR" >&5
+printf "%s\n" "$HAMCREST_JAR" >&6; }
+        else
+            as_fn_error $? "junit does not contain hamcrest; please use a junit jar that includes hamcrest, install a hamcrest jar in the default location (/usr/share/java),
+                          specify its path with --with-hamcrest=..., or disable junit with --without-junit" "$LINENO" 5
+        fi
+    fi
+    rm -f conftest.class conftest.java
+fi
+
+
+# set back LC_ALL to C after the java related tests...
+LC_ALL=C
+
+
+
+#
+# check for wget and curl
+#
+WGET=
+CURL=
+
+if test "$enable_fetch_external" != "no"; then
+
+CURL=`command -v curl`
+
+for i in wget /usr/bin/wget /usr/local/bin/wget /usr/sfw/bin/wget /opt/sfw/bin/wget /opt/local/bin/wget; do
+    # wget new enough?
+    $i --help 2> /dev/null | $GREP no-use-server-timestamps 2>&1 > /dev/null
+    if test $? -eq 0; then
+        WGET=$i
+        break
+    fi
+done
+
+if test -z "$WGET" -a -z "$CURL"; then
+    as_fn_error $? "neither wget nor curl found!" "$LINENO" 5
+fi
+
+fi
+
+
+
+
+#
+# check for sha256sum
+#
+SHA256SUM=
+
+for i in shasum /usr/local/bin/shasum /usr/sfw/bin/shasum /opt/sfw/bin/shasum /opt/local/bin/shasum; do
+    eval "$i -a 256 --version" > /dev/null 2>&1
+    ret=$?
+    if test $ret -eq 0; then
+        SHA256SUM="$i -a 256"
+        break
+    fi
+done
+
+if test -z "$SHA256SUM"; then
+    for i in sha256sum /usr/local/bin/sha256sum /usr/sfw/bin/sha256sum /opt/sfw/bin/sha256sum /opt/local/bin/sha256sum; do
+        eval "$i --version" > /dev/null 2>&1
+        ret=$?
+        if test $ret -eq 0; then
+            SHA256SUM=$i
+            break
+        fi
+    done
+fi
+
+if test -z "$SHA256SUM"; then
+    as_fn_error $? "no sha256sum found!" "$LINENO" 5
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which languages to be built" >&5
+printf %s "checking which languages to be built... " >&6; }
+# get list of all languages
+# generate shell variable from completelangiso= from solenv/inc/langlist.mk
+# we want en-US at the beginning
+ALL_LANGS=$($GNUMAKE SRC_ROOT=$SRC_ROOT WITH_LANG="$with_lang" ENABLE_RELEASE_BUILD="$ENABLE_RELEASE_BUILD" -sr -f - <<'EOF' | tr -d '\r'
+include $(SRC_ROOT)/solenv/inc/langlist.mk
+all:
+	$(info en-US $(filter-out en-US,$(sort $(completelangiso))))
+EOF
+)
+
+# check the configured localizations
+WITH_LANG="$with_lang"
+
+# Check for --without-lang which turns up as $with_lang being "no". Luckily there is no language with code "no".
+# (Norwegian is "nb" and "nn".)
+if test "$WITH_LANG" = "no"; then
+    WITH_LANG=
+fi
+
+if test -z "$WITH_LANG" -o "$WITH_LANG" = "en-US"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: en-US" >&5
+printf "%s\n" "en-US" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $WITH_LANG" >&5
+printf "%s\n" "$WITH_LANG" >&6; }
+    GIT_NEEDED_SUBMODULES="translations $GIT_NEEDED_SUBMODULES"
+    if test -z "$MSGFMT"; then
+        if test -n "$LODE_HOME" -a -x "$LODE_HOME/opt/bin/msgfmt" ; then
+            MSGFMT="$LODE_HOME/opt/bin/msgfmt"
+        elif test -x "/opt/lo/bin/msgfmt"; then
+            MSGFMT="/opt/lo/bin/msgfmt"
+        else
+            for ac_prog in msgfmt
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_MSGFMT+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$MSGFMT"; then
+  ac_cv_prog_MSGFMT="$MSGFMT" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_MSGFMT="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+MSGFMT=$ac_cv_prog_MSGFMT
+if test -n "$MSGFMT"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MSGFMT" >&5
+printf "%s\n" "$MSGFMT" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$MSGFMT" && break
+done
+
+            if test -z "$MSGFMT"; then
+                as_fn_error $? "msgfmt not found. Install GNU gettext, or re-run without languages." "$LINENO" 5
+            fi
+        fi
+    fi
+    if test -z "$MSGUNIQ"; then
+        if test -n "$LODE_HOME" -a -x "$LODE_HOME/opt/bin/msguniq" ; then
+            MSGUNIQ="$LODE_HOME/opt/bin/msguniq"
+        elif test -x "/opt/lo/bin/msguniq"; then
+            MSGUNIQ="/opt/lo/bin/msguniq"
+        else
+            for ac_prog in msguniq
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_MSGUNIQ+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$MSGUNIQ"; then
+  ac_cv_prog_MSGUNIQ="$MSGUNIQ" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_MSGUNIQ="$ac_prog"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+MSGUNIQ=$ac_cv_prog_MSGUNIQ
+if test -n "$MSGUNIQ"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MSGUNIQ" >&5
+printf "%s\n" "$MSGUNIQ" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+  test -n "$MSGUNIQ" && break
+done
+
+            if test -z "$MSGUNIQ"; then
+                as_fn_error $? "msguniq not found. Install GNU gettext, or re-run without languages." "$LINENO" 5
+            fi
+        fi
+    fi
+fi
+
+
+# check that the list is valid
+for lang in $WITH_LANG; do
+    test "$lang" = "ALL" && continue
+    # need to check for the exact string, so add space before and after the list of all languages
+    for vl in $ALL_LANGS; do
+        if test "$vl" = "$lang"; then
+           break
+        fi
+    done
+    if test "$vl" != "$lang"; then
+        # if you're reading this - you prolly quoted your languages remove the quotes ...
+        as_fn_error $? "invalid language: '$lang' (vs '$v1'); supported languages are: $ALL_LANGS" "$LINENO" 5
+    fi
+done
+if test -n "$WITH_LANG" -a "$WITH_LANG" != "ALL"; then
+    echo $WITH_LANG | grep -q en-US
+    test $? -ne 1 || WITH_LANG=`echo $WITH_LANG en-US`
+fi
+# list with substituted ALL
+WITH_LANG_LIST=`echo $WITH_LANG | sed "s/ALL/$ALL_LANGS/"`
+test -z "$WITH_LANG_LIST" && WITH_LANG_LIST="en-US"
+test "$WITH_LANG" = "en-US" && WITH_LANG=
+if test "$enable_release_build" = "" -o "$enable_release_build" = "no"; then
+    test "$WITH_LANG_LIST" = "en-US" || WITH_LANG_LIST=`echo $WITH_LANG_LIST qtz`
+    ALL_LANGS=`echo $ALL_LANGS qtz`
+fi
+
+printf "%s\n" "#define WITH_LANG \"$WITH_LANG\"" >>confdefs.h
+
+
+
+
+
+WITH_POOR_HELP_LOCALIZATIONS=
+if test -d "$SRC_ROOT/translations/source"; then
+    for l in `ls -1 $SRC_ROOT/translations/source`; do
+        if test ! -d "$SRC_ROOT/translations/source/$l/helpcontent2"; then
+            WITH_POOR_HELP_LOCALIZATIONS="$WITH_POOR_HELP_LOCALIZATIONS $l"
+        fi
+    done
+fi
+
+
+if test -n "$with_locales" -a "$with_locales" != ALL; then
+    WITH_LOCALES="$with_locales"
+
+    just_langs="`echo $WITH_LOCALES | sed -e 's/_A-Z*//g'`"
+    # Only languages and scripts for which we actually have ifdefs need to be handled. Also see
+    # config_host/config_locales.h.in
+    for locale in $WITH_LOCALES; do
+        lang=${locale%_*}
+
+        printf "%s\n" "#define WITH_LOCALE_$lang 1" >>confdefs.h
+
+
+        case $lang in
+        hi|mr*ne)
+            printf "%s\n" "#define WITH_LOCALE_FOR_SCRIPT_Deva 1" >>confdefs.h
+
+            ;;
+        bg|ru)
+            printf "%s\n" "#define WITH_LOCALE_FOR_SCRIPT_Cyrl 1" >>confdefs.h
+
+            ;;
+        esac
+    done
+else
+    printf "%s\n" "#define WITH_LOCALE_ALL 1" >>confdefs.h
+
+fi
+
+
+if test -n "${GIT_REFERENCE_SRC}"; then
+    for repo in ${GIT_NEEDED_SUBMODULES}; do
+        if ! test -d "${GIT_REFERENCE_SRC}"/${repo}; then
+            as_fn_error $? "referenced git: required repository does not exist: ${GIT_REFERENCE_SRC}/${repo}" "$LINENO" 5
+        fi
+    done
+fi
+
+
+if test -n "${GIT_LINK_SRC}"; then
+    for repo in ${GIT_NEEDED_SUBMODULES}; do
+        if ! test -d "${GIT_LINK_SRC}"/${repo}; then
+            as_fn_error $? "linked git: required repository does not exist: ${GIT_LINK_SRC}/${repo}" "$LINENO" 5
+        fi
+    done
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for alternative branding images directory" >&5
+printf %s "checking for alternative branding images directory... " >&6; }
+# initialize mapped arrays
+BRAND_INTRO_IMAGES="intro.png intro-highres.png"
+brand_files="$BRAND_INTRO_IMAGES logo.svg logo_inverted.svg logo-sc.svg logo-sc_inverted.svg about.svg"
+
+if test -z "$with_branding" -o "$with_branding" = "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none" >&5
+printf "%s\n" "none" >&6; }
+    DEFAULT_BRAND_IMAGES="$brand_files"
+else
+    if ! test -d $with_branding ; then
+        as_fn_error $? "No directory $with_branding, falling back to default branding" "$LINENO" 5
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $with_branding" >&5
+printf "%s\n" "$with_branding" >&6; }
+        CUSTOM_BRAND_DIR="$with_branding"
+        for lfile in $brand_files
+        do
+            if ! test -f $with_branding/$lfile ; then
+                { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Branded file $lfile does not exist, using the default one" >&5
+printf "%s\n" "$as_me: WARNING: Branded file $lfile does not exist, using the default one" >&2;}
+                DEFAULT_BRAND_IMAGES="$DEFAULT_BRAND_IMAGES $lfile"
+            else
+                CUSTOM_BRAND_IMAGES="$CUSTOM_BRAND_IMAGES $lfile"
+            fi
+        done
+        check_for_progress="yes"
+    fi
+fi
+
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for 'intro' progress settings" >&5
+printf %s "checking for 'intro' progress settings... " >&6; }
+PROGRESSBARCOLOR=
+PROGRESSSIZE=
+PROGRESSPOSITION=
+PROGRESSFRAMECOLOR=
+PROGRESSTEXTCOLOR=
+PROGRESSTEXTBASELINE=
+
+if test "$check_for_progress" = "yes" -a -f "$with_branding/progress.conf" ; then
+    source "$with_branding/progress.conf"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: settings found in $with_branding/progress.conf" >&5
+printf "%s\n" "settings found in $with_branding/progress.conf" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none" >&5
+printf "%s\n" "none" >&6; }
+fi
+
+
+
+
+
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for extra build ID" >&5
+printf %s "checking for extra build ID... " >&6; }
+if test -n "$with_extra_buildid" -a "$with_extra_buildid" != "yes" ; then
+    EXTRA_BUILDID="$with_extra_buildid"
+fi
+# in tinderboxes, it is easier to set EXTRA_BUILDID via the environment variable instead of configure switch
+if test -n "$EXTRA_BUILDID" ; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $EXTRA_BUILDID" >&5
+printf "%s\n" "$EXTRA_BUILDID" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not set" >&5
+printf "%s\n" "not set" >&6; }
+fi
+printf "%s\n" "#define EXTRA_BUILDID \"$EXTRA_BUILDID\"" >>confdefs.h
+
+
+OOO_VENDOR=
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for vendor" >&5
+printf %s "checking for vendor... " >&6; }
+if test -z "$with_vendor" -o "$with_vendor" = "no"; then
+    OOO_VENDOR="$USERNAME"
+
+    if test -z "$OOO_VENDOR"; then
+        OOO_VENDOR="$USER"
+    fi
+
+    if test -z "$OOO_VENDOR"; then
+        OOO_VENDOR="`id -u -n`"
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not set, using $OOO_VENDOR" >&5
+printf "%s\n" "not set, using $OOO_VENDOR" >&6; }
+else
+    OOO_VENDOR="$with_vendor"
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $OOO_VENDOR" >&5
+printf "%s\n" "$OOO_VENDOR" >&6; }
+fi
+printf "%s\n" "#define OOO_VENDOR \"$OOO_VENDOR\"" >>confdefs.h
+
+
+
+if test "$_os" = "Android" ; then
+    ANDROID_PACKAGE_NAME=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Android package name" >&5
+printf %s "checking for Android package name... " >&6; }
+    if test -z "$with_android_package_name" -o "$with_android_package_name" = "no"; then
+        if test -n "$ENABLE_DEBUG"; then
+            # Default to the package name that makes ndk-gdb happy.
+            ANDROID_PACKAGE_NAME="org.libreoffice"
+        else
+            ANDROID_PACKAGE_NAME="org.example.libreoffice"
+        fi
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not set, using $ANDROID_PACKAGE_NAME" >&5
+printf "%s\n" "not set, using $ANDROID_PACKAGE_NAME" >&6; }
+    else
+        ANDROID_PACKAGE_NAME="$with_android_package_name"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ANDROID_PACKAGE_NAME" >&5
+printf "%s\n" "$ANDROID_PACKAGE_NAME" >&6; }
+    fi
+
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to install the compat oo* wrappers" >&5
+printf %s "checking whether to install the compat oo* wrappers... " >&6; }
+if test "$with_compat_oowrappers" = "yes"; then
+    WITH_COMPAT_OOWRAPPERS=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    WITH_COMPAT_OOWRAPPERS=
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+INSTALLDIRNAME=`echo LibreOffice | $AWK '{print tolower($0)}'`
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for install dirname" >&5
+printf %s "checking for install dirname... " >&6; }
+if test -n "$with_install_dirname" -a "$with_install_dirname" != "no" -a "$with_install_dirname" != "yes"; then
+    INSTALLDIRNAME="$with_install_dirname"
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $INSTALLDIRNAME" >&5
+printf "%s\n" "$INSTALLDIRNAME" >&6; }
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for prefix" >&5
+printf %s "checking for prefix... " >&6; }
+test "x$prefix" = xNONE && prefix=$ac_default_prefix
+test "x$exec_prefix" = xNONE && exec_prefix=$prefix
+PREFIXDIR="$prefix"
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PREFIXDIR" >&5
+printf "%s\n" "$PREFIXDIR" >&6; }
+
+
+LIBDIR=$(eval echo $(eval echo $libdir))
+
+
+DATADIR=$(eval echo $(eval echo $datadir))
+
+
+MANDIR=$(eval echo $(eval echo $mandir))
+
+
+DOCDIR=$(eval echo $(eval echo $docdir))
+
+
+BINDIR=$(eval echo $(eval echo $bindir))
+
+
+INSTALLDIR="$LIBDIR/$INSTALLDIRNAME"
+
+
+TESTINSTALLDIR="${BUILDDIR}/test-install"
+
+
+
+# ===================================================================
+# OAuth2 id and secrets
+# ===================================================================
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Google Drive client id and secret" >&5
+printf %s "checking for Google Drive client id and secret... " >&6; }
+if test "$with_gdrive_client_id" = "no" -o -z "$with_gdrive_client_id"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not set" >&5
+printf "%s\n" "not set" >&6; }
+    GDRIVE_CLIENT_ID="\"\""
+    GDRIVE_CLIENT_SECRET="\"\""
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: set" >&5
+printf "%s\n" "set" >&6; }
+    GDRIVE_CLIENT_ID="\"$with_gdrive_client_id\""
+    GDRIVE_CLIENT_SECRET="\"$with_gdrive_client_secret\""
+fi
+printf "%s\n" "#define GDRIVE_CLIENT_ID $GDRIVE_CLIENT_ID" >>confdefs.h
+
+printf "%s\n" "#define GDRIVE_CLIENT_SECRET $GDRIVE_CLIENT_SECRET" >>confdefs.h
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Alfresco Cloud client id and secret" >&5
+printf %s "checking for Alfresco Cloud client id and secret... " >&6; }
+if test "$with_alfresco_cloud_client_id" = "no" -o -z "$with_alfresco_cloud_client_id"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not set" >&5
+printf "%s\n" "not set" >&6; }
+    ALFRESCO_CLOUD_CLIENT_ID="\"\""
+    ALFRESCO_CLOUD_CLIENT_SECRET="\"\""
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: set" >&5
+printf "%s\n" "set" >&6; }
+    ALFRESCO_CLOUD_CLIENT_ID="\"$with_alfresco_cloud_client_id\""
+    ALFRESCO_CLOUD_CLIENT_SECRET="\"$with_alfresco_cloud_client_secret\""
+fi
+printf "%s\n" "#define ALFRESCO_CLOUD_CLIENT_ID $ALFRESCO_CLOUD_CLIENT_ID" >>confdefs.h
+
+printf "%s\n" "#define ALFRESCO_CLOUD_CLIENT_SECRET $ALFRESCO_CLOUD_CLIENT_SECRET" >>confdefs.h
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for OneDrive client id and secret" >&5
+printf %s "checking for OneDrive client id and secret... " >&6; }
+if test "$with_onedrive_client_id" = "no" -o -z "$with_onedrive_client_id"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not set" >&5
+printf "%s\n" "not set" >&6; }
+    ONEDRIVE_CLIENT_ID="\"\""
+    ONEDRIVE_CLIENT_SECRET="\"\""
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: set" >&5
+printf "%s\n" "set" >&6; }
+    ONEDRIVE_CLIENT_ID="\"$with_onedrive_client_id\""
+    ONEDRIVE_CLIENT_SECRET="\"$with_onedrive_client_secret\""
+fi
+printf "%s\n" "#define ONEDRIVE_CLIENT_ID $ONEDRIVE_CLIENT_ID" >>confdefs.h
+
+printf "%s\n" "#define ONEDRIVE_CLIENT_SECRET $ONEDRIVE_CLIENT_SECRET" >>confdefs.h
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable dependency tracking" >&5
+printf %s "checking whether to enable dependency tracking... " >&6; }
+if test "$enable_dependency_tracking" = "no"; then
+    nodep=TRUE
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for number of processors to use" >&5
+printf %s "checking for number of processors to use... " >&6; }
+# plain --with-parallelism is just the default
+if test -n "$with_parallelism" -a "$with_parallelism" != "yes"; then
+    if test "$with_parallelism" = "no"; then
+        PARALLELISM=0
+    else
+        PARALLELISM=$with_parallelism
+    fi
+else
+    if test "$enable_icecream" = "yes"; then
+        PARALLELISM="40"
+    else
+        case `uname -s` in
+
+        Darwin|FreeBSD|NetBSD|OpenBSD)
+            PARALLELISM=`sysctl -n hw.ncpu`
+            ;;
+
+        Linux)
+            PARALLELISM=`getconf _NPROCESSORS_ONLN`
+        ;;
+        # what else than above does profit here *and* has /proc?
+        *)
+            PARALLELISM=`grep $'^processor\t*:' /proc/cpuinfo | wc -l`
+            ;;
+        esac
+
+        # If we hit the catch-all case, but /proc/cpuinfo doesn't exist or has an
+        # unexpected format, 'wc -l' will have returned 0 (and we won't use -j at all).
+    fi
+fi
+
+if test $PARALLELISM -eq 0; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: explicit make -j option needed" >&5
+printf "%s\n" "explicit make -j option needed" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PARALLELISM" >&5
+printf "%s\n" "$PARALLELISM" >&6; }
+fi
+
+
+#
+# Set up ILIB for MSVC build
+#
+ILIB1=
+if test "$build_os" = "cygwin" -o "$build_os" = "wsl" -o -n "$WSL_ONLY_AS_HELPER"; then
+    ILIB="."
+    if test -n "$JAVA_HOME"; then
+        ILIB="$ILIB;$JAVA_HOME/lib"
+    fi
+    ILIB1=-link
+    PathFormat "${COMPATH}/lib/$WIN_HOST_ARCH"
+    ILIB="$ILIB;$formatted_path"
+    ILIB1="$ILIB1 -LIBPATH:$formatted_path"
+    ILIB="$ILIB;$WINDOWS_SDK_HOME/lib/$WIN_HOST_ARCH"
+    ILIB1="$ILIB1 -LIBPATH:$WINDOWS_SDK_HOME/lib/$WIN_HOST_ARCH"
+    if test $WINDOWS_SDK_VERSION = 80 -o $WINDOWS_SDK_VERSION = 81 -o $WINDOWS_SDK_VERSION = 10; then
+        ILIB="$ILIB;$WINDOWS_SDK_HOME/lib/$winsdklibsubdir/um/$WIN_HOST_ARCH"
+        ILIB1="$ILIB1 -LIBPATH:$WINDOWS_SDK_HOME/lib/$winsdklibsubdir/um/$WIN_HOST_ARCH"
+    fi
+    PathFormat "${UCRTSDKDIR}lib/$UCRTVERSION/ucrt/$WIN_HOST_ARCH"
+    ucrtlibpath_formatted=$formatted_path
+    ILIB="$ILIB;$ucrtlibpath_formatted"
+    ILIB1="$ILIB1 -LIBPATH:$ucrtlibpath_formatted"
+    if test -f "$DOTNET_FRAMEWORK_HOME/lib/mscoree.lib"; then
+        PathFormat "$DOTNET_FRAMEWORK_HOME/lib"
+        ILIB="$ILIB;$formatted_path"
+    else
+        PathFormat "$DOTNET_FRAMEWORK_HOME/Lib/um/$WIN_HOST_ARCH"
+        ILIB="$ILIB;$formatted_path"
+    fi
+
+    if test "$cross_compiling" != "yes"; then
+        ILIB_FOR_BUILD="$ILIB"
+    fi
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports a working C++20 consteval" >&5
+printf %s "checking whether $CXX_BASE supports a working C++20 consteval... " >&6; }
+have_cpp_consteval=
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXX=$CXX
+if test "$COM" = MSC && test "$COM_IS_CLANG" != TRUE; then
+    CXX="env LIB=$ILIB $CXX"
+fi
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11"
+if test "$cross_compiling" = yes
+then :
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: assumed no (cross compiling)" >&5
+printf "%s\n" "assumed no (cross compiling)" >&6; }
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        struct S {
+            consteval S() { i = 1; }
+            int i = 0;
+        };
+        S const s;
+
+        struct S1 {
+             int a;
+             consteval S1(int n): a(n) {}
+        };
+        struct S2 {
+            S1 x;
+            S2(): x(0) {}
+        };
+
+        struct S3 {
+            consteval S3() {}
+            union {
+                int a;
+                unsigned b = 0;
+            };
+        };
+        void f() { S3(); }
+
+        struct S4 { consteval S4() = default; };
+        void f4(bool b) { b ? S4() : S4(); }
+
+        struct S5 {
+            consteval S5() { c = 0; }
+            char * f() { return &c; }
+            union {
+                char c;
+                int i;
+            };
+        };
+        auto s5 = S5().f();
+
+        struct S6 {
+            consteval S6(char const (&lit)[2]) {
+                buf[0] = lit[0];
+                buf[1] = lit[1];
+            }
+            union {
+                int x;
+                char buf[2];
+            };
+        };
+        void f6() { S6("a"); }
+
+int
+main (void)
+{
+
+        return (s.i == 1) ? 0 : 1;
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_run "$LINENO"
+then :
+
+        have_cpp_consteval=1
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
+fi
+
+CXX=$save_CXX
+CXXFLAGS=$save_CXXFLAGS
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+if test -n "$have_cpp_consteval" && test "$COM_IS_CLANG" = TRUE && test -n "$BUILDING_PCH_WITH_OBJ"
+then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE has working consteval in combination with PCH" >&5
+printf %s "checking whether $CXX_BASE has working consteval in combination with PCH... " >&6; }
+                    printf 'export module M;\nexport struct S1 { consteval S1(int) {} };' >conftest.cppm
+    $CXX $CXXFLAGS $CXXFLAGS_CXX11 --precompile conftest.cppm
+    rm conftest.cppm
+    ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+    save_CXXFLAGS=$CXXFLAGS
+    save_LDFLAGS=$LDFLAGS
+    CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11"
+    LDFLAGS="$LDFLAGS -fmodule-file=M=conftest.pcm conftest.pcm"
+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        import M;
+
+int
+main (void)
+{
+
+        struct S2 { S1 s = 0; };
+        S2 s;
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+
+        have_cpp_consteval=
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+    CXXFLAGS=$save_CXXFLAGS
+    LDFLAGS=$save_LDFLAGS
+    ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+    rm conftest.pcm
+fi
+if test -n "$have_cpp_consteval"; then
+    printf "%s\n" "#define HAVE_CPP_CONSTEVAL 1" >>confdefs.h
+
+fi
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX_BASE supports a working C++20 std::strong_order" >&5
+printf %s "checking whether $CXX_BASE supports a working C++20 std::strong_order... " >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+save_CXX=$CXX
+if test "$COM" = MSC && test "$COM_IS_CLANG" != TRUE; then
+    CXX="env LIB=$ILIB $CXX"
+fi
+save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS="$CXXFLAGS $CXXFLAGS_CXX11"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        #include <compare>
+
+int
+main (void)
+{
+
+        (void) (std::strong_order(1.0, 2.0) < 0);
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_cxx_try_link "$LINENO"
+then :
+
+        printf "%s\n" "#define HAVE_CPP_STRONG_ORDER 1" >>confdefs.h
+
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam \
+    conftest$ac_exeext conftest.$ac_ext
+CXX=$save_CXX
+CXXFLAGS=$save_CXXFLAGS
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+# ===================================================================
+# Creating bigger shared library to link against
+# ===================================================================
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to create huge library" >&5
+printf %s "checking whether to create huge library... " >&6; }
+MERGELIBS=
+MERGELIBS_MORE=
+
+if test $_os = iOS -o $_os = Android; then
+    # Never any point in mergelibs for these as we build just static
+    # libraries anyway...
+    enable_mergelibs=no
+fi
+
+if test -n "$enable_mergelibs" -a "$enable_mergelibs" != "no"; then
+    if test "$enable_mergelibs" = "more"; then
+        MERGELIBS="TRUE"
+        MERGELIBS_MORE="TRUE"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (more)" >&5
+printf "%s\n" "yes (more)" >&6; }
+        printf "%s\n" "#define ENABLE_MERGELIBS 1" >>confdefs.h
+
+        printf "%s\n" "#define ENABLE_MERGELIBS_MORE 1" >>confdefs.h
+
+    elif test "$enable_mergelibs" = "yes" -o "$enable_mergelibs" = ""; then
+        MERGELIBS="TRUE"
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+        printf "%s\n" "#define ENABLE_MERGELIBS 1" >>confdefs.h
+
+    else
+        as_fn_error $? "unknown value --enable-mergelibs=$enable_mergelibs" "$LINENO" 5
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to use icerun wrapper" >&5
+printf %s "checking whether to use icerun wrapper... " >&6; }
+ICECREAM_RUN=
+if test "$enable_icecream" = "yes" && command -v icerun >/dev/null ; then
+    ICECREAM_RUN=icerun
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+x_ICECC_VERSION=\#
+if test -n "$ICECC_VERSION" ; then
+    x_ICECC_VERSION=
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking MPL subset" >&5
+printf %s "checking MPL subset... " >&6; }
+MPL_SUBSET=
+LICENSE="LGPL"
+
+if test "$enable_mpl_subset" = "yes"; then
+    mpl_error_string=
+    newline=$'\n    *'
+    warn_report=false
+    if test "$enable_report_builder" != "no" -a "$with_java" != "no"; then
+        warn_report=true
+    elif test "$ENABLE_REPORTBUILDER" = "TRUE"; then
+        warn_report=true
+    fi
+    if test "$warn_report" = "true"; then
+        mpl_error_string="$mpl_error_string$newline Need to --disable-report-builder - extended database report builder."
+    fi
+    if test "x$enable_postgresql_sdbc" != "xno"; then
+        mpl_error_string="$mpl_error_string$newline Need to --disable-postgresql-sdbc - the PostgreSQL database backend."
+    fi
+    if test "$enable_lotuswordpro" = "yes"; then
+        mpl_error_string="$mpl_error_string$newline Need to --disable-lotuswordpro - a Lotus Word Pro file format import filter."
+    fi
+    if test -n "$ENABLE_POPPLER"; then
+        if test "x$SYSTEM_POPPLER" = "x"; then
+            mpl_error_string="$mpl_error_string$newline Need to disable PDF import via poppler (--disable-poppler) or use system library."
+        fi
+    fi
+    # cf. m4/libo_check_extension.m4
+    if test "x$WITH_EXTRA_EXTENSIONS" != "x"; then
+        mpl_error_string="$mpl_error_string$newline Need to disable extra extensions enabled using --enable-ext-XXXX."
+    fi
+    denied_themes=
+    filtered_themes=
+    for theme in $WITH_THEMES; do
+        case $theme in
+        breeze|breeze_dark|breeze_dark_svg|breeze_svg|elementary|elementary_svg|karasa_jaga|karasa_jaga_svg) #denylist of icon themes under GPL or LGPL
+            denied_themes="${denied_themes:+$denied_themes }$theme" ;;
+        *)
+            filtered_themes="${filtered_themes:+$filtered_themes }$theme" ;;
+        esac
+    done
+    if test "x$denied_themes" != "x"; then
+        if test "x$filtered_themes" == "x"; then
+            filtered_themes="colibre"
+        fi
+        mpl_error_string="$mpl_error_string$newline Need to disable icon themes: $denied_themes, use --with-theme=$filtered_themes."
+    fi
+
+    ENABLE_OPENGL_TRANSITIONS=
+
+    if test "$enable_lpsolve" != "no" -o "x$ENABLE_LPSOLVE" = "xTRUE"; then
+        mpl_error_string="$mpl_error_string$newline Need to --disable-lpsolve - calc linear programming solver."
+    fi
+
+    if test "x$mpl_error_string" != "x"; then
+        as_fn_error $? "$mpl_error_string" "$LINENO" 5
+    fi
+
+    MPL_SUBSET="TRUE"
+    LICENSE="MPL-2.0"
+    printf "%s\n" "#define MPL_HAVE_SUBSET 1" >>confdefs.h
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: only" >&5
+printf "%s\n" "only" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no restrictions" >&5
+printf "%s\n" "no restrictions" >&6; }
+fi
+
+
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking formula logger" >&5
+printf %s "checking formula logger... " >&6; }
+ENABLE_FORMULA_LOGGER=
+
+if test "x$enable_formula_logger" = "xyes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    printf "%s\n" "#define ENABLE_FORMULA_LOGGER 1" >>confdefs.h
+
+    ENABLE_FORMULA_LOGGER=TRUE
+elif test -n "$ENABLE_DBGUTIL" ; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+    printf "%s\n" "#define ENABLE_FORMULA_LOGGER 1" >>confdefs.h
+
+    ENABLE_FORMULA_LOGGER=TRUE
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+
+
+if test $_os = WINNT -a -f "$SRC_ROOT/antivirusDetection.vbs" ; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for active Antivirus software" >&5
+printf %s "checking for active Antivirus software... " >&6; }
+    PathFormat "$SRC_ROOT/antivirusDetection.vbs"
+    ANTIVIRUS_LIST=`cscript.exe //Nologo ${formatted_path}`
+    if  [ "$ANTIVIRUS_LIST" != "NULL" ] ; then
+        if  [ "$ANTIVIRUS_LIST" != "NOT_FOUND" ] ; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found" >&5
+printf "%s\n" "found" >&6; }
+            EICAR_STRING='X5O!P%@AP[4\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*'
+            echo $EICAR_STRING > $SRC_ROOT/eicar
+            EICAR_TEMP_FILE_CONTENTS=`cat $SRC_ROOT/eicar`
+            rm $SRC_ROOT/eicar
+            if  [ "$EICAR_STRING" != "$EICAR_TEMP_FILE_CONTENTS" ] ; then
+                as_fn_error $? "Exclude the build and source directories associated with LibreOffice in the following Antivirus software: $ANTIVIRUS_LIST" "$LINENO" 5
+            fi
+            echo $EICAR_STRING > $BUILDDIR/eicar
+            EICAR_TEMP_FILE_CONTENTS=`cat $BUILDDIR/eicar`
+            rm $BUILDDIR/eicar
+            if  [ "$EICAR_STRING" != "$EICAR_TEMP_FILE_CONTENTS" ] ; then
+                as_fn_error $? "Exclude the build and source directories associated with LibreOffice in the following Antivirus software: $ANTIVIRUS_LIST" "$LINENO" 5
+            fi
+            add_warning "To speed up builds and avoid failures in unit tests, it is highly recommended that you exclude the build and source directories associated with LibreOffice in the following Antivirus software: $ANTIVIRUS_LIST"
+        else
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not found" >&5
+printf "%s\n" "not found" >&6; }
+        fi
+    else
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: n/a" >&5
+printf "%s\n" "n/a" >&6; }
+    fi
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for coredumpctl support" >&5
+printf %s "checking for coredumpctl support... " >&6; }
+if test -z "$with_coredumpctl" && test $_os != Linux; then
+    with_coredumpctl=no
+fi
+if test "$with_coredumpctl" = no; then
+    WITH_COREDUMPCTL=
+else
+    # Extract the first word of "coredumpctl", so it can be a program name with args.
+set dummy coredumpctl; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_COREDUMPCTL+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $COREDUMPCTL in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_COREDUMPCTL="$COREDUMPCTL" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_COREDUMPCTL="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+COREDUMPCTL=$ac_cv_path_COREDUMPCTL
+if test -n "$COREDUMPCTL"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $COREDUMPCTL" >&5
+printf "%s\n" "$COREDUMPCTL" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    # Extract the first word of "jq", so it can be a program name with args.
+set dummy jq; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_JQ+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $JQ in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_JQ="$JQ" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_JQ="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+JQ=$ac_cv_path_JQ
+if test -n "$JQ"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $JQ" >&5
+printf "%s\n" "$JQ" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    # Extract the first word of "systemd-escape", so it can be a program name with args.
+set dummy systemd-escape; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_SYSTEMD_ESCAPE+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $SYSTEMD_ESCAPE in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_SYSTEMD_ESCAPE="$SYSTEMD_ESCAPE" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_SYSTEMD_ESCAPE="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+SYSTEMD_ESCAPE=$ac_cv_path_SYSTEMD_ESCAPE
+if test -n "$SYSTEMD_ESCAPE"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $SYSTEMD_ESCAPE" >&5
+printf "%s\n" "$SYSTEMD_ESCAPE" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    # Extract the first word of "systemd-run", so it can be a program name with args.
+set dummy systemd-run; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_path_SYSTEMD_RUN+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  case $SYSTEMD_RUN in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_SYSTEMD_RUN="$SYSTEMD_RUN" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_path_SYSTEMD_RUN="$as_dir$ac_word$ac_exec_ext"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+SYSTEMD_RUN=$ac_cv_path_SYSTEMD_RUN
+if test -n "$SYSTEMD_RUN"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $SYSTEMD_RUN" >&5
+printf "%s\n" "$SYSTEMD_RUN" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+    if test -z "$COREDUMPCTL" || test -z "$JQ" || test -z "$SYSTEMD_ESCAPE" \
+        || test -z "$SYSTEMD_RUN"
+    then
+        if test -z "$with_coredumpctl"; then
+            WITH_COREDUMPCTL=
+        else
+            if test -z "$COREDUMPCTL"; then
+                as_fn_error $? "coredumpctl not found" "$LINENO" 5
+            fi
+            if test -z "$JQ"; then
+                as_fn_error $? "jq not found" "$LINENO" 5
+            fi
+            if test -z "$SYSTEMD_ESCAPE"; then
+                as_fn_error $? "systemd-escape not found" "$LINENO" 5
+            fi
+            if test -z "$SYSTEMD_RUN"; then
+                as_fn_error $? "systemd-run not found" "$LINENO" 5
+            fi
+        fi
+    else
+        WITH_COREDUMPCTL=TRUE
+    fi
+fi
+if test -z "$WITH_COREDUMPCTL"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
+fi
+
+
+
+
+
+
+#"
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to keep the system awake/prevent it from going into sleep/standby" >&5
+printf %s "checking whether to keep the system awake/prevent it from going into sleep/standby... " >&6; }
+if test -z "$with_keep_awake" -o "$with_keep_awake" = "no"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+elif test "$with_keep_awake" = "yes"; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (autodetect)" >&5
+printf "%s\n" "yes (autodetect)" >&6; }
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a suitable keep-awake command" >&5
+printf %s "checking for a suitable keep-awake command... " >&6; }
+    if test "$_os" = "WINNT"; then
+        PathFormat "$(perl.exe -e 'print $ENV{"PROGRAMFILES"}')"
+        if test -f "$formatted_path_unix/PowerToys/PowerToys.Awake.exe"; then
+            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using \"Awake\"" >&5
+printf "%s\n" "using \"Awake\"" >&6; }
+            # need to pass the windows-PID to awake, so get the PGID of the shell first to get
+            # make's PID and then use that to get the windows-PID.
+            # lots of quoting for both make ($$) as well as configure ('"'"') make that command
+            # much scarier looking than it actually is. Using make's shell instead of subshells in
+            # the recipe to keep the command that's echoed by make short.
+            KEEP_AWAKE_CMD=$formatted_path/PowerToys/PowerToys.Awake.exe' --display-on False --pid $(shell ps | awk '"'"'/^\s+'"'"'$$(ps | awk '"'"'/^\s+'"'"'$$$$'"'"'\s+/{print $$3}'"'"')'"'"'\s+/{print $$4}'"'"') &'
+        else
+            as_fn_error $? "\"Awake\" not found - install Microsoft PowerToys or specify a custom command" "$LINENO" 5
+        fi
+    elif test "$_os" = "Darwin"; then
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using \"caffeinate\"" >&5
+printf "%s\n" "using \"caffeinate\"" >&6; }
+        KEEP_AWAKE_CMD="caffeinate"
+    else
+        as_fn_error $? "no default available for $_os, please specify manually" "$LINENO" 5
+    fi
+else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (custom command: $with_keep_awake)" >&5
+printf "%s\n" "yes (custom command: $with_keep_awake)" >&6; }
+fi
+
+
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: setting up the build environment variables..." >&5
+printf "%s\n" "$as_me: setting up the build environment variables..." >&6;}
+
+
+
+if test "$build_os" = "cygwin" -o "$build_os" = wsl -o -n "$WSL_ONLY_AS_HELPER"; then
+    if test -d "$COMPATH_unix/atlmfc/lib/spectre"; then
+        ATL_LIB="$COMPATH/atlmfc/lib/spectre"
+        ATL_INCLUDE="$COMPATH/atlmfc/include"
+    elif test -d "$COMPATH_unix/atlmfc/lib"; then
+        ATL_LIB="$COMPATH/atlmfc/lib"
+        ATL_INCLUDE="$COMPATH/atlmfc/include"
+    else
+        ATL_LIB="$WINDOWS_SDK_HOME/lib" # Doesn't exist for VSE
+        ATL_INCLUDE="$WINDOWS_SDK_HOME/include/atl"
+    fi
+    ATL_LIB="$ATL_LIB/$WIN_HOST_ARCH"
+    ATL_LIB=`win_short_path_for_make "$ATL_LIB"`
+    ATL_INCLUDE=`win_short_path_for_make "$ATL_INCLUDE"`
+fi
+
+if test "$build_os" = "cygwin"; then
+    # sort.exe and find.exe also exist in C:/Windows/system32 so need /usr/bin/
+    PathFormat "/usr/bin/find.exe"
+    FIND="$formatted_path"
+    PathFormat "/usr/bin/sort.exe"
+    SORT="$formatted_path"
+    PathFormat "/usr/bin/grep.exe"
+    WIN_GREP="$formatted_path"
+    PathFormat "/usr/bin/ls.exe"
+    WIN_LS="$formatted_path"
+    PathFormat "/usr/bin/touch.exe"
+    WIN_TOUCH="$formatted_path"
+else
+    FIND=find
+    SORT=sort
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+
+PathFormat "$PERL"
+PERL="$formatted_path"
+
+
+if test -n "$TMPDIR"; then
+    TEMP_DIRECTORY="$TMPDIR"
+    if test -n "$WSL_ONLY_AS_HELPER"; then
+       TEMP_DIRECTORY=$(wslpath -m "$TEMP_DIRECTORY")
+    fi
+else
+    TEMP_DIRECTORY="/tmp"
+fi
+CYGWIN_BASH="C:/cygwin64/bin/bash.exe"
+if test "$build_os" = "cygwin"; then
+    TEMP_DIRECTORY=`cygpath -m "$TEMP_DIRECTORY"`
+    CYGWIN_BASH=`cygpath -m /usr/bin/bash`
+fi
+
+
+
+# setup the PATH for the environment
+if test -n "$LO_PATH_FOR_BUILD"; then
+    LO_PATH="$LO_PATH_FOR_BUILD"
+    case "$host_os" in
+    cygwin*|wsl*)
+        pathmunge "$MSVC_HOST_PATH" "before"
+        ;;
+    esac
+else
+    LO_PATH="$PATH"
+
+    case "$host_os" in
+
+    dragonfly*|freebsd*|linux-gnu*|*netbsd*|openbsd*)
+        if test "$ENABLE_JAVA" != ""; then
+            pathmunge "$JAVA_HOME/bin" "after"
+        fi
+        ;;
+
+    cygwin*|wsl*)
+        # Win32 make needs native paths
+        if test "$GNUMAKE_WIN_NATIVE" = "TRUE" ; then
+            LO_PATH=`cygpath -p -m "$PATH"`
+        fi
+        if test "$WIN_BUILD_ARCH" = "x64"; then
+            # needed for msi packaging
+            pathmunge "$WINDOWS_SDK_BINDIR_NO_ARCH/x86" "before"
+        fi
+        if test "$WIN_BUILD_ARCH" = "arm64"; then
+            # needed for msi packaging - as of 10.0.22621 SDK no arm64 ones yet
+            # the x86 ones probably would work just as well...
+            pathmunge "$WINDOWS_SDK_BINDIR_NO_ARCH/arm" "before"
+        fi
+        # .NET 4.6 and higher don't have bin directory
+        if test -f "$DOTNET_FRAMEWORK_HOME/bin"; then
+            pathmunge "$DOTNET_FRAMEWORK_HOME/bin" "before"
+        fi
+        pathmunge "$WINDOWS_SDK_HOME/bin" "before"
+        pathmunge "$CSC_PATH" "before"
+        pathmunge "$MIDL_PATH" "before"
+        pathmunge "$AL_PATH" "before"
+        pathmunge "$MSVC_MULTI_PATH" "before"
+        pathmunge "$MSVC_BUILD_PATH" "before"
+        if test -n "$MSBUILD_PATH" ; then
+            pathmunge "$MSBUILD_PATH" "before"
+        fi
+        pathmunge "$WINDOWS_SDK_BINDIR_NO_ARCH/$WIN_BUILD_ARCH" "before"
+        if test "$ENABLE_JAVA" != ""; then
+            if test -d "$JAVA_HOME/jre/bin/client"; then
+                pathmunge "$JAVA_HOME/jre/bin/client" "before"
+            fi
+            if test -d "$JAVA_HOME/jre/bin/hotspot"; then
+                pathmunge "$JAVA_HOME/jre/bin/hotspot" "before"
+            fi
+            pathmunge "$JAVA_HOME/bin" "before"
+        fi
+        pathmunge "$MSVC_HOST_PATH" "before"
+        ;;
+
+    solaris*)
+        pathmunge "/usr/css/bin" "before"
+        if test "$ENABLE_JAVA" != ""; then
+            pathmunge "$JAVA_HOME/bin" "after"
+        fi
+        ;;
+    esac
+fi
+
+
+
+# Allow to pass LO_ELFCHECK_ALLOWLIST from autogen.input to bin/check-elf-dynamic-objects:
+if test "$LO_ELFCHECK_ALLOWLIST" = x || test "${LO_ELFCHECK_ALLOWLIST-x}" != x; then
+    x_LO_ELFCHECK_ALLOWLIST=
+else
+    x_LO_ELFCHECK_ALLOWLIST=\#
+fi
+
+
+
+
+    if test -n "$libo_fuzz_list"; then
+        tmps=`eval echo $libo_fuzz_list`
+        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Summary of fuzzing: $tmps" >&5
+printf "%s\n" "$as_me: Summary of fuzzing: $tmps" >&6;}
+    fi
+
+
+# Generate a configuration sha256 we can use for deps
+if test -f config_host.mk; then
+    config_sha256=`$SHA256SUM config_host.mk | sed "s/ .*//"`
+fi
+if test -f config_host_lang.mk; then
+    config_lang_sha256=`$SHA256SUM config_host_lang.mk | sed "s/ .*//"`
+fi
+
+CFLAGS=$my_original_CFLAGS
+CXXFLAGS=$my_original_CXXFLAGS
+CPPFLAGS=$my_original_CPPFLAGS
+
+ac_config_links="$ac_config_links include:include"
+
+
+if test -n "$WSL_ONLY_AS_HELPER"; then
+    # while we configure in linux, we actually compile in "cygwin" (close enough at least)
+    build=$host
+    PathFormat "$SRC_ROOT"
+    SRC_ROOT="$formatted_path"
+    PathFormat "$BUILDDIR"
+    BUILDDIR="$formatted_path"
+    # git-bash has (gnu) tar, curl and sha256sum
+    CURL="curl.exe"
+    WGET=
+    GNUTAR="tar.exe"
+    SHA256SUM="sha256sum.exe"
+    COMPRESSIONTOOL="/usr/bin/gzip"
+    # TODO: maybe switch to strawberry-perl right away?
+    # only openssl seems to actually require it (for Pod/Usage.pm and maybe more)
+    PERL="perl.exe"
+    # use flex, gperf and nasm from wsl-container
+    # if using absolute path, would need to use double-leading slash for the msys path mangling
+    FLEX="$WSL $FLEX"
+    NASM="$WSL $NASM"
+    # some externals (libebook) check for it with AC_PATH_PROGS, and that only accepts overrides
+    # with an absolute path/requires the value to begin with a slash
+    GPERF="/c/Windows/system32/$WSL gperf"
+    # append strawberry tools dir to PATH (for e.g. windres, ar)
+    LO_PATH="$LO_PATH:$STRAWBERRY_TOOLS"
+    # temp-dir needs to be in windows realm, hardcode for now
+    if test "$TEMP_DIRECTORY" = /tmp; then
+        mkdir -p tmp
+        TEMP_DIRECTORY="$BUILDDIR/tmp"
+    fi
+fi
+
+# Keep in sync with list of files far up, at AC_MSG_CHECKING([for
+# BUILD platform configuration] - otherwise breaks cross building
+ac_config_files="$ac_config_files config_host_lang.mk Makefile bin/bffvalidator.sh bin/odfvalidator.sh bin/officeotron.sh instsetoo_native/util/openoffice.lst sysui/desktop/macosx/Info.plist hardened_runtime.xcent:sysui/desktop/macosx/hardened_runtime.xcent.in lo.xcent:sysui/desktop/macosx/lo.xcent.in vs-code.code-workspace.template:.vscode/vs-code-template.code-workspace.in"
+
+# map unix-style mount dirs to windows directories: /mnt/c/foobar -> C:/foobar
+# easier to do it in a postprocessing command than to modify every single variable
+ac_config_files="$ac_config_files config_host.mk"
+
+
+ac_config_headers="$ac_config_headers config_host/config_atspi.h"
+
+ac_config_headers="$ac_config_headers config_host/config_buildconfig.h"
+
+ac_config_headers="$ac_config_headers config_host/config_buildid.h"
+
+ac_config_headers="$ac_config_headers config_host/config_box2d.h"
+
+ac_config_headers="$ac_config_headers config_host/config_clang.h"
+
+ac_config_headers="$ac_config_headers config_host/config_crypto.h"
+
+ac_config_headers="$ac_config_headers config_host/config_dconf.h"
+
+ac_config_headers="$ac_config_headers config_host/config_eot.h"
+
+ac_config_headers="$ac_config_headers config_host/config_extensions.h"
+
+ac_config_headers="$ac_config_headers config_host/config_cairo_canvas.h"
+
+ac_config_headers="$ac_config_headers config_host/config_cairo_rgba.h"
+
+ac_config_headers="$ac_config_headers config_host/config_cxxabi.h"
+
+ac_config_headers="$ac_config_headers config_host/config_dbus.h"
+
+ac_config_headers="$ac_config_headers config_host/config_features.h"
+
+ac_config_headers="$ac_config_headers config_host/config_feature_desktop.h"
+
+ac_config_headers="$ac_config_headers config_host/config_feature_opencl.h"
+
+ac_config_headers="$ac_config_headers config_host/config_firebird.h"
+
+ac_config_headers="$ac_config_headers config_host/config_folders.h"
+
+ac_config_headers="$ac_config_headers config_host/config_fonts.h"
+
+ac_config_headers="$ac_config_headers config_host/config_fuzzers.h"
+
+ac_config_headers="$ac_config_headers config_host/config_gio.h"
+
+ac_config_headers="$ac_config_headers config_host/config_global.h"
+
+ac_config_headers="$ac_config_headers config_host/config_gpgme.h"
+
+ac_config_headers="$ac_config_headers config_host/config_java.h"
+
+ac_config_headers="$ac_config_headers config_host/config_langs.h"
+
+ac_config_headers="$ac_config_headers config_host/config_lgpl.h"
+
+ac_config_headers="$ac_config_headers config_host/config_libcxx.h"
+
+ac_config_headers="$ac_config_headers config_host/config_liblangtag.h"
+
+ac_config_headers="$ac_config_headers config_host/config_locales.h"
+
+ac_config_headers="$ac_config_headers config_host/config_mpl.h"
+
+ac_config_headers="$ac_config_headers config_host/config_oox.h"
+
+ac_config_headers="$ac_config_headers config_host/config_options.h"
+
+ac_config_headers="$ac_config_headers config_host/config_options_calc.h"
+
+ac_config_headers="$ac_config_headers config_host/config_zxing.h"
+
+ac_config_headers="$ac_config_headers config_host/config_skia.h"
+
+ac_config_headers="$ac_config_headers config_host/config_typesizes.h"
+
+ac_config_headers="$ac_config_headers config_host/config_validation.h"
+
+ac_config_headers="$ac_config_headers config_host/config_vendor.h"
+
+ac_config_headers="$ac_config_headers config_host/config_vclplug.h"
+
+ac_config_headers="$ac_config_headers config_host/config_version.h"
+
+ac_config_headers="$ac_config_headers config_host/config_oauth2.h"
+
+ac_config_headers="$ac_config_headers config_host/config_poppler.h"
+
+ac_config_headers="$ac_config_headers config_host/config_python.h"
+
+ac_config_headers="$ac_config_headers config_host/config_writerperfect.h"
+
+ac_config_headers="$ac_config_headers config_host/config_wasm_strip.h"
+
+ac_config_headers="$ac_config_headers solenv/lockfile/autoconf.h"
+
+cat >confcache <<\_ACEOF
+# This file is a shell script that caches the results of configure
+# tests run on this system so they can be shared between configure
+# scripts and configure runs, see configure's option --config-cache.
+# It is not useful on other systems.  If it contains results you don't
+# want to keep, you may remove or edit it.
+#
+# config.status only pays attention to the cache file if you give it
+# the --recheck option to rerun configure.
+#
+# `ac_cv_env_foo' variables (set or unset) will be overridden when
+# loading this file, other *unset* `ac_cv_foo' will be assigned the
+# following values.
+
+_ACEOF
+
+# The following way of writing the cache mishandles newlines in values,
+# but we know of no workaround that is simple, portable, and efficient.
+# So, we kill variables containing newlines.
+# Ultrix sh set writes to stderr and can't be redirected directly,
+# and sets the high bit in the cache file unless we assign to the vars.
+(
+  for ac_var in `(set) 2>&1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
+    eval ac_val=\$$ac_var
+    case $ac_val in #(
+    *${as_nl}*)
+      case $ac_var in #(
+      *_cv_*) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
+printf "%s\n" "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
+      esac
+      case $ac_var in #(
+      _ | IFS | as_nl) ;; #(
+      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
+      *) { eval $ac_var=; unset $ac_var;} ;;
+      esac ;;
+    esac
+  done
+
+  (set) 2>&1 |
+    case $as_nl`(ac_space=' '; set) 2>&1` in #(
+    *${as_nl}ac_space=\ *)
+      # `set' does not quote correctly, so add quotes: double-quote
+      # substitution turns \\\\ into \\, and sed turns \\ into \.
+      sed -n \
+	"s/'/'\\\\''/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
+      ;; #(
+    *)
+      # `set' quotes correctly as required by POSIX, so do not add quotes.
+      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
+      ;;
+    esac |
+    sort
+) |
+  sed '
+     /^ac_cv_env_/b end
+     t clear
+     :clear
+     s/^\([^=]*\)=\(.*[{}].*\)$/test ${\1+y} || &/
+     t end
+     s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
+     :end' >>confcache
+if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
+  if test -w "$cache_file"; then
+    if test "x$cache_file" != "x/dev/null"; then
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: updating cache $cache_file" >&5
+printf "%s\n" "$as_me: updating cache $cache_file" >&6;}
+      if test ! -f "$cache_file" || test -h "$cache_file"; then
+	cat confcache >"$cache_file"
+      else
+        case $cache_file in #(
+        */* | ?:*)
+	  mv -f confcache "$cache_file"$$ &&
+	  mv -f "$cache_file"$$ "$cache_file" ;; #(
+        *)
+	  mv -f confcache "$cache_file" ;;
+	esac
+      fi
+    fi
+  else
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: not updating unwritable cache $cache_file" >&5
+printf "%s\n" "$as_me: not updating unwritable cache $cache_file" >&6;}
+  fi
+fi
+rm -f confcache
+
+test "x$prefix" = xNONE && prefix=$ac_default_prefix
+# Let make expand exec_prefix.
+test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
+
+DEFS=-DHAVE_CONFIG_H
+
+ac_libobjs=
+ac_ltlibobjs=
+U=
+for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
+  # 1. Remove the extension, and $U if already installed.
+  ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
+  ac_i=`printf "%s\n" "$ac_i" | sed "$ac_script"`
+  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
+  #    will be set to the directory where LIBOBJS objects are built.
+  as_fn_append ac_libobjs " \${LIBOBJDIR}$ac_i\$U.$ac_objext"
+  as_fn_append ac_ltlibobjs " \${LIBOBJDIR}$ac_i"'$U.lo'
+done
+LIBOBJS=$ac_libobjs
+
+LTLIBOBJS=$ac_ltlibobjs
+
+
+
+
+: "${CONFIG_STATUS=./config.status}"
+ac_write_fail=0
+ac_clean_files_save=$ac_clean_files
+ac_clean_files="$ac_clean_files $CONFIG_STATUS"
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: creating $CONFIG_STATUS" >&5
+printf "%s\n" "$as_me: creating $CONFIG_STATUS" >&6;}
+as_write_fail=0
+cat >$CONFIG_STATUS <<_ASEOF || as_write_fail=1
+#! $SHELL
+# Generated by $as_me.
+# Run this file to recreate the current configuration.
+# Compiler output produced by configure, useful for debugging
+# configure, is in config.log if it exists.
+
+debug=false
+ac_cs_recheck=false
+ac_cs_silent=false
+
+SHELL=\${CONFIG_SHELL-$SHELL}
+export SHELL
+_ASEOF
+cat >>$CONFIG_STATUS <<\_ASEOF || as_write_fail=1
+## -------------------- ##
+## M4sh Initialization. ##
+## -------------------- ##
+
+# Be more Bourne compatible
+DUALCASE=1; export DUALCASE # for MKS sh
+as_nop=:
+if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
+then :
+  emulate sh
+  NULLCMD=:
+  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+  setopt NO_GLOB_SUBST
+else $as_nop
+  case `(set -o) 2>/dev/null` in #(
+  *posix*) :
+    set -o posix ;; #(
+  *) :
+     ;;
+esac
+fi
+
+
+
+# Reset variables that may have inherited troublesome values from
+# the environment.
+
+# IFS needs to be set, to space, tab, and newline, in precisely that order.
+# (If _AS_PATH_WALK were called with IFS unset, it would have the
+# side effect of setting IFS to empty, thus disabling word splitting.)
+# Quoting is to prevent editors from complaining about space-tab.
+as_nl='
+'
+export as_nl
+IFS=" ""	$as_nl"
+
+PS1='$ '
+PS2='> '
+PS4='+ '
+
+# Ensure predictable behavior from utilities with locale-dependent output.
+LC_ALL=C
+export LC_ALL
+LANGUAGE=C
+export LANGUAGE
+
+# We cannot yet rely on "unset" to work, but we need these variables
+# to be unset--not just set to an empty or harmless value--now, to
+# avoid bugs in old shells (e.g. pre-3.0 UWIN ksh).  This construct
+# also avoids known problems related to "unset" and subshell syntax
+# in other old shells (e.g. bash 2.01 and pdksh 5.2.14).
+for as_var in BASH_ENV ENV MAIL MAILPATH CDPATH
+do eval test \${$as_var+y} \
+  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
+done
+
+# Ensure that fds 0, 1, and 2 are open.
+if (exec 3>&0) 2>/dev/null; then :; else exec 0</dev/null; fi
+if (exec 3>&1) 2>/dev/null; then :; else exec 1>/dev/null; fi
+if (exec 3>&2)            ; then :; else exec 2>/dev/null; fi
+
+# The user is always right.
+if ${PATH_SEPARATOR+false} :; then
+  PATH_SEPARATOR=:
+  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
+    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
+      PATH_SEPARATOR=';'
+  }
+fi
+
+
+# Find who we are.  Look in the path if we contain no directory separator.
+as_myself=
+case $0 in #((
+  *[\\/]* ) as_myself=$0 ;;
+  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    test -r "$as_dir$0" && as_myself=$as_dir$0 && break
+  done
+IFS=$as_save_IFS
+
+     ;;
+esac
+# We did not find ourselves, most probably we were run as `sh COMMAND'
+# in which case we are not to be found in the path.
+if test "x$as_myself" = x; then
+  as_myself=$0
+fi
+if test ! -f "$as_myself"; then
+  printf "%s\n" "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
+  exit 1
+fi
+
+
+
+# as_fn_error STATUS ERROR [LINENO LOG_FD]
+# ----------------------------------------
+# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
+# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
+# script with STATUS, using 1 if that was 0.
+as_fn_error ()
+{
+  as_status=$1; test $as_status -eq 0 && as_status=1
+  if test "$4"; then
+    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
+  fi
+  printf "%s\n" "$as_me: error: $2" >&2
+  as_fn_exit $as_status
+} # as_fn_error
+
+
+
+# as_fn_set_status STATUS
+# -----------------------
+# Set $? to STATUS, without forking.
+as_fn_set_status ()
+{
+  return $1
+} # as_fn_set_status
+
+# as_fn_exit STATUS
+# -----------------
+# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
+as_fn_exit ()
+{
+  set +e
+  as_fn_set_status $1
+  exit $1
+} # as_fn_exit
+
+# as_fn_unset VAR
+# ---------------
+# Portably unset VAR.
+as_fn_unset ()
+{
+  { eval $1=; unset $1;}
+}
+as_unset=as_fn_unset
+
+# as_fn_append VAR VALUE
+# ----------------------
+# Append the text in VALUE to the end of the definition contained in VAR. Take
+# advantage of any shell optimizations that allow amortized linear growth over
+# repeated appends, instead of the typical quadratic growth present in naive
+# implementations.
+if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null
+then :
+  eval 'as_fn_append ()
+  {
+    eval $1+=\$2
+  }'
+else $as_nop
+  as_fn_append ()
+  {
+    eval $1=\$$1\$2
+  }
+fi # as_fn_append
+
+# as_fn_arith ARG...
+# ------------------
+# Perform arithmetic evaluation on the ARGs, and store the result in the
+# global $as_val. Take advantage of shells that can avoid forks. The arguments
+# must be portable across $(()) and expr.
+if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null
+then :
+  eval 'as_fn_arith ()
+  {
+    as_val=$(( $* ))
+  }'
+else $as_nop
+  as_fn_arith ()
+  {
+    as_val=`expr "$@" || test $? -eq 1`
+  }
+fi # as_fn_arith
+
+
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
+  as_dirname=dirname
+else
+  as_dirname=false
+fi
+
+as_me=`$as_basename -- "$0" ||
+$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
+printf "%s\n" X/"$0" |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+
+# Determine whether it's possible to make 'echo' print without a newline.
+# These variables are no longer used directly by Autoconf, but are AC_SUBSTed
+# for compatibility with existing Makefiles.
+ECHO_C= ECHO_N= ECHO_T=
+case `echo -n x` in #(((((
+-n*)
+  case `echo 'xy\c'` in
+  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
+  xy)  ECHO_C='\c';;
+  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
+       ECHO_T='	';;
+  esac;;
+*)
+  ECHO_N='-n';;
+esac
+
+# For backward compatibility with old third-party macros, we provide
+# the shell variables $as_echo and $as_echo_n.  New code should use
+# AS_ECHO(["message"]) and AS_ECHO_N(["message"]), respectively.
+as_echo='printf %s\n'
+as_echo_n='printf %s'
+
+rm -f conf$$ conf$$.exe conf$$.file
+if test -d conf$$.dir; then
+  rm -f conf$$.dir/conf$$.file
+else
+  rm -f conf$$.dir
+  mkdir conf$$.dir 2>/dev/null
+fi
+if (echo >conf$$.file) 2>/dev/null; then
+  if ln -s conf$$.file conf$$ 2>/dev/null; then
+    as_ln_s='ln -s'
+    # ... but there are two gotchas:
+    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+    # In both cases, we have to default to `cp -pR'.
+    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
+      as_ln_s='cp -pR'
+  elif ln conf$$.file conf$$ 2>/dev/null; then
+    as_ln_s=ln
+  else
+    as_ln_s='cp -pR'
+  fi
+else
+  as_ln_s='cp -pR'
+fi
+rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
+rmdir conf$$.dir 2>/dev/null
+
+
+# as_fn_mkdir_p
+# -------------
+# Create "$as_dir" as a directory, including parents if necessary.
+as_fn_mkdir_p ()
+{
+
+  case $as_dir in #(
+  -*) as_dir=./$as_dir;;
+  esac
+  test -d "$as_dir" || eval $as_mkdir_p || {
+    as_dirs=
+    while :; do
+      case $as_dir in #(
+      *\'*) as_qdir=`printf "%s\n" "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
+      *) as_qdir=$as_dir;;
+      esac
+      as_dirs="'$as_qdir' $as_dirs"
+      as_dir=`$as_dirname -- "$as_dir" ||
+$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$as_dir" : 'X\(//\)[^/]' \| \
+	 X"$as_dir" : 'X\(//\)$' \| \
+	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
+printf "%s\n" X"$as_dir" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+      test -d "$as_dir" && break
+    done
+    test -z "$as_dirs" || eval "mkdir $as_dirs"
+  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
+
+
+} # as_fn_mkdir_p
+if mkdir -p . 2>/dev/null; then
+  as_mkdir_p='mkdir -p "$as_dir"'
+else
+  test -d ./-p && rmdir ./-p
+  as_mkdir_p=false
+fi
+
+
+# as_fn_executable_p FILE
+# -----------------------
+# Test if FILE is an executable regular file.
+as_fn_executable_p ()
+{
+  test -f "$1" && test -x "$1"
+} # as_fn_executable_p
+as_test_x='test -x'
+as_executable_p=as_fn_executable_p
+
+# Sed expression to map a string onto a valid CPP name.
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
+
+# Sed expression to map a string onto a valid variable name.
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
+
+
+exec 6>&1
+## ----------------------------------- ##
+## Main body of $CONFIG_STATUS script. ##
+## ----------------------------------- ##
+_ASEOF
+test $as_write_fail = 0 && chmod +x $CONFIG_STATUS || ac_write_fail=1
+
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+# Save the log message, to keep $0 and so on meaningful, and to
+# report actual input values of CONFIG_FILES etc. instead of their
+# values after options handling.
+ac_log="
+This file was extended by LibreOffice $as_me 24.8.8.0.0+, which was
+generated by GNU Autoconf 2.71.  Invocation command line was
+
+  CONFIG_FILES    = $CONFIG_FILES
+  CONFIG_HEADERS  = $CONFIG_HEADERS
+  CONFIG_LINKS    = $CONFIG_LINKS
+  CONFIG_COMMANDS = $CONFIG_COMMANDS
+  $ $0 $@
+
+on `(hostname || uname -n) 2>/dev/null | sed 1q`
+"
+
+_ACEOF
+
+case $ac_config_files in *"
+"*) set x $ac_config_files; shift; ac_config_files=$*;;
+esac
+
+case $ac_config_headers in *"
+"*) set x $ac_config_headers; shift; ac_config_headers=$*;;
+esac
+
+
+cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+# Files that config.status was made for.
+config_files="$ac_config_files"
+config_headers="$ac_config_headers"
+config_links="$ac_config_links"
+
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+ac_cs_usage="\
+\`$as_me' instantiates files and other configuration actions
+from templates according to the current configuration.  Unless the files
+and actions are specified as TAGs, all are instantiated by default.
+
+Usage: $0 [OPTION]... [TAG]...
+
+  -h, --help       print this help, then exit
+  -V, --version    print version number and configuration settings, then exit
+      --config     print configuration, then exit
+  -q, --quiet, --silent
+                   do not print progress messages
+  -d, --debug      don't remove temporary files
+      --recheck    update $as_me by reconfiguring in the same conditions
+      --file=FILE[:TEMPLATE]
+                   instantiate the configuration file FILE
+      --header=FILE[:TEMPLATE]
+                   instantiate the configuration header FILE
+
+Configuration files:
+$config_files
+
+Configuration headers:
+$config_headers
+
+Configuration links:
+$config_links
+
+Report bugs to the package provider.
+LibreOffice home page: <http://documentfoundation.org/>."
+
+_ACEOF
+ac_cs_config=`printf "%s\n" "$ac_configure_args" | sed "$ac_safe_unquote"`
+ac_cs_config_escaped=`printf "%s\n" "$ac_cs_config" | sed "s/^ //; s/'/'\\\\\\\\''/g"`
+cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+ac_cs_config='$ac_cs_config_escaped'
+ac_cs_version="\\
+LibreOffice config.status 24.8.8.0.0+
+configured by $0, generated by GNU Autoconf 2.71,
+  with options \\"\$ac_cs_config\\"
+
+Copyright (C) 2021 Free Software Foundation, Inc.
+This config.status script is free software; the Free Software Foundation
+gives unlimited permission to copy, distribute and modify it."
+
+ac_pwd='$ac_pwd'
+srcdir='$srcdir'
+AWK='$AWK'
+test -n "\$AWK" || AWK=awk
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+# The default lists apply if the user does not specify any file.
+ac_need_defaults=:
+while test $# != 0
+do
+  case $1 in
+  --*=?*)
+    ac_option=`expr "X$1" : 'X\([^=]*\)='`
+    ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
+    ac_shift=:
+    ;;
+  --*=)
+    ac_option=`expr "X$1" : 'X\([^=]*\)='`
+    ac_optarg=
+    ac_shift=:
+    ;;
+  *)
+    ac_option=$1
+    ac_optarg=$2
+    ac_shift=shift
+    ;;
+  esac
+
+  case $ac_option in
+  # Handling of the options.
+  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
+    ac_cs_recheck=: ;;
+  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
+    printf "%s\n" "$ac_cs_version"; exit ;;
+  --config | --confi | --conf | --con | --co | --c )
+    printf "%s\n" "$ac_cs_config"; exit ;;
+  --debug | --debu | --deb | --de | --d | -d )
+    debug=: ;;
+  --file | --fil | --fi | --f )
+    $ac_shift
+    case $ac_optarg in
+    *\'*) ac_optarg=`printf "%s\n" "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
+    '') as_fn_error $? "missing file argument" ;;
+    esac
+    as_fn_append CONFIG_FILES " '$ac_optarg'"
+    ac_need_defaults=false;;
+  --header | --heade | --head | --hea )
+    $ac_shift
+    case $ac_optarg in
+    *\'*) ac_optarg=`printf "%s\n" "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
+    esac
+    as_fn_append CONFIG_HEADERS " '$ac_optarg'"
+    ac_need_defaults=false;;
+  --he | --h)
+    # Conflict between --help and --header
+    as_fn_error $? "ambiguous option: \`$1'
+Try \`$0 --help' for more information.";;
+  --help | --hel | -h )
+    printf "%s\n" "$ac_cs_usage"; exit ;;
+  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+  | -silent | --silent | --silen | --sile | --sil | --si | --s)
+    ac_cs_silent=: ;;
+
+  # This is an error.
+  -*) as_fn_error $? "unrecognized option: \`$1'
+Try \`$0 --help' for more information." ;;
+
+  *) as_fn_append ac_config_targets " $1"
+     ac_need_defaults=false ;;
+
+  esac
+  shift
+done
+
+ac_configure_extra_args=
+
+if $ac_cs_silent; then
+  exec 6>/dev/null
+  ac_configure_extra_args="$ac_configure_extra_args --silent"
+fi
+
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+if \$ac_cs_recheck; then
+  set X $SHELL '$0' $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
+  shift
+  \printf "%s\n" "running CONFIG_SHELL=$SHELL \$*" >&6
+  CONFIG_SHELL='$SHELL'
+  export CONFIG_SHELL
+  exec "\$@"
+fi
+
+_ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+exec 5>>config.log
+{
+  echo
+  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
+## Running $as_me. ##
+_ASBOX
+  printf "%s\n" "$ac_log"
+} >&5
+
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+#
+# INIT-COMMANDS
+#
+WSL_ONLY_AS_HELPER=$WSL_ONLY_AS_HELPER
+
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+
+# Handling of arguments.
+for ac_config_target in $ac_config_targets
+do
+  case $ac_config_target in
+    "config_host/config_probes.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_probes.h" ;;
+    "include") CONFIG_LINKS="$CONFIG_LINKS include:include" ;;
+    "config_host_lang.mk") CONFIG_FILES="$CONFIG_FILES config_host_lang.mk" ;;
+    "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;
+    "bin/bffvalidator.sh") CONFIG_FILES="$CONFIG_FILES bin/bffvalidator.sh" ;;
+    "bin/odfvalidator.sh") CONFIG_FILES="$CONFIG_FILES bin/odfvalidator.sh" ;;
+    "bin/officeotron.sh") CONFIG_FILES="$CONFIG_FILES bin/officeotron.sh" ;;
+    "instsetoo_native/util/openoffice.lst") CONFIG_FILES="$CONFIG_FILES instsetoo_native/util/openoffice.lst" ;;
+    "sysui/desktop/macosx/Info.plist") CONFIG_FILES="$CONFIG_FILES sysui/desktop/macosx/Info.plist" ;;
+    "hardened_runtime.xcent") CONFIG_FILES="$CONFIG_FILES hardened_runtime.xcent:sysui/desktop/macosx/hardened_runtime.xcent.in" ;;
+    "lo.xcent") CONFIG_FILES="$CONFIG_FILES lo.xcent:sysui/desktop/macosx/lo.xcent.in" ;;
+    "vs-code.code-workspace.template") CONFIG_FILES="$CONFIG_FILES vs-code.code-workspace.template:.vscode/vs-code-template.code-workspace.in" ;;
+    "config_host.mk") CONFIG_FILES="$CONFIG_FILES config_host.mk" ;;
+    "config_host/config_atspi.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_atspi.h" ;;
+    "config_host/config_buildconfig.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_buildconfig.h" ;;
+    "config_host/config_buildid.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_buildid.h" ;;
+    "config_host/config_box2d.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_box2d.h" ;;
+    "config_host/config_clang.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_clang.h" ;;
+    "config_host/config_crypto.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_crypto.h" ;;
+    "config_host/config_dconf.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_dconf.h" ;;
+    "config_host/config_eot.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_eot.h" ;;
+    "config_host/config_extensions.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_extensions.h" ;;
+    "config_host/config_cairo_canvas.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_cairo_canvas.h" ;;
+    "config_host/config_cairo_rgba.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_cairo_rgba.h" ;;
+    "config_host/config_cxxabi.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_cxxabi.h" ;;
+    "config_host/config_dbus.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_dbus.h" ;;
+    "config_host/config_features.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_features.h" ;;
+    "config_host/config_feature_desktop.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_feature_desktop.h" ;;
+    "config_host/config_feature_opencl.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_feature_opencl.h" ;;
+    "config_host/config_firebird.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_firebird.h" ;;
+    "config_host/config_folders.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_folders.h" ;;
+    "config_host/config_fonts.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_fonts.h" ;;
+    "config_host/config_fuzzers.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_fuzzers.h" ;;
+    "config_host/config_gio.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_gio.h" ;;
+    "config_host/config_global.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_global.h" ;;
+    "config_host/config_gpgme.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_gpgme.h" ;;
+    "config_host/config_java.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_java.h" ;;
+    "config_host/config_langs.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_langs.h" ;;
+    "config_host/config_lgpl.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_lgpl.h" ;;
+    "config_host/config_libcxx.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_libcxx.h" ;;
+    "config_host/config_liblangtag.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_liblangtag.h" ;;
+    "config_host/config_locales.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_locales.h" ;;
+    "config_host/config_mpl.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_mpl.h" ;;
+    "config_host/config_oox.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_oox.h" ;;
+    "config_host/config_options.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_options.h" ;;
+    "config_host/config_options_calc.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_options_calc.h" ;;
+    "config_host/config_zxing.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_zxing.h" ;;
+    "config_host/config_skia.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_skia.h" ;;
+    "config_host/config_typesizes.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_typesizes.h" ;;
+    "config_host/config_validation.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_validation.h" ;;
+    "config_host/config_vendor.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_vendor.h" ;;
+    "config_host/config_vclplug.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_vclplug.h" ;;
+    "config_host/config_version.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_version.h" ;;
+    "config_host/config_oauth2.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_oauth2.h" ;;
+    "config_host/config_poppler.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_poppler.h" ;;
+    "config_host/config_python.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_python.h" ;;
+    "config_host/config_writerperfect.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_writerperfect.h" ;;
+    "config_host/config_wasm_strip.h") CONFIG_HEADERS="$CONFIG_HEADERS config_host/config_wasm_strip.h" ;;
+    "solenv/lockfile/autoconf.h") CONFIG_HEADERS="$CONFIG_HEADERS solenv/lockfile/autoconf.h" ;;
+
+  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
+  esac
+done
+
+
+# If the user did not use the arguments to specify the items to instantiate,
+# then the envvar interface is used.  Set only those that are not.
+# We use the long form for the default assignment because of an extremely
+# bizarre bug on SunOS 4.1.3.
+if $ac_need_defaults; then
+  test ${CONFIG_FILES+y} || CONFIG_FILES=$config_files
+  test ${CONFIG_HEADERS+y} || CONFIG_HEADERS=$config_headers
+  test ${CONFIG_LINKS+y} || CONFIG_LINKS=$config_links
+fi
+
+# Have a temporary directory for convenience.  Make it in the build tree
+# simply because there is no reason against having it here, and in addition,
+# creating and moving files from /tmp can sometimes cause problems.
+# Hook for its removal unless debugging.
+# Note that there is a small window in which the directory will not be cleaned:
+# after its creation but before its name has been assigned to `$tmp'.
+$debug ||
+{
+  tmp= ac_tmp=
+  trap 'exit_status=$?
+  : "${ac_tmp:=$tmp}"
+  { test ! -d "$ac_tmp" || rm -fr "$ac_tmp"; } && exit $exit_status
+' 0
+  trap 'as_fn_exit 1' 1 2 13 15
+}
+# Create a (secure) tmp directory for tmp files.
+
+{
+  tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
+  test -d "$tmp"
+}  ||
+{
+  tmp=./conf$$-$RANDOM
+  (umask 077 && mkdir "$tmp")
+} || as_fn_error $? "cannot create a temporary directory in ." "$LINENO" 5
+ac_tmp=$tmp
+
+# Set up the scripts for CONFIG_FILES section.
+# No need to generate them if there are no CONFIG_FILES.
+# This happens for instance with `./config.status config.h'.
+if test -n "$CONFIG_FILES"; then
+
+
+ac_cr=`echo X | tr X '\015'`
+# On cygwin, bash can eat \r inside `` if the user requested igncr.
+# But we know of no other shell where ac_cr would be empty at this
+# point, so we can use a bashism as a fallback.
+if test "x$ac_cr" = x; then
+  eval ac_cr=\$\'\\r\'
+fi
+ac_cs_awk_cr=`$AWK 'BEGIN { print "a\rb" }' </dev/null 2>/dev/null`
+if test "$ac_cs_awk_cr" = "a${ac_cr}b"; then
+  ac_cs_awk_cr='\\r'
+else
+  ac_cs_awk_cr=$ac_cr
+fi
+
+echo 'BEGIN {' >"$ac_tmp/subs1.awk" &&
+_ACEOF
+
+
+{
+  echo "cat >conf$$subs.awk <<_ACEOF" &&
+  echo "$ac_subst_vars" | sed 's/.*/&!$&$ac_delim/' &&
+  echo "_ACEOF"
+} >conf$$subs.sh ||
+  as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
+ac_delim_num=`echo "$ac_subst_vars" | grep -c '^'`
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  . ./conf$$subs.sh ||
+    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
+
+  ac_delim_n=`sed -n "s/.*$ac_delim\$/X/p" conf$$subs.awk | grep -c X`
+  if test $ac_delim_n = $ac_delim_num; then
+    break
+  elif $ac_last_try; then
+    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
+  fi
+done
+rm -f conf$$subs.sh
+
+cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+cat >>"\$ac_tmp/subs1.awk" <<\\_ACAWK &&
+_ACEOF
+sed -n '
+h
+s/^/S["/; s/!.*/"]=/
+p
+g
+s/^[^!]*!//
+:repl
+t repl
+s/'"$ac_delim"'$//
+t delim
+:nl
+h
+s/\(.\{148\}\)..*/\1/
+t more1
+s/["\\]/\\&/g; s/^/"/; s/$/\\n"\\/
+p
+n
+b repl
+:more1
+s/["\\]/\\&/g; s/^/"/; s/$/"\\/
+p
+g
+s/.\{148\}//
+t nl
+:delim
+h
+s/\(.\{148\}\)..*/\1/
+t more2
+s/["\\]/\\&/g; s/^/"/; s/$/"/
+p
+b
+:more2
+s/["\\]/\\&/g; s/^/"/; s/$/"\\/
+p
+g
+s/.\{148\}//
+t delim
+' <conf$$subs.awk | sed '
+/^[^""]/{
+  N
+  s/\n//
+}
+' >>$CONFIG_STATUS || ac_write_fail=1
+rm -f conf$$subs.awk
+cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+_ACAWK
+cat >>"\$ac_tmp/subs1.awk" <<_ACAWK &&
+  for (key in S) S_is_set[key] = 1
+  FS = ""
+
+}
+{
+  line = $ 0
+  nfields = split(line, field, "@")
+  substed = 0
+  len = length(field[1])
+  for (i = 2; i < nfields; i++) {
+    key = field[i]
+    keylen = length(key)
+    if (S_is_set[key]) {
+      value = S[key]
+      line = substr(line, 1, len) "" value "" substr(line, len + keylen + 3)
+      len += length(value) + length(field[++i])
+      substed = 1
+    } else
+      len += 1 + keylen
+  }
+
+  print line
+}
+
+_ACAWK
+_ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+if sed "s/$ac_cr//" < /dev/null > /dev/null 2>&1; then
+  sed "s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g"
+else
+  cat
+fi < "$ac_tmp/subs1.awk" > "$ac_tmp/subs.awk" \
+  || as_fn_error $? "could not setup config files machinery" "$LINENO" 5
+_ACEOF
+
+# VPATH may cause trouble with some makes, so we remove sole $(srcdir),
+# ${srcdir} and @srcdir@ entries from VPATH if srcdir is ".", strip leading and
+# trailing colons and then remove the whole line if VPATH becomes empty
+# (actually we leave an empty line to preserve line numbers).
+if test "x$srcdir" = x.; then
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=[	 ]*/{
+h
+s///
+s/^/:/
+s/[	 ]*$/:/
+s/:\$(srcdir):/:/g
+s/:\${srcdir}:/:/g
+s/:@srcdir@:/:/g
+s/^:*//
+s/:*$//
+x
+s/\(=[	 ]*\).*/\1/
+G
+s/\n//
+s/^[^=]*=[	 ]*$//
+}'
+fi
+
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+fi # test -n "$CONFIG_FILES"
+
+# Set up the scripts for CONFIG_HEADERS section.
+# No need to generate them if there are no CONFIG_HEADERS.
+# This happens for instance with `./config.status Makefile'.
+if test -n "$CONFIG_HEADERS"; then
+cat >"$ac_tmp/defines.awk" <<\_ACAWK ||
+BEGIN {
+_ACEOF
+
+# Transform confdefs.h into an awk script `defines.awk', embedded as
+# here-document in config.status, that substitutes the proper values into
+# config.h.in to produce config.h.
+
+# Create a delimiter string that does not exist in confdefs.h, to ease
+# handling of long lines.
+ac_delim='%!_!# '
+for ac_last_try in false false :; do
+  ac_tt=`sed -n "/$ac_delim/p" confdefs.h`
+  if test -z "$ac_tt"; then
+    break
+  elif $ac_last_try; then
+    as_fn_error $? "could not make $CONFIG_HEADERS" "$LINENO" 5
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
+  fi
+done
+
+# For the awk script, D is an array of macro values keyed by name,
+# likewise P contains macro parameters if any.  Preserve backslash
+# newline sequences.
+
+ac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*
+sed -n '
+s/.\{148\}/&'"$ac_delim"'/g
+t rset
+:rset
+s/^[	 ]*#[	 ]*define[	 ][	 ]*/ /
+t def
+d
+:def
+s/\\$//
+t bsnl
+s/["\\]/\\&/g
+s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
+D["\1"]=" \3"/p
+s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2"/p
+d
+:bsnl
+s/["\\]/\\&/g
+s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
+D["\1"]=" \3\\\\\\n"\\/p
+t cont
+s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2\\\\\\n"\\/p
+t cont
+d
+:cont
+n
+s/.\{148\}/&'"$ac_delim"'/g
+t clear
+:clear
+s/\\$//
+t bsnlc
+s/["\\]/\\&/g; s/^/"/; s/$/"/p
+d
+:bsnlc
+s/["\\]/\\&/g; s/^/"/; s/$/\\\\\\n"\\/p
+b cont
+' <confdefs.h | sed '
+s/'"$ac_delim"'/"\\\
+"/g' >>$CONFIG_STATUS || ac_write_fail=1
+
+cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+  for (key in D) D_is_set[key] = 1
+  FS = ""
+}
+/^[\t ]*#[\t ]*(define|undef)[\t ]+$ac_word_re([\t (]|\$)/ {
+  line = \$ 0
+  split(line, arg, " ")
+  if (arg[1] == "#") {
+    defundef = arg[2]
+    mac1 = arg[3]
+  } else {
+    defundef = substr(arg[1], 2)
+    mac1 = arg[2]
+  }
+  split(mac1, mac2, "(") #)
+  macro = mac2[1]
+  prefix = substr(line, 1, index(line, defundef) - 1)
+  if (D_is_set[macro]) {
+    # Preserve the white space surrounding the "#".
+    print prefix "define", macro P[macro] D[macro]
+    next
+  } else {
+    # Replace #undef with comments.  This is necessary, for example,
+    # in the case of _POSIX_SOURCE, which is predefined and required
+    # on some systems where configure will not decide to define it.
+    if (defundef == "undef") {
+      print "/*", prefix defundef, macro, "*/"
+      next
+    }
+  }
+}
+{ print }
+_ACAWK
+_ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+  as_fn_error $? "could not setup config headers machinery" "$LINENO" 5
+fi # test -n "$CONFIG_HEADERS"
+
+
+eval set X "  :F $CONFIG_FILES  :H $CONFIG_HEADERS  :L $CONFIG_LINKS  "
+shift
+for ac_tag
+do
+  case $ac_tag in
+  :[FHLC]) ac_mode=$ac_tag; continue;;
+  esac
+  case $ac_mode$ac_tag in
+  :[FHL]*:*);;
+  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5;;
+  :[FH]-) ac_tag=-:-;;
+  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
+  esac
+  ac_save_IFS=$IFS
+  IFS=:
+  set x $ac_tag
+  IFS=$ac_save_IFS
+  shift
+  ac_file=$1
+  shift
+
+  case $ac_mode in
+  :L) ac_source=$1;;
+  :[FH])
+    ac_file_inputs=
+    for ac_f
+    do
+      case $ac_f in
+      -) ac_f="$ac_tmp/stdin";;
+      *) # Look for the file first in the build tree, then in the source tree
+	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
+	 # because $ac_f cannot contain `:'.
+	 test -f "$ac_f" ||
+	   case $ac_f in
+	   [\\/$]*) false;;
+	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
+	   esac ||
+	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5;;
+      esac
+      case $ac_f in *\'*) ac_f=`printf "%s\n" "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
+      as_fn_append ac_file_inputs " '$ac_f'"
+    done
+
+    # Let's still pretend it is `configure' which instantiates (i.e., don't
+    # use $as_me), people would be surprised to read:
+    #    /* config.h.  Generated by config.status.  */
+    configure_input='Generated from '`
+	  printf "%s\n" "$*" | sed 's|^[^:]*/||;s|:[^:]*/|, |g'
+	`' by configure.'
+    if test x"$ac_file" != x-; then
+      configure_input="$ac_file.  $configure_input"
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: creating $ac_file" >&5
+printf "%s\n" "$as_me: creating $ac_file" >&6;}
+    fi
+    # Neutralize special characters interpreted by sed in replacement strings.
+    case $configure_input in #(
+    *\&* | *\|* | *\\* )
+       ac_sed_conf_input=`printf "%s\n" "$configure_input" |
+       sed 's/[\\\\&|]/\\\\&/g'`;; #(
+    *) ac_sed_conf_input=$configure_input;;
+    esac
+
+    case $ac_tag in
+    *:-:* | *:-) cat >"$ac_tmp/stdin" \
+      || as_fn_error $? "could not create $ac_file" "$LINENO" 5 ;;
+    esac
+    ;;
+  esac
+
+  ac_dir=`$as_dirname -- "$ac_file" ||
+$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$ac_file" : 'X\(//\)[^/]' \| \
+	 X"$ac_file" : 'X\(//\)$' \| \
+	 X"$ac_file" : 'X\(/\)' \| . 2>/dev/null ||
+printf "%s\n" X"$ac_file" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+  as_dir="$ac_dir"; as_fn_mkdir_p
+  ac_builddir=.
+
+case "$ac_dir" in
+.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
+*)
+  ac_dir_suffix=/`printf "%s\n" "$ac_dir" | sed 's|^\.[\\/]||'`
+  # A ".." for each directory in $ac_dir_suffix.
+  ac_top_builddir_sub=`printf "%s\n" "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
+  case $ac_top_builddir_sub in
+  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
+  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
+  esac ;;
+esac
+ac_abs_top_builddir=$ac_pwd
+ac_abs_builddir=$ac_pwd$ac_dir_suffix
+# for backward compatibility:
+ac_top_builddir=$ac_top_build_prefix
+
+case $srcdir in
+  .)  # We are building in place.
+    ac_srcdir=.
+    ac_top_srcdir=$ac_top_builddir_sub
+    ac_abs_top_srcdir=$ac_pwd ;;
+  [\\/]* | ?:[\\/]* )  # Absolute name.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir
+    ac_abs_top_srcdir=$srcdir ;;
+  *) # Relative name.
+    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_build_prefix$srcdir
+    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
+esac
+ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
+
+
+  case $ac_mode in
+  :F)
+  #
+  # CONFIG_FILE
+  #
+
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+# If the template does not know about datarootdir, expand it.
+# FIXME: This hack should be removed a few years after 2.60.
+ac_datarootdir_hack=; ac_datarootdir_seen=
+ac_sed_dataroot='
+/datarootdir/ {
+  p
+  q
+}
+/@datadir@/p
+/@docdir@/p
+/@infodir@/p
+/@localedir@/p
+/@mandir@/p'
+case `eval "sed -n \"\$ac_sed_dataroot\" $ac_file_inputs"` in
+*datarootdir*) ac_datarootdir_seen=yes;;
+*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&5
+printf "%s\n" "$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&2;}
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+  ac_datarootdir_hack='
+  s&@datadir@&$datadir&g
+  s&@docdir@&$docdir&g
+  s&@infodir@&$infodir&g
+  s&@localedir@&$localedir&g
+  s&@mandir@&$mandir&g
+  s&\\\${datarootdir}&$datarootdir&g' ;;
+esac
+_ACEOF
+
+# Neutralize VPATH when `$srcdir' = `.'.
+# Shell code in configure.ac might set extrasub.
+# FIXME: do we really want to maintain this feature?
+cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+ac_sed_extra="$ac_vpsub
+$extrasub
+_ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+:t
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+s|@configure_input@|$ac_sed_conf_input|;t t
+s&@top_builddir@&$ac_top_builddir_sub&;t t
+s&@top_build_prefix@&$ac_top_build_prefix&;t t
+s&@srcdir@&$ac_srcdir&;t t
+s&@abs_srcdir@&$ac_abs_srcdir&;t t
+s&@top_srcdir@&$ac_top_srcdir&;t t
+s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
+s&@builddir@&$ac_builddir&;t t
+s&@abs_builddir@&$ac_abs_builddir&;t t
+s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
+$ac_datarootdir_hack
+"
+eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$ac_tmp/subs.awk" \
+  >$ac_tmp/out || as_fn_error $? "could not create $ac_file" "$LINENO" 5
+
+test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
+  { ac_out=`sed -n '/\${datarootdir}/p' "$ac_tmp/out"`; test -n "$ac_out"; } &&
+  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' \
+      "$ac_tmp/out"`; test -z "$ac_out"; } &&
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+which seems to be undefined.  Please make sure it is defined" >&5
+printf "%s\n" "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+which seems to be undefined.  Please make sure it is defined" >&2;}
+
+  rm -f "$ac_tmp/stdin"
+  case $ac_file in
+  -) cat "$ac_tmp/out" && rm -f "$ac_tmp/out";;
+  *) rm -f "$ac_file" && mv "$ac_tmp/out" "$ac_file";;
+  esac \
+  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
+ ;;
+  :H)
+  #
+  # CONFIG_HEADER
+  #
+  if test x"$ac_file" != x-; then
+    {
+      printf "%s\n" "/* $configure_input  */" >&1 \
+      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs"
+    } >"$ac_tmp/config.h" \
+      || as_fn_error $? "could not create $ac_file" "$LINENO" 5
+    if diff "$ac_file" "$ac_tmp/config.h" >/dev/null 2>&1; then
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: $ac_file is unchanged" >&5
+printf "%s\n" "$as_me: $ac_file is unchanged" >&6;}
+    else
+      rm -f "$ac_file"
+      mv "$ac_tmp/config.h" "$ac_file" \
+	|| as_fn_error $? "could not create $ac_file" "$LINENO" 5
+    fi
+  else
+    printf "%s\n" "/* $configure_input  */" >&1 \
+      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs" \
+      || as_fn_error $? "could not create -" "$LINENO" 5
+  fi
+ ;;
+  :L)
+  #
+  # CONFIG_LINK
+  #
+
+  if test "$ac_source" = "$ac_file" && test "$srcdir" = '.'; then
+    :
+  else
+    # Prefer the file from the source tree if names are identical.
+    if test "$ac_source" = "$ac_file" || test ! -r "$ac_source"; then
+      ac_source=$srcdir/$ac_source
+    fi
+
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: linking $ac_source to $ac_file" >&5
+printf "%s\n" "$as_me: linking $ac_source to $ac_file" >&6;}
+
+    if test ! -r "$ac_source"; then
+      as_fn_error $? "$ac_source: file not found" "$LINENO" 5
+    fi
+    rm -f "$ac_file"
+
+    # Try a relative symlink, then a hard link, then a copy.
+    case $ac_source in
+    [\\/$]* | ?:[\\/]* ) ac_rel_source=$ac_source ;;
+	*) ac_rel_source=$ac_top_build_prefix$ac_source ;;
+    esac
+    ln -s "$ac_rel_source" "$ac_file" 2>/dev/null ||
+      ln "$ac_source" "$ac_file" 2>/dev/null ||
+      cp -p "$ac_source" "$ac_file" ||
+      as_fn_error $? "cannot link or copy $ac_source to $ac_file" "$LINENO" 5
+  fi
+ ;;
+
+  esac
+
+
+  case $ac_file$ac_mode in
+    "config_host.mk":F)
+    if test -n "$WSL_ONLY_AS_HELPER"; then
+        sed -i -e 's#/mnt/\([[:alpha:]]\)/#\u\1:/#g' config_host.mk
+    fi ;;
+
+  esac
+done # for ac_tag
+
+
+as_fn_exit 0
+_ACEOF
+ac_clean_files=$ac_clean_files_save
+
+test $ac_write_fail = 0 ||
+  as_fn_error $? "write failure creating $CONFIG_STATUS" "$LINENO" 5
+
+
+# configure is writing to config.log, and then calls config.status.
+# config.status does its own redirection, appending to config.log.
+# Unfortunately, on DOS this fails, as config.log is still kept open
+# by configure, so config.status won't be able to write to it; its
+# output is simply discarded.  So we exec the FD to /dev/null,
+# effectively closing config.log, so it can be properly (re)opened and
+# appended to by config.status.  When coming back to configure, we
+# need to make the FD available again.
+if test "$no_create" != yes; then
+  ac_cs_success=:
+  ac_config_status_args=
+  test "$silent" = yes &&
+    ac_config_status_args="$ac_config_status_args --quiet"
+  exec 5>/dev/null
+  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
+  exec 5>>config.log
+  # Use ||, not &&, to avoid exiting from the if with $? = 1, which
+  # would make configure fail if this is the last instruction.
+  $ac_cs_success || as_fn_exit 1
+fi
+if test -n "$ac_unrecognized_opts" && test "$enable_option_checking" != no; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts" >&5
+printf "%s\n" "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2;}
+fi
+
+
+if test "$CROSS_COMPILING" = TRUE; then
+    (echo; echo export BUILD_TYPE_FOR_HOST=$BUILD_TYPE) >>config_build.mk
+fi
+
+# touch the config timestamp file
+if test ! -f config_host.mk.stamp; then
+    echo > config_host.mk.stamp
+elif test "$config_sha256" = `$SHA256SUM config_host.mk | sed "s/ .*//"`; then
+    echo "Host Configuration unchanged - avoiding scp2 stamp update"
+else
+    echo > config_host.mk.stamp
+fi
+
+# touch the config lang timestamp file
+if test ! -f config_host_lang.mk.stamp; then
+    echo > config_host_lang.mk.stamp
+elif test "$config_lang_sha256" = `$SHA256SUM config_host_lang.mk | sed "s/ .*//"`; then
+    echo "Language Configuration unchanged - avoiding scp2 stamp update"
+else
+    echo > config_host_lang.mk.stamp
+fi
+
+
+if test \( "$STALE_MAKE" = "TRUE" \) \
+        -a "$build_os" = "cygwin"; then
+
+cat << _EOS
+****************************************************************************
+WARNING:
+Your make version is known to be horribly slow, and hard to debug
+problems with. To get a reasonably functional make please do:
+
+to install a pre-compiled binary make for Win32
+
+ mkdir -p /opt/lo/bin
+ cd /opt/lo/bin
+ wget https://dev-www.libreoffice.org/bin/cygwin/make-4.2.1-msvc.exe
+ cp make-4.2.1-msvc.exe make
+ chmod +x make
+
+to install from source:
+place yourself in a working directory of you choice.
+
+ git clone git://git.savannah.gnu.org/make.git
+
+ go to Start menu, open "Visual Studio 2019" or "Visual Studio 2022", and then click "x86 Native Tools Command Prompt" or "x64 Native Tools Command Prompt"
+ set PATH=%PATH%;C:\Cygwin\bin
+ or Cygwin64, if that is what you have
+ cd path-to-make-repo-you-cloned-above
+ build_w32.bat --without-guile
+
+should result in a WinRel/gnumake.exe.
+Copy it to the Cygwin /opt/lo/bin directory as make.exe
+
+Then re-run autogen.sh
+
+Note: autogen.sh will try to use /opt/lo/bin/make if the environment variable GNUMAKE is not already defined.
+Alternatively, you can install the 'new' make where ever you want and make sure that `command -v make` finds it.
+
+_EOS
+fi
+
+
+cat << _EOF
+****************************************************************************
+
+To show information on various make targets and make flags, run:
+$GNUMAKE help
+
+To just build, run:
+$GNUMAKE
+
+_EOF
+
+if test $_os != WINNT -a "$CROSS_COMPILING" != TRUE; then
+    cat << _EOF
+After the build has finished successfully, you can immediately run what you built using the command:
+_EOF
+
+    if test $_os = Darwin; then
+        echo open instdir/$PRODUCTNAME_WITHOUT_SPACES.app
+    else
+        echo instdir/program/soffice
+    fi
+    cat << _EOF
+
+If you want to run the unit tests, run:
+$GNUMAKE check
+
+_EOF
+fi
+
+if test -s "$WARNINGS_FILE_FOR_BUILD"; then
+    echo "BUILD / cross-toolset config, repeated ($WARNINGS_FILE_FOR_BUILD)"
+    cat "$WARNINGS_FILE_FOR_BUILD"
+    echo
+fi
+
+if test -s "$WARNINGS_FILE"; then
+    echo "HOST config ($WARNINGS_FILE)"
+    cat "$WARNINGS_FILE"
+fi
+
+# Remove unneeded emconfigure artifacts
+rm -f a.out a.wasm a.out.js a.out.wasm
+
+
diff --git a/configure.ac b/configure.ac
index 04f8e7f80..3ef86f6a5 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1200,7 +1200,7 @@ emscripten)
     enable_compiler_plugins=no
     enable_customtarget_components=yes
     enable_split_debug=yes
-    enable_wasm_strip=yes
+    test -z "$enable_wasm_strip" && enable_wasm_strip=yes
     with_system_zlib=no
     with_theme="colibre"
     _os=Emscripten
@@ -3200,7 +3200,7 @@ if test "$enable_wasm_strip" = "yes"; then
     enable_odk=no
     enable_online_update=no
     enable_opencl=no
-    enable_pdfimport=no
+    # enable_pdfimport preserved for WASM PDF support
     enable_randr=no
     enable_report_builder=no
     enable_scripting=no
@@ -4123,6 +4123,16 @@ AC_SUBST(CROSS_COMPILING)
 AC_SUBST(ENABLE_WASM_STRIP)
 AC_SUBST(ENABLE_WASM_STRIP_WRITER)
 AC_SUBST(ENABLE_WASM_STRIP_CALC)
+# Set ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS based on main-module
+if test "$enable_wasm_strip" = "yes" -a "$with_main_module" != "all"; then
+    ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=TRUE
+fi
+AC_SUBST(ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS)
+# Set ENABLE_WASM_STRIP_CANVAS based on main-module (Impress needs canvas)
+if test "$enable_wasm_strip" = "yes" -a "$with_main_module" != "all"; then
+    ENABLE_WASM_STRIP_CANVAS=TRUE
+fi
+AC_SUBST(ENABLE_WASM_STRIP_CANVAS)
 
 # Use -isystem (gcc) if possible, to avoid warnings in 3rd party headers.
 # NOTE: must _not_ be used for bundled external libraries!
diff --git a/desktop/Executable_soffice_bin.mk b/desktop/Executable_soffice_bin.mk
index d6a271dec..930ebc883 100644
--- a/desktop/Executable_soffice_bin.mk
+++ b/desktop/Executable_soffice_bin.mk
@@ -62,7 +62,7 @@ $(call gb_LinkTarget_get_headers_target,$(call gb_Executable_get_linktarget,soff
 $(call gb_LinkTarget__static_lib_dummy_depend,unoembind)
 
 $(eval $(call gb_Executable_add_ldflags,soffice_bin,\
-	-s EXPORTED_FUNCTIONS=["_main"$(COMMA)"_libreofficekit_hook"$(COMMA)"_libreofficekit_hook_2"$(COMMA)"_lok_preinit"$(COMMA)"_lok_preinit_2"$(COMMA)"_malloc"$(COMMA)"_free"] -Wl$(COMMA)--whole-archive $(call gb_StaticLibrary_get_target,unoembind) -Wl$(COMMA)--no-whole-archive \
+	-s EXPORTED_FUNCTIONS=["_main"$(COMMA)"_libreofficekit_hook"$(COMMA)"_libreofficekit_hook_2"$(COMMA)"_lok_preinit"$(COMMA)"_lok_preinit_2"$(COMMA)"_lok_documentLoad"$(COMMA)"_lok_documentLoadWithOptions"$(COMMA)"_lok_documentSaveAs"$(COMMA)"_lok_documentDestroy"$(COMMA)"_lok_destroy"$(COMMA)"_lok_getError"$(COMMA)"_lok_documentGetParts"$(COMMA)"_lok_documentGetPart"$(COMMA)"_lok_documentSetPart"$(COMMA)"_lok_documentGetDocumentType"$(COMMA)"_lok_documentGetDocumentSize"$(COMMA)"_lok_documentInitializeForRendering"$(COMMA)"_lok_documentPaintTile"$(COMMA)"_lok_documentGetTileMode"$(COMMA)"_lok_documentGetTextSelection"$(COMMA)"_lok_documentSetTextSelection"$(COMMA)"_lok_documentGetSelectionType"$(COMMA)"_lok_documentResetSelection"$(COMMA)"_lok_documentPostMouseEvent"$(COMMA)"_lok_documentPostKeyEvent"$(COMMA)"_lok_documentPostUnoCommand"$(COMMA)"_lok_documentGetCommandValues"$(COMMA)"_lok_documentGetPartPageRectangles"$(COMMA)"_lok_documentGetPartInfo"$(COMMA)"_lok_documentGetPartName"$(COMMA)"_lok_documentPaste"$(COMMA)"_lok_documentSetClientZoom"$(COMMA)"_lok_documentSetClientVisibleArea"$(COMMA)"_lok_documentGetA11yFocusedParagraph"$(COMMA)"_lok_documentGetA11yCaretPosition"$(COMMA)"_lok_documentSetAccessibilityState"$(COMMA)"_lok_documentGetDataArea"$(COMMA)"_lok_documentGetEditMode"$(COMMA)"_lok_documentSetEditMode"$(COMMA)"_lok_documentCreateView"$(COMMA)"_lok_documentCreateViewWithOptions"$(COMMA)"_lok_documentDestroyView"$(COMMA)"_lok_documentSetView"$(COMMA)"_lok_documentGetView"$(COMMA)"_lok_documentGetViewsCount"$(COMMA)"_lok_enableSyncEvents"$(COMMA)"_lok_disableSyncEvents"$(COMMA)"_lok_runLoop"$(COMMA)"_lok_documentRegisterCallback"$(COMMA)"_lok_documentUnregisterCallback"$(COMMA)"_lok_hasCallbackEvents"$(COMMA)"_lok_getCallbackEventCount"$(COMMA)"_lok_pollCallback"$(COMMA)"_lok_clearCallbackQueue"$(COMMA)"_lok_flushCallbacks"$(COMMA)"_malloc"$(COMMA)"_free"] -Wl$(COMMA)--whole-archive $(call gb_StaticLibrary_get_target,unoembind) -Wl$(COMMA)--no-whole-archive \
 ))
 ifeq ($(ENABLE_QT6),TRUE)
 $(eval $(call gb_Executable_add_ldflags,soffice_bin, \
diff --git a/desktop/inc/lib/init.hxx b/desktop/inc/lib/init.hxx
index 25169b4e0..52a429321 100644
--- a/desktop/inc/lib/init.hxx
+++ b/desktop/inc/lib/init.hxx
@@ -110,6 +110,11 @@ namespace desktop {
         /// Returns true iff callbacks are disabled.
         bool callbacksDisabled() const { return m_nDisableCallbacks != 0; }
 
+#ifdef __EMSCRIPTEN__
+        /// Force flush pending callbacks (for WASM where PostUserEvent doesn't work)
+        DESKTOP_DLLPUBLIC void flush() { invoke(); }
+#endif
+
         void addViewStates(int viewId);
         void removeViewStates(int viewId);
 
diff --git a/desktop/source/lib/init.cxx b/desktop/source/lib/init.cxx
index ece81f035..7f09fd590 100644
--- a/desktop/source/lib/init.cxx
+++ b/desktop/source/lib/init.cxx
@@ -134,7 +134,7 @@
 #include <com/sun/star/view/XSelectionSupplier.hpp>
 
 #include <editeng/flstitem.hxx>
-#ifdef IOS
+#if defined(IOS) || defined(__EMSCRIPTEN__)
 #include <sfx2/app.hxx>
 #endif
 #include <sfx2/objsh.hxx>
@@ -7564,6 +7564,14 @@ void setLanguageToolConfig();
 /// Used only by LibreOfficeKit when used by Online to pre-initialize
 static void preloadData()
 {
+    // Allow skipping preload for faster init (conversion-only use case)
+    // Set LOK_SKIP_PRELOAD=1 environment variable to skip
+    const char* skipPreload = getenv("LOK_SKIP_PRELOAD");
+    if (skipPreload && (strcmp(skipPreload, "1") == 0 || strcmp(skipPreload, "true") == 0))
+    {
+        std::cerr << "LOK_SKIP_PRELOAD: Skipping preloadData()\n";
+        return;
+    }
     comphelper::ProfileZone aZone("preload data");
 
     // Create user profile in the temp directory for loading the dictionaries
@@ -7904,7 +7912,15 @@ static int lo_initialize(LibreOfficeKit* pThis, const char* pAppPath, const char
 
     // Did we do a pre-initialize
     static bool bPreInited = false;
+#ifdef __EMSCRIPTEN__
+    // Force unipoll mode for Emscripten/WASM builds.
+    // With PROXY_TO_PTHREAD=1, main() already runs on a pthread worker.
+    // Creating additional threads with osl_createThread causes conflicts.
+    // Unipoll mode keeps everything on the same thread, avoiding the issue.
+    static bool bUnipoll = true;
+#else
     static bool bUnipoll = false;
+#endif
     static bool bProfileZones = false;
     static bool bNotebookbar = false;
 
@@ -8202,7 +8218,13 @@ static int lo_initialize(LibreOfficeKit* pThis, const char* pAppPath, const char
                 SAL_INFO("lok", "RequestHandler ready -- continuing");
             }
             else
+            {
+                // Unipoll mode: Initialize VCL and SfxApplication directly
+                // without running the full soffice_main event loop.
+                SAL_INFO("lok", "Unipoll mode: InitVCL + SfxApplication");
                 InitVCL();
+                SfxApplication::GetOrCreate();
+            }
         }
 
         if (eStage != SECOND_INIT)
@@ -8266,23 +8288,31 @@ static int lo_initialize(LibreOfficeKit* pThis, const char* pAppPath, const char
 SAL_JNI_EXPORT
 LibreOfficeKit *libreofficekit_hook_2(const char* install_path, const char* user_profile_url)
 {
+    SAL_INFO("lok.shim", "libreofficekit_hook_2('" << (install_path ? install_path : "(null)")
+             << "','" << (user_profile_url ? user_profile_url : "(null)") << "')");
+
     static bool alreadyCalled = false;
 
     if ((!lok_preinit_2_called && !gImpl) || (lok_preinit_2_called && !alreadyCalled))
     {
+        SAL_INFO("lok.shim", "hook_2: calling lo_initialize, gImpl=" << gImpl
+                 << ", lok_preinit_2_called=" << lok_preinit_2_called);
         alreadyCalled = true;
 
         if (!lok_preinit_2_called)
         {
-            SAL_INFO("lok", "Create libreoffice object");
+            SAL_INFO("lok.shim", "hook_2: constructing LibLibreOffice_Impl");
             gImpl = new LibLibreOffice_Impl();
         }
 
         if (!lo_initialize(gImpl, install_path, user_profile_url))
         {
+            SAL_WARN("lok.shim", "hook_2: lo_initialize failed, calling lo_destroy");
             lo_destroy(gImpl);
         }
     }
+
+    SAL_INFO("lok.shim", "hook_2 returns gImpl=" << gImpl);
     return static_cast<LibreOfficeKit*>(gImpl);
 }
 
@@ -8343,6 +8373,1300 @@ static void lo_destroy(LibreOfficeKit* pThis)
     SAL_INFO("lok", "LO Destroy Done");
 }
 
+// WASM shims for LibreOfficeKit vtable calls
+// These provide stable exports that don't require vtable traversal from JS
+
+SAL_JNI_EXPORT
+LibreOfficeKitDocument* lok_documentLoad(LibreOfficeKit* pKit, const char* pPath)
+{
+    SAL_INFO("lok.shim", "lok_documentLoad(" << pKit << ",'" << (pPath ? pPath : "(null)") << "')");
+    fprintf(stderr, "[LOK C++] lok_documentLoad(%p, '%s')\n", (void*)pKit, pPath ? pPath : "(null)");
+    fflush(stderr);
+
+    if (!pKit)
+    {
+        SAL_WARN("lok.shim", "lok_documentLoad: pKit is null");
+        fprintf(stderr, "[LOK C++] lok_documentLoad: pKit is null\n");
+        fflush(stderr);
+        return nullptr;
+    }
+    if (!pKit->pClass)
+    {
+        SAL_WARN("lok.shim", "lok_documentLoad: pKit->pClass is null");
+        fprintf(stderr, "[LOK C++] lok_documentLoad: pKit->pClass is null\n");
+        fflush(stderr);
+        return nullptr;
+    }
+    if (!pKit->pClass->documentLoad)
+    {
+        SAL_WARN("lok.shim", "lok_documentLoad: documentLoad pointer is null");
+        fprintf(stderr, "[LOK C++] lok_documentLoad: documentLoad pointer is null\n");
+        fflush(stderr);
+        return nullptr;
+    }
+
+    LibreOfficeKitDocument* pDoc = pKit->pClass->documentLoad(pKit, pPath);
+    SAL_INFO("lok.shim", "lok_documentLoad done, doc=" << pDoc);
+    fprintf(stderr, "[LOK C++] lok_documentLoad done, doc=%p\n", (void*)pDoc);
+    fflush(stderr);
+    return pDoc;
+}
+
+SAL_JNI_EXPORT
+LibreOfficeKitDocument* lok_documentLoadWithOptions(LibreOfficeKit* pKit,
+                                                     const char* pPath,
+                                                     const char* pOptions)
+{
+    SAL_INFO("lok.shim", "lok_documentLoadWithOptions(" << pKit << ",'"
+             << (pPath ? pPath : "(null)") << "','" << (pOptions ? pOptions : "(null)") << "')");
+    fprintf(stderr, "[LOK C++] lok_documentLoadWithOptions(%p, '%s', '%s')\n",
+            (void*)pKit, pPath ? pPath : "(null)", pOptions ? pOptions : "(null)");
+    fflush(stderr);
+
+    if (!pKit || !pKit->pClass || !pKit->pClass->documentLoadWithOptions)
+    {
+        SAL_WARN("lok.shim", "lok_documentLoadWithOptions: invalid kit or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentLoadWithOptions: invalid kit or function pointer\n");
+        fflush(stderr);
+        return nullptr;
+    }
+
+    LibreOfficeKitDocument* pDoc = pKit->pClass->documentLoadWithOptions(pKit, pPath, pOptions);
+    SAL_INFO("lok.shim", "lok_documentLoadWithOptions done, doc=" << pDoc);
+    fprintf(stderr, "[LOK C++] lok_documentLoadWithOptions done, doc=%p\n", (void*)pDoc);
+    fflush(stderr);
+    return pDoc;
+}
+
+SAL_JNI_EXPORT
+int lok_documentSaveAs(LibreOfficeKitDocument* pDoc,
+                       const char* pUrl,
+                       const char* pFormat,
+                       const char* pFilterOptions)
+{
+    SAL_INFO("lok.shim", "lok_documentSaveAs(" << pDoc << ",'" << (pUrl ? pUrl : "(null)")
+             << "','" << (pFormat ? pFormat : "(null)")
+             << "','" << (pFilterOptions ? pFilterOptions : "(null)") << "')");
+    fprintf(stderr, "[LOK C++] lok_documentSaveAs(%p, '%s', '%s', '%s')\n",
+            (void*)pDoc, pUrl ? pUrl : "(null)", pFormat ? pFormat : "(null)",
+            pFilterOptions ? pFilterOptions : "(null)");
+    fflush(stderr);
+
+    if (!pDoc)
+    {
+        SAL_WARN("lok.shim", "lok_documentSaveAs: pDoc is null");
+        fprintf(stderr, "[LOK C++] lok_documentSaveAs: pDoc is null\n");
+        fflush(stderr);
+        return 0;
+    }
+    if (!pDoc->pClass)
+    {
+        SAL_WARN("lok.shim", "lok_documentSaveAs: pDoc->pClass is null");
+        fprintf(stderr, "[LOK C++] lok_documentSaveAs: pDoc->pClass is null\n");
+        fflush(stderr);
+        return 0;
+    }
+    if (!pDoc->pClass->saveAs)
+    {
+        SAL_WARN("lok.shim", "lok_documentSaveAs: saveAs pointer is null");
+        fprintf(stderr, "[LOK C++] lok_documentSaveAs: saveAs pointer is null\n");
+        fflush(stderr);
+        return 0;
+    }
+
+    int ret = pDoc->pClass->saveAs(pDoc, pUrl, pFormat, pFilterOptions);
+    SAL_INFO("lok.shim", "lok_documentSaveAs ret=" << ret);
+    fprintf(stderr, "[LOK C++] lok_documentSaveAs ret=%d\n", ret);
+    fflush(stderr);
+    return ret;
+}
+
+SAL_JNI_EXPORT
+void lok_documentDestroy(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentDestroy(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentDestroy(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc)
+    {
+        SAL_WARN("lok.shim", "lok_documentDestroy: pDoc is null");
+        fprintf(stderr, "[LOK C++] lok_documentDestroy: pDoc is null\n");
+        fflush(stderr);
+        return;
+    }
+    if (!pDoc->pClass || !pDoc->pClass->destroy)
+    {
+        SAL_WARN("lok.shim", "lok_documentDestroy: invalid pClass or destroy pointer");
+        fprintf(stderr, "[LOK C++] lok_documentDestroy: invalid pClass or destroy pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->destroy(pDoc);
+    SAL_INFO("lok.shim", "lok_documentDestroy done");
+    fprintf(stderr, "[LOK C++] lok_documentDestroy done\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+const char* lok_getError(LibreOfficeKit* pKit)
+{
+    SAL_INFO("lok.shim", "lok_getError(" << pKit << ")");
+    fprintf(stderr, "[LOK C++] lok_getError(%p)\n", (void*)pKit);
+    fflush(stderr);
+
+    if (!pKit || !pKit->pClass || !pKit->pClass->getError)
+    {
+        SAL_WARN("lok.shim", "lok_getError: invalid kit or function pointer");
+        fprintf(stderr, "[LOK C++] lok_getError: invalid kit or function pointer\n");
+        fflush(stderr);
+        return nullptr;
+    }
+
+    const char* err = pKit->pClass->getError(pKit);
+    SAL_INFO("lok.shim", "lok_getError returns: '" << (err ? err : "(null)") << "'");
+    fprintf(stderr, "[LOK C++] lok_getError returns: '%s'\n", err ? err : "(null)");
+    fflush(stderr);
+    return err;
+}
+
+SAL_JNI_EXPORT
+void lok_destroy(LibreOfficeKit* pKit)
+{
+    SAL_INFO("lok.shim", "lok_destroy(" << pKit << ")");
+    fprintf(stderr, "[LOK C++] lok_destroy(%p)\n", (void*)pKit);
+    fflush(stderr);
+
+    if (!pKit)
+    {
+        SAL_WARN("lok.shim", "lok_destroy: pKit is null");
+        fprintf(stderr, "[LOK C++] lok_destroy: pKit is null\n");
+        fflush(stderr);
+        return;
+    }
+
+    lo_destroy(pKit);
+    SAL_INFO("lok.shim", "lok_destroy done");
+    fprintf(stderr, "[LOK C++] lok_destroy done\n");
+    fflush(stderr);
+}
+
+// ==========================================
+// Page/Part rendering shims for thumbnails
+// ==========================================
+
+SAL_JNI_EXPORT
+int lok_documentGetParts(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetParts(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetParts(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getParts)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetParts: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetParts: invalid doc or function pointer\n");
+        fflush(stderr);
+        return 0;
+    }
+
+    int nParts = pDoc->pClass->getParts(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetParts returns: " << nParts);
+    fprintf(stderr, "[LOK C++] lok_documentGetParts returns: %d\n", nParts);
+    fflush(stderr);
+    return nParts;
+}
+
+SAL_JNI_EXPORT
+int lok_documentGetPart(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetPart(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetPart(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getPart)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetPart: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetPart: invalid doc or function pointer\n");
+        fflush(stderr);
+        return 0;
+    }
+
+    int nPart = pDoc->pClass->getPart(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetPart returns: " << nPart);
+    fprintf(stderr, "[LOK C++] lok_documentGetPart returns: %d\n", nPart);
+    fflush(stderr);
+    return nPart;
+}
+
+SAL_JNI_EXPORT
+void lok_documentSetPart(LibreOfficeKitDocument* pDoc, int nPart)
+{
+    SAL_INFO("lok.shim", "lok_documentSetPart(" << pDoc << ", " << nPart << ")");
+    fprintf(stderr, "[LOK C++] lok_documentSetPart(%p, %d)\n", (void*)pDoc, nPart);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setPart)
+    {
+        SAL_WARN("lok.shim", "lok_documentSetPart: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentSetPart: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->setPart(pDoc, nPart);
+    SAL_INFO("lok.shim", "lok_documentSetPart done");
+    fprintf(stderr, "[LOK C++] lok_documentSetPart done\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+int lok_documentGetDocumentType(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetDocumentType(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetDocumentType(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getDocumentType)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetDocumentType: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetDocumentType: invalid doc or function pointer\n");
+        fflush(stderr);
+        return 0;
+    }
+
+    int nType = pDoc->pClass->getDocumentType(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetDocumentType returns: " << nType);
+    fprintf(stderr, "[LOK C++] lok_documentGetDocumentType returns: %d\n", nType);
+    fflush(stderr);
+    return nType;
+}
+
+SAL_JNI_EXPORT
+void lok_documentGetDocumentSize(LibreOfficeKitDocument* pDoc, long* pWidth, long* pHeight)
+{
+    SAL_INFO("lok.shim", "lok_documentGetDocumentSize(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetDocumentSize(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getDocumentSize)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetDocumentSize: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetDocumentSize: invalid doc or function pointer\n");
+        fflush(stderr);
+        if (pWidth) *pWidth = 0;
+        if (pHeight) *pHeight = 0;
+        return;
+    }
+
+    pDoc->pClass->getDocumentSize(pDoc, pWidth, pHeight);
+    SAL_INFO("lok.shim", "lok_documentGetDocumentSize returns: " << *pWidth << "x" << *pHeight);
+    fprintf(stderr, "[LOK C++] lok_documentGetDocumentSize returns: %ldx%ld\n", *pWidth, *pHeight);
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+void lok_documentInitializeForRendering(LibreOfficeKitDocument* pDoc, const char* pArguments)
+{
+    SAL_INFO("lok.shim", "lok_documentInitializeForRendering(" << pDoc << ", '"
+             << (pArguments ? pArguments : "(null)") << "')");
+    fprintf(stderr, "[LOK C++] lok_documentInitializeForRendering(%p, '%s')\n",
+            (void*)pDoc, pArguments ? pArguments : "(null)");
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->initializeForRendering)
+    {
+        SAL_WARN("lok.shim", "lok_documentInitializeForRendering: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentInitializeForRendering: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->initializeForRendering(pDoc, pArguments);
+    SAL_INFO("lok.shim", "lok_documentInitializeForRendering done");
+    fprintf(stderr, "[LOK C++] lok_documentInitializeForRendering done\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+void lok_documentPaintTile(LibreOfficeKitDocument* pDoc,
+                           unsigned char* pBuffer,
+                           int nCanvasWidth, int nCanvasHeight,
+                           int nTilePosX, int nTilePosY,
+                           int nTileWidth, int nTileHeight)
+{
+    SAL_INFO("lok.shim", "lok_documentPaintTile(" << pDoc << ", buffer, "
+             << nCanvasWidth << "x" << nCanvasHeight << ", pos=" << nTilePosX << "," << nTilePosY
+             << ", tile=" << nTileWidth << "x" << nTileHeight << ")");
+    // Direct stderr output for debugging (always visible)
+    fprintf(stderr, "[LOK C++] paintTile START: %dx%d pos=(%d,%d) tile=%dx%d\n",
+            nCanvasWidth, nCanvasHeight, nTilePosX, nTilePosY, nTileWidth, nTileHeight);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->paintTile)
+    {
+        SAL_WARN("lok.shim", "lok_documentPaintTile: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] paintTile ERROR: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    fprintf(stderr, "[LOK C++] paintTile calling pDoc->pClass->paintTile...\n");
+    fflush(stderr);
+    pDoc->pClass->paintTile(pDoc, pBuffer, nCanvasWidth, nCanvasHeight,
+                            nTilePosX, nTilePosY, nTileWidth, nTileHeight);
+    fprintf(stderr, "[LOK C++] paintTile DONE\n");
+    fflush(stderr);
+    SAL_INFO("lok.shim", "lok_documentPaintTile done");
+}
+
+SAL_JNI_EXPORT
+int lok_documentGetTileMode(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetTileMode(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetTileMode(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getTileMode)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetTileMode: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetTileMode: invalid doc or function pointer\n");
+        fflush(stderr);
+        return 0; // LOK_TILEMODE_RGBA
+    }
+
+    int nMode = pDoc->pClass->getTileMode(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetTileMode returns: " << nMode);
+    fprintf(stderr, "[LOK C++] lok_documentGetTileMode returns: %d\n", nMode);
+    fflush(stderr);
+    return nMode;
+}
+
+// ==========================================
+// Text Selection and Content shims
+// ==========================================
+
+SAL_JNI_EXPORT
+char* lok_documentGetTextSelection(LibreOfficeKitDocument* pDoc, const char* pMimeType, char** pUsedMimeType)
+{
+    SAL_INFO("lok.shim", "lok_documentGetTextSelection(" << pDoc << ", '"
+             << (pMimeType ? pMimeType : "(null)") << "')");
+    fprintf(stderr, "[LOK C++] lok_documentGetTextSelection(%p, '%s')\n",
+            (void*)pDoc, pMimeType ? pMimeType : "(null)");
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getTextSelection)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetTextSelection: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetTextSelection: invalid doc or function pointer\n");
+        fflush(stderr);
+        return nullptr;
+    }
+
+    char* pResult = pDoc->pClass->getTextSelection(pDoc, pMimeType, pUsedMimeType);
+    SAL_INFO("lok.shim", "lok_documentGetTextSelection returns: "
+             << (pResult ? pResult : "(null)"));
+    fprintf(stderr, "[LOK C++] lok_documentGetTextSelection returns: '%s'\n",
+            pResult ? pResult : "(null)");
+    fflush(stderr);
+    return pResult;
+}
+
+SAL_JNI_EXPORT
+void lok_documentSetTextSelection(LibreOfficeKitDocument* pDoc, int nType, int nX, int nY)
+{
+    SAL_INFO("lok.shim", "lok_documentSetTextSelection(" << pDoc << ", type=" << nType
+             << ", x=" << nX << ", y=" << nY << ")");
+    fprintf(stderr, "[LOK C++] lok_documentSetTextSelection(%p, type=%d, x=%d, y=%d)\n",
+            (void*)pDoc, nType, nX, nY);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setTextSelection)
+    {
+        SAL_WARN("lok.shim", "lok_documentSetTextSelection: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentSetTextSelection: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->setTextSelection(pDoc, nType, nX, nY);
+    SAL_INFO("lok.shim", "lok_documentSetTextSelection done");
+    fprintf(stderr, "[LOK C++] lok_documentSetTextSelection done\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+int lok_documentGetSelectionType(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetSelectionType(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetSelectionType(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getSelectionType)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetSelectionType: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetSelectionType: invalid doc or function pointer\n");
+        fflush(stderr);
+        return 0;
+    }
+
+    int nType = pDoc->pClass->getSelectionType(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetSelectionType returns: " << nType);
+    fprintf(stderr, "[LOK C++] lok_documentGetSelectionType returns: %d\n", nType);
+    fflush(stderr);
+    return nType;
+}
+
+SAL_JNI_EXPORT
+void lok_documentResetSelection(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentResetSelection(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentResetSelection(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->resetSelection)
+    {
+        SAL_WARN("lok.shim", "lok_documentResetSelection: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentResetSelection: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->resetSelection(pDoc);
+    SAL_INFO("lok.shim", "lok_documentResetSelection done");
+    fprintf(stderr, "[LOK C++] lok_documentResetSelection done\n");
+    fflush(stderr);
+}
+
+// ==========================================
+// Mouse and Keyboard Event shims
+// ==========================================
+
+SAL_JNI_EXPORT
+void lok_documentPostMouseEvent(LibreOfficeKitDocument* pDoc,
+                                 int nType, int nX, int nY,
+                                 int nCount, int nButtons, int nModifier)
+{
+    SAL_INFO("lok.shim", "lok_documentPostMouseEvent(" << pDoc << ", type=" << nType
+             << ", x=" << nX << ", y=" << nY << ", count=" << nCount
+             << ", buttons=" << nButtons << ", modifier=" << nModifier << ")");
+    fprintf(stderr, "[LOK C++] lok_documentPostMouseEvent(%p, type=%d, x=%d, y=%d, count=%d, buttons=%d, modifier=%d)\n",
+            (void*)pDoc, nType, nX, nY, nCount, nButtons, nModifier);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->postMouseEvent)
+    {
+        SAL_WARN("lok.shim", "lok_documentPostMouseEvent: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentPostMouseEvent: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->postMouseEvent(pDoc, nType, nX, nY, nCount, nButtons, nModifier);
+    SAL_INFO("lok.shim", "lok_documentPostMouseEvent done");
+    fprintf(stderr, "[LOK C++] lok_documentPostMouseEvent done\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+void lok_documentPostKeyEvent(LibreOfficeKitDocument* pDoc, int nType, int nCharCode, int nKeyCode)
+{
+    SAL_INFO("lok.shim", "lok_documentPostKeyEvent(" << pDoc << ", type=" << nType
+             << ", charCode=" << nCharCode << ", keyCode=" << nKeyCode << ")");
+    fprintf(stderr, "[LOK C++] lok_documentPostKeyEvent(%p, type=%d, charCode=%d, keyCode=%d)\n",
+            (void*)pDoc, nType, nCharCode, nKeyCode);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->postKeyEvent)
+    {
+        SAL_WARN("lok.shim", "lok_documentPostKeyEvent: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentPostKeyEvent: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->postKeyEvent(pDoc, nType, nCharCode, nKeyCode);
+    SAL_INFO("lok.shim", "lok_documentPostKeyEvent done");
+    fprintf(stderr, "[LOK C++] lok_documentPostKeyEvent done\n");
+    fflush(stderr);
+}
+
+// ==========================================
+// UNO Command shims
+// ==========================================
+
+SAL_JNI_EXPORT
+void lok_documentPostUnoCommand(LibreOfficeKitDocument* pDoc,
+                                 const char* pCommand,
+                                 const char* pArguments,
+                                 int bNotifyWhenFinished)
+{
+    SAL_INFO("lok.shim", "lok_documentPostUnoCommand(" << pDoc << ", '"
+             << (pCommand ? pCommand : "(null)") << "', '"
+             << (pArguments ? pArguments : "(null)") << "', notify=" << bNotifyWhenFinished << ")");
+    fprintf(stderr, "[LOK C++] lok_documentPostUnoCommand(%p, '%s', '%s', notify=%d)\n",
+            (void*)pDoc, pCommand ? pCommand : "(null)", pArguments ? pArguments : "(null)", bNotifyWhenFinished);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->postUnoCommand)
+    {
+        SAL_WARN("lok.shim", "lok_documentPostUnoCommand: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentPostUnoCommand: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->postUnoCommand(pDoc, pCommand, pArguments, bNotifyWhenFinished != 0);
+    SAL_INFO("lok.shim", "lok_documentPostUnoCommand done");
+    fprintf(stderr, "[LOK C++] lok_documentPostUnoCommand done\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+char* lok_documentGetCommandValues(LibreOfficeKitDocument* pDoc, const char* pCommand)
+{
+    SAL_INFO("lok.shim", "lok_documentGetCommandValues(" << pDoc << ", '"
+             << (pCommand ? pCommand : "(null)") << "')");
+    fprintf(stderr, "[LOK C++] lok_documentGetCommandValues(%p, '%s')\n",
+            (void*)pDoc, pCommand ? pCommand : "(null)");
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getCommandValues)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetCommandValues: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetCommandValues: invalid doc or function pointer\n");
+        fflush(stderr);
+        return nullptr;
+    }
+
+    char* pResult = pDoc->pClass->getCommandValues(pDoc, pCommand);
+    SAL_INFO("lok.shim", "lok_documentGetCommandValues returns: "
+             << (pResult ? "(data)" : "(null)"));
+    fprintf(stderr, "[LOK C++] lok_documentGetCommandValues returns: %s\n",
+            pResult ? "(data)" : "(null)");
+    fflush(stderr);
+    return pResult;
+}
+
+// ==========================================
+// Page/Part Information shims
+// ==========================================
+
+SAL_JNI_EXPORT
+char* lok_documentGetPartPageRectangles(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetPartPageRectangles(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetPartPageRectangles(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getPartPageRectangles)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetPartPageRectangles: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetPartPageRectangles: invalid doc or function pointer\n");
+        fflush(stderr);
+        return nullptr;
+    }
+
+    char* pResult = pDoc->pClass->getPartPageRectangles(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetPartPageRectangles returns: "
+             << (pResult ? pResult : "(null)"));
+    fprintf(stderr, "[LOK C++] lok_documentGetPartPageRectangles returns: '%s'\n",
+            pResult ? pResult : "(null)");
+    fflush(stderr);
+    return pResult;
+}
+
+SAL_JNI_EXPORT
+char* lok_documentGetPartInfo(LibreOfficeKitDocument* pDoc, int nPart)
+{
+    SAL_INFO("lok.shim", "lok_documentGetPartInfo(" << pDoc << ", part=" << nPart << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetPartInfo(%p, part=%d)\n", (void*)pDoc, nPart);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getPartInfo)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetPartInfo: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetPartInfo: invalid doc or function pointer\n");
+        fflush(stderr);
+        return nullptr;
+    }
+
+    char* pResult = pDoc->pClass->getPartInfo(pDoc, nPart);
+    SAL_INFO("lok.shim", "lok_documentGetPartInfo returns: "
+             << (pResult ? pResult : "(null)"));
+    fprintf(stderr, "[LOK C++] lok_documentGetPartInfo returns: '%s'\n",
+            pResult ? pResult : "(null)");
+    fflush(stderr);
+    return pResult;
+}
+
+SAL_JNI_EXPORT
+char* lok_documentGetPartName(LibreOfficeKitDocument* pDoc, int nPart)
+{
+    SAL_INFO("lok.shim", "lok_documentGetPartName(" << pDoc << ", part=" << nPart << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetPartName(%p, part=%d)\n", (void*)pDoc, nPart);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getPartName)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetPartName: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetPartName: invalid doc or function pointer\n");
+        fflush(stderr);
+        return nullptr;
+    }
+
+    char* pResult = pDoc->pClass->getPartName(pDoc, nPart);
+    SAL_INFO("lok.shim", "lok_documentGetPartName returns: "
+             << (pResult ? pResult : "(null)"));
+    fprintf(stderr, "[LOK C++] lok_documentGetPartName returns: '%s'\n",
+            pResult ? pResult : "(null)");
+    fflush(stderr);
+    return pResult;
+}
+
+// ==========================================
+// Clipboard shims
+// ==========================================
+
+SAL_JNI_EXPORT
+int lok_documentPaste(LibreOfficeKitDocument* pDoc, const char* pMimeType, const char* pData, size_t nSize)
+{
+    SAL_INFO("lok.shim", "lok_documentPaste(" << pDoc << ", '"
+             << (pMimeType ? pMimeType : "(null)") << "', size=" << nSize << ")");
+    fprintf(stderr, "[LOK C++] lok_documentPaste(%p, '%s', size=%zu)\n",
+            (void*)pDoc, pMimeType ? pMimeType : "(null)", nSize);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->paste)
+    {
+        SAL_WARN("lok.shim", "lok_documentPaste: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentPaste: invalid doc or function pointer\n");
+        fflush(stderr);
+        return 0;
+    }
+
+    bool bResult = pDoc->pClass->paste(pDoc, pMimeType, pData, nSize);
+    SAL_INFO("lok.shim", "lok_documentPaste returns: " << bResult);
+    fprintf(stderr, "[LOK C++] lok_documentPaste returns: %d\n", bResult ? 1 : 0);
+    fflush(stderr);
+    return bResult ? 1 : 0;
+}
+
+// ==========================================
+// View and Zoom shims
+// ==========================================
+
+SAL_JNI_EXPORT
+void lok_documentSetClientZoom(LibreOfficeKitDocument* pDoc,
+                                int nTilePixelWidth, int nTilePixelHeight,
+                                int nTileTwipWidth, int nTileTwipHeight)
+{
+    SAL_INFO("lok.shim", "lok_documentSetClientZoom(" << pDoc
+             << ", pixel=" << nTilePixelWidth << "x" << nTilePixelHeight
+             << ", twip=" << nTileTwipWidth << "x" << nTileTwipHeight << ")");
+    fprintf(stderr, "[LOK C++] lok_documentSetClientZoom(%p, pixel=%dx%d, twip=%dx%d)\n",
+            (void*)pDoc, nTilePixelWidth, nTilePixelHeight, nTileTwipWidth, nTileTwipHeight);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setClientZoom)
+    {
+        SAL_WARN("lok.shim", "lok_documentSetClientZoom: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentSetClientZoom: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->setClientZoom(pDoc, nTilePixelWidth, nTilePixelHeight,
+                                 nTileTwipWidth, nTileTwipHeight);
+    SAL_INFO("lok.shim", "lok_documentSetClientZoom done");
+    fprintf(stderr, "[LOK C++] lok_documentSetClientZoom done\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+void lok_documentSetClientVisibleArea(LibreOfficeKitDocument* pDoc, int nX, int nY, int nWidth, int nHeight)
+{
+    SAL_INFO("lok.shim", "lok_documentSetClientVisibleArea(" << pDoc
+             << ", x=" << nX << ", y=" << nY << ", w=" << nWidth << ", h=" << nHeight << ")");
+    fprintf(stderr, "[LOK C++] lok_documentSetClientVisibleArea(%p, x=%d, y=%d, w=%d, h=%d)\n",
+            (void*)pDoc, nX, nY, nWidth, nHeight);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setClientVisibleArea)
+    {
+        SAL_WARN("lok.shim", "lok_documentSetClientVisibleArea: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentSetClientVisibleArea: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->setClientVisibleArea(pDoc, nX, nY, nWidth, nHeight);
+    SAL_INFO("lok.shim", "lok_documentSetClientVisibleArea done");
+    fprintf(stderr, "[LOK C++] lok_documentSetClientVisibleArea done\n");
+    fflush(stderr);
+}
+
+// ==========================================
+// Accessibility shims
+// ==========================================
+
+SAL_JNI_EXPORT
+char* lok_documentGetA11yFocusedParagraph(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetA11yFocusedParagraph(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetA11yFocusedParagraph(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getA11yFocusedParagraph)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetA11yFocusedParagraph: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetA11yFocusedParagraph: invalid doc or function pointer\n");
+        fflush(stderr);
+        return nullptr;
+    }
+
+    char* pResult = pDoc->pClass->getA11yFocusedParagraph(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetA11yFocusedParagraph returns: "
+             << (pResult ? pResult : "(null)"));
+    fprintf(stderr, "[LOK C++] lok_documentGetA11yFocusedParagraph returns: '%s'\n",
+            pResult ? pResult : "(null)");
+    fflush(stderr);
+    return pResult;
+}
+
+SAL_JNI_EXPORT
+int lok_documentGetA11yCaretPosition(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetA11yCaretPosition(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetA11yCaretPosition(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getA11yCaretPosition)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetA11yCaretPosition: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetA11yCaretPosition: invalid doc or function pointer\n");
+        fflush(stderr);
+        return -1;
+    }
+
+    int nPos = pDoc->pClass->getA11yCaretPosition(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetA11yCaretPosition returns: " << nPos);
+    fprintf(stderr, "[LOK C++] lok_documentGetA11yCaretPosition returns: %d\n", nPos);
+    fflush(stderr);
+    return nPos;
+}
+
+SAL_JNI_EXPORT
+void lok_documentSetAccessibilityState(LibreOfficeKitDocument* pDoc, int nId, int bEnabled)
+{
+    SAL_INFO("lok.shim", "lok_documentSetAccessibilityState(" << pDoc
+             << ", viewId=" << nId << ", enabled=" << bEnabled << ")");
+    fprintf(stderr, "[LOK C++] lok_documentSetAccessibilityState(%p, viewId=%d, enabled=%d)\n",
+            (void*)pDoc, nId, bEnabled);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setAccessibilityState)
+    {
+        SAL_WARN("lok.shim", "lok_documentSetAccessibilityState: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentSetAccessibilityState: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->setAccessibilityState(pDoc, nId, bEnabled != 0);
+    SAL_INFO("lok.shim", "lok_documentSetAccessibilityState done");
+    fprintf(stderr, "[LOK C++] lok_documentSetAccessibilityState done\n");
+    fflush(stderr);
+}
+
+// ==========================================
+// Spreadsheet-specific shims
+// ==========================================
+
+SAL_JNI_EXPORT
+void lok_documentGetDataArea(LibreOfficeKitDocument* pDoc, long nPart, long* pCol, long* pRow)
+{
+    SAL_INFO("lok.shim", "lok_documentGetDataArea(" << pDoc << ", part=" << nPart << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetDataArea(%p, part=%ld)\n", (void*)pDoc, nPart);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getDataArea)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetDataArea: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetDataArea: invalid doc or function pointer\n");
+        fflush(stderr);
+        if (pCol) *pCol = 0;
+        if (pRow) *pRow = 0;
+        return;
+    }
+
+    pDoc->pClass->getDataArea(pDoc, nPart, pCol, pRow);
+    SAL_INFO("lok.shim", "lok_documentGetDataArea returns: col=" << *pCol << ", row=" << *pRow);
+    fprintf(stderr, "[LOK C++] lok_documentGetDataArea returns: col=%ld, row=%ld\n", *pCol, *pRow);
+    fflush(stderr);
+}
+
+// ==========================================
+// Edit Mode shim
+// ==========================================
+
+SAL_JNI_EXPORT
+int lok_documentGetEditMode(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetEditMode(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetEditMode(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getEditMode)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetEditMode: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetEditMode: invalid doc or function pointer\n");
+        fflush(stderr);
+        return 0;
+    }
+
+    int nMode = pDoc->pClass->getEditMode(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetEditMode returns: " << nMode);
+    fprintf(stderr, "[LOK C++] lok_documentGetEditMode returns: %d\n", nMode);
+    fflush(stderr);
+    return nMode;
+}
+
+SAL_JNI_EXPORT
+void lok_documentSetEditMode(LibreOfficeKitDocument* pDoc, int nMode)
+{
+    SAL_INFO("lok.shim", "lok_documentSetEditMode(" << pDoc << ", mode=" << nMode << ")");
+    fprintf(stderr, "[LOK C++] lok_documentSetEditMode(%p, mode=%d)\n", (void*)pDoc, nMode);
+    fflush(stderr);
+
+    // nMode: 0 = view mode, 1 = edit mode
+    ITiledRenderable* pTiledRenderable = getTiledRenderable(pDoc);
+    if (pTiledRenderable)
+        pTiledRenderable->setEditMode(nMode);
+    SAL_INFO("lok.shim", "lok_documentSetEditMode done");
+    fprintf(stderr, "[LOK C++] lok_documentSetEditMode done\n");
+    fflush(stderr);
+}
+
+// ==========================================
+// View Management shims
+// ==========================================
+
+SAL_JNI_EXPORT
+int lok_documentCreateView(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentCreateView(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentCreateView(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->createView)
+    {
+        SAL_WARN("lok.shim", "lok_documentCreateView: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentCreateView: invalid doc or function pointer\n");
+        fflush(stderr);
+        return -1;
+    }
+
+    int nViewId = pDoc->pClass->createView(pDoc);
+    SAL_INFO("lok.shim", "lok_documentCreateView returns: " << nViewId);
+    fprintf(stderr, "[LOK C++] lok_documentCreateView returns: %d\n", nViewId);
+    fflush(stderr);
+    return nViewId;
+}
+
+SAL_JNI_EXPORT
+int lok_documentCreateViewWithOptions(LibreOfficeKitDocument* pDoc, const char* pOptions)
+{
+    SAL_INFO("lok.shim", "lok_documentCreateViewWithOptions(" << pDoc << ", '"
+             << (pOptions ? pOptions : "(null)") << "')");
+    fprintf(stderr, "[LOK C++] lok_documentCreateViewWithOptions(%p, '%s')\n",
+            (void*)pDoc, pOptions ? pOptions : "(null)");
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->createViewWithOptions)
+    {
+        SAL_WARN("lok.shim", "lok_documentCreateViewWithOptions: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentCreateViewWithOptions: invalid doc or function pointer\n");
+        fflush(stderr);
+        return -1;
+    }
+
+    int nViewId = pDoc->pClass->createViewWithOptions(pDoc, pOptions);
+    SAL_INFO("lok.shim", "lok_documentCreateViewWithOptions returns: " << nViewId);
+    fprintf(stderr, "[LOK C++] lok_documentCreateViewWithOptions returns: %d\n", nViewId);
+    fflush(stderr);
+    return nViewId;
+}
+
+SAL_JNI_EXPORT
+void lok_documentDestroyView(LibreOfficeKitDocument* pDoc, int nViewId)
+{
+    SAL_INFO("lok.shim", "lok_documentDestroyView(" << pDoc << ", viewId=" << nViewId << ")");
+    fprintf(stderr, "[LOK C++] lok_documentDestroyView(%p, viewId=%d)\n", (void*)pDoc, nViewId);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->destroyView)
+    {
+        SAL_WARN("lok.shim", "lok_documentDestroyView: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentDestroyView: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->destroyView(pDoc, nViewId);
+    SAL_INFO("lok.shim", "lok_documentDestroyView done");
+    fprintf(stderr, "[LOK C++] lok_documentDestroyView done\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+void lok_documentSetView(LibreOfficeKitDocument* pDoc, int nViewId)
+{
+    SAL_INFO("lok.shim", "lok_documentSetView(" << pDoc << ", viewId=" << nViewId << ")");
+    fprintf(stderr, "[LOK C++] lok_documentSetView(%p, viewId=%d)\n", (void*)pDoc, nViewId);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setView)
+    {
+        SAL_WARN("lok.shim", "lok_documentSetView: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentSetView: invalid doc or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    pDoc->pClass->setView(pDoc, nViewId);
+    SAL_INFO("lok.shim", "lok_documentSetView done");
+    fprintf(stderr, "[LOK C++] lok_documentSetView done\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+int lok_documentGetView(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetView(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetView(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getView)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetView: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetView: invalid doc or function pointer\n");
+        fflush(stderr);
+        return -1;
+    }
+
+    int nViewId = pDoc->pClass->getView(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetView returns: " << nViewId);
+    fprintf(stderr, "[LOK C++] lok_documentGetView returns: %d\n", nViewId);
+    fflush(stderr);
+    return nViewId;
+}
+
+SAL_JNI_EXPORT
+int lok_documentGetViewsCount(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentGetViewsCount(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentGetViewsCount(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getViewsCount)
+    {
+        SAL_WARN("lok.shim", "lok_documentGetViewsCount: invalid doc or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentGetViewsCount: invalid doc or function pointer\n");
+        fflush(stderr);
+        return 0;
+    }
+
+    int nCount = pDoc->pClass->getViewsCount(pDoc);
+    SAL_INFO("lok.shim", "lok_documentGetViewsCount returns: " << nCount);
+    fprintf(stderr, "[LOK C++] lok_documentGetViewsCount returns: %d\n", nCount);
+    fflush(stderr);
+    return nCount;
+}
+
+// ==========================================
+// Event Loop and Callback shims
+// ==========================================
+
+// Dummy poll callback - just returns 0 (no events pending)
+static int dummyPollCallback(void* /*pData*/, int /*timeoutUs*/)
+{
+    return 0;
+}
+
+// Dummy wake callback - does nothing
+static void dummyWakeCallback(void* /*pData*/)
+{
+}
+
+SAL_JNI_EXPORT
+void lok_enableSyncEvents()
+{
+    SAL_INFO("lok.shim", "lok_enableSyncEvents: registering dummy poll callbacks to enable synchronous event dispatch");
+    fprintf(stderr, "[LOK C++] lok_enableSyncEvents: enabling Unipoll mode for synchronous events\n");
+    fflush(stderr);
+
+    // Register dummy callbacks to enable Unipoll mode
+    // This makes isUnipoll() return true, causing events to be dispatched synchronously
+    // instead of being queued via Application::PostUserEvent()
+    vcl::lok::registerPollCallbacks(dummyPollCallback, dummyWakeCallback, nullptr);
+
+    fprintf(stderr, "[LOK C++] lok_enableSyncEvents: Unipoll mode enabled\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+void lok_disableSyncEvents()
+{
+    SAL_INFO("lok.shim", "lok_disableSyncEvents: unregistering poll callbacks");
+    fprintf(stderr, "[LOK C++] lok_disableSyncEvents: disabling Unipoll mode\n");
+    fflush(stderr);
+
+    vcl::lok::unregisterPollCallbacks();
+
+    fprintf(stderr, "[LOK C++] lok_disableSyncEvents: Unipoll mode disabled\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+void lok_runLoop(LibreOfficeKit* pKit,
+                 LibreOfficeKitPollCallback pPollCallback,
+                 LibreOfficeKitWakeCallback pWakeCallback,
+                 void* pData)
+{
+    SAL_INFO("lok.shim", "lok_runLoop(" << pKit << ", pollCb=" << (void*)pPollCallback
+             << ", wakeCb=" << (void*)pWakeCallback << ", data=" << pData << ")");
+    fprintf(stderr, "[LOK C++] lok_runLoop(%p, pollCb=%p, wakeCb=%p, data=%p)\n",
+            (void*)pKit, (void*)pPollCallback, (void*)pWakeCallback, pData);
+    fflush(stderr);
+
+    if (!pKit || !pKit->pClass || !pKit->pClass->runLoop)
+    {
+        SAL_WARN("lok.shim", "lok_runLoop: invalid kit or function pointer");
+        fprintf(stderr, "[LOK C++] lok_runLoop: invalid kit or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    // Note: This will block and run the event loop!
+    pKit->pClass->runLoop(pKit, pPollCallback, pWakeCallback, pData);
+
+    SAL_INFO("lok.shim", "lok_runLoop done");
+    fprintf(stderr, "[LOK C++] lok_runLoop done\n");
+    fflush(stderr);
+}
+
+// ==========================================
+// Callback Queue System for WASM
+// ==========================================
+
+// Structure to hold a queued callback event
+struct LOKCallbackEvent
+{
+    int nType;
+    std::string sPayload;
+};
+
+// Thread-safe queue for callback events
+static std::mutex gCallbackQueueMutex;
+static std::deque<LOKCallbackEvent> gCallbackQueue;
+static constexpr size_t MAX_CALLBACK_QUEUE_SIZE = 1000;
+
+// The callback function that gets registered with LOK
+// It queues events instead of calling back to JS directly
+static void lokQueueingCallback(int nType, const char* pPayload, void* /*pData*/)
+{
+    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
+
+    // Prevent queue from growing unbounded
+    if (gCallbackQueue.size() >= MAX_CALLBACK_QUEUE_SIZE)
+    {
+        // Drop oldest events
+        gCallbackQueue.pop_front();
+    }
+
+    LOKCallbackEvent event;
+    event.nType = nType;
+    event.sPayload = pPayload ? pPayload : "";
+    gCallbackQueue.push_back(std::move(event));
+
+    SAL_INFO("lok.shim", "lokQueueingCallback: queued type=" << nType << " payload=" << (pPayload ? pPayload : "(null)"));
+    fprintf(stderr, "[LOK C++] lokQueueingCallback: queued type=%d payload=%s queueSize=%zu\n",
+            nType, pPayload ? pPayload : "(null)", gCallbackQueue.size());
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+void lok_documentRegisterCallback(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentRegisterCallback(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentRegisterCallback(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->registerCallback)
+    {
+        SAL_WARN("lok.shim", "lok_documentRegisterCallback: invalid document or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentRegisterCallback: invalid document or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    // Clear the queue before registering
+    {
+        std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
+        gCallbackQueue.clear();
+    }
+
+    // Check current view before registering
+    int nView = SfxLokHelper::getView();
+    fprintf(stderr, "[LOK C++] lok_documentRegisterCallback: current view=%d\n", nView);
+    fflush(stderr);
+
+    // Register our queueing callback
+    pDoc->pClass->registerCallback(pDoc, lokQueueingCallback, nullptr);
+
+    // Check handlers after registration
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pDoc);
+    fprintf(stderr, "[LOK C++] lok_documentRegisterCallback: after registration, mpCallbackFlushHandlers.size()=%zu\n",
+            pDocument->mpCallbackFlushHandlers.size());
+    fflush(stderr);
+
+    fprintf(stderr, "[LOK C++] lok_documentRegisterCallback: callback registered\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+void lok_documentUnregisterCallback(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_documentUnregisterCallback(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_documentUnregisterCallback(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc || !pDoc->pClass || !pDoc->pClass->registerCallback)
+    {
+        SAL_WARN("lok.shim", "lok_documentUnregisterCallback: invalid document or function pointer");
+        fprintf(stderr, "[LOK C++] lok_documentUnregisterCallback: invalid document or function pointer\n");
+        fflush(stderr);
+        return;
+    }
+
+    // Unregister by passing nullptr
+    pDoc->pClass->registerCallback(pDoc, nullptr, nullptr);
+
+    // Clear the queue
+    {
+        std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
+        gCallbackQueue.clear();
+    }
+
+    fprintf(stderr, "[LOK C++] lok_documentUnregisterCallback: callback unregistered\n");
+    fflush(stderr);
+}
+
+SAL_JNI_EXPORT
+int lok_hasCallbackEvents()
+{
+    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
+    return gCallbackQueue.empty() ? 0 : 1;
+}
+
+SAL_JNI_EXPORT
+int lok_getCallbackEventCount()
+{
+    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
+    return static_cast<int>(gCallbackQueue.size());
+}
+
+// Poll and return the next callback event
+// Returns: type of event, or -1 if queue is empty
+// Payload is copied to pPayloadBuffer (must be at least nBufferSize bytes)
+// Actual payload length is written to pPayloadLength
+SAL_JNI_EXPORT
+int lok_pollCallback(char* pPayloadBuffer, int nBufferSize, int* pPayloadLength)
+{
+    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
+
+    if (gCallbackQueue.empty())
+    {
+        if (pPayloadLength)
+            *pPayloadLength = 0;
+        return -1;
+    }
+
+    LOKCallbackEvent event = std::move(gCallbackQueue.front());
+    gCallbackQueue.pop_front();
+
+    int payloadLen = static_cast<int>(event.sPayload.length());
+    if (pPayloadLength)
+        *pPayloadLength = payloadLen;
+
+    if (pPayloadBuffer && nBufferSize > 0)
+    {
+        int copyLen = std::min(payloadLen, nBufferSize - 1);
+        memcpy(pPayloadBuffer, event.sPayload.c_str(), copyLen);
+        pPayloadBuffer[copyLen] = '\0';
+    }
+
+    SAL_INFO("lok.shim", "lok_pollCallback: returning type=" << event.nType << " payloadLen=" << payloadLen);
+    return event.nType;
+}
+
+// Clear all queued callback events
+SAL_JNI_EXPORT
+void lok_clearCallbackQueue()
+{
+    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
+    gCallbackQueue.clear();
+    SAL_INFO("lok.shim", "lok_clearCallbackQueue: queue cleared");
+    fprintf(stderr, "[LOK C++] lok_clearCallbackQueue: queue cleared\n");
+    fflush(stderr);
+}
+
+// Force flush pending LOK callbacks for a document
+// This is needed in WASM because callbacks are queued via PostUserEvent
+// but the event loop doesn't run automatically
+SAL_JNI_EXPORT
+void lok_flushCallbacks(LibreOfficeKitDocument* pDoc)
+{
+    SAL_INFO("lok.shim", "lok_flushCallbacks(" << pDoc << ")");
+    fprintf(stderr, "[LOK C++] lok_flushCallbacks(%p)\n", (void*)pDoc);
+    fflush(stderr);
+
+    if (!pDoc)
+    {
+        SAL_WARN("lok.shim", "lok_flushCallbacks: invalid document");
+        fprintf(stderr, "[LOK C++] lok_flushCallbacks: invalid document\n");
+        fflush(stderr);
+        return;
+    }
+
+    SolarMutexGuard aGuard;
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pDoc);
+
+    fprintf(stderr, "[LOK C++] lok_flushCallbacks: mpCallbackFlushHandlers.size()=%zu\n",
+            pDocument->mpCallbackFlushHandlers.size());
+    fflush(stderr);
+
+    // Flush all callback handlers for all views
+    int flushedCount = 0;
+    for (auto& pair : pDocument->mpCallbackFlushHandlers)
+    {
+        fprintf(stderr, "[LOK C++] lok_flushCallbacks: handler for view %zu exists=%d\n",
+                pair.first, pair.second ? 1 : 0);
+        fflush(stderr);
+        if (pair.second)
+        {
+            pair.second->flush();
+            flushedCount++;
+        }
+    }
+
+    fprintf(stderr, "[LOK C++] lok_flushCallbacks: flushed %d callback handlers\n", flushedCount);
+    fflush(stderr);
+}
+
 } // extern "C"
 
 /* vim:set shiftwidth=4 softtabstop=4 expandtab: */
diff --git a/desktop/source/lib/init.cxx.orig b/desktop/source/lib/init.cxx.orig
new file mode 100644
index 000000000..ece81f035
--- /dev/null
+++ b/desktop/source/lib/init.cxx.orig
@@ -0,0 +1,8348 @@
+/* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4; fill-column: 100 -*- */
+/*
+ * This file is part of the LibreOffice project.
+ *
+ * This Source Code Form is subject to the terms of the Mozilla Public
+ * License, v. 2.0. If a copy of the MPL was not distributed with this
+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.
+ */
+
+#include <sfx2/lokhelper.hxx>
+#include <sal/types.h>
+#include <svx/sdr/contact/viewcontact.hxx>
+#include <svx/svdpage.hxx>
+#include <svx/svdpagv.hxx>
+#include <config_buildconfig.h>
+#include <config_cairo_rgba.h>
+#include <config_features.h>
+#include <editeng/unolingu.hxx>
+
+#include <stdio.h>
+
+#ifdef IOS
+#include <sys/mman.h>
+#include <sys/stat.h>
+#include <unicode/udata.h>
+#include <unicode/ucnv.h>
+#include <premac.h>
+#import <Foundation/Foundation.h>
+#import <CoreGraphics/CoreGraphics.h>
+#include <postmac.h>
+#endif
+
+#undef HAVE_MALLOC_TRIM
+
+#ifdef UNX
+#  include <fcntl.h>
+#endif
+#ifdef LINUX
+#if defined __GLIBC__
+#  include <malloc.h>
+#  define HAVE_MALLOC_TRIM
+#endif
+#endif
+
+#ifdef ANDROID
+#include <osl/detail/android-bootstrap.h>
+#endif
+
+#ifdef EMSCRIPTEN
+#include <osl/detail/emscripten-bootstrap.h>
+#endif
+
+#include <algorithm>
+#include <memory>
+#include <iostream>
+#include <string_view>
+
+#include <boost/property_tree/json_parser.hpp>
+#include <boost/algorithm/string.hpp>
+
+#include <LibreOfficeKit/LibreOfficeKit.h>
+#include <LibreOfficeKit/LibreOfficeKitEnums.h>
+
+#include <sal/log.hxx>
+#include <utility>
+#include <vcl/errinf.hxx>
+#include <vcl/lok.hxx>
+#include <o3tl/any.hxx>
+#include <o3tl/unit_conversion.hxx>
+#include <o3tl/string_view.hxx>
+#include <osl/file.hxx>
+#include <osl/process.h>
+#include <osl/thread.h>
+#include <rtl/bootstrap.hxx>
+#include <rtl/strbuf.hxx>
+#include <rtl/uri.hxx>
+#include <linguistic/misc.hxx>
+#include <cppuhelper/bootstrap.hxx>
+#include <comphelper/random.hxx>
+#include <comphelper/base64.hxx>
+#include <comphelper/dispatchcommand.hxx>
+#include <comphelper/lok.hxx>
+#include <comphelper/processfactory.hxx>
+#include <comphelper/string.hxx>
+#include <comphelper/profilezone.hxx>
+#include <comphelper/propertysequence.hxx>
+#include <comphelper/propertyvalue.hxx>
+#include <comphelper/scopeguard.hxx>
+#include <comphelper/threadpool.hxx>
+#include <comphelper/types.hxx>
+#include <comphelper/sequenceashashmap.hxx>
+
+#include <com/sun/star/connection/XConnection.hpp>
+#include <com/sun/star/document/MacroExecMode.hpp>
+#include <com/sun/star/beans/XPropertySet.hpp>
+#include <com/sun/star/container/XNameAccess.hpp>
+#include <com/sun/star/frame/Desktop.hpp>
+#include <com/sun/star/frame/DispatchResultEvent.hpp>
+#include <com/sun/star/frame/DispatchResultState.hpp>
+#include <com/sun/star/frame/XDispatchProvider.hpp>
+#include <com/sun/star/frame/XDispatchResultListener.hpp>
+#include <com/sun/star/frame/XSynchronousDispatch.hpp>
+#include <com/sun/star/frame/XStorable.hpp>
+#include <com/sun/star/lang/Locale.hpp>
+#include <com/sun/star/lang/XComponent.hpp>
+#include <com/sun/star/lang/XMultiServiceFactory.hpp>
+#include <com/sun/star/style/XStyleFamiliesSupplier.hpp>
+#include <com/sun/star/util/URLTransformer.hpp>
+#include <com/sun/star/datatransfer/clipboard/XClipboard.hpp>
+#include <com/sun/star/datatransfer/UnsupportedFlavorException.hpp>
+#include <com/sun/star/datatransfer/XTransferable2.hpp>
+#include <com/sun/star/text/TextContentAnchorType.hpp>
+#include <com/sun/star/document/XRedlinesSupplier.hpp>
+#include <com/sun/star/ui/GlobalAcceleratorConfiguration.hpp>
+#include <com/sun/star/bridge/BridgeFactory.hpp>
+#include <com/sun/star/bridge/XBridgeFactory.hpp>
+#include <com/sun/star/bridge/XBridge.hpp>
+#include <com/sun/star/uno/XNamingService.hpp>
+
+#include <com/sun/star/xml/crypto/SEInitializer.hpp>
+#include <com/sun/star/xml/crypto/XSEInitializer.hpp>
+#include <com/sun/star/xml/crypto/XSecurityEnvironment.hpp>
+#include <com/sun/star/xml/crypto/XCertificateCreator.hpp>
+#include <com/sun/star/security/XCertificate.hpp>
+
+#include <com/sun/star/linguistic2/DictionaryList.hpp>
+#include <com/sun/star/linguistic2/LinguServiceManager.hpp>
+#include <com/sun/star/linguistic2/XSpellChecker.hpp>
+#include <com/sun/star/linguistic2/XProofreader.hpp>
+#include <com/sun/star/i18n/LocaleCalendar2.hpp>
+#include <com/sun/star/i18n/ScriptType.hpp>
+#include <com/sun/star/i18n/BreakIterator.hpp>
+#include <com/sun/star/lang/DisposedException.hpp>
+#include <com/sun/star/view/XSelectionSupplier.hpp>
+
+#include <editeng/flstitem.hxx>
+#ifdef IOS
+#include <sfx2/app.hxx>
+#endif
+#include <sfx2/objsh.hxx>
+#include <sfx2/docfilt.hxx>
+#include <sfx2/docfile.hxx>
+#include <sfx2/viewsh.hxx>
+#include <sfx2/viewfrm.hxx>
+#include <sfx2/msgpool.hxx>
+#include <sfx2/dispatch.hxx>
+#include <sfx2/lokcomponenthelpers.hxx>
+#include <sfx2/DocumentSigner.hxx>
+#include <sfx2/sidebar/Sidebar.hxx>
+#include <svl/numformat.hxx>
+#include <svx/dialmgr.hxx>
+#include <svx/strings.hrc>
+#include <svx/svdview.hxx>
+#include <svx/svxids.hrc>
+#include <svx/ucsubset.hxx>
+#include <vcl/vclevent.hxx>
+#include <vcl/GestureEventPan.hxx>
+#include <vcl/svapp.hxx>
+#include <unotools/resmgr.hxx>
+#include <tools/fract.hxx>
+#include <tools/json_writer.hxx>
+#include <svtools/ctrltool.hxx>
+#include <svtools/langtab.hxx>
+#include <vcl/fontcharmap.hxx>
+#ifdef IOS
+#include <vcl/sysdata.hxx>
+#endif
+#include <vcl/virdev.hxx>
+#include <vcl/ImageTree.hxx>
+#include <vcl/ITiledRenderable.hxx>
+#include <vcl/dialoghelper.hxx>
+#ifdef _WIN32
+#include <vcl/BitmapReadAccess.hxx>
+#endif
+#include <unicode/uchar.h>
+#include <unotools/securityoptions.hxx>
+#include <unotools/confignode.hxx>
+#include <unotools/syslocaleoptions.hxx>
+#include <unotools/mediadescriptor.hxx>
+#include <unotools/pathoptions.hxx>
+#include <unotools/tempfile.hxx>
+#include <unotools/streamwrap.hxx>
+#include <osl/module.hxx>
+#include <comphelper/sequence.hxx>
+#include <sfx2/sfxbasemodel.hxx>
+#include <svl/undo.hxx>
+#include <unotools/datetime.hxx>
+#include <i18nlangtag/mslangid.hxx>
+#include <i18nlangtag/languagetag.hxx>
+#include <vcl/abstdlg.hxx>
+#include <comphelper/diagnose_ex.hxx>
+#include <vcl/uitest/uiobject.hxx>
+#include <vcl/jsdialog/executor.hxx>
+
+// Needed for getUndoManager()
+#include <com/sun/star/document/XUndoManager.hpp>
+#include <com/sun/star/document/XUndoManagerSupplier.hpp>
+#include <com/sun/star/document/XLinkTargetSupplier.hpp>
+#include <editeng/sizeitem.hxx>
+#include <svx/rulritem.hxx>
+#include <svx/pageitem.hxx>
+
+#include <app.hxx>
+
+#include "../app/cmdlineargs.hxx"
+// We also need to hackily be able to start the main libreoffice thread:
+#include "../app/sofficemain.h"
+#include "../app/officeipcthread.hxx"
+#include <lib/init.hxx>
+
+#include "lokinteractionhandler.hxx"
+#include "lokclipboard.hxx"
+#include <officecfg/Office/Common.hxx>
+#include <officecfg/Office/Impress.hxx>
+#include <officecfg/Office/Linguistic.hxx>
+#include <officecfg/Office/UI/ToolbarMode.hxx>
+#include <unotools/optionsdlg.hxx>
+#include <svl/ctloptions.hxx>
+#include <svtools/colorcfg.hxx>
+#include <svtools/miscopt.hxx>
+#include <unotools/cmdoptions.hxx>
+#include <unotools/lingucfg.hxx>
+#include <unotools/moduleoptions.hxx>
+#include <unotools/searchopt.hxx>
+#include <unotools/useroptions.hxx>
+#include <vcl/settings.hxx>
+
+#include <officecfg/Setup.hxx>
+#include <com/sun/star/ui/XAcceleratorConfiguration.hpp>
+#include <svtools/acceleratorexecute.hxx>
+
+#include <tools/hostfilter.hxx>
+
+using namespace css;
+using namespace vcl;
+using namespace desktop;
+using namespace utl;
+using namespace bridge;
+using namespace uno;
+using namespace lang;
+
+#ifdef UNX
+
+static int urandom = -1;
+
+extern "C" {
+    int SAL_JNI_EXPORT lok_open_urandom()
+    {
+        return dup(urandom);
+    }
+};
+
+#endif
+
+using LanguageToolCfg = officecfg::Office::Linguistic::GrammarChecking::LanguageTool;
+
+
+static LibLibreOffice_Impl *gImpl = nullptr;
+static bool lok_preinit_2_called = false;
+static bool gUseCompactFonts = false;
+static std::weak_ptr< LibreOfficeKitClass > gOfficeClass;
+static std::weak_ptr< LibreOfficeKitDocumentClass > gDocumentClass;
+
+static void SetLastExceptionMsg(const OUString& s = OUString())
+{
+    SAL_WARN_IF(!s.isEmpty(), "lok", "lok exception '" + s + "'");
+    if (gImpl)
+        gImpl->maLastExceptionMsg = s;
+}
+
+namespace {
+
+struct ExtensionMap
+{
+    std::string_view extn;
+    OUString filterName;
+};
+
+class TraceEventDumper : public AutoTimer
+{
+    static const int dumpTimeoutMS = 5000;
+
+public:
+    TraceEventDumper() : AutoTimer( "Trace Event dumper" )
+    {
+        SetTimeout(dumpTimeoutMS);
+        Start();
+    }
+
+    virtual void Invoke() override
+    {
+        flushRecordings();
+    }
+
+    static void flushRecordings()
+    {
+        const css::uno::Sequence<OUString> aEvents =
+            comphelper::TraceEvent::getRecordingAndClear();
+        OStringBuffer aOutput;
+        for (const auto &s : aEvents)
+        {
+            aOutput.append(OUStringToOString(s, RTL_TEXTENCODING_UTF8)
+                + "\n");
+        }
+        if (aOutput.getLength() > 0)
+        {
+            OString aChunk = aOutput.makeStringAndClear();
+            if (gImpl && gImpl->mpCallback)
+                gImpl->mpCallback(LOK_CALLBACK_PROFILE_FRAME, aChunk.getStr(), gImpl->mpCallbackData);
+        }
+    }
+};
+
+TraceEventDumper *traceEventDumper = nullptr;
+
+constexpr ExtensionMap aWriterExtensionMap[] =
+{
+    { "doc",   u"MS Word 97"_ustr },
+    { "docm",  u"MS Word 2007 XML VBA"_ustr },
+    { "docx",  u"MS Word 2007 XML"_ustr },
+    { "fodt",  u"OpenDocument Text Flat XML"_ustr },
+    { "html",  u"HTML (StarWriter)"_ustr },
+    { "odt",   u"writer8"_ustr },
+    { "ott",   u"writer8_template"_ustr },
+    { "pdf",   u"writer_pdf_Export"_ustr },
+    { "epub",  u"EPUB"_ustr },
+    { "rtf",   u"Rich Text Format"_ustr },
+    { "txt",   u"Text"_ustr },
+    { "xhtml", u"XHTML Writer File"_ustr },
+    { "png",   u"writer_png_Export"_ustr },
+    { "xml",   u"writer_indexing_export"_ustr },
+};
+
+constexpr ExtensionMap aCalcExtensionMap[] =
+{
+    { "csv",   u"Text - txt - csv (StarCalc)"_ustr },
+    { "fods",  u"OpenDocument Spreadsheet Flat XML"_ustr },
+    { "html",  u"HTML (StarCalc)"_ustr },
+    { "ods",   u"calc8"_ustr },
+    { "ots",   u"calc8_template"_ustr },
+    { "pdf",   u"calc_pdf_Export"_ustr },
+    { "xhtml", u"XHTML Calc File"_ustr },
+    { "xls",   u"MS Excel 97"_ustr },
+    { "xlsm",  u"Calc MS Excel 2007 VBA XML"_ustr },
+    { "xlsx",  u"Calc MS Excel 2007 XML"_ustr },
+    { "png",   u"calc_png_Export"_ustr },
+};
+
+constexpr ExtensionMap aImpressExtensionMap[] =
+{
+    { "fodp",  u"OpenDocument Presentation Flat XML"_ustr },
+    { "html",  u"impress_html_Export"_ustr },
+    { "odg",   u"impress8_draw"_ustr },
+    { "odp",   u"impress8"_ustr },
+    { "otp",   u"impress8_template"_ustr },
+    { "pdf",   u"impress_pdf_Export"_ustr },
+    { "potm",  u"Impress MS PowerPoint 2007 XML Template"_ustr },
+    { "pot",   u"MS PowerPoint 97 Vorlage"_ustr },
+    { "pptm",  u"Impress MS PowerPoint 2007 XML VBA"_ustr },
+    { "pptx",  u"Impress MS PowerPoint 2007 XML"_ustr },
+    { "pps",   u"MS PowerPoint 97 Autoplay"_ustr },
+    { "ppt",   u"MS PowerPoint 97"_ustr },
+    { "svg",   u"impress_svg_Export"_ustr },
+    { "xhtml", u"XHTML Impress File"_ustr },
+    { "png",   u"impress_png_Export"_ustr },
+};
+
+constexpr ExtensionMap aDrawExtensionMap[] =
+{
+    { "fodg",  u"draw_ODG_FlatXML"_ustr },
+    { "html",  u"draw_html_Export"_ustr },
+    { "odg",   u"draw8"_ustr },
+    { "pdf",   u"draw_pdf_Export"_ustr },
+    { "svg",   u"draw_svg_Export"_ustr },
+    { "xhtml", u"XHTML Draw File"_ustr },
+    { "png",   u"draw_png_Export"_ustr },
+};
+
+OUString getUString(const char* pString)
+{
+    if (pString == nullptr)
+        return OUString();
+
+    return OStringToOUString(pString, RTL_TEXTENCODING_UTF8);
+}
+
+// Tolerate embedded \0s etc.
+char *convertOString(const OString &rStr)
+{
+    char* pMemory = static_cast<char*>(malloc(rStr.getLength() + 1));
+    assert(pMemory); // don't tolerate failed allocations.
+    memcpy(pMemory, rStr.getStr(), rStr.getLength() + 1);
+    return pMemory;
+}
+
+char *convertOUString(std::u16string_view aStr)
+{
+    return convertOString(OUStringToOString(aStr, RTL_TEXTENCODING_UTF8));
+}
+
+/// Try to convert a relative URL to an absolute one, unless it already looks like a URL.
+OUString getAbsoluteURL(const char* pURL)
+{
+    OUString aURL(getUString(pURL));
+    if (aURL.isEmpty())
+        return aURL;
+
+    // convert relative paths to absolute ones
+    OUString aWorkingDir;
+    osl_getProcessWorkingDir(&aWorkingDir.pData);
+    if (!aWorkingDir.endsWith("/"))
+        aWorkingDir += "/";
+
+    try
+    {
+        return rtl::Uri::convertRelToAbs(aWorkingDir, aURL);
+    }
+    catch (const rtl::MalformedUriException &)
+    {
+    }
+
+    return OUString();
+}
+
+} // unnamed namespace
+
+std::vector<beans::PropertyValue> desktop::jsonToPropertyValuesVector(const char* pJSON)
+{
+    std::vector<beans::PropertyValue> aArguments;
+    if (pJSON && pJSON[0] != '\0')
+    {
+        aArguments = comphelper::JsonToPropertyValues(pJSON);
+    }
+    return aArguments;
+}
+
+static void extractLinks(const uno::Reference< container::XNameAccess >& xLinks, bool subcontent, tools::JsonWriter& aJson)
+{
+    for (const OUString& aLink : xLinks->getElementNames())
+    {
+        uno::Any aAny;
+
+        try
+        {
+            aAny = xLinks->getByName( aLink );
+        }
+        catch(const uno::Exception&)
+        {
+            // if the name of the target was invalid (like empty headings)
+            // no object can be provided
+            continue;
+        }
+
+        uno::Reference< beans::XPropertySet > xTarget;
+        if( aAny >>= xTarget )
+        {
+            try
+            {
+                // get name to display
+                aAny = xTarget->getPropertyValue(u"LinkDisplayName"_ustr);
+                OUString aStrDisplayname;
+                aAny >>= aStrDisplayname;
+
+                if (subcontent)
+                {
+                    aJson.put(aStrDisplayname, aLink);
+                }
+                else
+                {
+                    uno::Reference<lang::XServiceInfo> xSI(xTarget, uno::UNO_QUERY_THROW);
+                    if (xSI->supportsService(u"com.sun.star.document.LinkTarget"_ustr))
+                    {
+                        aJson.put(aStrDisplayname, aLink);
+                        continue;
+                    }
+                    else
+                    {
+                        auto aNode = aJson.startNode(
+                            OUStringToOString(aStrDisplayname, RTL_TEXTENCODING_UTF8));
+
+                        uno::Reference< document::XLinkTargetSupplier > xLTS( xTarget, uno::UNO_QUERY );
+                        if( xLTS.is() )
+                            extractLinks(xLTS->getLinks(), true, aJson);
+                    }
+                }
+            }
+            catch(...)
+            {
+                SAL_WARN("lok", "extractLinks: Exception");
+            }
+        }
+    }
+}
+
+static void unoAnyToJson(tools::JsonWriter& rJson, std::string_view pNodeName, const uno::Any& anyItem)
+{
+    auto aNode = rJson.startNode(pNodeName);
+    OUString aType = anyItem.getValueTypeName();
+    rJson.put("type", aType);
+
+    if (aType == "string")
+        rJson.put("value", anyItem.get<OUString>());
+    else if (aType == "unsigned long")
+        rJson.put("value", OString::number(anyItem.get<sal_uInt32>()));
+    else if (aType == "long")
+        rJson.put("value", OString::number(anyItem.get<sal_Int32>()));
+    else if (aType == "[]any")
+    {
+        uno::Sequence<uno::Any> aSeq;
+        if (anyItem >>= aSeq)
+        {
+            auto valueNode = rJson.startNode("value");
+
+            for (auto i = 0; i < aSeq.getLength(); ++i)
+            {
+                unoAnyToJson(rJson, OString::number(i), aSeq[i]);
+            }
+        }
+    }
+}
+
+static int lcl_getViewId(std::string_view payload);
+
+namespace desktop {
+
+RectangleAndPart RectangleAndPart::Create(const OString& rPayload)
+{
+    RectangleAndPart aRet;
+    if (rPayload.startsWith("EMPTY")) // payload starts with "EMPTY"
+    {
+        aRet.m_aRectangle = tools::Rectangle(0, 0, SfxLokHelper::MaxTwips, SfxLokHelper::MaxTwips);
+        if (comphelper::LibreOfficeKit::isPartInInvalidation())
+        {
+            int nSeparatorPos = rPayload.indexOf(',', 6);
+            bool bHasMode = nSeparatorPos > 0;
+            if (bHasMode)
+            {
+                aRet.m_nPart = o3tl::toInt32(rPayload.subView(6, nSeparatorPos - 6));
+                assert(rPayload.getLength() > nSeparatorPos);
+                aRet.m_nMode = o3tl::toInt32(rPayload.subView(nSeparatorPos + 1));
+            }
+            else
+            {
+                aRet.m_nPart = o3tl::toInt32(rPayload.subView(6));
+                aRet.m_nMode = 0;
+            }
+        }
+
+        return aRet;
+    }
+
+    // Read '<left>, <top>, <width>, <height>[, <part>, <mode>]'. C++ streams are simpler but slower.
+    const char* pos = rPayload.getStr();
+    const char* end = rPayload.getStr() + rPayload.getLength();
+    tools::Long nLeft = rtl_str_toInt64_WithLength(pos, 10, end - pos);
+    while (pos < end && *pos != ',')
+        ++pos;
+    if (pos < end)
+        ++pos;
+    assert(pos < end);
+    tools::Long nTop = rtl_str_toInt64_WithLength(pos, 10, end - pos);
+    while (pos < end && *pos != ',')
+        ++pos;
+    if (pos < end)
+        ++pos;
+    assert(pos < end);
+    tools::Long nWidth = rtl_str_toInt64_WithLength(pos, 10, end - pos);
+    while (pos < end && *pos != ',')
+        ++pos;
+    if (pos < end)
+        ++pos;
+    assert(pos < end);
+    tools::Long nHeight = rtl_str_toInt64_WithLength(pos, 10, end - pos);
+    tools::Long nPart = INT_MIN;
+    tools::Long nMode = 0;
+    if (comphelper::LibreOfficeKit::isPartInInvalidation())
+    {
+        while (pos < end && *pos != ',')
+            ++pos;
+        if (pos < end)
+            ++pos;
+        assert(pos < end);
+        nPart = rtl_str_toInt64_WithLength(pos, 10, end - pos);
+
+        while (pos < end && *pos != ',')
+            ++pos;
+        if (pos < end)
+        {
+            ++pos;
+            assert(pos < end);
+            nMode = rtl_str_toInt64_WithLength(pos, 10, end - pos);
+        }
+    }
+
+    aRet.m_aRectangle = SanitizedRectangle(nLeft, nTop, nWidth, nHeight);
+    aRet.m_nPart = nPart;
+    aRet.m_nMode = nMode;
+    return aRet;
+}
+
+tools::Rectangle RectangleAndPart::SanitizedRectangle(tools::Long nLeft, tools::Long nTop, tools::Long nWidth, tools::Long nHeight)
+{
+    if (nWidth <= 0 || nHeight <= 0)
+        return tools::Rectangle();
+
+    // The top-left corner starts at (0, 0).
+    // Anything negative is invalid.
+    if (nLeft < 0)
+    {
+        nWidth += nLeft;
+        nLeft = 0;
+    }
+
+    if (nTop < 0)
+    {
+        nHeight += nTop;
+        nTop = 0;
+    }
+
+    if (nWidth > 0 && nHeight > 0)
+        return tools::Rectangle(nLeft, nTop, nLeft + nWidth, nTop + nHeight);
+    // Else set empty rect.
+    return tools::Rectangle();
+}
+
+tools::Rectangle RectangleAndPart::SanitizedRectangle(const tools::Rectangle& rect)
+{
+    return SanitizedRectangle(rect.Left(), rect.Top(), rect.getOpenWidth(), rect.getOpenHeight());
+}
+
+const OString& CallbackFlushHandler::CallbackData::getPayload() const
+{
+    if(PayloadString.isEmpty())
+    {
+        // Do to-string conversion on demand, as many calls will get dropped without
+        // needing the string.
+        if(PayloadObject.which() == 1)
+            PayloadString = getRectangleAndPart().toString();
+    }
+    return PayloadString;
+}
+
+void CallbackFlushHandler::CallbackData::updateRectangleAndPart(const RectangleAndPart& rRectAndPart)
+{
+    PayloadObject = rRectAndPart;
+    PayloadString.clear(); // will be set on demand if needed
+}
+
+const RectangleAndPart& CallbackFlushHandler::CallbackData::getRectangleAndPart() const
+{
+    // TODO: In case of unittests, they do not pass invalidations in binary but as text messages.
+    // LO core should preferably always pass binary for performance.
+    if(PayloadObject.which() != 1)
+        PayloadObject = RectangleAndPart::Create(PayloadString);
+    return boost::get<RectangleAndPart>(PayloadObject);
+}
+
+boost::property_tree::ptree& CallbackFlushHandler::CallbackData::setJson(const std::string& payload)
+{
+    boost::property_tree::ptree aTree;
+    std::stringstream aStream(payload);
+    boost::property_tree::read_json(aStream, aTree);
+
+    // Let boost normalize the payload so it always matches the cache.
+    setJson(aTree);
+
+    // Return reference to the cached object.
+    return boost::get<boost::property_tree::ptree>(PayloadObject);
+}
+
+void CallbackFlushHandler::CallbackData::setJson(const boost::property_tree::ptree& rTree)
+{
+    std::stringstream aJSONStream;
+    constexpr bool bPretty = false; // Don't waste time and bloat logs.
+    boost::property_tree::write_json(aJSONStream, rTree, bPretty);
+    PayloadString = OString(o3tl::trim(aJSONStream.str()));
+
+    PayloadObject = rTree;
+}
+
+const boost::property_tree::ptree& CallbackFlushHandler::CallbackData::getJson() const
+{
+    assert(PayloadObject.which() == 2);
+    return boost::get<boost::property_tree::ptree>(PayloadObject);
+}
+
+int CallbackFlushHandler::CallbackData::getViewId() const
+{
+    if (isCached())
+    {
+        assert(PayloadObject.which() == 3);
+        return boost::get<int>(PayloadObject);
+    }
+    return lcl_getViewId(getPayload());
+}
+
+bool CallbackFlushHandler::CallbackData::validate() const
+{
+    switch (PayloadObject.which())
+    {
+        // Not cached.
+        case 0:
+            return true;
+
+        // RectangleAndPart.
+        case 1:
+            return getRectangleAndPart().toString().getStr() == getPayload();
+
+        // Json.
+        case 2:
+        {
+            std::stringstream aJSONStream;
+            boost::property_tree::write_json(aJSONStream, getJson(), false);
+            const std::string aExpected = boost::trim_copy(aJSONStream.str());
+            return getPayload() == std::string_view(aExpected);
+        }
+
+        // View id.
+        case 3:
+            return getViewId() == lcl_getViewId( getPayload());
+
+        default:
+            assert(!"Unknown variant type; please add an entry to validate.");
+    }
+
+    return false;
+}
+
+} // namespace desktop
+
+static bool lcl_isViewCallbackType(const int type)
+{
+    switch (type)
+    {
+        case LOK_CALLBACK_CELL_VIEW_CURSOR:
+        case LOK_CALLBACK_GRAPHIC_VIEW_SELECTION:
+        case LOK_CALLBACK_INVALIDATE_VIEW_CURSOR:
+        case LOK_CALLBACK_TEXT_VIEW_SELECTION:
+        case LOK_CALLBACK_VIEW_CURSOR_VISIBLE:
+            return true;
+
+        default:
+            return false;
+    }
+}
+
+static bool isUpdatedType(int type)
+{
+    switch (type)
+    {
+        case LOK_CALLBACK_TEXT_SELECTION:
+        case LOK_CALLBACK_TEXT_SELECTION_START:
+        case LOK_CALLBACK_TEXT_SELECTION_END:
+            return true;
+        default:
+            return false;
+    }
+}
+
+static bool isUpdatedTypePerViewId(int type)
+{
+    switch (type)
+    {
+        case LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR:
+        case LOK_CALLBACK_INVALIDATE_VIEW_CURSOR:
+        case LOK_CALLBACK_TEXT_VIEW_SELECTION:
+            return true;
+        default:
+            return false;
+    }
+}
+
+static int lcl_getViewId(std::string_view payload)
+{
+    // this is a cheap way how to get the viewId from a JSON message; proper
+    // parsing is terribly expensive, and we just need the viewId here
+    size_t viewIdPos = payload.find("viewId");
+    if (viewIdPos == std::string::npos)
+        return 0;
+
+    size_t numberPos = payload.find(":", viewIdPos + 6);
+    if (numberPos == std::string::npos)
+        return 0;
+
+    for (++numberPos; numberPos < payload.length(); ++numberPos)
+    {
+        if (payload[numberPos] == ',' || payload[numberPos] == '}' || (payload[numberPos] >= '0' && payload[numberPos] <= '9'))
+            break;
+    }
+
+    if (numberPos < payload.length() && payload[numberPos] >= '0' && payload[numberPos] <= '9')
+        return o3tl::toInt32(payload.substr(numberPos));
+
+    return 0;
+}
+
+namespace {
+
+std::string extractCertificate(const std::string & certificate)
+{
+    static constexpr std::string_view header("-----BEGIN CERTIFICATE-----");
+    static constexpr std::string_view footer("-----END CERTIFICATE-----");
+
+    std::string result;
+
+    size_t pos1 = certificate.find(header);
+    if (pos1 == std::string::npos)
+        return result;
+
+    size_t pos2 = certificate.find(footer, pos1 + 1);
+    if (pos2 == std::string::npos)
+        return result;
+
+    pos1 = pos1 + header.length();
+    pos2 = pos2 - pos1;
+
+    return certificate.substr(pos1, pos2);
+}
+
+std::string extractPrivateKey(const std::string & privateKey)
+{
+    static constexpr std::string_view header("-----BEGIN PRIVATE KEY-----");
+    static constexpr std::string_view footer("-----END PRIVATE KEY-----");
+
+    std::string result;
+
+    size_t pos1 = privateKey.find(header);
+    if (pos1 == std::string::npos)
+        return result;
+
+    size_t pos2 = privateKey.find(footer, pos1 + 1);
+    if (pos2 == std::string::npos)
+        return result;
+
+    pos1 = pos1 + header.length();
+    pos2 = pos2 - pos1;
+
+    return privateKey.substr(pos1, pos2);
+}
+
+OUString lcl_getCurrentDocumentMimeType(const LibLODocument_Impl* pDocument)
+{
+    SfxBaseModel* pBaseModel = dynamic_cast<SfxBaseModel*>(pDocument->mxComponent.get());
+    if (!pBaseModel)
+        return u""_ustr;
+
+    SfxObjectShell* pObjectShell = pBaseModel->GetObjectShell();
+    if (!pObjectShell)
+        return u""_ustr;
+
+    SfxMedium* pMedium = pObjectShell->GetMedium();
+    if (!pMedium)
+        return u""_ustr;
+
+    auto pFilter = pMedium->GetFilter();
+    if (!pFilter)
+        return u""_ustr;
+
+    return pFilter->GetMimeType();
+}
+
+// Gets an undo manager to enter and exit undo context. Needed by ToggleOrientation
+css::uno::Reference< css::document::XUndoManager > getUndoManager( const css::uno::Reference< css::frame::XFrame >& rxFrame )
+{
+    const css::uno::Reference< css::frame::XController >& xController = rxFrame->getController();
+    if ( xController.is() )
+    {
+        const css::uno::Reference< css::frame::XModel >& xModel = xController->getModel();
+        if ( xModel.is() )
+        {
+            const css::uno::Reference< css::document::XUndoManagerSupplier > xSuppUndo( xModel, css::uno::UNO_QUERY_THROW );
+            return css::uno::Reference< css::document::XUndoManager >( xSuppUndo->getUndoManager(), css::uno::UNO_SET_THROW );
+        }
+    }
+
+    return css::uno::Reference< css::document::XUndoManager > ();
+}
+
+// Adjusts page margins for Writer doc. Needed by ToggleOrientation
+void ExecuteMarginLRChange(
+    const tools::Long nPageLeftMargin,
+    const tools::Long nPageRightMargin,
+    SvxLongLRSpaceItem* pPageLRMarginItem)
+{
+    pPageLRMarginItem->SetLeft( nPageLeftMargin );
+    pPageLRMarginItem->SetRight( nPageRightMargin );
+    SfxViewShell* pViewSh = SfxViewShell::Current();
+    if (!pViewSh)
+        return;
+    pViewSh->GetDispatcher()->ExecuteList(SID_ATTR_PAGE_LRSPACE,
+            SfxCallMode::RECORD, { pPageLRMarginItem });
+}
+
+// Adjusts page margins for Writer doc. Needed by ToggleOrientation
+void ExecuteMarginULChange(
+        const tools::Long nPageTopMargin,
+        const tools::Long nPageBottomMargin,
+        SvxLongULSpaceItem* pPageULMarginItem)
+{
+    pPageULMarginItem->SetUpper( nPageTopMargin );
+    pPageULMarginItem->SetLower( nPageBottomMargin );
+    SfxViewShell* pViewSh = SfxViewShell::Current();
+    if (!pViewSh)
+        return;
+    pViewSh->GetDispatcher()->ExecuteList(SID_ATTR_PAGE_ULSPACE,
+            SfxCallMode::RECORD, { pPageULMarginItem });
+}
+
+// Main function which toggles page orientation of the Writer doc. Needed by ToggleOrientation
+void ExecuteOrientationChange()
+{
+    SfxViewFrame* pViewFrm = SfxViewFrame::Current();
+    if (!pViewFrm)
+        return;
+
+    std::unique_ptr<SvxPageItem> pPageItem(new SvxPageItem(SID_ATTR_PAGE));
+
+    // 1mm in twips rounded
+    // This should be in sync with MINBODY in sw/source/uibase/sidebar/PageMarginControl.hxx
+    constexpr tools::Long MINBODY = o3tl::toTwips(1, o3tl::Length::mm);
+
+    css::uno::Reference< css::document::XUndoManager > mxUndoManager(
+                getUndoManager( pViewFrm->GetFrame().GetFrameInterface() ) );
+
+    if ( mxUndoManager.is() )
+        mxUndoManager->enterUndoContext( u""_ustr );
+
+    SfxPoolItemHolder aResult;
+    pViewFrm->GetBindings().GetDispatcher()->QueryState(SID_ATTR_PAGE_SIZE, aResult);
+    std::unique_ptr<SvxSizeItem> pPageSizeItem(static_cast<const SvxSizeItem*>(aResult.getItem())->Clone());
+
+    pViewFrm->GetBindings().GetDispatcher()->QueryState(SID_ATTR_PAGE_LRSPACE, aResult);
+    std::unique_ptr<SvxLongLRSpaceItem> pPageLRMarginItem(static_cast<const SvxLongLRSpaceItem*>(aResult.getItem())->Clone());
+
+    pViewFrm->GetBindings().GetDispatcher()->QueryState(SID_ATTR_PAGE_ULSPACE, aResult);
+    std::unique_ptr<SvxLongULSpaceItem> pPageULMarginItem(static_cast<const SvxLongULSpaceItem*>(aResult.getItem())->Clone());
+
+    {
+        bool bIsLandscape = false;
+        if ( pPageSizeItem->GetSize().Width() > pPageSizeItem->GetSize().Height())
+            bIsLandscape = true;
+
+        // toggle page orientation
+        pPageItem->SetLandscape(!bIsLandscape);
+
+
+        // swap the width and height of the page size
+        const tools::Long nRotatedWidth = pPageSizeItem->GetSize().Height();
+        const tools::Long nRotatedHeight = pPageSizeItem->GetSize().Width();
+        pPageSizeItem->SetSize(Size(nRotatedWidth, nRotatedHeight));
+
+
+        // apply changed attributes
+        if (SfxViewShell* pCurrent = SfxViewShell::Current())
+        {
+            pCurrent->GetDispatcher()->ExecuteList(SID_ATTR_PAGE_SIZE,
+                SfxCallMode::RECORD, { pPageSizeItem.get(), pPageItem.get() });
+        }
+    }
+
+
+    // check, if margin values still fit to the changed page size.
+    // if not, adjust margin values
+    {
+        const tools::Long nML = pPageLRMarginItem->GetLeft();
+        const tools::Long nMR = pPageLRMarginItem->GetRight();
+        const tools::Long nTmpPW = nML + nMR + MINBODY;
+
+        const tools::Long nPW  = pPageSizeItem->GetSize().Width();
+
+        if ( nTmpPW > nPW )
+        {
+            if ( nML <= nMR )
+            {
+                ExecuteMarginLRChange( pPageLRMarginItem->GetLeft(), nMR - (nTmpPW - nPW ), pPageLRMarginItem.get() );
+            }
+            else
+            {
+                ExecuteMarginLRChange( nML - (nTmpPW - nPW ), pPageLRMarginItem->GetRight(), pPageLRMarginItem.get() );
+            }
+        }
+
+        const tools::Long nMT = pPageULMarginItem->GetUpper();
+        const tools::Long nMB = pPageULMarginItem->GetLower();
+        const tools::Long nTmpPH = nMT + nMB + MINBODY;
+
+        const tools::Long nPH  = pPageSizeItem->GetSize().Height();
+
+        if ( nTmpPH > nPH )
+        {
+            if ( nMT <= nMB )
+            {
+                ExecuteMarginULChange( pPageULMarginItem->GetUpper(), nMB - ( nTmpPH - nPH ), pPageULMarginItem.get() );
+            }
+            else
+            {
+                ExecuteMarginULChange( nMT - ( nTmpPH - nPH ), pPageULMarginItem->GetLower(), pPageULMarginItem.get() );
+            }
+        }
+    }
+
+    if ( mxUndoManager.is() )
+        mxUndoManager->leaveUndoContext();
+}
+
+void hideSidebar()
+{
+    SfxViewShell* pViewShell = SfxViewShell::Current();
+    SfxViewFrame* pViewFrame = pViewShell ? &pViewShell->GetViewFrame() : nullptr;
+    if (pViewFrame)
+        pViewFrame->SetChildWindow(SID_SIDEBAR, false , false );
+    else
+        SetLastExceptionMsg(u"No view shell or sidebar"_ustr);
+}
+
+}  // end anonymous namespace
+
+// Could be anonymous in principle, but for the unit testing purposes, we
+// declare it in init.hxx.
+OUString desktop::extractParameter(OUString& rOptions, std::u16string_view rName)
+{
+    OUString aValue;
+
+    OUString aNameEquals(OUString::Concat(rName) + "=");
+    OUString aCommaNameEquals(OUString::Concat(",") + rName + "=");
+
+    int nIndex = -1;
+    if (rOptions.startsWith(aNameEquals))
+    {
+        size_t nLen = aNameEquals.getLength();
+        int nComma = rOptions.indexOf(",", nLen);
+        if (nComma >= 0)
+        {
+            aValue = rOptions.copy(nLen, nComma - nLen);
+            rOptions = rOptions.copy(nComma + 1);
+        }
+        else
+        {
+            aValue = rOptions.copy(nLen);
+            rOptions.clear();
+        }
+    }
+    else if ((nIndex = rOptions.indexOf(aCommaNameEquals)) >= 0)
+    {
+        size_t nLen = aCommaNameEquals.getLength();
+        int nComma = rOptions.indexOf(",", nIndex + nLen);
+        if (nComma >= 0)
+        {
+            aValue = rOptions.copy(nIndex + nLen, nComma - nIndex - nLen);
+            rOptions = OUString::Concat(rOptions.subView(0, nIndex)) + rOptions.subView(nComma);
+        }
+        else
+        {
+            aValue = rOptions.copy(nIndex + nLen);
+            rOptions = rOptions.copy(0, nIndex);
+        }
+    }
+
+    return aValue;
+}
+
+extern "C"
+{
+
+static void doc_destroy(LibreOfficeKitDocument* pThis);
+static int doc_saveAs(LibreOfficeKitDocument* pThis, const char* pUrl, const char* pFormat, const char* pFilterOptions);
+static int doc_getDocumentType(LibreOfficeKitDocument* pThis);
+static int doc_getParts(LibreOfficeKitDocument* pThis);
+static char* doc_getPartPageRectangles(LibreOfficeKitDocument* pThis);
+static int doc_getPart(LibreOfficeKitDocument* pThis);
+static void doc_setPart(LibreOfficeKitDocument* pThis, int nPart);
+static void doc_selectPart(LibreOfficeKitDocument* pThis, int nPart, int nSelect);
+static void doc_moveSelectedParts(LibreOfficeKitDocument* pThis, int nPosition, bool bDuplicate);
+static char* doc_getPartName(LibreOfficeKitDocument* pThis, int nPart);
+static void doc_setPartMode(LibreOfficeKitDocument* pThis, int nPartMode);
+static int doc_getEditMode(LibreOfficeKitDocument* pThis);
+static void doc_paintTile(LibreOfficeKitDocument* pThis,
+                          unsigned char* pBuffer,
+                          const int nCanvasWidth, const int nCanvasHeight,
+                          const int nTilePosX, const int nTilePosY,
+                          const int nTileWidth, const int nTileHeight);
+static void doc_paintPartTile(LibreOfficeKitDocument* pThis,
+                              unsigned char* pBuffer,
+                              const int nPart,
+                              const int nMode,
+                              const int nCanvasWidth, const int nCanvasHeight,
+                              const int nTilePosX, const int nTilePosY,
+                              const int nTileWidth, const int nTileHeight);
+static int doc_getTileMode(LibreOfficeKitDocument* pThis);
+static void doc_getDocumentSize(LibreOfficeKitDocument* pThis,
+                                long* pWidth,
+                                long* pHeight);
+static void doc_getDataArea(LibreOfficeKitDocument* pThis,
+                            long nTab,
+                            long* pCol,
+                            long* pRow);
+static void doc_initializeForRendering(LibreOfficeKitDocument* pThis,
+                                       const char* pArguments);
+
+static void doc_registerCallback(LibreOfficeKitDocument* pThis,
+                                LibreOfficeKitCallback pCallback,
+                                void* pData);
+static void doc_postKeyEvent(LibreOfficeKitDocument* pThis,
+                             int nType,
+                             int nCharCode,
+                             int nKeyCode);
+static void doc_setBlockedCommandList(LibreOfficeKitDocument* pThis,
+                                int nViewId,
+                                const char* blockedCommandList);
+
+static void doc_postWindowExtTextInputEvent(LibreOfficeKitDocument* pThis,
+                                            unsigned nWindowId,
+                                            int nType,
+                                            const char* pText);
+static void doc_removeTextContext(LibreOfficeKitDocument* pThis,
+                                  unsigned nLOKWindowId,
+                                  int nCharBefore,
+                                  int nCharAfter);
+static void doc_sendDialogEvent(LibreOfficeKitDocument* pThis,
+                               unsigned long long int nLOKWindowId,
+                               const char* pArguments);
+static void doc_postWindowKeyEvent(LibreOfficeKitDocument* pThis,
+                                   unsigned nLOKWindowId,
+                                   int nType,
+                                   int nCharCode,
+                                   int nKeyCode);
+static void doc_postMouseEvent (LibreOfficeKitDocument* pThis,
+                                int nType,
+                                int nX,
+                                int nY,
+                                int nCount,
+                                int nButtons,
+                                int nModifier);
+static void doc_postWindowMouseEvent (LibreOfficeKitDocument* pThis,
+                                      unsigned nLOKWindowId,
+                                      int nType,
+                                      int nX,
+                                      int nY,
+                                      int nCount,
+                                      int nButtons,
+                                      int nModifier);
+static void doc_postWindowGestureEvent(LibreOfficeKitDocument* pThis,
+                                      unsigned nLOKWindowId,
+                                      const char* pType,
+                                      int nX,
+                                      int nY,
+                                      int nOffset);
+static void doc_postUnoCommand(LibreOfficeKitDocument* pThis,
+                               const char* pCommand,
+                               const char* pArguments,
+                               bool bNotifyWhenFinished);
+static void doc_setWindowTextSelection(LibreOfficeKitDocument* pThis,
+                                       unsigned nLOKWindowId,
+                                       bool swap,
+                                       int nX,
+                                       int nY);
+static void doc_setTextSelection (LibreOfficeKitDocument* pThis,
+                                  int nType,
+                                  int nX,
+                                  int nY);
+static char* doc_getTextSelection(LibreOfficeKitDocument* pThis,
+                                  const char* pMimeType,
+                                  char** pUsedMimeType);
+static int doc_getSelectionType(LibreOfficeKitDocument* pThis);
+static int doc_getSelectionTypeAndText(LibreOfficeKitDocument* pThis,
+                                       const char* pMimeType,
+                                       char** pText,
+                                       char** pUsedMimeType);
+static int doc_getClipboard (LibreOfficeKitDocument* pThis,
+                             const char **pMimeTypes,
+                             size_t      *pOutCount,
+                             char      ***pOutMimeTypes,
+                             size_t     **pOutSizes,
+                             char      ***pOutStreams);
+static int doc_setClipboard (LibreOfficeKitDocument* pThis,
+                             const size_t   nInCount,
+                             const char   **pInMimeTypes,
+                             const size_t  *pInSizes,
+                             const char   **pInStreams);
+static bool doc_paste(LibreOfficeKitDocument* pThis,
+                      const char* pMimeType,
+                      const char* pData,
+                      size_t nSize);
+static void doc_setGraphicSelection (LibreOfficeKitDocument* pThis,
+                                  int nType,
+                                  int nX,
+                                  int nY);
+static void doc_resetSelection (LibreOfficeKitDocument* pThis);
+static char* doc_getCommandValues(LibreOfficeKitDocument* pThis, const char* pCommand);
+static void doc_setClientZoom(LibreOfficeKitDocument* pThis,
+                                    int nTilePixelWidth,
+                                    int nTilePixelHeight,
+                                    int nTileTwipWidth,
+                                    int nTileTwipHeight);
+static void doc_setClientVisibleArea(LibreOfficeKitDocument* pThis, int nX, int nY, int nWidth, int nHeight);
+static void doc_setOutlineState(LibreOfficeKitDocument* pThis, bool bColumn, int nLevel, int nIndex, bool bHidden);
+static int doc_createView(LibreOfficeKitDocument* pThis);
+static int doc_createViewWithOptions(LibreOfficeKitDocument* pThis, const char* pOptions);
+static void doc_destroyView(LibreOfficeKitDocument* pThis, int nId);
+static void doc_setView(LibreOfficeKitDocument* pThis, int nId);
+static int doc_getView(LibreOfficeKitDocument* pThis);
+static int doc_getViewsCount(LibreOfficeKitDocument* pThis);
+static bool doc_getViewIds(LibreOfficeKitDocument* pThis, int* pArray, size_t nSize);
+static void doc_setViewLanguage(LibreOfficeKitDocument* pThis, int nId, const char* language);
+static unsigned char* doc_renderFontOrientation(LibreOfficeKitDocument* pThis,
+                          const char *pFontName,
+                          const char *pChar,
+                          int* pFontWidth,
+                          int* pFontHeight,
+                          int pOrientation);
+static unsigned char* doc_renderFont(LibreOfficeKitDocument* pThis,
+                          const char *pFontName,
+                          const char *pChar,
+                          int* pFontWidth,
+                          int* pFontHeight);
+static char* doc_getPartHash(LibreOfficeKitDocument* pThis, int nPart);
+
+static void doc_paintWindow(LibreOfficeKitDocument* pThis, unsigned nLOKWindowId, unsigned char* pBuffer,
+                            const int nX, const int nY,
+                            const int nWidth, const int nHeight);
+
+static void doc_paintWindowDPI(LibreOfficeKitDocument* pThis, unsigned nLOKWindowId, unsigned char* pBuffer,
+                               const int nX, const int nY,
+                               const int nWidth, const int nHeight,
+                               const double fDPIScale);
+
+static void doc_paintWindowForView(LibreOfficeKitDocument* pThis, unsigned nLOKWindowId, unsigned char* pBuffer,
+                                   const int nX, const int nY,
+                                   const int nWidth, const int nHeight,
+                                   const double fDPIScale, int viewId);
+
+static void doc_postWindow(LibreOfficeKitDocument* pThis, unsigned
+ nLOKWindowId, int nAction, const char* pData);
+
+static char* doc_getPartInfo(LibreOfficeKitDocument* pThis, int nPart);
+
+static bool doc_insertCertificate(LibreOfficeKitDocument* pThis,
+                                  const unsigned char* pCertificateBinary,
+                                  const int nCertificateBinarySize,
+                                  const unsigned char* pPrivateKeyBinary,
+                                  const int nPrivateKeyBinarySize);
+
+static bool doc_addCertificate(LibreOfficeKitDocument* pThis,
+                                 const unsigned char* pCertificateBinary,
+                                 const int nCertificateBinarySize);
+
+static int doc_getSignatureState(LibreOfficeKitDocument* pThis);
+
+static size_t doc_renderShapeSelection(LibreOfficeKitDocument* pThis, char** pOutput);
+
+static void doc_resizeWindow(LibreOfficeKitDocument* pThis, unsigned nLOKWindowId,
+                             const int nWidth, const int nHeight);
+
+static void doc_completeFunction(LibreOfficeKitDocument* pThis, const char*);
+
+
+static void doc_sendFormFieldEvent(LibreOfficeKitDocument* pThis,
+                                   const char* pArguments);
+
+static bool doc_renderSearchResult(LibreOfficeKitDocument* pThis,
+                                 const char* pSearchResult, unsigned char** pBitmapBuffer,
+                                 int* pWidth, int* pHeight, size_t* pByteSize);
+
+static void doc_sendContentControlEvent(LibreOfficeKitDocument* pThis, const char* pArguments);
+
+static void doc_setViewTimezone(LibreOfficeKitDocument* pThis, int nId, const char* timezone);
+
+static void doc_setViewReadOnly(LibreOfficeKitDocument* pThis, int nId, const bool readonly);
+
+static void doc_setAllowChangeComments(LibreOfficeKitDocument* pThis, int nId, const bool allow);
+
+static void doc_setAccessibilityState(LibreOfficeKitDocument* pThis, int nId, bool bEnabled);
+
+static char* doc_getA11yFocusedParagraph(LibreOfficeKitDocument* pThis);
+
+static int doc_getA11yCaretPosition(LibreOfficeKitDocument* pThis);
+} // extern "C"
+
+namespace {
+ITiledRenderable* getTiledRenderable(LibreOfficeKitDocument* pThis)
+{
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+    return dynamic_cast<ITiledRenderable*>(pDocument->mxComponent.get());
+}
+
+#ifndef IOS
+
+/*
+ * Unfortunately clipboard creation using UNO is insanely baroque.
+ * we also need to ensure that this works for the first view which
+ * has no clear 'createView' called for it (unfortunately).
+ */
+rtl::Reference<LOKClipboard> forceSetClipboardForCurrentView(LibreOfficeKitDocument *pThis)
+{
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    rtl::Reference<LOKClipboard> xClip(LOKClipboardFactory::getClipboardForCurView());
+    if (!pDoc)
+    {
+        return xClip;
+    }
+
+    SAL_INFO("lok", "Set to clipboard for view " << xClip.get());
+    // FIXME: using a hammer here - should not be necessary if all tests used createView.
+    pDoc->setClipboard(uno::Reference<datatransfer::clipboard::XClipboard>(xClip->getXI(), UNO_QUERY));
+
+    return xClip;
+}
+
+#endif
+
+const vcl::Font* FindFont(std::u16string_view rFontName)
+{
+    SfxObjectShell* pDocSh = SfxObjectShell::Current();
+    if (!pDocSh)
+        return nullptr;
+    const SvxFontListItem* pFonts
+        = static_cast<const SvxFontListItem*>(pDocSh->GetItem(SID_ATTR_CHAR_FONTLIST));
+    const FontList* pList = pFonts ? pFonts->GetFontList() : nullptr;
+    if (pList && !rFontName.empty())
+        if (sal_Handle hMetric = pList->GetFirstFontMetric(rFontName))
+            return &FontList::GetFontMetric(hMetric);
+    return nullptr;
+}
+
+vcl::Font FindFont_FallbackToDefault(std::u16string_view rFontName)
+{
+    if (auto pFound = FindFont(rFontName))
+        return *pFound;
+
+    return OutputDevice::GetDefaultFont(DefaultFontType::SANS_UNICODE, LANGUAGE_NONE,
+                                        GetDefaultFontFlags::NONE);
+}
+
+int getDocumentType (LibreOfficeKitDocument* pThis)
+{
+    SetLastExceptionMsg();
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    try
+    {
+        uno::Reference<lang::XServiceInfo> xDocument(pDocument->mxComponent, uno::UNO_QUERY_THROW);
+
+        if (xDocument->supportsService(u"com.sun.star.sheet.SpreadsheetDocument"_ustr))
+        {
+            return LOK_DOCTYPE_SPREADSHEET;
+        }
+        else if (xDocument->supportsService(u"com.sun.star.presentation.PresentationDocument"_ustr))
+        {
+            return LOK_DOCTYPE_PRESENTATION;
+        }
+        else if (xDocument->supportsService(u"com.sun.star.drawing.DrawingDocument"_ustr))
+        {
+            return LOK_DOCTYPE_DRAWING;
+        }
+        else if (xDocument->supportsService(u"com.sun.star.text.TextDocument"_ustr) || xDocument->supportsService(u"com.sun.star.text.WebDocument"_ustr))
+        {
+            return LOK_DOCTYPE_TEXT;
+        }
+        else
+        {
+            SetLastExceptionMsg(u"unknown document type"_ustr);
+        }
+    }
+    catch (const uno::Exception& exception)
+    {
+        SetLastExceptionMsg("exception: " + exception.Message);
+    }
+    return LOK_DOCTYPE_OTHER;
+}
+
+} // anonymous namespace
+
+LibLODocument_Impl::LibLODocument_Impl(uno::Reference <css::lang::XComponent> xComponent, int nDocumentId)
+    : mxComponent(std::move(xComponent))
+    , mnDocumentId(nDocumentId)
+{
+    assert(nDocumentId != -1 && "Cannot set mnDocumentId to -1");
+
+    m_pDocumentClass = gDocumentClass.lock();
+    if (!m_pDocumentClass)
+    {
+        m_pDocumentClass = std::make_shared<LibreOfficeKitDocumentClass>();
+
+        m_pDocumentClass->nSize = sizeof(LibreOfficeKitDocumentClass);
+
+        m_pDocumentClass->destroy = doc_destroy;
+        m_pDocumentClass->saveAs = doc_saveAs;
+        m_pDocumentClass->getDocumentType = doc_getDocumentType;
+        m_pDocumentClass->getParts = doc_getParts;
+        m_pDocumentClass->getPartPageRectangles = doc_getPartPageRectangles;
+        m_pDocumentClass->getPart = doc_getPart;
+        m_pDocumentClass->setPart = doc_setPart;
+        m_pDocumentClass->selectPart = doc_selectPart;
+        m_pDocumentClass->moveSelectedParts = doc_moveSelectedParts;
+        m_pDocumentClass->getPartName = doc_getPartName;
+        m_pDocumentClass->setPartMode = doc_setPartMode;
+        m_pDocumentClass->getEditMode = doc_getEditMode;
+        m_pDocumentClass->paintTile = doc_paintTile;
+        m_pDocumentClass->paintPartTile = doc_paintPartTile;
+        m_pDocumentClass->getTileMode = doc_getTileMode;
+        m_pDocumentClass->getDocumentSize = doc_getDocumentSize;
+        m_pDocumentClass->getDataArea = doc_getDataArea;
+        m_pDocumentClass->initializeForRendering = doc_initializeForRendering;
+        m_pDocumentClass->registerCallback = doc_registerCallback;
+        m_pDocumentClass->postKeyEvent = doc_postKeyEvent;
+        m_pDocumentClass->postWindowExtTextInputEvent = doc_postWindowExtTextInputEvent;
+        m_pDocumentClass->removeTextContext = doc_removeTextContext;
+        m_pDocumentClass->postWindowKeyEvent = doc_postWindowKeyEvent;
+        m_pDocumentClass->postMouseEvent = doc_postMouseEvent;
+        m_pDocumentClass->postWindowMouseEvent = doc_postWindowMouseEvent;
+        m_pDocumentClass->sendDialogEvent = doc_sendDialogEvent;
+        m_pDocumentClass->postUnoCommand = doc_postUnoCommand;
+        m_pDocumentClass->setTextSelection = doc_setTextSelection;
+        m_pDocumentClass->setWindowTextSelection = doc_setWindowTextSelection;
+        m_pDocumentClass->getTextSelection = doc_getTextSelection;
+        m_pDocumentClass->getSelectionType = doc_getSelectionType;
+        m_pDocumentClass->getSelectionTypeAndText = doc_getSelectionTypeAndText;
+        m_pDocumentClass->getClipboard = doc_getClipboard;
+        m_pDocumentClass->setClipboard = doc_setClipboard;
+        m_pDocumentClass->paste = doc_paste;
+        m_pDocumentClass->setGraphicSelection = doc_setGraphicSelection;
+        m_pDocumentClass->resetSelection = doc_resetSelection;
+        m_pDocumentClass->getCommandValues = doc_getCommandValues;
+        m_pDocumentClass->setClientZoom = doc_setClientZoom;
+        m_pDocumentClass->setClientVisibleArea = doc_setClientVisibleArea;
+        m_pDocumentClass->setOutlineState = doc_setOutlineState;
+
+        m_pDocumentClass->createView = doc_createView;
+        m_pDocumentClass->destroyView = doc_destroyView;
+        m_pDocumentClass->setView = doc_setView;
+        m_pDocumentClass->getView = doc_getView;
+        m_pDocumentClass->getViewsCount = doc_getViewsCount;
+        m_pDocumentClass->getViewIds = doc_getViewIds;
+
+        m_pDocumentClass->renderFont = doc_renderFont;
+        m_pDocumentClass->renderFontOrientation = doc_renderFontOrientation;
+        m_pDocumentClass->getPartHash = doc_getPartHash;
+
+        m_pDocumentClass->paintWindow = doc_paintWindow;
+        m_pDocumentClass->paintWindowDPI = doc_paintWindowDPI;
+        m_pDocumentClass->paintWindowForView = doc_paintWindowForView;
+        m_pDocumentClass->postWindow = doc_postWindow;
+        m_pDocumentClass->resizeWindow = doc_resizeWindow;
+
+        m_pDocumentClass->setViewLanguage = doc_setViewLanguage;
+
+        m_pDocumentClass->getPartInfo = doc_getPartInfo;
+
+        m_pDocumentClass->insertCertificate = doc_insertCertificate;
+        m_pDocumentClass->addCertificate = doc_addCertificate;
+        m_pDocumentClass->getSignatureState = doc_getSignatureState;
+
+        m_pDocumentClass->renderShapeSelection = doc_renderShapeSelection;
+        m_pDocumentClass->postWindowGestureEvent = doc_postWindowGestureEvent;
+
+        m_pDocumentClass->createViewWithOptions = doc_createViewWithOptions;
+        m_pDocumentClass->completeFunction = doc_completeFunction;
+
+        m_pDocumentClass->sendFormFieldEvent = doc_sendFormFieldEvent;
+        m_pDocumentClass->renderSearchResult = doc_renderSearchResult;
+
+        m_pDocumentClass->setBlockedCommandList = doc_setBlockedCommandList;
+
+        m_pDocumentClass->sendContentControlEvent = doc_sendContentControlEvent;
+
+        m_pDocumentClass->setViewTimezone = doc_setViewTimezone;
+
+        m_pDocumentClass->setAccessibilityState = doc_setAccessibilityState;
+
+        m_pDocumentClass->getA11yFocusedParagraph = doc_getA11yFocusedParagraph;
+        m_pDocumentClass->getA11yCaretPosition = doc_getA11yCaretPosition;
+
+        m_pDocumentClass->setViewReadOnly = doc_setViewReadOnly;
+
+        m_pDocumentClass->setAllowChangeComments = doc_setAllowChangeComments;
+
+        gDocumentClass = m_pDocumentClass;
+    }
+    pClass = m_pDocumentClass.get();
+
+#ifndef IOS
+    forceSetClipboardForCurrentView(this);
+#endif
+}
+
+LibLODocument_Impl::~LibLODocument_Impl()
+{
+    try
+    {
+        mxComponent->dispose();
+    }
+    catch (const css::lang::DisposedException&)
+    {
+        TOOLS_WARN_EXCEPTION("lok", "failed to dispose document");
+    }
+}
+
+static OUString getGenerator()
+{
+    OUString sGenerator(
+        Translate::ExpandVariables(u"%PRODUCTNAME %PRODUCTVERSION%PRODUCTEXTENSION (%1)"_ustr));
+    OUString os(u"$_OS"_ustr);
+    ::rtl::Bootstrap::expandMacros(os);
+    return sGenerator.replaceFirst("%1", os);
+}
+
+extern "C" {
+
+// One of these is created per view to handle events cf. doc_registerCallback
+CallbackFlushHandler::CallbackFlushHandler(LibreOfficeKitDocument* pDocument, LibreOfficeKitCallback pCallback, void* pData)
+    : m_pDocument(pDocument),
+      m_pCallback(pCallback),
+      m_pFlushEvent(nullptr),
+      m_pData(pData),
+      m_nDisableCallbacks(0)
+{
+    // Add the states that are safe to skip duplicates on, even when
+    // not consequent (i.e. do no emit them if unchanged from last).
+    m_states.emplace(LOK_CALLBACK_TEXT_SELECTION, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_GRAPHIC_SELECTION, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_STATE_CHANGED, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_MOUSE_POINTER, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_CELL_CURSOR, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_CELL_FORMULA, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_CELL_ADDRESS, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_CURSOR_VISIBLE, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_SET_PART, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_TABLE_SELECTED, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_TAB_STOP_LIST, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_RULER_UPDATE, "NIL"_ostr);
+    m_states.emplace(LOK_CALLBACK_STATUS_INDICATOR_SET_VALUE, "NIL"_ostr);
+}
+
+void CallbackFlushHandler::stop()
+{
+    if (m_pFlushEvent)
+    {
+        Application::RemoveUserEvent(m_pFlushEvent);
+        m_pFlushEvent = nullptr;
+    }
+}
+
+CallbackFlushHandler::~CallbackFlushHandler()
+{
+    stop();
+}
+
+CallbackFlushHandler::queue_type2::iterator CallbackFlushHandler::toQueue2(CallbackFlushHandler::queue_type1::iterator pos)
+{
+    int delta = std::distance(m_queue1.begin(), pos);
+    return m_queue2.begin() + delta;
+}
+
+CallbackFlushHandler::queue_type2::reverse_iterator CallbackFlushHandler::toQueue2(CallbackFlushHandler::queue_type1::reverse_iterator pos)
+{
+    int delta = std::distance(m_queue1.rbegin(), pos);
+    return m_queue2.rbegin() + delta;
+}
+
+void CallbackFlushHandler::setUpdatedType( int nType, bool value )
+{
+    assert(isUpdatedType(nType));
+    if( m_updatedTypes.size() <= o3tl::make_unsigned( nType ))
+        m_updatedTypes.resize( nType + 1 ); // new are default-constructed, i.e. false
+    m_updatedTypes[ nType ] = value;
+    if(value)
+        scheduleFlush();
+}
+
+void CallbackFlushHandler::resetUpdatedType( int nType )
+{
+    setUpdatedType( nType, false );
+}
+
+void CallbackFlushHandler::setUpdatedTypePerViewId( int nType, int nViewId, int nSourceViewId, bool value )
+{
+    assert(isUpdatedTypePerViewId(nType));
+    std::vector<PerViewIdData>& types = m_updatedTypesPerViewId[ nViewId ];
+    if( types.size() <= o3tl::make_unsigned( nType ))
+        types.resize( nType + 1 ); // new are default-constructed, i.e. 'set' is false
+    types[ nType ] = PerViewIdData{ value, nSourceViewId };
+    if(value)
+        scheduleFlush();
+}
+
+void CallbackFlushHandler::resetUpdatedTypePerViewId( int nType, int nViewId )
+{
+    assert(isUpdatedTypePerViewId(nType));
+    bool allViewIds = false;
+    // Handle specially messages that do not have viewId for backwards compatibility.
+    if( nType == LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR && !comphelper::LibreOfficeKit::isViewIdForVisCursorInvalidation())
+        allViewIds = true;
+    if( !allViewIds )
+    {
+        setUpdatedTypePerViewId( nType, nViewId, -1, false );
+        return;
+    }
+    for( auto& it : m_updatedTypesPerViewId )
+    {
+        std::vector<PerViewIdData>& types = it.second;
+        if( types.size() >= o3tl::make_unsigned( nType ))
+            types[ nType ].set = false;
+    }
+}
+
+void CallbackFlushHandler::libreOfficeKitViewCallback(int nType, const OString& pPayload)
+{
+    CallbackData callbackData(pPayload);
+    queue(nType, callbackData);
+}
+
+void CallbackFlushHandler::libreOfficeKitViewCallbackWithViewId(int nType, const OString& pPayload, int nViewId)
+{
+    CallbackData callbackData(pPayload, nViewId);
+    queue(nType, callbackData);
+}
+
+void CallbackFlushHandler::libreOfficeKitViewInvalidateTilesCallback(const tools::Rectangle* pRect, int nPart, int nMode)
+{
+    CallbackData callbackData(pRect, nPart, nMode);
+    queue(LOK_CALLBACK_INVALIDATE_TILES, callbackData);
+}
+
+void CallbackFlushHandler::libreOfficeKitViewUpdatedCallback(int nType)
+{
+    assert(isUpdatedType( nType ));
+    std::unique_lock<std::recursive_mutex> lock(m_mutex);
+    SAL_INFO("lok", "Updated: [" << nType << "]");
+    setUpdatedType(nType, true);
+}
+
+void CallbackFlushHandler::libreOfficeKitViewUpdatedCallbackPerViewId(int nType, int nViewId, int nSourceViewId)
+{
+    assert(isUpdatedTypePerViewId( nType ));
+    std::unique_lock<std::recursive_mutex> lock(m_mutex);
+    SAL_INFO("lok", "Updated: [" << nType << "]");
+    setUpdatedTypePerViewId(nType, nViewId, nSourceViewId, true);
+}
+
+void CallbackFlushHandler::dumpState(rtl::OStringBuffer &rState)
+{
+    // NB. no locking
+    rState.append("\n    View:\t");
+    rState.append(static_cast<sal_Int32>(m_viewId));
+    rState.append("\n\tDisableCallbacks:\t");
+    rState.append(static_cast<sal_Int32>(m_nDisableCallbacks));
+    rState.append("\n\tStates:\n");
+    for (const auto &i : m_states)
+    {
+        rState.append("\n\t\t");
+        rState.append(static_cast<sal_Int32>(i.first));
+        rState.append("\t");
+        rState.append(i.second);
+    }
+}
+
+void CallbackFlushHandler::libreOfficeKitViewAddPendingInvalidateTiles()
+{
+    // Invoke() will call flushPendingLOKInvalidateTiles(), so just make sure the timer is active.
+    scheduleFlush();
+}
+
+void CallbackFlushHandler::queue(const int type, const OString& data)
+{
+    CallbackData callbackData(data);
+    queue(type, callbackData);
+}
+
+void CallbackFlushHandler::queue(const int type, CallbackData& aCallbackData)
+{
+    comphelper::ProfileZone aZone("CallbackFlushHandler::queue");
+
+    SAL_INFO("lok", "Queue: [" << type << "]: [" << aCallbackData.getPayload() << "] on " << m_queue1.size() << " entries.");
+
+    bool bIsChartActive = false;
+    bool bIsComment = false;
+    if (type == LOK_CALLBACK_GRAPHIC_SELECTION)
+    {
+        LokChartHelper aChartHelper(SfxViewShell::Current());
+        bIsChartActive = aChartHelper.GetWindow() != nullptr;
+    }
+    else if (type == LOK_CALLBACK_COMMENT)
+    {
+        bIsComment = true;
+    }
+
+    if (callbacksDisabled() && !bIsChartActive && !bIsComment)
+    {
+        // We drop notifications when this is set, except for important ones.
+        // When we issue a complex command (such as .uno:InsertAnnotation)
+        // there will be multiple notifications. On the first invalidation
+        // we will start painting, but other events will get fired
+        // while the complex command in question executes.
+        // We don't want to suppress everything here on the wrong assumption
+        // that no new events are fired during painting.
+        if (type != LOK_CALLBACK_STATE_CHANGED &&
+            type != LOK_CALLBACK_INVALIDATE_TILES &&
+            type != LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR &&
+            type != LOK_CALLBACK_CURSOR_VISIBLE &&
+            type != LOK_CALLBACK_VIEW_CURSOR_VISIBLE &&
+            type != LOK_CALLBACK_TEXT_SELECTION &&
+            type != LOK_CALLBACK_TEXT_SELECTION_START &&
+            type != LOK_CALLBACK_TEXT_SELECTION_END &&
+            type != LOK_CALLBACK_MEDIA_SHAPE &&
+            type != LOK_CALLBACK_REFERENCE_MARKS)
+        {
+            SAL_INFO("lok", "Skipping while painting [" << type << "]: [" << aCallbackData.getPayload() << "].");
+            return;
+        }
+
+        // In Writer we drop all notifications during painting.
+        if (doc_getDocumentType(m_pDocument) == LOK_DOCTYPE_TEXT)
+            return;
+    }
+
+    // Suppress invalid payloads.
+    if (type == LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR &&
+        aCallbackData.getPayload().indexOf(", 0, 0, ") != -1 &&
+        aCallbackData.getPayload().indexOf("\"hyperlink\":\"\"") == -1 &&
+        aCallbackData.getPayload().indexOf("\"hyperlink\": {}") == -1)
+    {
+        // The cursor position is often the relative coordinates of the widget
+        // issuing it, instead of the absolute one that we expect.
+        // This is temporary however, and, once the control is created and initialized
+        // correctly, it eventually emits the correct absolute coordinates.
+        SAL_INFO("lok", "Skipping invalid event [" << type << "]: [" << aCallbackData.getPayload() << "].");
+        return;
+    }
+
+    std::unique_lock<std::recursive_mutex> lock(m_mutex);
+
+    // Update types should be received via the updated callbacks for performance,
+    // getting them as normal callbacks is technically not wrong, but probably should be avoided.
+    // Reset the updated flag if we get a normal message.
+    if(isUpdatedType(type))
+    {
+        SAL_INFO("lok", "Received event with updated type [" << type << "] as normal callback");
+        resetUpdatedType(type);
+    }
+    if(isUpdatedTypePerViewId(type))
+    {
+        SAL_INFO("lok", "Received event with updated type [" << type << "] as normal callback");
+        resetUpdatedTypePerViewId(type, aCallbackData.getViewId());
+    }
+
+    // drop duplicate callbacks for the listed types
+    switch (type)
+    {
+        case LOK_CALLBACK_TEXT_SELECTION_START:
+        case LOK_CALLBACK_TEXT_SELECTION_END:
+        case LOK_CALLBACK_TEXT_SELECTION:
+        case LOK_CALLBACK_GRAPHIC_SELECTION:
+        case LOK_CALLBACK_GRAPHIC_VIEW_SELECTION:
+        case LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR:
+        case LOK_CALLBACK_INVALIDATE_VIEW_CURSOR:
+        case LOK_CALLBACK_STATE_CHANGED:
+        case LOK_CALLBACK_MOUSE_POINTER:
+        case LOK_CALLBACK_CELL_CURSOR:
+        case LOK_CALLBACK_CELL_VIEW_CURSOR:
+        case LOK_CALLBACK_CELL_FORMULA:
+        case LOK_CALLBACK_CELL_ADDRESS:
+        case LOK_CALLBACK_CELL_SELECTION_AREA:
+        case LOK_CALLBACK_CURSOR_VISIBLE:
+        case LOK_CALLBACK_VIEW_CURSOR_VISIBLE:
+        case LOK_CALLBACK_SET_PART:
+        case LOK_CALLBACK_TEXT_VIEW_SELECTION:
+        case LOK_CALLBACK_INVALIDATE_HEADER:
+        case LOK_CALLBACK_WINDOW:
+        case LOK_CALLBACK_CALC_FUNCTION_LIST:
+        case LOK_CALLBACK_INVALIDATE_SHEET_GEOMETRY:
+        case LOK_CALLBACK_REFERENCE_MARKS:
+        case LOK_CALLBACK_CELL_AUTO_FILL_AREA:
+        case LOK_CALLBACK_A11Y_FOCUS_CHANGED:
+        case LOK_CALLBACK_A11Y_CARET_CHANGED:
+        case LOK_CALLBACK_A11Y_TEXT_SELECTION_CHANGED:
+        case LOK_CALLBACK_A11Y_FOCUSED_CELL_CHANGED:
+        case LOK_CALLBACK_COLOR_PALETTES:
+        case LOK_CALLBACK_A11Y_EDITING_IN_SELECTION_STATE:
+        case LOK_CALLBACK_A11Y_SELECTION_CHANGED:
+        {
+            const auto& pos = std::find(m_queue1.rbegin(), m_queue1.rend(), type);
+            auto pos2 = toQueue2(pos);
+            if (pos != m_queue1.rend() && pos2->getPayload() == aCallbackData.getPayload())
+            {
+                SAL_INFO("lok", "Skipping queue duplicate [" << type << + "]: [" << aCallbackData.getPayload() << "].");
+                return;
+            }
+        }
+        break;
+    }
+
+    if (type == LOK_CALLBACK_TEXT_SELECTION && aCallbackData.isEmpty())
+    {
+        const auto& posStart = std::find(m_queue1.rbegin(), m_queue1.rend(), LOK_CALLBACK_TEXT_SELECTION_START);
+        auto posStart2 = toQueue2(posStart);
+        if (posStart != m_queue1.rend())
+            posStart2->clear();
+
+        const auto& posEnd = std::find(m_queue1.rbegin(), m_queue1.rend(), LOK_CALLBACK_TEXT_SELECTION_END);
+        auto posEnd2 = toQueue2(posEnd);
+        if (posEnd != m_queue1.rend())
+            posEnd2->clear();
+    }
+
+    // When payload is empty discards any previous state.
+    if (aCallbackData.isEmpty())
+    {
+        switch (type)
+        {
+            case LOK_CALLBACK_TEXT_SELECTION_START:
+            case LOK_CALLBACK_TEXT_SELECTION_END:
+            case LOK_CALLBACK_TEXT_SELECTION:
+            case LOK_CALLBACK_GRAPHIC_SELECTION:
+            case LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR:
+            case LOK_CALLBACK_INVALIDATE_TILES:
+            case LOK_CALLBACK_TOOLTIP:
+                if (removeAll(type))
+                    SAL_INFO("lok", "Removed dups of [" << type << "]: [" << aCallbackData.getPayload() << "].");
+                break;
+        }
+    }
+    else
+    {
+        switch (type)
+        {
+            // These are safe to use the latest state and ignore previous
+            // ones (if any) since the last overrides previous ones.
+            case LOK_CALLBACK_TEXT_SELECTION_START:
+            case LOK_CALLBACK_TEXT_SELECTION_END:
+            case LOK_CALLBACK_TEXT_SELECTION:
+            case LOK_CALLBACK_MOUSE_POINTER:
+            case LOK_CALLBACK_CELL_CURSOR:
+            case LOK_CALLBACK_CELL_FORMULA:
+            case LOK_CALLBACK_CELL_ADDRESS:
+            case LOK_CALLBACK_CURSOR_VISIBLE:
+            case LOK_CALLBACK_SET_PART:
+            case LOK_CALLBACK_STATUS_INDICATOR_SET_VALUE:
+            case LOK_CALLBACK_RULER_UPDATE:
+            case LOK_CALLBACK_A11Y_FOCUS_CHANGED:
+            case LOK_CALLBACK_A11Y_CARET_CHANGED:
+            case LOK_CALLBACK_A11Y_TEXT_SELECTION_CHANGED:
+            case LOK_CALLBACK_A11Y_FOCUSED_CELL_CHANGED:
+            case LOK_CALLBACK_COLOR_PALETTES:
+            case LOK_CALLBACK_TOOLTIP:
+            case LOK_CALLBACK_SHAPE_INNER_TEXT:
+            {
+                if (removeAll(type))
+                    SAL_INFO("lok", "Removed dups of [" << type << "]: [" << aCallbackData.getPayload() << "].");
+            }
+            break;
+
+            // These are safe to use the latest state and ignore previous
+            // ones (if any) since the last overrides previous ones,
+            // but only if the view is the same.
+            case LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR:
+                // deleting the duplicate of visible cursor message can cause hyperlink popup not to show up on second/or more click on the same place.
+                // If the hyperlink is not empty we can bypass that to show the popup
+                if (aCallbackData.getPayload().indexOf("\"hyperlink\":\"\"") == -1
+                    && aCallbackData.getPayload().indexOf("\"hyperlink\": {}") == -1)
+                    break;
+                [[fallthrough]];
+            case LOK_CALLBACK_CELL_VIEW_CURSOR:
+            case LOK_CALLBACK_GRAPHIC_VIEW_SELECTION:
+            case LOK_CALLBACK_INVALIDATE_VIEW_CURSOR:
+            case LOK_CALLBACK_TEXT_VIEW_SELECTION:
+            case LOK_CALLBACK_VIEW_CURSOR_VISIBLE:
+            case LOK_CALLBACK_CALC_FUNCTION_LIST:
+            case LOK_CALLBACK_FORM_FIELD_BUTTON:
+            {
+                const int nViewId = aCallbackData.getViewId();
+                removeAll(type, [nViewId] (const CallbackData& elemData) {
+                        return (nViewId == elemData.getViewId());
+                    }
+                );
+            }
+            break;
+
+            case LOK_CALLBACK_INVALIDATE_TILES:
+                if (processInvalidateTilesEvent(type, aCallbackData))
+                    return;
+            break;
+
+            // State changes with same name override previous ones with a different value.
+            // Ex. ".uno:PageStatus=Slide 20 of 83" overwrites any previous PageStatus.
+            case LOK_CALLBACK_STATE_CHANGED:
+            {
+                // Compare the state name=value and overwrite earlier entries with same name.
+                const auto pos = aCallbackData.getPayload().indexOf('=');
+                if (pos != -1)
+                {
+                    const std::string_view name = aCallbackData.getPayload().subView(0, pos + 1);
+                    // This is needed because otherwise it creates some problems when
+                    // a save occurs while a cell is still edited in Calc.
+                    if (name != ".uno:ModifiedStatus=")
+                    {
+                        removeAll(type, [&name] (const CallbackData& elemData) {
+                                return elemData.getPayload().startsWith(name);
+                            }
+                        );
+                    }
+                }
+            }
+            break;
+
+            case LOK_CALLBACK_WINDOW:
+                if (processWindowEvent(type, aCallbackData))
+                    return;
+            break;
+
+            case LOK_CALLBACK_GRAPHIC_SELECTION:
+            {
+                // remove only selection ranges and 'EMPTY' messages
+                // always send 'INPLACE' and 'INPLACE EXIT' messages
+                removeAll(type, [] (const CallbackData& elemData)
+                    { return (elemData.getPayload().indexOf("INPLACE") == -1); });
+            }
+            break;
+        }
+    }
+
+    // Validate that the cached data and the payload string are identical.
+    assert(aCallbackData.validate() && "Cached callback payload object and string mismatch!");
+    m_queue1.emplace_back(type);
+    m_queue2.emplace_back(aCallbackData);
+    SAL_INFO("lok", "Queued #" << (m_queue1.size() - 1) <<
+             " [" << type << "]: [" << aCallbackData.getPayload() << "] to have " << m_queue1.size() << " entries.");
+
+#ifdef DBG_UTIL
+    {
+        // Dump the queue state and validate cached data.
+        int i = 1;
+        std::ostringstream oss;
+        if (m_queue1.empty())
+            oss << "Empty";
+        else
+            oss << m_queue1.size() << " items\n";
+        auto it1 = m_queue1.begin();
+        auto it2 = m_queue2.begin();
+        for (; it1 != m_queue1.end(); ++it1, ++it2)
+            oss << i++ << ": [" << *it1 << "] [" << it2->getPayload() << "].\n";
+        SAL_INFO("lok", "Current Queue: " << oss.str());
+        assert(
+            std::all_of(
+                m_queue2.begin(), m_queue2.end(),
+                [](const CallbackData& c) { return c.validate(); }));
+    }
+#endif
+
+    lock.unlock();
+    scheduleFlush();
+}
+
+bool CallbackFlushHandler::processInvalidateTilesEvent(int type, CallbackData& aCallbackData)
+{
+    RectangleAndPart rcNew = aCallbackData.getRectangleAndPart();
+    if (rcNew.isEmpty())
+    {
+        SAL_INFO("lok", "Skipping invalid event [" << type << "]: [" << aCallbackData.getPayload() << "].");
+        return true;
+    }
+
+    // If we have to invalidate all tiles, we can skip any new tile invalidation.
+    // Find the last INVALIDATE_TILES entry, if any to see if it's invalidate-all.
+    const auto& pos
+        = std::find(m_queue1.rbegin(), m_queue1.rend(), LOK_CALLBACK_INVALIDATE_TILES);
+    if (pos != m_queue1.rend())
+    {
+        auto pos2 = toQueue2(pos);
+        const RectangleAndPart& rcOld = pos2->getRectangleAndPart();
+        if (rcOld.isInfinite() && (rcOld.m_nPart == -1 || rcOld.m_nPart == rcNew.m_nPart) &&
+            (rcOld.m_nMode == rcNew.m_nMode))
+        {
+            SAL_INFO("lok", "Skipping queue [" << type << "]: [" << aCallbackData.getPayload()
+                                               << "] since all tiles need to be invalidated.");
+            return true;
+        }
+
+        if ((rcOld.m_nPart == -1 || rcOld.m_nPart == rcNew.m_nPart) && (rcOld.m_nMode == rcNew.m_nMode))
+        {
+            // If fully overlapping.
+            if (rcOld.m_aRectangle.Contains(rcNew.m_aRectangle))
+            {
+                SAL_INFO("lok", "Skipping queue [" << type << "]: [" << aCallbackData.getPayload()
+                                                   << "] since overlaps existing all-parts.");
+                return true;
+            }
+        }
+    }
+
+    if (rcNew.isInfinite())
+    {
+        SAL_INFO("lok", "Have Empty [" << type << "]: [" << aCallbackData.getPayload()
+                                       << "] so removing all with part " << rcNew.m_nPart << ".");
+        removeAll(LOK_CALLBACK_INVALIDATE_TILES, [&rcNew](const CallbackData& elemData) {
+            // Remove exiting if new is all-encompassing, or if of the same part.
+            return ((rcNew.m_nPart == -1 || rcNew.m_nPart == elemData.getRectangleAndPart().m_nPart)
+                && (rcNew.m_nMode == elemData.getRectangleAndPart().m_nMode));
+        });
+    }
+    else
+    {
+        const auto rcOrig = rcNew;
+
+        SAL_INFO("lok", "Have [" << type << "]: [" << aCallbackData.getPayload() << "] so merging overlapping.");
+        removeAll(LOK_CALLBACK_INVALIDATE_TILES,[&rcNew](const CallbackData& elemData) {
+            const RectangleAndPart& rcOld = elemData.getRectangleAndPart();
+            if (rcNew.m_nPart != -1 && rcOld.m_nPart != -1 &&
+                (rcOld.m_nPart != rcNew.m_nPart || rcOld.m_nMode != rcNew.m_nMode))
+            {
+                SAL_INFO("lok", "Nothing to merge between new: "
+                                    << rcNew.toString() << ", and old: " << rcOld.toString());
+                return false;
+            }
+
+            if (rcNew.m_nPart == -1)
+            {
+                // Don't merge unless fully overlapped.
+                SAL_INFO("lok", "New " << rcNew.toString() << " has " << rcOld.toString()
+                                       << "?");
+                if (rcNew.m_aRectangle.Contains(rcOld.m_aRectangle) && rcOld.m_nMode == rcNew.m_nMode)
+                {
+                    SAL_INFO("lok", "New " << rcNew.toString() << " engulfs old "
+                                           << rcOld.toString() << ".");
+                    return true;
+                }
+            }
+            else if (rcOld.m_nPart == -1)
+            {
+                // Don't merge unless fully overlapped.
+                SAL_INFO("lok", "Old " << rcOld.toString() << " has " << rcNew.toString()
+                                       << "?");
+                if (rcOld.m_aRectangle.Contains(rcNew.m_aRectangle) && rcOld.m_nMode == rcNew.m_nMode)
+                {
+                    SAL_INFO("lok", "New " << rcNew.toString() << " engulfs old "
+                                           << rcOld.toString() << ".");
+                    return true;
+                }
+            }
+            else
+            {
+                const tools::Rectangle rcOverlap
+                    = rcNew.m_aRectangle.GetIntersection(rcOld.m_aRectangle);
+                const bool bOverlap = !rcOverlap.IsEmpty() && rcOld.m_nMode == rcNew.m_nMode;
+                SAL_INFO("lok", "Merging " << rcNew.toString() << " & " << rcOld.toString()
+                                           << " => " << rcOverlap.toString()
+                                           << " Overlap: " << bOverlap);
+                if (bOverlap)
+                {
+                    rcNew.m_aRectangle.Union(rcOld.m_aRectangle);
+                    SAL_INFO("lok", "Merged: " << rcNew.toString());
+                    return true;
+                }
+            }
+
+            // Keep others.
+            return false;
+        });
+
+        if (rcNew.m_aRectangle != rcOrig.m_aRectangle)
+        {
+            SAL_INFO("lok", "Replacing: " << rcOrig.toString() << " by " << rcNew.toString());
+            if (rcNew.m_aRectangle.GetWidth() < rcOrig.m_aRectangle.GetWidth()
+                || rcNew.m_aRectangle.GetHeight() < rcOrig.m_aRectangle.GetHeight())
+            {
+                SAL_WARN("lok", "Error: merged rect smaller.");
+            }
+        }
+    }
+
+    aCallbackData.updateRectangleAndPart(rcNew);
+    // Queue this one.
+    return false;
+}
+
+bool CallbackFlushHandler::processWindowEvent(int type, CallbackData& aCallbackData)
+{
+    const OString& payload = aCallbackData.getPayload();
+
+    boost::property_tree::ptree& aTree = aCallbackData.setJson(std::string(payload));
+    const unsigned nLOKWindowId = aTree.get<unsigned>("id", 0);
+    const std::string aAction = aTree.get<std::string>("action", "");
+    if (aAction == "invalidate")
+    {
+        std::string aRectStr = aTree.get<std::string>("rectangle", "");
+        // no 'rectangle' field => invalidate all of the window =>
+        // remove all previous window part invalidations
+        if (aRectStr.empty())
+        {
+            removeAll(LOK_CALLBACK_WINDOW,[&nLOKWindowId](const CallbackData& elemData) {
+                const boost::property_tree::ptree& aOldTree = elemData.getJson();
+                if (nLOKWindowId == aOldTree.get<unsigned>("id", 0)
+                    && aOldTree.get<std::string>("action", "") == "invalidate")
+                {
+                    return true;
+                }
+                return false;
+            });
+        }
+        else
+        {
+            // if we have to invalidate all of the window, ignore
+            // any part invalidation message
+            bool invAllExist = false;
+            auto it1 = m_queue1.rbegin();
+            auto it2 = m_queue2.rbegin();
+            for (;it1 != m_queue1.rend(); ++it1, ++it2)
+            {
+                if (*it1 != LOK_CALLBACK_WINDOW)
+                    continue;
+                const boost::property_tree::ptree& aOldTree = it2->getJson();
+                if (nLOKWindowId == aOldTree.get<unsigned>("id", 0)
+                     && aOldTree.get<std::string>("action", "") == "invalidate"
+                     && aOldTree.get<std::string>("rectangle", "").empty())
+                {
+                    invAllExist = true;
+                    break;
+                }
+            }
+
+            // we found a invalidate-all window callback
+            if (invAllExist)
+            {
+                SAL_INFO("lok.dialog", "Skipping queue ["
+                                           << type << "]: [" << payload
+                                           << "] since whole window needs to be invalidated.");
+                return true;
+            }
+
+            std::istringstream aRectStream(aRectStr);
+            tools::Long nLeft, nTop, nWidth, nHeight;
+            char nComma;
+            aRectStream >> nLeft >> nComma >> nTop >> nComma >> nWidth >> nComma >> nHeight;
+            tools::Rectangle aNewRect(nLeft, nTop, nLeft + nWidth, nTop + nHeight);
+            bool currentIsRedundant = false;
+            removeAll(LOK_CALLBACK_WINDOW, [&aNewRect, &nLOKWindowId,
+                       &currentIsRedundant](const CallbackData& elemData) {
+                const boost::property_tree::ptree& aOldTree = elemData.getJson();
+                if (aOldTree.get<std::string>("action", "") == "invalidate")
+                {
+                    // Not possible that we encounter an empty rectangle here; we already handled this case above.
+                    std::istringstream aOldRectStream(aOldTree.get<std::string>("rectangle", ""));
+                    tools::Long nOldLeft, nOldTop, nOldWidth, nOldHeight;
+                    char nOldComma;
+                    aOldRectStream >> nOldLeft >> nOldComma >> nOldTop >> nOldComma >> nOldWidth
+                        >> nOldComma >> nOldHeight;
+                    const tools::Rectangle aOldRect = tools::Rectangle(
+                        nOldLeft, nOldTop, nOldLeft + nOldWidth, nOldTop + nOldHeight);
+
+                    if (nLOKWindowId == aOldTree.get<unsigned>("id", 0))
+                    {
+                        if (aNewRect == aOldRect)
+                        {
+                            SAL_INFO("lok.dialog", "Duplicate rect [" << aNewRect.toString()
+                                                                      << "]. Skipping new.");
+                            // We have a rectangle in the queue already that makes the current Callback useless.
+                            currentIsRedundant = true;
+                            return false;
+                        }
+                        // new one engulfs the old one?
+                        else if (aNewRect.Contains(aOldRect))
+                        {
+                            SAL_INFO("lok.dialog",
+                                     "New rect [" << aNewRect.toString() << "] engulfs old ["
+                                                  << aOldRect.toString() << "]. Replacing old.");
+                            return true;
+                        }
+                        // old one engulfs the new one?
+                        else if (aOldRect.Contains(aNewRect))
+                        {
+                            SAL_INFO("lok.dialog",
+                                     "Old rect [" << aOldRect.toString() << "] engulfs new ["
+                                                  << aNewRect.toString() << "]. Skipping new.");
+                            // We have a rectangle in the queue already that makes the current Callback useless.
+                            currentIsRedundant = true;
+                            return false;
+                        }
+                        else
+                        {
+                            // Overlapping rects.
+                            const tools::Rectangle aPreMergeRect = aNewRect;
+                            aNewRect.Union(aOldRect);
+                            SAL_INFO("lok.dialog", "Merging rects ["
+                                                       << aPreMergeRect.toString() << "] & ["
+                                                       << aOldRect.toString() << "] = ["
+                                                       << aNewRect.toString()
+                                                       << "]. Replacing old.");
+                            return true;
+                        }
+                    }
+                }
+
+                // keep rest
+                return false;
+            });
+
+            // Do not enqueue if redundant.
+            if (currentIsRedundant)
+                return true;
+
+            aTree.put("rectangle", aNewRect.toString().getStr());
+            aCallbackData.setJson(aTree);
+            assert(aCallbackData.validate() && "Validation after setJson failed!");
+        }
+    }
+    else if (aAction == "created")
+    {
+        // Remove all previous actions on same dialog, if we are creating it anew.
+        removeAll(LOK_CALLBACK_WINDOW,[&nLOKWindowId](const CallbackData& elemData) {
+            const boost::property_tree::ptree& aOldTree = elemData.getJson();
+            if (nLOKWindowId == aOldTree.get<unsigned>("id", 0))
+                return true;
+            return false;
+        });
+
+        VclPtr<Window> pWindow = vcl::Window::FindLOKWindow(nLOKWindowId);
+        if (!pWindow)
+        {
+            SetLastExceptionMsg(u"Document doesn't support dialog rendering, or window not found."_ustr);
+            return false;
+        }
+
+#ifndef IOS
+        auto xClip = forceSetClipboardForCurrentView(m_pDocument);
+
+        uno::Reference<datatransfer::clipboard::XClipboard> xClipboard(xClip);
+        pWindow->SetClipboard(xClipboard);
+#endif
+    }
+    else if (aAction == "size_changed")
+    {
+        // A size change is practically re-creation of the window.
+        // But at a minimum it's a full invalidation.
+        removeAll(LOK_CALLBACK_WINDOW, [&nLOKWindowId](const CallbackData& elemData) {
+            const boost::property_tree::ptree& aOldTree = elemData.getJson();
+            if (nLOKWindowId == aOldTree.get<unsigned>("id", 0))
+            {
+                const std::string aOldAction = aOldTree.get<std::string>("action", "");
+                if (aOldAction == "invalidate")
+                    return true;
+            }
+            return false;
+        });
+    }
+
+    // Queue this one.
+    return false;
+}
+
+void CallbackFlushHandler::enqueueUpdatedTypes()
+{
+    if( m_updatedTypes.empty() && m_updatedTypesPerViewId.empty())
+        return;
+    assert(m_viewId >= 0);
+    SfxViewShell* viewShell = SfxViewShell::GetFirst( false,
+        [this](const SfxViewShell& shell) { return shell.GetViewShellId().get() == m_viewId; } );
+    assert(viewShell != nullptr);
+
+    // First move data to local structures, so that callbacks don't possibly modify it.
+    std::vector<bool> updatedTypes;
+    std::swap(updatedTypes, m_updatedTypes);
+    boost::container::flat_map<int, std::vector<PerViewIdData>> updatedTypesPerViewId;
+    std::swap(updatedTypesPerViewId, m_updatedTypesPerViewId);
+
+    // Some types must always precede other types, for example
+    // LOK_CALLBACK_TEXT_SELECTION_START and LOK_CALLBACK_TEXT_SELECTION_END
+    // must always precede LOK_CALLBACK_TEXT_SELECTION if present.
+    // Only these types should be present (see isUpdatedType()) and should be processed in this order.
+    static const int orderedUpdatedTypes[] = {
+        LOK_CALLBACK_TEXT_SELECTION_START, LOK_CALLBACK_TEXT_SELECTION_END, LOK_CALLBACK_TEXT_SELECTION };
+    // Only these types should be present (see isUpdatedTypePerViewId()) and (as of now)
+    // the order doesn't matter.
+    static const int orderedUpdatedTypesPerViewId[] = {
+        LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR,
+        LOK_CALLBACK_INVALIDATE_VIEW_CURSOR,
+        LOK_CALLBACK_TEXT_VIEW_SELECTION };
+
+    for( int type : orderedUpdatedTypes )
+    {
+        if(o3tl::make_unsigned( type ) < updatedTypes.size() && updatedTypes[ type ])
+        {
+            enqueueUpdatedType( type, viewShell, m_viewId );
+        }
+    }
+    for( const auto& it : updatedTypesPerViewId )
+    {
+        int viewId = it.first;
+        const std::vector<PerViewIdData>& types = it.second;
+        for( int type : orderedUpdatedTypesPerViewId )
+        {
+            if(o3tl::make_unsigned( type ) < types.size() && types[ type ].set)
+            {
+                SfxViewShell* sourceViewShell = viewShell;
+                const int sourceViewId = types[ type ].sourceViewId;
+                if( sourceViewId != m_viewId )
+                {
+                    assert(sourceViewId >= 0);
+                    sourceViewShell = SfxViewShell::GetFirst( false,
+                    [sourceViewId](const SfxViewShell& shell) { return shell.GetViewShellId().get() == sourceViewId; } );
+                }
+                if(sourceViewShell == nullptr)
+                {
+                    SAL_INFO("lok", "View #" << sourceViewId << " no longer found for updated event [" << type << "]");
+                    continue; // View removed, probably cleaning up.
+                }
+                enqueueUpdatedType( type, sourceViewShell, viewId );
+            }
+        }
+    }
+}
+
+void CallbackFlushHandler::enqueueUpdatedType( int type, const SfxViewShell* viewShell, int viewId )
+{
+    if (type == LOK_CALLBACK_INVALIDATE_VISIBLE_CURSOR)
+    {
+        if (const SfxViewShell* viewShell2 = LokStarMathHelper(viewShell).GetSmViewShell())
+            viewShell = viewShell2;
+    }
+    std::optional<OString> payload = viewShell->getLOKPayload( type, viewId );
+    if(!payload)
+        return; // No actual payload to send.
+    CallbackData callbackData(*payload, viewId);
+    m_queue1.emplace_back(type);
+    m_queue2.emplace_back(callbackData);
+    SAL_INFO("lok", "Queued updated [" << type << "]: [" << callbackData.getPayload()
+        << "] to have " << m_queue1.size() << " entries.");
+}
+
+void CallbackFlushHandler::invoke()
+{
+    comphelper::ProfileZone aZone("CallbackFlushHandler::Invoke");
+
+    if (!m_pCallback)
+        return;
+
+    // Get any pending invalidate tile events. This will call our callbacks,
+    // so it must be done before taking the mutex.
+    assert(m_viewId >= 0);
+    if(SfxViewShell* viewShell = SfxViewShell::GetFirst( false,
+        [this](const SfxViewShell& shell) { return shell.GetViewShellId().get() == m_viewId; } ))
+    {
+        viewShell->flushPendingLOKInvalidateTiles();
+    }
+
+    std::unique_lock<std::recursive_mutex> lock(m_mutex);
+
+    // Append messages for updated types, fetch them only now.
+    enqueueUpdatedTypes();
+
+    SAL_INFO("lok", "Flushing " << m_queue1.size() << " elements.");
+    auto it1 = m_queue1.begin();
+    auto it2 = m_queue2.begin();
+    for (; it1 != m_queue1.end(); ++it1, ++it2)
+    {
+        const int type = *it1;
+        const auto& payload = it2->getPayload();
+        const int viewId = lcl_isViewCallbackType(type) ? it2->getViewId() : -1;
+
+        SAL_INFO("lok", "processing event: [" << type << ',' << viewId << "]: [" << payload << "].");
+
+        // common code-path for events on this view:
+        if (viewId == -1)
+        {
+            sal_Int32 idx;
+            // key-value pairs
+            if (type == LOK_CALLBACK_STATE_CHANGED &&
+                (idx = payload.indexOf('=')) != -1)
+            {
+                OString key = payload.copy(0, idx);
+                OString value = payload.copy(idx+1);
+                const auto stateIt = m_lastStateChange.find(key);
+                if (stateIt != m_lastStateChange.end())
+                {
+                    // If the value didn't change, it's safe to ignore.
+                    if (stateIt->second == value)
+                    {
+                        SAL_INFO("lok", "Skipping new state duplicate: [" << type << "]: [" << payload << "].");
+                        continue;
+                    }
+                    SAL_INFO("lok", "Replacing a state element [" << type << "]: [" << payload << "].");
+                    stateIt->second = value;
+                }
+                else
+                {
+                    SAL_INFO("lok", "Inserted a new state element: [" << type << "]: [" << payload << "]");
+                    m_lastStateChange.emplace(key, value);
+                }
+            }
+            else
+            {
+                const auto stateIt = m_states.find(type);
+                if (stateIt != m_states.end())
+                {
+                    // If the state didn't change, it's safe to ignore.
+                    if (stateIt->second == payload)
+                    {
+                        SAL_INFO("lok", "Skipping duplicate [" << type << "]: [" << payload << "].");
+                        continue;
+                    }
+                    stateIt->second = payload;
+                }
+            }
+        }
+        else // less common path for events relating to other views
+        {
+            const auto statesIt = m_viewStates.find(viewId);
+            if (statesIt != m_viewStates.end())
+            {
+                auto& states = statesIt->second;
+                const auto stateIt = states.find(type);
+                if (stateIt != states.end())
+                {
+                    // If the state didn't change, it's safe to ignore.
+                    if (stateIt->second == payload)
+                    {
+                        SAL_INFO("lok", "Skipping view duplicate [" << type << ',' << viewId << "]: [" << payload << "].");
+                        continue;
+                    }
+
+                    SAL_INFO("lok", "Replacing an element in view states [" << type << ',' << viewId << "]: [" << payload << "].");
+                    stateIt->second = payload;
+                }
+                else
+                {
+                    SAL_INFO("lok", "Inserted a new element in view states: [" << type << ',' << viewId << "]: [" << payload << "]");
+                    states.emplace(type, payload);
+
+                }
+            }
+        }
+
+        m_pCallback(type, payload.getStr(), m_pData);
+    }
+
+    m_queue1.clear();
+    m_queue2.clear();
+    stop();
+}
+
+void CallbackFlushHandler::scheduleFlush()
+{
+    if (!m_pFlushEvent)
+        m_pFlushEvent = Application::PostUserEvent(LINK(this, CallbackFlushHandler, FlushQueue));
+}
+
+IMPL_LINK_NOARG(CallbackFlushHandler, FlushQueue, void*, void)
+{
+    m_pFlushEvent = nullptr;
+    invoke();
+}
+
+bool CallbackFlushHandler::removeAll(int type)
+{
+    bool bErased = false;
+    auto it1 = m_queue1.begin();
+    for(;;)
+    {
+        it1 = std::find(it1, m_queue1.end(), type);
+        if(it1 == m_queue1.end())
+            break;
+        m_queue2.erase(toQueue2(it1));
+        it1 = m_queue1.erase(it1);
+        bErased = true;
+    }
+    return bErased;
+}
+
+bool CallbackFlushHandler::removeAll(int type, const std::function<bool (const CallbackData&)>& rTestFunc)
+{
+    bool bErased = false;
+    auto it1 = m_queue1.begin();
+    for(;;)
+    {
+        it1 = std::find(it1, m_queue1.end(), type);
+        if(it1 == m_queue1.end())
+            break;
+        auto it2 = toQueue2(it1);
+        if (rTestFunc(*it2))
+        {
+            m_queue2.erase(it2);
+            it1 = m_queue1.erase(it1);
+            bErased = true;
+        }
+        else
+            ++it1;
+    }
+    return bErased;
+}
+
+void CallbackFlushHandler::addViewStates(int viewId)
+{
+    const auto& result = m_viewStates.emplace(viewId, decltype(m_viewStates)::mapped_type());
+    if (!result.second && result.first != m_viewStates.end())
+    {
+        result.first->second.clear();
+    }
+}
+
+void CallbackFlushHandler::removeViewStates(int viewId)
+{
+    m_viewStates.erase(viewId);
+}
+
+
+static void doc_destroy(LibreOfficeKitDocument *pThis)
+{
+    comphelper::ProfileZone aZone("doc_destroy");
+
+    SolarMutexGuard aGuard;
+
+#ifndef IOS
+    LOKClipboardFactory::releaseClipboardForView(-1);
+#endif
+
+    LibLODocument_Impl *pDocument = static_cast<LibLODocument_Impl*>(pThis);
+    delete pDocument;
+}
+
+static void                    lo_destroy       (LibreOfficeKit* pThis);
+static int                     lo_initialize    (LibreOfficeKit* pThis, const char* pInstallPath, const char* pUserProfilePath);
+static LibreOfficeKitDocument* lo_documentLoad  (LibreOfficeKit* pThis, const char* pURL);
+static char *                  lo_getError      (LibreOfficeKit* pThis);
+static void                    lo_freeError     (char* pFree);
+static LibreOfficeKitDocument* lo_documentLoadWithOptions  (LibreOfficeKit* pThis,
+                                                           const char* pURL,
+                                                           const char* pOptions);
+static void                    lo_registerCallback (LibreOfficeKit* pThis,
+                                                    LibreOfficeKitCallback pCallback,
+                                                    void* pData);
+static char* lo_getFilterTypes(LibreOfficeKit* pThis);
+static void                    lo_setOptionalFeatures(LibreOfficeKit* pThis, unsigned long long features);
+static void                    lo_setDocumentPassword(LibreOfficeKit* pThis,
+                                                       const char* pURL,
+                                                       const char* pPassword);
+static char*                   lo_getVersionInfo(LibreOfficeKit* pThis);
+static int                     lo_runMacro      (LibreOfficeKit* pThis, const char* pURL);
+
+static bool lo_signDocument(LibreOfficeKit* pThis,
+                                   const char* pUrl,
+                                   const unsigned char* pCertificateBinary,
+                                   const int nCertificateBinarySize,
+                                   const unsigned char* pPrivateKeyBinary,
+                                   const int nPrivateKeyBinarySize);
+
+static char* lo_extractRequest(LibreOfficeKit* pThis,
+                                   const char* pFilePath);
+
+static void lo_trimMemory(LibreOfficeKit* pThis, int nTarget);
+
+static void*
+lo_startURP(LibreOfficeKit* pThis, void* pReceiveURPFromLOContext, void* pSendURPToLOContext,
+            int (*fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen),
+            int (*fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen));
+
+static void lo_stopURP(LibreOfficeKit* pThis, void* pSendURPToLOContext);
+
+static int lo_joinThreads(LibreOfficeKit* pThis);
+
+static void lo_setForkedChild(LibreOfficeKit* pThis, bool bIsChild);
+
+static void lo_runLoop(LibreOfficeKit* pThis,
+                       LibreOfficeKitPollCallback pPollCallback,
+                       LibreOfficeKitWakeCallback pWakeCallback,
+                       void* pData);
+
+static void lo_sendDialogEvent(LibreOfficeKit* pThis,
+                               unsigned long long int nLOKWindowId,
+                               const char* pArguments);
+
+static void lo_setOption(LibreOfficeKit* pThis, const char* pOption, const char* pValue);
+
+static void lo_dumpState(LibreOfficeKit* pThis, const char* pOptions, char** pState);
+
+LibLibreOffice_Impl::LibLibreOffice_Impl()
+    : m_pOfficeClass( gOfficeClass.lock() )
+    , maThread(nullptr)
+    , mpCallback(nullptr)
+    , mpCallbackData(nullptr)
+    , mOptionalFeatures(0)
+{
+    if(!m_pOfficeClass) {
+        m_pOfficeClass = std::make_shared<LibreOfficeKitClass>();
+        m_pOfficeClass->nSize = sizeof(LibreOfficeKitClass);
+
+        m_pOfficeClass->destroy = lo_destroy;
+        m_pOfficeClass->documentLoad = lo_documentLoad;
+        m_pOfficeClass->getError = lo_getError;
+        m_pOfficeClass->freeError = lo_freeError;
+        m_pOfficeClass->documentLoadWithOptions = lo_documentLoadWithOptions;
+        m_pOfficeClass->registerCallback = lo_registerCallback;
+        m_pOfficeClass->getFilterTypes = lo_getFilterTypes;
+        m_pOfficeClass->setOptionalFeatures = lo_setOptionalFeatures;
+        m_pOfficeClass->setDocumentPassword = lo_setDocumentPassword;
+        m_pOfficeClass->getVersionInfo = lo_getVersionInfo;
+        m_pOfficeClass->runMacro = lo_runMacro;
+        m_pOfficeClass->signDocument = lo_signDocument;
+        m_pOfficeClass->runLoop = lo_runLoop;
+        m_pOfficeClass->sendDialogEvent = lo_sendDialogEvent;
+        m_pOfficeClass->setOption = lo_setOption;
+        m_pOfficeClass->dumpState = lo_dumpState;
+        m_pOfficeClass->extractRequest = lo_extractRequest;
+        m_pOfficeClass->trimMemory = lo_trimMemory;
+        m_pOfficeClass->startURP = lo_startURP;
+        m_pOfficeClass->stopURP = lo_stopURP;
+        m_pOfficeClass->joinThreads = lo_joinThreads;
+        m_pOfficeClass->setForkedChild = lo_setForkedChild;
+
+        gOfficeClass = m_pOfficeClass;
+    }
+
+    pClass = m_pOfficeClass.get();
+}
+
+LibLibreOffice_Impl::~LibLibreOffice_Impl()
+{
+}
+
+namespace
+{
+
+void setLanguageAndLocale(OUString const & aLangISO)
+{
+    SvtSysLocaleOptions aLocalOptions;
+    aLocalOptions.SetLocaleConfigString(aLangISO);
+    aLocalOptions.SetUILocaleConfigString(aLangISO);
+    aLocalOptions.Commit();
+}
+
+void setFormatSpecificFilterData(std::u16string_view sFormat, comphelper::SequenceAsHashMap & rFilterDataMap)
+{
+    if (sFormat == u"pdf")
+    {
+        // always export bookmarks, which is needed for annotations
+        rFilterDataMap[u"ExportBookmarks"_ustr] <<= true;
+    }
+}
+
+} // anonymous namespace
+
+// Wonder global state ...
+static uno::Reference<css::uno::XComponentContext> xContext;
+static uno::Reference<css::lang::XMultiServiceFactory> xSFactory;
+static uno::Reference<css::lang::XMultiComponentFactory> xFactory;
+
+static LibreOfficeKitDocument* lo_documentLoad(LibreOfficeKit* pThis, const char* pURL)
+{
+    return lo_documentLoadWithOptions(pThis, pURL, nullptr);
+}
+
+static LibreOfficeKitDocument* lo_documentLoadWithOptions(LibreOfficeKit* pThis, const char* pURL, const char* pOptions)
+{
+    comphelper::ProfileZone aZone("lo_documentLoadWithOptions");
+
+    SolarMutexGuard aGuard;
+
+    static int nDocumentIdCounter = 0;
+
+    LibLibreOffice_Impl* pLib = static_cast<LibLibreOffice_Impl*>(pThis);
+    pLib->maLastExceptionMsg.clear();
+
+    const OUString aURL(getAbsoluteURL(pURL));
+    if (aURL.isEmpty())
+    {
+        pLib->maLastExceptionMsg = u"Filename to load was not provided."_ustr;
+        SAL_INFO("lok", "URL for load is empty");
+        return nullptr;
+    }
+
+    pLib->maLastExceptionMsg.clear();
+
+    if (!xContext.is())
+    {
+        pLib->maLastExceptionMsg = u"ComponentContext is not available"_ustr;
+        SAL_INFO("lok", "ComponentContext is not available");
+        return nullptr;
+    }
+
+    uno::Reference<frame::XDesktop2> xComponentLoader = frame::Desktop::create(xContext);
+
+    if (!xComponentLoader.is())
+    {
+        pLib->maLastExceptionMsg = u"ComponentLoader is not available"_ustr;
+        SAL_INFO("lok", "ComponentLoader is not available");
+        return nullptr;
+    }
+
+    try
+    {
+        // 'Language=...' is an option that LOK consumes by itself, and does
+        // not pass it as a parameter to the filter
+        OUString aOptions = getUString(pOptions);
+        const OUString aLanguage = extractParameter(aOptions, u"Language");
+
+        if (!aLanguage.isEmpty() && LanguageTag::isValidBcp47(aLanguage, nullptr))
+        {
+            static bool isLoading = true;
+            if (isLoading)
+            {
+                // Capture the language used to load the document.
+                SfxLokHelper::setLoadLanguage(aLanguage);
+                isLoading = false;
+            }
+
+            SfxLokHelper::setDefaultLanguage(aLanguage);
+            // Set the LOK language tag, used for dialog tunneling.
+            comphelper::LibreOfficeKit::setLanguageTag(LanguageTag(aLanguage));
+            comphelper::LibreOfficeKit::setLocale(LanguageTag(aLanguage));
+
+            SAL_INFO("lok", "Set document language to " << aLanguage);
+            // use with care - it sets it for the entire core, not just the
+            // document
+            setLanguageAndLocale(aLanguage);
+            // Need to reset the static initialized values
+            SvNumberFormatter::resetTheCurrencyTable();
+        }
+
+        // Set the timezone, if not empty.
+        const OUString aTimezone = extractParameter(aOptions, u"Timezone");
+        if (!aTimezone.isEmpty())
+        {
+            SfxLokHelper::setDefaultTimezone(true, aTimezone);
+        }
+        else
+        {
+            // Default to the TZ envar, if set.
+            const char* tz = ::getenv("TZ");
+            if (tz)
+            {
+                SfxLokHelper::setDefaultTimezone(true,
+                                                 OStringToOUString(tz, RTL_TEXTENCODING_UTF8));
+            }
+            else
+            {
+                SfxLokHelper::setDefaultTimezone(false, OUString());
+            }
+        }
+
+        const OUString aDeviceFormFactor = extractParameter(aOptions, u"DeviceFormFactor");
+        SfxLokHelper::setDeviceFormFactor(aDeviceFormFactor);
+
+        const OUString aBatch = extractParameter(aOptions, u"Batch");
+        if (!aBatch.isEmpty())
+        {
+             Application::SetDialogCancelMode(DialogCancelMode::LOKSilent);
+        }
+
+        rtl::Reference<LOKInteractionHandler> const pInteraction(
+            new LOKInteractionHandler("load"_ostr, pLib));
+        auto const pair(pLib->mInteractionMap.insert(std::make_pair(aURL.toUtf8(), pInteraction)));
+        comphelper::ScopeGuard const g([&] () {
+                if (pair.second)
+                {
+                    pLib->mInteractionMap.erase(aURL.toUtf8());
+                }
+            });
+        uno::Reference<task::XInteractionHandler2> const xInteraction(pInteraction);
+
+        int nMacroSecurityLevel = 1;
+        const OUString aMacroSecurityLevel = extractParameter(aOptions, u"MacroSecurityLevel");
+        if (!aMacroSecurityLevel.isEmpty())
+        {
+            double nNumber;
+            sal_uInt32 nFormat = 1;
+            SvNumberFormatter aFormatter(::comphelper::getProcessComponentContext(), LANGUAGE_ENGLISH_US);
+            if (aFormatter.IsNumberFormat(aMacroSecurityLevel, nFormat, nNumber))
+                nMacroSecurityLevel = static_cast<int>(nNumber);
+        }
+        SvtSecurityOptions::SetMacroSecurityLevel(nMacroSecurityLevel);
+
+#if defined(ANDROID) && HAVE_FEATURE_ANDROID_LOK
+        sal_Int16 nMacroExecMode = document::MacroExecMode::USE_CONFIG;
+#else
+        const OUString aEnableMacrosExecution = extractParameter(aOptions, u"EnableMacrosExecution");
+        sal_Int16 nMacroExecMode = aEnableMacrosExecution == "true" ? document::MacroExecMode::USE_CONFIG :
+            document::MacroExecMode::NEVER_EXECUTE;
+#endif
+
+        // set AsTemplate explicitly false to be able to load template files
+        // as regular files, otherwise we cannot save them; it will try
+        // to bring saveas dialog which cannot work with LOK case
+        uno::Sequence<css::beans::PropertyValue> aFilterOptions{
+            comphelper::makePropertyValue(u"FilterOptions"_ustr, aOptions),
+            comphelper::makePropertyValue(u"InteractionHandler"_ustr, xInteraction),
+            comphelper::makePropertyValue(u"MacroExecutionMode"_ustr, nMacroExecMode),
+            comphelper::makePropertyValue(u"AsTemplate"_ustr, false),
+            comphelper::makePropertyValue(u"Silent"_ustr, !aBatch.isEmpty())
+        };
+
+        /* TODO
+        sal_Int16 nUpdateDoc = document::UpdateDocMode::ACCORDING_TO_CONFIG;
+        aFilterOptions[3].Name = "UpdateDocMode";
+        aFilterOptions[3].Value <<= nUpdateDoc;
+        */
+
+        OutputDevice::StartTrackingFontMappingUse();
+
+        const int nThisDocumentId = nDocumentIdCounter++;
+        SfxViewShell::SetCurrentDocId(ViewShellDocId(nThisDocumentId));
+        uno::Reference<lang::XComponent> xComponent = xComponentLoader->loadComponentFromURL(
+                                            aURL, u"_blank"_ustr, 0,
+                                            aFilterOptions);
+
+        assert(!xComponent.is() || pair.second); // concurrent loading of same URL ought to fail
+
+        if (!xComponent.is())
+        {
+            pLib->maLastExceptionMsg = u"loadComponentFromURL returned an empty reference"_ustr;
+            SAL_INFO("lok", "Document can't be loaded - " << pLib->maLastExceptionMsg);
+            return nullptr;
+        }
+
+        LibLODocument_Impl* pDocument = new LibLODocument_Impl(xComponent, nThisDocumentId);
+
+        // After loading the document, its initial view is the "current" view.
+        if (pLib->mpCallback)
+        {
+            int nState = doc_getSignatureState(pDocument);
+            pLib->mpCallback(LOK_CALLBACK_SIGNATURE_STATUS, OString::number(nState).getStr(), pLib->mpCallbackData);
+        }
+
+        auto aFontMappingUseData = OutputDevice::FinishTrackingFontMappingUse();
+
+        if (aFontMappingUseData.size() > 0)
+        {
+            SAL_INFO("lok.fontsubst", "================ Original substitutions:");
+            for (const auto &i : aFontMappingUseData)
+            {
+                SAL_INFO("lok.fontsubst", i.mOriginalFont);
+                for (const auto &j : i.mUsedFonts)
+                    SAL_INFO("lok.fontsubst", "    " << j);
+            }
+        }
+
+        // Filter out font substitutions that actually aren't any substitutions, like "Liberation
+        // Serif" -> "Liberation Serif/Regular". If even one of the "substitutions" of a font is to
+        // the same font, don't count that as a missing font.
+
+        std::erase_if
+            (aFontMappingUseData,
+                            [](OutputDevice::FontMappingUseItem x)
+                            {
+                                // If the original font had an empty style and one of its
+                                // replacement fonts has the same family name, we assume the font is
+                                // present. The root problem here is that the code that collects
+                                // font substitutions tends to get just empty styles for the font
+                                // that is being substituted, as vcl::Font::GetStyleName() tends to
+                                // return an empty string. (Italicness is instead indicated by what
+                                // vcl::Font::GetItalic() returns and boldness by what
+                                // vcl::Font::GetWeight() returns.)
+
+                                if (x.mOriginalFont.indexOf('/') == -1)
+                                    for (const auto &j : x.mUsedFonts)
+                                        if (j == x.mOriginalFont ||
+                                            j.startsWith(Concat2View(x.mOriginalFont + "/")))
+                                            return true;
+
+                                return false;
+                            });
+
+        // Filter out substitutions where a proprietary font has been substituted by a
+        // metric-compatible one. Obviously this is just a heuristic and implemented only for some
+        // well-known cases.
+
+        std::erase_if
+            (aFontMappingUseData,
+                            [](OutputDevice::FontMappingUseItem x)
+                            {
+                                // Again, handle only cases where the original font does not include
+                                // a style. Unclear whether there ever will be a style part included
+                                // in the mOriginalFont.
+
+                                if (x.mOriginalFont.indexOf('/') == -1)
+                                    for (const auto &j : x.mUsedFonts)
+                                        if ((x.mOriginalFont == "Arial" &&
+                                             j.startsWith("Liberation Sans/")) ||
+                                            (x.mOriginalFont == "Times New Roman" &&
+                                             j.startsWith("Liberation Serif/")) ||
+                                            (x.mOriginalFont == "Courier New" &&
+                                             j.startsWith("Liberation Mono/")) ||
+                                            (x.mOriginalFont == "Arial Narrow" &&
+                                             j.startsWith("Liberation Sans Narrow/")) ||
+                                            (x.mOriginalFont == "Cambria" &&
+                                             j.startsWith("Caladea/")) ||
+                                            (x.mOriginalFont == "Calibri" &&
+                                             j.startsWith("Carlito/")) ||
+                                            (x.mOriginalFont == "Palatino Linotype" &&
+                                             j.startsWith("P052/")) ||
+                                            // Perhaps a risky heuristic? If some glyphs from Symbol
+                                            // have been mapped to ones in OpenSymbol, don't warn
+                                            // that Symbol is missing.
+                                            (x.mOriginalFont == "Symbol" &&
+                                             j.startsWith("OpenSymbol/")))
+                                        {
+                                            return true;
+                                        }
+
+                                return false;
+                            });
+
+        if (aFontMappingUseData.size() > 0)
+        {
+            SAL_INFO("lok.fontsubst", "================ Pruned substitutions:");
+            for (const auto &i : aFontMappingUseData)
+            {
+                SAL_INFO("lok.fontsubst", i.mOriginalFont);
+                for (const auto &j : i.mUsedFonts)
+                    SAL_INFO("lok.fontsubst", "    " << j);
+            }
+        }
+
+        for (std::size_t i = 0; i < aFontMappingUseData.size(); ++i)
+        {
+            pDocument->maFontsMissing.insert(aFontMappingUseData[i].mOriginalFont);
+        }
+
+        return pDocument;
+    }
+    catch (const uno::Exception& exception)
+    {
+        pLib->maLastExceptionMsg = exception.Message;
+        TOOLS_INFO_EXCEPTION("lok", "Document can't be loaded");
+    }
+
+    return nullptr;
+}
+
+static int lo_runMacro(LibreOfficeKit* pThis, const char *pURL)
+{
+    comphelper::ProfileZone aZone("lo_runMacro");
+
+    SolarMutexGuard aGuard;
+
+    LibLibreOffice_Impl* pLib = static_cast<LibLibreOffice_Impl*>(pThis);
+    pLib->maLastExceptionMsg.clear();
+
+    OUString sURL( pURL, strlen(pURL), RTL_TEXTENCODING_UTF8 );
+    if (sURL.isEmpty())
+    {
+        pLib->maLastExceptionMsg = u"Macro to run was not provided."_ustr;
+        SAL_INFO("lok", "Macro URL is empty");
+        return false;
+    }
+
+    if (!sURL.startsWith("macro://"))
+    {
+        pLib->maLastExceptionMsg = u"This doesn't look like macro URL"_ustr;
+        SAL_INFO("lok", "Macro URL is invalid");
+        return false;
+    }
+
+    pLib->maLastExceptionMsg.clear();
+
+    if (!xContext.is())
+    {
+        pLib->maLastExceptionMsg = u"ComponentContext is not available"_ustr;
+        SAL_INFO("lok", "ComponentContext is not available");
+        return false;
+    }
+
+    util::URL aURL;
+    aURL.Complete = sURL;
+
+    uno::Reference < util::XURLTransformer > xParser( util::URLTransformer::create( xContext ) );
+
+    if( xParser.is() )
+        xParser->parseStrict( aURL );
+
+    uno::Reference<frame::XDesktop2> xComponentLoader = frame::Desktop::create(xContext);
+
+    if (!xComponentLoader.is())
+    {
+        pLib->maLastExceptionMsg = u"ComponentLoader is not available"_ustr;
+        SAL_INFO("lok", "ComponentLoader is not available");
+        return false;
+    }
+
+    xFactory = xContext->getServiceManager();
+
+    if (!xFactory)
+        return false;
+
+    uno::Reference<frame::XDispatchProvider> xDP;
+    xSFactory.set(xFactory, uno::UNO_QUERY_THROW);
+    xDP.set( xSFactory->createInstance(u"com.sun.star.comp.sfx2.SfxMacroLoader"_ustr), uno::UNO_QUERY );
+    uno::Reference<frame::XDispatch> xD = xDP->queryDispatch( aURL, OUString(), 0);
+
+    if (!xD.is())
+    {
+        pLib->maLastExceptionMsg = u"Macro loader is not available"_ustr;
+        SAL_INFO("lok", "Macro loader is not available");
+        return false;
+    }
+
+    uno::Reference < frame::XSynchronousDispatch > xSyncDisp( xD, uno::UNO_QUERY_THROW );
+    uno::Sequence<css::beans::PropertyValue> aEmpty;
+    css::beans::PropertyValue aErr;
+    uno::Any aRet = xSyncDisp->dispatchWithReturnValue( aURL, aEmpty );
+    aRet >>= aErr;
+
+    if (aErr.Name == "ErrorCode")
+    {
+        sal_uInt32 nErrCode = 0; // ERRCODE_NONE
+        aErr.Value >>= nErrCode;
+
+        pLib->maLastExceptionMsg = "An error occurred running macro (error code: " + OUString::number( nErrCode ) + ")";
+        SAL_INFO("lok", "Macro execution terminated with error code " << nErrCode);
+
+        return false;
+    }
+
+    return true;
+}
+
+static bool lo_signDocument(LibreOfficeKit* /*pThis*/,
+                            const char* pURL,
+                            const unsigned char* pCertificateBinary,
+                            const int nCertificateBinarySize,
+                            const unsigned char* pPrivateKeyBinary,
+                            const int nPrivateKeyBinarySize)
+{
+    comphelper::ProfileZone aZone("lo_signDocument");
+
+    OUString aURL(getAbsoluteURL(pURL));
+    if (aURL.isEmpty())
+       return false;
+
+    if (!xContext.is())
+        return false;
+
+    uno::Sequence<sal_Int8> aCertificateSequence;
+
+    std::string aCertificateString(reinterpret_cast<const char*>(pCertificateBinary), nCertificateBinarySize);
+    std::string aCertificateBase64String = extractCertificate(aCertificateString);
+    if (!aCertificateBase64String.empty())
+    {
+        OUString aBase64OUString = OUString::createFromAscii(aCertificateBase64String);
+        comphelper::Base64::decode(aCertificateSequence, aBase64OUString);
+    }
+    else
+    {
+        aCertificateSequence.realloc(nCertificateBinarySize);
+        std::copy(pCertificateBinary, pCertificateBinary + nCertificateBinarySize, aCertificateSequence.getArray());
+    }
+
+    uno::Sequence<sal_Int8> aPrivateKeySequence;
+    std::string aPrivateKeyString(reinterpret_cast<const char*>(pPrivateKeyBinary), nPrivateKeyBinarySize);
+    std::string aPrivateKeyBase64String = extractPrivateKey(aPrivateKeyString);
+    if (!aPrivateKeyBase64String.empty())
+    {
+        OUString aBase64OUString = OUString::createFromAscii(aPrivateKeyBase64String);
+        comphelper::Base64::decode(aPrivateKeySequence, aBase64OUString);
+    }
+    else
+    {
+        aPrivateKeySequence.realloc(nPrivateKeyBinarySize);
+        std::copy(pPrivateKeyBinary, pPrivateKeyBinary + nPrivateKeyBinarySize, aPrivateKeySequence.getArray());
+    }
+
+    uno::Reference<xml::crypto::XSEInitializer> xSEInitializer = xml::crypto::SEInitializer::create(xContext);
+    uno::Reference<xml::crypto::XXMLSecurityContext> xSecurityContext = xSEInitializer->createSecurityContext(OUString());
+    if (!xSecurityContext.is())
+        return false;
+
+    uno::Reference<xml::crypto::XSecurityEnvironment> xSecurityEnvironment = xSecurityContext->getSecurityEnvironment();
+    uno::Reference<xml::crypto::XCertificateCreator> xCertificateCreator(xSecurityEnvironment, uno::UNO_QUERY);
+
+    if (!xCertificateCreator.is())
+        return false;
+
+    uno::Reference<security::XCertificate> xCertificate = xCertificateCreator->createDERCertificateWithPrivateKey(aCertificateSequence, aPrivateKeySequence);
+
+    if (!xCertificate.is())
+        return false;
+
+    sfx2::DocumentSigner aDocumentSigner(aURL);
+    if (!aDocumentSigner.signDocument(xCertificate))
+        return false;
+
+    return true;
+}
+
+
+static char* lo_extractRequest(LibreOfficeKit* /*pThis*/, const char* pFilePath)
+{
+    uno::Reference<frame::XDesktop2> xComponentLoader = frame::Desktop::create(xContext);
+    uno::Reference< css::lang::XComponent > xComp;
+    OUString aURL(getAbsoluteURL(pFilePath));
+    if (!aURL.isEmpty())
+    {
+        if (xComponentLoader.is())
+        {
+            try
+            {
+                uno::Sequence<css::beans::PropertyValue> aFilterOptions(comphelper::InitPropertySequence(
+                {
+                    {u"Hidden"_ustr, css::uno::Any(true)},
+                    {u"ReadOnly"_ustr, css::uno::Any(true)}
+                }));
+                xComp = xComponentLoader->loadComponentFromURL( aURL, u"_blank"_ustr, 0, aFilterOptions );
+            }
+            catch ( const lang::IllegalArgumentException& ex )
+            {
+                SAL_WARN("lok", "lo_extractRequest: IllegalArgumentException: " << ex.Message);
+            }
+            catch (...)
+            {
+                SAL_WARN("lok", "lo_extractRequest: Exception on loadComponentFromURL, url= " << aURL);
+            }
+
+            if (xComp.is())
+            {
+                uno::Reference< document::XLinkTargetSupplier > xLTS( xComp, uno::UNO_QUERY );
+
+                if( xLTS.is() )
+                {
+                    tools::JsonWriter aJson;
+                    {
+                        auto aNode = aJson.startNode("Targets");
+                        extractLinks(xLTS->getLinks(), false, aJson);
+                    }
+                    return convertOString(aJson.finishAndGetAsOString());
+                }
+                xComp->dispose();
+            }
+        }
+    }
+    return strdup("{ }");
+}
+
+static void lo_trimMemory(LibreOfficeKit* /* pThis */, int nTarget)
+{
+    vcl::lok::trimMemory(nTarget);
+
+    if (nTarget > 2000)
+    {
+        SolarMutexGuard aGuard;
+
+        // Flush all buffered VOC primitives from the pages.
+        SfxViewShell* pViewShell = SfxViewShell::Current();
+        if (pViewShell)
+        {
+            const SdrView* pView = pViewShell->GetDrawView();
+            if (pView)
+            {
+                SdrPageView* pPageView = pView->GetSdrPageView();
+                if (pPageView)
+                {
+                    SdrPage* pCurPage = pPageView->GetPage();
+                    if (pCurPage)
+                    {
+                        SdrModel& sdrModel = pCurPage->getSdrModelFromSdrPage();
+                        for (sal_uInt16 i = 0; i < sdrModel.GetPageCount(); ++i)
+                        {
+                            SdrPage* pPage = sdrModel.GetPage(i);
+                            if (pPage)
+                                pPage->GetViewContact().flushViewObjectContacts();
+                        }
+                    }
+                }
+            }
+        }
+    }
+
+    if (nTarget > 1000)
+    {
+#ifdef HAVE_MALLOC_TRIM
+        malloc_trim(0);
+#endif
+    }
+}
+
+namespace
+{
+class FunctionBasedURPInstanceProvider
+    : public ::cppu::WeakImplHelper<css::bridge::XInstanceProvider>
+{
+private:
+    css::uno::Reference<css::uno::XComponentContext> m_rContext;
+
+public:
+    FunctionBasedURPInstanceProvider(
+        const css::uno::Reference<css::uno::XComponentContext>& rxContext);
+
+    // XInstanceProvider
+    virtual css::uno::Reference<css::uno::XInterface>
+        SAL_CALL getInstance(const OUString& aName) override;
+};
+
+// InstanceProvider
+FunctionBasedURPInstanceProvider::FunctionBasedURPInstanceProvider(
+    const Reference<XComponentContext>& rxContext)
+    : m_rContext(rxContext)
+{
+}
+
+Reference<XInterface> FunctionBasedURPInstanceProvider::getInstance(const OUString& aName)
+{
+    Reference<XInterface> rInstance;
+
+    if (aName == "StarOffice.ServiceManager")
+    {
+        rInstance.set(m_rContext->getServiceManager());
+    }
+    else if (aName == "StarOffice.ComponentContext")
+    {
+        rInstance = m_rContext;
+    }
+    else if (aName == "StarOffice.NamingService")
+    {
+        Reference<XNamingService> rNamingService(
+            m_rContext->getServiceManager()->createInstanceWithContext(
+                u"com.sun.star.uno.NamingService"_ustr, m_rContext),
+            UNO_QUERY);
+        if (rNamingService.is())
+        {
+            rNamingService->registerObject(u"StarOffice.ServiceManager"_ustr,
+                                           m_rContext->getServiceManager());
+            rNamingService->registerObject(u"StarOffice.ComponentContext"_ustr, m_rContext);
+            rInstance = rNamingService;
+        }
+    }
+    return rInstance;
+}
+
+class FunctionBasedURPConnection : public cppu::WeakImplHelper<css::connection::XConnection>
+{
+public:
+    explicit FunctionBasedURPConnection(void*, int (*)(void* pContext, const signed char* pBuffer, int nLen),
+                                        void*, int (*)(void* pContext, signed char* pBuffer, int nLen));
+    ~FunctionBasedURPConnection();
+
+    // These overridden member functions use "read" and "write" from the point of view of LO,
+    // i.e. the opposite to how startURP() uses them.
+    virtual sal_Int32 SAL_CALL read(Sequence<sal_Int8>& rReadBytes,
+                                    sal_Int32 nBytesToRead) override;
+    virtual void SAL_CALL write(const Sequence<sal_Int8>& aData) override;
+    virtual void SAL_CALL flush() override;
+    virtual void SAL_CALL close() override;
+    virtual OUString SAL_CALL getDescription() override;
+    void setBridge(const Reference<XBridge>&);
+    void* getContext();
+    inline static int g_connectionCount = 0;
+
+private:
+    void* m_pRecieveFromLOContext;
+    void* m_pSendURPToLOContext;
+    int (*m_fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen);
+    int (*m_fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen);
+    Reference<XBridge> m_URPBridge;
+};
+
+FunctionBasedURPConnection::FunctionBasedURPConnection(
+    void* pRecieveFromLOContext,
+    int (*fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen),
+    void* pSendURPToLOContext,
+    int (*fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen))
+    : m_pRecieveFromLOContext(pRecieveFromLOContext)
+    , m_pSendURPToLOContext(pSendURPToLOContext)
+    , m_fnReceiveURPFromLO(fnReceiveURPFromLO)
+    , m_fnSendURPToLO(fnSendURPToLO)
+{
+    g_connectionCount++;
+}
+
+FunctionBasedURPConnection::~FunctionBasedURPConnection()
+{
+    Reference<XComponent> xComp(m_URPBridge, UNO_QUERY_THROW);
+    xComp->dispose(); // TODO: check this doesn't deadlock
+}
+
+void* FunctionBasedURPConnection::getContext() { return this; }
+
+sal_Int32 FunctionBasedURPConnection::read(Sequence<sal_Int8>& rReadBytes, sal_Int32 nBytesToRead)
+{
+    if (nBytesToRead < 0)
+        return 0;
+
+    if (rReadBytes.getLength() != nBytesToRead)
+        rReadBytes.realloc(nBytesToRead);
+
+    // As with osl::StreamPipe, we must always read nBytesToRead...
+    return m_fnSendURPToLO(m_pSendURPToLOContext, rReadBytes.getArray(), nBytesToRead);
+}
+
+void FunctionBasedURPConnection::write(const Sequence<sal_Int8>& rData)
+{
+    m_fnReceiveURPFromLO(m_pRecieveFromLOContext, rData.getConstArray(), rData.getLength());
+}
+
+void FunctionBasedURPConnection::flush() {}
+
+void FunctionBasedURPConnection::close()
+{
+    SAL_INFO("lok.urp", "Requested to close FunctionBasedURPConnection");
+}
+
+OUString FunctionBasedURPConnection::getDescription() { return u""_ustr; }
+
+void FunctionBasedURPConnection::setBridge(const Reference<XBridge>& xBridge) { m_URPBridge = xBridge; }
+}
+
+static void*
+lo_startURP(LibreOfficeKit* /* pThis */, void* pRecieveFromLOContext, void* pSendToLOContext,
+            int (*fnReceiveURPFromLO)(void* pContext, const signed char* pBuffer, int nLen),
+            int (*fnSendURPToLO)(void* pContext, signed char* pBuffer, int nLen))
+{
+    // Here we will roughly do what desktop LO does when one passes a command-line switch like
+    // --accept=socket,port=nnnn;urp;StarOffice.ServiceManager. Except that no listening socket will
+    // be created. The communication to the URP will be through the nReceiveURPFromLO and nSendURPToLO
+    // functions.
+
+    rtl::Reference<FunctionBasedURPConnection> connection(
+        new FunctionBasedURPConnection(pRecieveFromLOContext, fnReceiveURPFromLO,
+                                       pSendToLOContext, fnSendURPToLO));
+
+    Reference<XBridgeFactory> xBridgeFactory = css::bridge::BridgeFactory::create(xContext);
+
+    Reference<XInstanceProvider> xInstanceProvider(new FunctionBasedURPInstanceProvider(xContext));
+
+    Reference<XBridge> xBridge(xBridgeFactory->createBridge(
+        "functionurp" + OUString::number(FunctionBasedURPConnection::g_connectionCount), u"urp"_ustr,
+        connection, xInstanceProvider));
+
+    connection->setBridge(std::move(xBridge));
+
+    return connection->getContext();
+}
+
+/**
+ * Stop a function based URP connection that you started with lo_startURP above
+ *
+ * @param pSendToLOContext a pointer to the context returned by lo_startURP */
+static void lo_stopURP(LibreOfficeKit* /* pThis */,
+                       void* pFunctionBasedURPConnection/* FunctionBasedURPConnection* */)
+{
+    static_cast<FunctionBasedURPConnection*>(pFunctionBasedURPConnection)->close();
+}
+
+
+static int lo_joinThreads(LibreOfficeKit* /* pThis */)
+{
+    comphelper::ThreadPool &pool = comphelper::ThreadPool::getSharedOptimalPool();
+    pool.joinThreadsIfIdle();
+
+//    if (comphelper::getWorkerCount() > 0)
+//        return 0;
+
+    // Grammar checker thread
+    css::uno::Reference<css::linguistic2::XLinguServiceManager2> xLangSrv =
+        css::linguistic2::LinguServiceManager::create(xContext);
+
+    auto joinable = dynamic_cast<comphelper::LibreOfficeKit::ThreadJoinable *>(xLangSrv.get());
+    if (joinable && !joinable->joinThreads())
+        return 0;
+
+    return 1;
+}
+
+static void lo_setForkedChild(LibreOfficeKit* /* pThis */, bool bIsChild)
+{
+    comphelper::LibreOfficeKit::setForkedChild(bIsChild);
+}
+
+static void lo_registerCallback (LibreOfficeKit* pThis,
+                                 LibreOfficeKitCallback pCallback,
+                                 void* pData)
+{
+    SolarMutexGuard aGuard;
+
+    Application* pApp = GetpApp();
+    assert(pApp);
+
+    LibLibreOffice_Impl* pLib = static_cast<LibLibreOffice_Impl*>(pThis);
+    pLib->maLastExceptionMsg.clear();
+
+    pApp->m_pCallback = pLib->mpCallback = pCallback;
+    pApp->m_pCallbackData = pLib->mpCallbackData = pData;
+}
+
+static SfxObjectShell* getSfxObjectShell(LibreOfficeKitDocument* pThis)
+{
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+    if (!pDocument)
+        return nullptr;
+
+    SfxBaseModel* pBaseModel = dynamic_cast<SfxBaseModel*>(pDocument->mxComponent.get());
+    if (!pBaseModel)
+        return nullptr;
+
+    return pBaseModel->GetObjectShell();
+}
+
+static int doc_saveAs(LibreOfficeKitDocument* pThis, const char* sUrl, const char* pFormat, const char* pFilterOptions)
+{
+    comphelper::ProfileZone aZone("doc_saveAs");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    OUString sFormat = getUString(pFormat);
+    OUString aURL(getAbsoluteURL(sUrl));
+
+    uno::Reference<frame::XStorable> xStorable(pDocument->mxComponent, uno::UNO_QUERY_THROW);
+
+    if (aURL.isEmpty())
+    {
+        SetLastExceptionMsg(u"Filename to save to was not provided."_ustr);
+        SAL_INFO("lok", "URL for save is empty");
+        return false;
+    }
+
+    try
+    {
+        std::span<const ExtensionMap> pMap;
+
+        switch (doc_getDocumentType(pThis))
+        {
+        case LOK_DOCTYPE_SPREADSHEET:
+            pMap = aCalcExtensionMap;
+            break;
+        case LOK_DOCTYPE_PRESENTATION:
+            pMap = aImpressExtensionMap;
+            break;
+        case LOK_DOCTYPE_DRAWING:
+            pMap = aDrawExtensionMap;
+            break;
+        case LOK_DOCTYPE_TEXT:
+            pMap = aWriterExtensionMap;
+            break;
+        case LOK_DOCTYPE_OTHER:
+        default:
+            SAL_INFO("lok", "Can't save document - unsupported document type.");
+            return false;
+        }
+
+        if (pFormat == nullptr)
+        {
+            // sniff from the extension
+            sal_Int32 idx = aURL.lastIndexOf(".");
+            if( idx > 0 )
+            {
+                sFormat = aURL.copy( idx + 1 );
+            }
+            else
+            {
+                SetLastExceptionMsg("input URL '" + aURL + "' lacks a suffix");
+                return false;
+            }
+        }
+
+        OUString aFilterName;
+        for (const auto& item : pMap)
+        {
+            if (sFormat.equalsIgnoreAsciiCaseAscii(item.extn))
+            {
+                aFilterName = item.filterName;
+                break;
+            }
+        }
+        if (aFilterName.isEmpty())
+        {
+            SetLastExceptionMsg(u"no output filter found for provided suffix"_ustr);
+            return false;
+        }
+
+        OUString aFilterOptions = getUString(pFilterOptions);
+
+        // Check if watermark for pdf is passed by filteroptions...
+        // It is not a real filter option so it must be filtered out.
+        OUString watermarkText;
+        std::u16string_view sFullSheetPreview;
+        int aIndex = -1;
+        if ((aIndex = aFilterOptions.indexOf(",Watermark=")) >= 0)
+        {
+            int bIndex = aFilterOptions.indexOf("WATERMARKEND");
+            watermarkText = aFilterOptions.subView(aIndex+11, bIndex-(aIndex+11));
+            aFilterOptions = OUString::Concat(aFilterOptions.subView(0, aIndex)) + aFilterOptions.subView(bIndex+12);
+        }
+
+        if ((aIndex = aFilterOptions.indexOf(",FullSheetPreview=")) >= 0)
+        {
+            int bIndex = aFilterOptions.indexOf("FULLSHEETPREVEND");
+            sFullSheetPreview = aFilterOptions.subView(aIndex+18, bIndex-(aIndex+18));
+            aFilterOptions = OUString::Concat(aFilterOptions.subView(0, aIndex)) + aFilterOptions.subView(bIndex+16);
+        }
+
+        bool bFullSheetPreview = sFullSheetPreview == u"true";
+
+        OUString filePassword;
+        if ((aIndex = aFilterOptions.indexOf(",Password=")) >= 0)
+        {
+            int bIndex = aFilterOptions.indexOf("PASSWORDEND");
+            filePassword = aFilterOptions.subView(aIndex + 10, bIndex - (aIndex + 10));
+            aFilterOptions = OUString::Concat(aFilterOptions.subView(0, aIndex))
+                             + aFilterOptions.subView(bIndex + 11);
+        }
+        OUString filePasswordToModify;
+        if ((aIndex = aFilterOptions.indexOf(",PasswordToModify=")) >= 0)
+        {
+            int bIndex = aFilterOptions.indexOf("PASSWORDTOMODIFYEND");
+            filePassword = aFilterOptions.subView(aIndex + 18, bIndex - (aIndex + 18));
+            aFilterOptions = OUString::Concat(aFilterOptions.subView(0, aIndex))
+                             + aFilterOptions.subView(bIndex + 19);
+        }
+
+        // Select a pdf version if specified a valid one. If not specified then ignore.
+        // If invalid then fail.
+        sal_Int32 pdfVer = 0;
+        if ((aIndex = aFilterOptions.indexOf(",PDFVer=")) >= 0)
+        {
+            int bIndex = aFilterOptions.indexOf("PDFVEREND");
+            std::u16string_view sPdfVer = aFilterOptions.subView(aIndex+8, bIndex-(aIndex+8));
+            aFilterOptions = OUString::Concat(aFilterOptions.subView(0, aIndex)) + aFilterOptions.subView(bIndex+9);
+
+            if (o3tl::equalsIgnoreAsciiCase(sPdfVer, u"PDF/A-1b"))
+                pdfVer = 1;
+            else if (o3tl::equalsIgnoreAsciiCase(sPdfVer, u"PDF/A-2b"))
+                pdfVer = 2;
+            else if (o3tl::equalsIgnoreAsciiCase(sPdfVer, u"PDF/A-3b"))
+                pdfVer = 3;
+            else if (o3tl::equalsIgnoreAsciiCase(sPdfVer, u"PDF-1.5"))
+                pdfVer = 15;
+            else if (o3tl::equalsIgnoreAsciiCase(sPdfVer, u"PDF-1.6"))
+                pdfVer = 16;
+            else
+            {
+                SetLastExceptionMsg(u"wrong PDF version"_ustr);
+                return false;
+            }
+        }
+
+        // 'TakeOwnership' == this is a 'real' SaveAs (that is, the document
+        // gets a new name).  When this is not provided, the meaning of
+        // saveAs() is more like save-a-copy, which allows saving to any
+        // random format like PDF or PNG.
+        // It is not a real filter option, so we have to filter it out.
+        const uno::Sequence<OUString> aOptionSeq = comphelper::string::convertCommaSeparated(aFilterOptions);
+        std::vector<OUString> aFilteredOptionVec;
+        bool bTakeOwnership = false;
+        bool bCreateFromTemplate = false;
+        MediaDescriptor aSaveMediaDescriptor;
+        for (const auto& rOption : aOptionSeq)
+        {
+            if (rOption == "TakeOwnership")
+                bTakeOwnership = true;
+            else if (rOption == "NoFileSync")
+                aSaveMediaDescriptor[u"NoFileSync"_ustr] <<= true;
+            else if (rOption == "FromTemplate")
+                bCreateFromTemplate = true;
+            else
+                aFilteredOptionVec.push_back(rOption);
+        }
+
+        if (bCreateFromTemplate && bTakeOwnership)
+        {
+            if (SfxObjectShell* pObjectShell = getSfxObjectShell(pThis))
+            {
+                DateTime now( ::DateTime::SYSTEM );
+                pObjectShell->getDocProperties()->setCreationDate(now.GetUNODateTime());
+            }
+        }
+
+        aSaveMediaDescriptor[u"Overwrite"_ustr] <<= true;
+        aSaveMediaDescriptor[u"FilterName"_ustr] <<= aFilterName;
+
+        auto aFilteredOptionSeq = comphelper::containerToSequence<OUString>(aFilteredOptionVec);
+        aFilterOptions = comphelper::string::convertCommaSeparated(aFilteredOptionSeq);
+        aSaveMediaDescriptor[MediaDescriptor::PROP_FILTEROPTIONS] <<= aFilterOptions;
+
+        comphelper::SequenceAsHashMap aFilterDataMap;
+
+        // If filter options is JSON string, then make sure aFilterDataMap stays empty, otherwise we
+        // would ignore the filter options.
+        if (!aFilterOptions.startsWith("{"))
+        {
+            setFormatSpecificFilterData(sFormat, aFilterDataMap);
+        }
+
+        if (!watermarkText.isEmpty())
+            aFilterDataMap[u"TiledWatermark"_ustr] <<= watermarkText;
+
+        if (bFullSheetPreview)
+            aFilterDataMap[u"SinglePageSheets"_ustr] <<= true;
+
+        if (pdfVer)
+            aFilterDataMap[u"SelectPdfVersion"_ustr] <<= pdfVer;
+
+        if (!aFilterDataMap.empty())
+        {
+            aSaveMediaDescriptor[u"FilterData"_ustr] <<= aFilterDataMap.getAsConstPropertyValueList();
+        }
+        if (!filePassword.isEmpty())
+            aSaveMediaDescriptor[u"Password"_ustr] <<= filePassword;
+        if (!filePasswordToModify.isEmpty())
+            aSaveMediaDescriptor[u"PasswordToModify"_ustr] <<= filePasswordToModify;
+
+        // add interaction handler too
+        if (gImpl)
+        {
+            // gImpl does not have to exist when running from a unit test
+            rtl::Reference<LOKInteractionHandler> const pInteraction(
+                    new LOKInteractionHandler("saveas"_ostr, gImpl, pDocument));
+            uno::Reference<task::XInteractionHandler2> const xInteraction(pInteraction);
+
+            aSaveMediaDescriptor[MediaDescriptor::PROP_INTERACTIONHANDLER] <<= xInteraction;
+        }
+
+
+        if (bTakeOwnership)
+            xStorable->storeAsURL(aURL, aSaveMediaDescriptor.getAsConstPropertyValueList());
+        else
+            xStorable->storeToURL(aURL, aSaveMediaDescriptor.getAsConstPropertyValueList());
+
+        return true;
+    }
+    catch (const uno::Exception& exception)
+    {
+        SetLastExceptionMsg("exception: " + exception.Message);
+    }
+    return false;
+}
+
+/**
+ * Initialize UNO commands, in the sense that from now on, the LOK client gets updates for status
+ * changes of these commands. This is necessary, because (unlike in the desktop case) there are no
+ * toolbars hosting widgets these UNO commands, so no such status updates would be sent to the
+ * headless LOK clients out of the box.
+ */
+static void doc_iniUnoCommands ()
+{
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    static constexpr OUString sUnoCommands[] =
+    {
+        u".uno:AlignLeft"_ustr,
+        u".uno:AlignHorizontalCenter"_ustr,
+        u".uno:AlignRight"_ustr,
+        u".uno:BackgroundColor"_ustr,
+        u".uno:TableCellBackgroundColor"_ustr,
+        u".uno:Bold"_ustr,
+        u".uno:CenterPara"_ustr,
+        u".uno:CharBackColor"_ustr,
+        u".uno:CharBackgroundExt"_ustr,
+        u".uno:CharFontName"_ustr,
+        u".uno:Color"_ustr,
+        u".uno:ControlCodes"_ustr,
+        u".uno:DecrementIndent"_ustr,
+        u".uno:DefaultBullet"_ustr,
+        u".uno:DefaultNumbering"_ustr,
+        u".uno:FontColor"_ustr,
+        u".uno:FontHeight"_ustr,
+        u".uno:IncrementIndent"_ustr,
+        u".uno:Italic"_ustr,
+        u".uno:JustifyPara"_ustr,
+        u".uno:JumpToMark"_ustr,
+        u".uno:OutlineFont"_ustr,
+        u".uno:LeftPara"_ustr,
+        u".uno:LanguageStatus"_ustr,
+        u".uno:RightPara"_ustr,
+        u".uno:Shadowed"_ustr,
+        u".uno:SubScript"_ustr,
+        u".uno:SuperScript"_ustr,
+        u".uno:Strikeout"_ustr,
+        u".uno:StyleApply"_ustr,
+        u".uno:Underline"_ustr,
+        u".uno:ModifiedStatus"_ustr,
+        u".uno:Undo"_ustr,
+        u".uno:Redo"_ustr,
+        u".uno:InsertPage"_ustr,
+        u".uno:DeletePage"_ustr,
+        u".uno:DuplicatePage"_ustr,
+        u".uno:InsertSlide"_ustr,
+        u".uno:DeleteSlide"_ustr,
+        u".uno:DuplicateSlide"_ustr,
+        u".uno:ChangeTheme"_ustr,
+        u".uno:Cut"_ustr,
+        u".uno:Copy"_ustr,
+        u".uno:Paste"_ustr,
+        u".uno:SelectAll"_ustr,
+        u".uno:ReplyComment"_ustr,
+        u".uno:ResolveComment"_ustr,
+        u".uno:ResolveCommentThread"_ustr,
+        u".uno:InsertRowsBefore"_ustr,
+        u".uno:InsertRowsAfter"_ustr,
+        u".uno:InsertColumnsBefore"_ustr,
+        u".uno:InsertColumnsAfter"_ustr,
+        u".uno:DeleteRows"_ustr,
+        u".uno:DeleteColumns"_ustr,
+        u".uno:DeleteTable"_ustr,
+        u".uno:SelectTable"_ustr,
+        u".uno:EntireRow"_ustr,
+        u".uno:EntireColumn"_ustr,
+        u".uno:EntireCell"_ustr,
+        u".uno:AssignLayout"_ustr,
+        u".uno:StatusDocPos"_ustr,
+        u".uno:RowColSelCount"_ustr,
+        u".uno:StatusPageStyle"_ustr,
+        u".uno:InsertMode"_ustr,
+        u".uno:SpellOnline"_ustr,
+        u".uno:StatusSelectionMode"_ustr,
+        u".uno:StateTableCell"_ustr,
+        u".uno:StatusBarFunc"_ustr,
+        u".uno:StatePageNumber"_ustr,
+        u".uno:StateWordCount"_ustr,
+        u".uno:SelectionMode"_ustr,
+        u".uno:PageStatus"_ustr,
+        u".uno:LayoutStatus"_ustr,
+        u".uno:Scale"_ustr,
+        u".uno:Context"_ustr,
+        u".uno:WrapText"_ustr,
+        u".uno:ToggleMergeCells"_ustr,
+        u".uno:NameGroup"_ustr,
+        u".uno:ObjectTitleDescription"_ustr,
+        u".uno:NumberFormatCurrency"_ustr,
+        u".uno:NumberFormatPercent"_ustr,
+        u".uno:NumberFormatDecimal"_ustr,
+        u".uno:NumberFormatIncDecimals"_ustr,
+        u".uno:NumberFormatDecDecimals"_ustr,
+        u".uno:NumberFormatDate"_ustr,
+        u".uno:EditHeaderAndFooter"_ustr,
+        u".uno:FrameLineColor"_ustr,
+        u".uno:SortAscending"_ustr,
+        u".uno:SortDescending"_ustr,
+        u".uno:TrackChanges"_ustr,
+        u".uno:ShowTrackedChanges"_ustr,
+        u".uno:NextTrackedChange"_ustr,
+        u".uno:PreviousTrackedChange"_ustr,
+        u".uno:AcceptAllTrackedChanges"_ustr,
+        u".uno:RejectAllTrackedChanges"_ustr,
+        u".uno:TableDialog"_ustr,
+        u".uno:FormatCellDialog"_ustr,
+        u".uno:FontDialog"_ustr,
+        u".uno:ParagraphDialog"_ustr,
+        u".uno:OutlineBullet"_ustr,
+        u".uno:InsertIndexesEntry"_ustr,
+        u".uno:DocumentRepair"_ustr,
+        u".uno:TransformDialog"_ustr,
+        u".uno:InsertPageHeader"_ustr,
+        u".uno:InsertPageFooter"_ustr,
+        u".uno:OnlineAutoFormat"_ustr,
+        u".uno:InsertObjectChart"_ustr,
+        u".uno:InsertSection"_ustr,
+        u".uno:InsertAnnotation"_ustr,
+        u".uno:DeleteAnnotation"_ustr,
+        u".uno:InsertPagebreak"_ustr,
+        u".uno:InsertColumnBreak"_ustr,
+        u".uno:HyperlinkDialog"_ustr,
+        u".uno:InsertSymbol"_ustr,
+        u".uno:EditRegion"_ustr,
+        u".uno:ThesaurusDialog"_ustr,
+        u".uno:FormatArea"_ustr,
+        u".uno:FormatLine"_ustr,
+        u".uno:FormatColumns"_ustr,
+        u".uno:Watermark"_ustr,
+        u".uno:ResetAttributes"_ustr,
+        u".uno:Orientation"_ustr,
+        u".uno:ObjectAlignLeft"_ustr,
+        u".uno:ObjectAlignRight"_ustr,
+        u".uno:AlignCenter"_ustr,
+        u".uno:TransformPosX"_ustr,
+        u".uno:TransformPosY"_ustr,
+        u".uno:TransformWidth"_ustr,
+        u".uno:TransformHeight"_ustr,
+        u".uno:ObjectBackOne"_ustr,
+        u".uno:SendToBack"_ustr,
+        u".uno:ObjectForwardOne"_ustr,
+        u".uno:BringToFront"_ustr,
+        u".uno:WrapRight"_ustr,
+        u".uno:WrapThrough"_ustr,
+        u".uno:WrapLeft"_ustr,
+        u".uno:WrapIdeal"_ustr,
+        u".uno:WrapOn"_ustr,
+        u".uno:WrapOff"_ustr,
+        u".uno:UpdateCurIndex"_ustr,
+        u".uno:InsertCaptionDialog"_ustr,
+        u".uno:FormatGroup"_ustr,
+        u".uno:SplitTable"_ustr,
+        u".uno:SplitCell"_ustr,
+        u".uno:MergeCells"_ustr,
+        u".uno:DeleteNote"_ustr,
+        u".uno:AcceptChanges"_ustr,
+        u".uno:FormatPaintbrush"_ustr,
+        u".uno:SetDefault"_ustr,
+        u".uno:ParaLeftToRight"_ustr,
+        u".uno:ParaRightToLeft"_ustr,
+        u".uno:ParaspaceIncrease"_ustr,
+        u".uno:ParaspaceDecrease"_ustr,
+        u".uno:AcceptTrackedChange"_ustr,
+        u".uno:RejectTrackedChange"_ustr,
+        u".uno:AcceptTrackedChangeToNext"_ustr,
+        u".uno:RejectTrackedChangeToNext"_ustr,
+        u".uno:ShowResolvedAnnotations"_ustr,
+        u".uno:InsertBreak"_ustr,
+        u".uno:InsertEndnote"_ustr,
+        u".uno:InsertFootnote"_ustr,
+        u".uno:InsertReferenceField"_ustr,
+        u".uno:InsertBookmark"_ustr,
+        u".uno:InsertAuthoritiesEntry"_ustr,
+        u".uno:InsertMultiIndex"_ustr,
+        u".uno:InsertField"_ustr,
+        u".uno:PageNumberWizard"_ustr,
+        u".uno:InsertPageNumberField"_ustr,
+        u".uno:InsertPageCountField"_ustr,
+        u".uno:InsertDateField"_ustr,
+        u".uno:InsertTitleField"_ustr,
+        u".uno:InsertFieldCtrl"_ustr,
+        u".uno:CharmapControl"_ustr,
+        u".uno:EnterGroup"_ustr,
+        u".uno:LeaveGroup"_ustr,
+        u".uno:AlignUp"_ustr,
+        u".uno:AlignMiddle"_ustr,
+        u".uno:AlignDown"_ustr,
+        u".uno:TraceChangeMode"_ustr,
+        u".uno:Combine"_ustr,
+        u".uno:Merge"_ustr,
+        u".uno:Dismantle"_ustr,
+        u".uno:Substract"_ustr,
+        u".uno:DistributeSelection"_ustr,
+        u".uno:Intersect"_ustr,
+        u".uno:BorderInner"_ustr,
+        u".uno:BorderOuter"_ustr,
+        u".uno:FreezePanes"_ustr,
+        u".uno:FreezePanesColumn"_ustr,
+        u".uno:FreezePanesRow"_ustr,
+        u".uno:Sidebar"_ustr,
+        u".uno:SheetRightToLeft"_ustr,
+        u".uno:RunMacro"_ustr,
+        u".uno:SpacePara1"_ustr,
+        u".uno:SpacePara15"_ustr,
+        u".uno:SpacePara2"_ustr,
+        u".uno:InsertSparkline"_ustr,
+        u".uno:DeleteSparkline"_ustr,
+        u".uno:DeleteSparklineGroup"_ustr,
+        u".uno:EditSparklineGroup"_ustr,
+        u".uno:EditSparkline"_ustr,
+        u".uno:GroupSparklines"_ustr,
+        u".uno:UngroupSparklines"_ustr,
+        u".uno:FormatSparklineMenu"_ustr,
+        u".uno:DataDataPilotRun"_ustr,
+        u".uno:RecalcPivotTable"_ustr,
+        u".uno:DeletePivotTable"_ustr,
+        u".uno:Protect"_ustr,
+        u".uno:UnsetCellsReadOnly"_ustr,
+        u".uno:ContentControlProperties"_ustr,
+        u".uno:InsertCheckboxContentControl"_ustr,
+        u".uno:InsertContentControl"_ustr,
+        u".uno:InsertDateContentControl"_ustr,
+        u".uno:InsertDropdownContentControl"_ustr,
+        u".uno:InsertPlainTextContentControl"_ustr,
+        u".uno:InsertPictureContentControl"_ustr,
+        u".uno:DataFilterAutoFilter"_ustr,
+        u".uno:CellProtection"_ustr,
+        u".uno:MoveKeepInsertMode"_ustr,
+        u".uno:ToggleSheetGrid"_ustr,
+        u".uno:ChangeBezier"_ustr,
+    };
+
+    util::URL aCommandURL;
+    SfxViewShell* pViewShell = SfxViewShell::Current();
+    SfxViewFrame* pViewFrame = pViewShell ? &pViewShell->GetViewFrame() : nullptr;
+
+    // check if Frame-Controller were created.
+    if (!pViewFrame)
+    {
+        SAL_WARN("lok", "iniUnoCommands: No Frame-Controller created.");
+        return;
+    }
+
+    if (!xContext.is())
+        xContext = comphelper::getProcessComponentContext();
+    if (!xContext.is())
+    {
+        SAL_WARN("lok", "iniUnoCommands: Component context is not available");
+        return;
+    }
+
+#if !defined IOS && !defined ANDROID && !defined __EMSCRIPTEN__
+    uno::Reference<xml::crypto::XSEInitializer> xSEInitializer = xml::crypto::SEInitializer::create(xContext);
+    if (!xSEInitializer.is())
+    {
+        SAL_WARN("lok", "iniUnoCommands: XSEInitializer is not available");
+        return;
+    }
+
+    uno::Reference<xml::crypto::XXMLSecurityContext> xSecurityContext =
+        xSEInitializer->createSecurityContext(OUString());
+    if (!xSecurityContext.is())
+    {
+        SAL_WARN("lok", "iniUnoCommands: failed to create security context");
+    }
+#endif
+
+    SfxSlotPool& rSlotPool = SfxSlotPool::GetSlotPool(pViewFrame);
+    uno::Reference<util::XURLTransformer> xParser(util::URLTransformer::create(xContext));
+
+    for (const auto & sUnoCommand : sUnoCommands)
+    {
+        aCommandURL.Complete = sUnoCommand;
+        xParser->parseStrict(aCommandURL);
+
+        // when null, this command is not supported by the given component
+        // (like eg. Calc does not have ".uno:DefaultBullet" etc.)
+        if (const SfxSlot* pSlot = rSlotPool.GetUnoSlot(aCommandURL.Path))
+        {
+            // Initialize slot to dispatch .uno: Command.
+            pViewFrame->GetBindings().GetDispatch(pSlot, aCommandURL, false);
+        }
+    }
+}
+
+static int doc_getDocumentType (LibreOfficeKitDocument* pThis)
+{
+    comphelper::ProfileZone aZone("doc_getDocumentType");
+
+    SolarMutexGuard aGuard;
+    return getDocumentType(pThis);
+}
+
+static int doc_getParts (LibreOfficeKitDocument* pThis)
+{
+    comphelper::ProfileZone aZone("doc_getParts");
+
+    SolarMutexGuard aGuard;
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return 0;
+    }
+
+    return pDoc->getParts();
+}
+
+static int doc_getPart (LibreOfficeKitDocument* pThis)
+{
+    comphelper::ProfileZone aZone("doc_getPart");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return 0;
+    }
+
+    return pDoc->getPart();
+}
+
+static void doc_setPartImpl(LibreOfficeKitDocument* pThis, int nPart, bool bAllowChangeFocus = true)
+{
+    comphelper::ProfileZone aZone("doc_setPart");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    pDoc->setPart( nPart, bAllowChangeFocus );
+}
+
+static void doc_setPart(LibreOfficeKitDocument* pThis, int nPart)
+{
+    doc_setPartImpl(pThis, nPart, true);
+}
+
+static char* doc_getPartInfo(LibreOfficeKitDocument* pThis, int nPart)
+{
+    comphelper::ProfileZone aZone("doc_getPartInfo");
+
+    SolarMutexGuard aGuard;
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+
+    return convertOUString(pDoc->getPartInfo(nPart));
+}
+
+static void doc_selectPart(LibreOfficeKitDocument* pThis, int nPart, int nSelect)
+{
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    pDoc->selectPart( nPart, nSelect );
+}
+
+static void doc_moveSelectedParts(LibreOfficeKitDocument* pThis, int nPosition, bool bDuplicate)
+{
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    pDoc->moveSelectedParts(nPosition, bDuplicate);
+}
+
+static char* doc_getPartPageRectangles(LibreOfficeKitDocument* pThis)
+{
+    comphelper::ProfileZone aZone("doc_getPartPageRectangles");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+
+    return convertOUString(pDoc->getPartPageRectangles());
+}
+
+static char* doc_getA11yFocusedParagraph(LibreOfficeKitDocument* pThis)
+{
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+
+    if (SfxViewShell* pViewShell = SfxViewShell::Current())
+    {
+        return convertOUString(pViewShell->getA11yFocusedParagraph());
+
+    }
+    return nullptr;
+}
+
+static int  doc_getA11yCaretPosition(LibreOfficeKitDocument* pThis)
+{
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return -1;
+    }
+    if (SfxViewShell* pViewShell = SfxViewShell::Current())
+    {
+        return pViewShell->getA11yCaretPosition();
+
+    }
+    return -1;
+
+}
+
+static char* doc_getPartName(LibreOfficeKitDocument* pThis, int nPart)
+{
+    comphelper::ProfileZone aZone("doc_getPartName");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+
+    return convertOUString(pDoc->getPartName(nPart));
+}
+
+static char* doc_getPartHash(LibreOfficeKitDocument* pThis, int nPart)
+{
+    comphelper::ProfileZone aZone("doc_getPartHash");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+
+    return convertOUString(pDoc->getPartHash(nPart));
+}
+
+static void doc_setPartMode(LibreOfficeKitDocument* pThis,
+                            int nPartMode)
+{
+    comphelper::ProfileZone aZone("doc_setPartMode");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+
+    int nCurrentPart = pDoc->getPart();
+
+    pDoc->setPartMode(nPartMode);
+
+    // We need to make sure the internal state is updated, just changing the mode
+    // might not update the relevant shells (i.e. impress will keep rendering the
+    // previous mode unless we do this).
+    // TODO: we might want to do this within the relevant components rather than
+    // here, but that's also dependent on how we implement embedded object
+    // rendering I guess?
+    // TODO: we could be clever and e.g. set to 0 when we change to/from
+    // embedded object mode, and not when changing between slide/notes/combined
+    // modes?
+    if ( nCurrentPart < pDoc->getParts() )
+    {
+        pDoc->setPart( nCurrentPart );
+    }
+    else
+    {
+        pDoc->setPart( 0 );
+    }
+}
+
+static int doc_getEditMode(LibreOfficeKitDocument* pThis)
+{
+    comphelper::ProfileZone aZone("doc_getEditMode");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return 0;
+    }
+
+    return pDoc->getEditMode();
+}
+
+static void doc_paintTile(LibreOfficeKitDocument* pThis,
+                          unsigned char* pBuffer,
+                          const int nCanvasWidth, const int nCanvasHeight,
+                          const int nTilePosX, const int nTilePosY,
+                          const int nTileWidth, const int nTileHeight)
+{
+    comphelper::ProfileZone aZone("doc_paintTile");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    SAL_INFO( "lok.tiledrendering", "paintTile: painting [" << nTileWidth << "x" << nTileHeight <<
+              "]@(" << nTilePosX << ", " << nTilePosY << ") to [" <<
+              nCanvasWidth << "x" << nCanvasHeight << "]px" );
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+#if defined(UNX) && !defined(MACOSX) || defined(_WIN32)
+
+    // Painting of zoomed or HiDPI spreadsheets is special, we actually draw everything at 100%,
+    // and only set cairo's (or CoreGraphic's, in the iOS case) scale factor accordingly, so that
+    // everything is painted bigger or smaller. This is different to what Calc's internal scaling
+    // would do - because that one is trying to fit the lines between cells to integer multiples of
+    // pixels.
+    comphelper::ScopeGuard dpiScaleGuard([]() { comphelper::LibreOfficeKit::setDPIScale(1.0); });
+
+#if defined(IOS)
+    double fDPIScale = 1.0;
+
+    // Onine uses the LOK_TILEMODE_RGBA by default so flip the normal flags
+    // to kCGImageAlphaPremultipliedLast | kCGImageByteOrder32Big
+    CGContextRef pCGContext = CGBitmapContextCreate(pBuffer, nCanvasWidth, nCanvasHeight, 8,
+                                                    nCanvasWidth * 4, CGColorSpaceCreateDeviceRGB(),
+                                                    kCGImageAlphaPremultipliedLast | kCGImageByteOrder32Big);
+
+    CGContextTranslateCTM(pCGContext, 0, nCanvasHeight);
+    CGContextScaleCTM(pCGContext, fDPIScale, -fDPIScale);
+
+    SAL_INFO( "lok.tiledrendering", "doc_paintTile: painting [" << nTileWidth << "x" << nTileHeight <<
+              "]@(" << nTilePosX << ", " << nTilePosY << ") to [" <<
+              nCanvasWidth << "x" << nCanvasHeight << "]px" );
+
+    Size aCanvasSize(nCanvasWidth, nCanvasHeight);
+
+    SystemGraphicsData aData;
+    aData.rCGContext = reinterpret_cast<CGContextRef>(pCGContext);
+
+    ScopedVclPtrInstance<VirtualDevice> pDevice(aData, Size(1, 1), DeviceFormat::WITHOUT_ALPHA);
+    pDevice->SetBackground(Wallpaper(COL_TRANSPARENT));
+    pDevice->SetOutputSizePixel(aCanvasSize);
+    pDoc->paintTile(*pDevice, aCanvasSize.Width(), aCanvasSize.Height(),
+                    nTilePosX, nTilePosY, nTileWidth, nTileHeight);
+
+    CGContextRelease(pCGContext);
+#else
+    ScopedVclPtrInstance< VirtualDevice > pDevice(DeviceFormat::WITHOUT_ALPHA);
+
+    // Set background to transparent by default.
+    pDevice->SetBackground(Wallpaper(COL_TRANSPARENT));
+
+    pDevice->SetOutputSizePixelScaleOffsetAndLOKBuffer(
+                Size(nCanvasWidth, nCanvasHeight), Fraction(1.0), Point(),
+                pBuffer);
+
+    pDoc->paintTile(*pDevice, nCanvasWidth, nCanvasHeight,
+                    nTilePosX, nTilePosY, nTileWidth, nTileHeight);
+
+    static bool bDebug = getenv("LOK_DEBUG_TILES") != nullptr;
+    if (bDebug)
+    {
+        // Draw a small red rectangle in the top left corner so that it's easy to see where a new tile begins.
+        tools::Rectangle aRect(0, 0, 5, 5);
+        aRect = pDevice->PixelToLogic(aRect);
+        pDevice->Push(PushFlags::FILLCOLOR | PushFlags::LINECOLOR);
+        pDevice->SetFillColor(COL_LIGHTRED);
+        pDevice->SetLineColor();
+        pDevice->DrawRect(aRect);
+        pDevice->Pop();
+    }
+
+#ifdef _WIN32
+    // pBuffer was not used there
+    pDevice->EnableMapMode(false);
+    BitmapEx aBmpEx = pDevice->GetBitmapEx({ 0, 0 }, { nCanvasWidth, nCanvasHeight });
+    Bitmap aBmp = aBmpEx.GetBitmap();
+    AlphaMask aAlpha = aBmpEx.GetAlphaMask();
+    BitmapScopedReadAccess sraBmp(aBmp);
+    BitmapScopedReadAccess sraAlpha(aAlpha);
+
+    assert(sraBmp->Height() == nCanvasHeight);
+    assert(sraBmp->Width() == nCanvasWidth);
+    assert(!sraAlpha || sraBmp->Height() == sraAlpha->Height());
+    assert(!sraAlpha || sraBmp->Width() == sraAlpha->Width());
+    auto p = pBuffer;
+    for (tools::Long y = 0; y < sraBmp->Height(); ++y)
+    {
+        Scanline dataBmp = sraBmp->GetScanline(y);
+        Scanline dataAlpha = sraAlpha ? sraAlpha->GetScanline(y) : nullptr;
+        for (tools::Long x = 0; x < sraBmp->Width(); ++x)
+        {
+            BitmapColor color = sraBmp->GetPixelFromData(dataBmp, x);
+            sal_uInt8 alpha = dataAlpha ? sraAlpha->GetPixelFromData(dataAlpha, x).GetBlue() : 255;
+            *p++ = color.GetBlue();
+            *p++ = color.GetGreen();
+            *p++ = color.GetRed();
+            *p++ = alpha;
+        }
+    }
+#endif
+#endif
+
+#else
+    (void) pBuffer;
+#endif
+}
+
+static void doc_paintPartTile(LibreOfficeKitDocument* pThis,
+                              unsigned char* pBuffer,
+                              const int nPart,
+                              const int nMode,
+                              const int nCanvasWidth, const int nCanvasHeight,
+                              const int nTilePosX, const int nTilePosY,
+                              const int nTileWidth, const int nTileHeight)
+{
+    comphelper::ProfileZone aZone("doc_paintPartTile");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    SAL_INFO( "lok.tiledrendering", "paintPartTile: painting @ " << nPart << " : " << nMode << " ["
+               << nTileWidth << "x" << nTileHeight << "]@("
+               << nTilePosX << ", " << nTilePosY << ") to ["
+               << nCanvasWidth << "x" << nCanvasHeight << "]px" );
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+    int nOrigViewId = doc_getView(pThis);
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    if (nOrigViewId < 0)
+    {
+        // tile painting always needs a SfxViewShell::Current(), but actually
+        // it does not really matter which one - all of them should paint the
+        // same thing. It's important to get a view for the correct document,
+        // though.
+        // doc_getViewsCount() returns the count of views for the document in the current view.
+        int viewCount = doc_getViewsCount(pThis);
+        if (viewCount == 0)
+            return;
+
+        std::vector<int> viewIds(viewCount);
+        doc_getViewIds(pThis, viewIds.data(), viewCount);
+
+        nOrigViewId = viewIds[0];
+        doc_setView(pThis, nOrigViewId);
+    }
+
+    // Disable callbacks while we are painting.
+    if (nOrigViewId >= 0)
+    {
+        const auto handlerIt = pDocument->mpCallbackFlushHandlers.find(nOrigViewId);
+        if (handlerIt != pDocument->mpCallbackFlushHandlers.end())
+            handlerIt->second->disableCallbacks();
+    }
+
+    try
+    {
+        // Text documents have a single coordinate system; don't change part.
+        int nOrigPart = 0;
+        const int aType = doc_getDocumentType(pThis);
+        const bool isText = (aType == LOK_DOCTYPE_TEXT);
+        const bool isCalc = (aType == LOK_DOCTYPE_SPREADSHEET);
+        int nOrigEditMode = 0;
+        bool bPaintTextEdit = true;
+        int nViewId = nOrigViewId;
+        int nLastNonEditorView = -1;
+        int nViewMatchingMode = -1;
+        SfxViewShell* pCurrentViewShell = SfxViewShell::Current();
+
+        if (!isText)
+        {
+            // Check if just switching to another view is enough, that has
+            // less side-effects.
+            if (nPart != doc_getPart(pThis) || nMode != pDoc->getEditMode())
+            {
+                SfxViewShell* pViewShell = SfxViewShell::GetFirst();
+                while (pViewShell)
+                {
+                    bool bIsInEdit = pViewShell->GetDrawView() &&
+                        pViewShell->GetDrawView()->GetTextEditOutliner();
+
+                    OString sCurrentViewRenderState = pDoc->getViewRenderState(pCurrentViewShell);
+                    OString sNewRenderState = pDoc->getViewRenderState(pViewShell);
+
+                    if (sCurrentViewRenderState == sNewRenderState && !bIsInEdit)
+                        nLastNonEditorView = pViewShell->GetViewShellId().get();
+
+                    if (pViewShell->getPart() == nPart &&
+                        pViewShell->getEditMode() == nMode &&
+                        sCurrentViewRenderState == sNewRenderState &&
+                        !bIsInEdit)
+                    {
+                        nViewId = pViewShell->GetViewShellId().get();
+                        nViewMatchingMode = nViewId;
+                        nLastNonEditorView = nViewId;
+                        doc_setView(pThis, nViewId);
+                        break;
+                    }
+                    else if (pViewShell->getEditMode() == nMode && sCurrentViewRenderState == sNewRenderState && !bIsInEdit)
+                    {
+                        nViewMatchingMode = pViewShell->GetViewShellId().get();
+                    }
+
+                    pViewShell = SfxViewShell::GetNext(*pViewShell);
+                }
+            }
+
+            // if not found view with correct part
+            // - at least avoid rendering active textbox, This is for Impress.
+            // - prefer view with the same mode
+            if (nViewMatchingMode >= 0 && nViewMatchingMode != nViewId)
+            {
+                nViewId = nViewMatchingMode;
+                doc_setView(pThis, nViewId);
+            }
+            else if (!isCalc && nLastNonEditorView >= 0 && nLastNonEditorView != nViewId &&
+                pCurrentViewShell && pCurrentViewShell->GetDrawView() &&
+                pCurrentViewShell->GetDrawView()->GetTextEditOutliner())
+            {
+                nViewId = nLastNonEditorView;
+                doc_setView(pThis, nViewId);
+            }
+
+            // Disable callbacks while we are painting - after setting the view
+            if (nViewId != nOrigViewId && nViewId >= 0)
+            {
+                const auto handlerIt = pDocument->mpCallbackFlushHandlers.find(nViewId);
+                if (handlerIt != pDocument->mpCallbackFlushHandlers.end())
+                    handlerIt->second->disableCallbacks();
+            }
+
+            nOrigPart = doc_getPart(pThis);
+            if (nPart != nOrigPart)
+            {
+                doc_setPartImpl(pThis, nPart, false);
+            }
+
+            nOrigEditMode = pDoc->getEditMode();
+            if (nOrigEditMode != nMode)
+            {
+                SfxLokHelper::setEditMode(nMode, pDoc);
+            }
+
+            bPaintTextEdit = (nPart == nOrigPart && nMode == nOrigEditMode);
+            pDoc->setPaintTextEdit(bPaintTextEdit);
+        }
+
+        doc_paintTile(pThis, pBuffer, nCanvasWidth, nCanvasHeight, nTilePosX, nTilePosY, nTileWidth, nTileHeight);
+
+        if (!isText)
+        {
+            pDoc->setPaintTextEdit(true);
+
+            if (nMode != nOrigEditMode)
+            {
+                SfxLokHelper::setEditMode(nOrigEditMode, pDoc);
+            }
+
+            if (nPart != nOrigPart)
+            {
+                doc_setPartImpl(pThis, nOrigPart, false);
+            }
+
+            if (nViewId != nOrigViewId)
+            {
+                if (nViewId >= 0)
+                {
+                    const auto handlerIt = pDocument->mpCallbackFlushHandlers.find(nViewId);
+                    if (handlerIt != pDocument->mpCallbackFlushHandlers.end())
+                        handlerIt->second->enableCallbacks();
+                }
+
+                doc_setView(pThis, nOrigViewId);
+            }
+        }
+    }
+    catch (const std::exception&)
+    {
+        // Nothing to do but restore the PartTilePainting flag.
+    }
+
+    if (nOrigViewId >= 0)
+    {
+        const auto handlerIt = pDocument->mpCallbackFlushHandlers.find(nOrigViewId);
+        if (handlerIt != pDocument->mpCallbackFlushHandlers.end())
+            handlerIt->second->enableCallbacks();
+    }
+}
+
+static int doc_getTileMode(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* /*pThis*/)
+{
+    SetLastExceptionMsg();
+#if ENABLE_CAIRO_RGBA || defined IOS
+    return LOK_TILEMODE_RGBA;
+#else
+    return LOK_TILEMODE_BGRA;
+#endif
+}
+
+static void doc_getDocumentSize(LibreOfficeKitDocument* pThis,
+                                long* pWidth,
+                                long* pHeight)
+{
+    comphelper::ProfileZone aZone("doc_getDocumentSize");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (pDoc)
+    {
+        Size aDocumentSize = pDoc->getDocumentSize();
+        *pWidth = aDocumentSize.Width();
+        *pHeight = aDocumentSize.Height();
+    }
+    else
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+    }
+}
+
+static void doc_getDataArea(LibreOfficeKitDocument* pThis,
+                            long nTab,
+                            long* pCol,
+                            long* pRow)
+{
+    comphelper::ProfileZone aZone("doc_getDataArea");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (pDoc)
+    {
+        Size aDocumentSize = pDoc->getDataArea(nTab);
+        *pCol = aDocumentSize.Width();
+        *pRow = aDocumentSize.Height();
+    }
+    else
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+    }
+}
+
+static void doc_initializeForRendering(LibreOfficeKitDocument* pThis,
+                                       const char* pArguments)
+{
+    comphelper::ProfileZone aZone("doc_initializeForRendering");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (pDoc)
+    {
+        doc_iniUnoCommands();
+        pDoc->initializeForTiledRendering(
+                comphelper::containerToSequence(jsonToPropertyValuesVector(pArguments)));
+    }
+}
+
+static void doc_registerCallback(LibreOfficeKitDocument* pThis,
+                                 LibreOfficeKitCallback pCallback,
+                                 void* pData)
+{
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    const int nView = SfxLokHelper::getView();
+    if (nView < 0)
+        return;
+
+    const size_t nId = nView;
+    if (pCallback != nullptr)
+    {
+        for (auto& pair : pDocument->mpCallbackFlushHandlers)
+        {
+            if (pair.first == nId)
+                continue;
+
+            pair.second->addViewStates(nView);
+        }
+    }
+    else
+    {
+        for (auto& pair : pDocument->mpCallbackFlushHandlers)
+        {
+            if (pair.first == nId)
+                continue;
+
+            pair.second->removeViewStates(nView);
+        }
+    }
+
+    pDocument->mpCallbackFlushHandlers[nView] = std::make_shared<CallbackFlushHandler>(pThis, pCallback, pData);
+
+    if (pCallback != nullptr)
+    {
+        for (const auto& pair : pDocument->mpCallbackFlushHandlers)
+        {
+            if (pair.first == nId)
+                continue;
+
+            pDocument->mpCallbackFlushHandlers[nView]->addViewStates(pair.first);
+        }
+
+        if (SfxViewShell* pViewShell = SfxViewShell::Current())
+        {
+            pDocument->mpCallbackFlushHandlers[nView]->setViewId(pViewShell->GetViewShellId().get());
+            pViewShell->setLibreOfficeKitViewCallback(pDocument->mpCallbackFlushHandlers[nView].get());
+        }
+
+        if (!pDocument->maFontsMissing.empty())
+        {
+            OString sPayload = "{ \"fontsmissing\": [ "_ostr;
+            bool bFirst = true;
+            for (const auto &f : pDocument->maFontsMissing)
+            {
+                if (bFirst)
+                    bFirst = false;
+                else
+                    sPayload += ", ";
+                sPayload += "\"" + f.toUtf8() + "\"";
+            }
+            sPayload += " ] }";
+            pCallback(LOK_CALLBACK_FONTS_MISSING, sPayload.getStr(), pData);
+            pDocument->maFontsMissing.clear();
+        }
+    }
+    else
+    {
+        if (SfxViewShell* pViewShell = SfxViewShell::Current())
+        {
+            pViewShell->setLibreOfficeKitViewCallback(nullptr);
+            pDocument->mpCallbackFlushHandlers[nView]->setViewId(-1);
+        }
+    }
+}
+
+/// Returns the JSON representation of all the comments in the document
+static char* getPostIts(LibreOfficeKitDocument* pThis)
+{
+    SetLastExceptionMsg();
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+    tools::JsonWriter aJsonWriter;
+    pDoc->getPostIts(aJsonWriter);
+    return convertOString(aJsonWriter.finishAndGetAsOString());
+}
+
+/// Returns the JSON representation of the positions of all the comments in the document
+static char* getPostItsPos(LibreOfficeKitDocument* pThis)
+{
+    SetLastExceptionMsg();
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+    tools::JsonWriter aJsonWriter;
+    pDoc->getPostItsPos(aJsonWriter);
+    return convertOString(aJsonWriter.finishAndGetAsOString());
+}
+
+static char* getRulerState(LibreOfficeKitDocument* pThis)
+{
+    SetLastExceptionMsg();
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+    tools::JsonWriter aJsonWriter;
+    pDoc->getRulerState(aJsonWriter);
+    return convertOString(aJsonWriter.finishAndGetAsOString());
+}
+
+static void doc_postKeyEvent(LibreOfficeKitDocument* pThis, int nType, int nCharCode, int nKeyCode)
+{
+    comphelper::ProfileZone aZone("doc_postKeyEvent");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    try
+    {
+        pDoc->postKeyEvent(nType, nCharCode, nKeyCode);
+    }
+    catch (const uno::Exception& exception)
+    {
+        SetLastExceptionMsg(exception.Message);
+        SAL_INFO("lok", "Failed to postKeyEvent " << exception.Message);
+    }
+}
+
+static void doc_setBlockedCommandList(LibreOfficeKitDocument* /*pThis*/, int nViewId, const char* blockedCommandList)
+{
+    SolarMutexGuard aGuard;
+    SfxLokHelper::setBlockedCommandList(nViewId, blockedCommandList);
+}
+
+static void doc_postWindowExtTextInputEvent(LibreOfficeKitDocument* pThis, unsigned nWindowId, int nType, const char* pText)
+{
+    comphelper::ProfileZone aZone("doc_postWindowExtTextInputEvent");
+
+    SolarMutexGuard aGuard;
+    VclPtr<vcl::Window> pWindow;
+    if (nWindowId == 0)
+    {
+        ITiledRenderable* pDoc = getTiledRenderable(pThis);
+        if (!pDoc)
+        {
+            SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+            return;
+        }
+        pWindow = pDoc->getDocWindow();
+    }
+    else
+    {
+        pWindow = vcl::Window::FindLOKWindow(nWindowId);
+    }
+
+    if (!pWindow)
+    {
+        SetLastExceptionMsg("No window found for window id: " + OUString::number(nWindowId));
+        return;
+    }
+
+    SfxLokHelper::postExtTextEventAsync(pWindow, nType, OUString::fromUtf8(std::string_view(pText, strlen(pText))));
+}
+
+static void doc_removeTextContext(LibreOfficeKitDocument* pThis, unsigned nLOKWindowId, int nCharBefore, int nCharAfter)
+{
+    SolarMutexGuard aGuard;
+
+    if (SfxViewShell::IsCurrentLokViewReadOnly())
+        return;
+
+    VclPtr<vcl::Window> pWindow;
+    if (nLOKWindowId == 0)
+    {
+        ITiledRenderable* pDoc = getTiledRenderable(pThis);
+        if (!pDoc)
+        {
+            SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+            return;
+        }
+        pWindow = pDoc->getDocWindow();
+    }
+    else
+    {
+        pWindow = vcl::Window::FindLOKWindow(nLOKWindowId);
+    }
+
+    if (!pWindow)
+    {
+        SetLastExceptionMsg("No window found for window id: " + OUString::number(nLOKWindowId));
+        return;
+    }
+
+    // Annoyingly - backspace and delete are handled in the apps via an accelerator
+    // which are PostMessage'd by SfxViewShell::ExecKey_Impl so to stay in the same
+    // order we do this synchronously here, unless we're in a dialog.
+    if (nCharBefore > 0)
+    {
+        // backspace
+        if (nLOKWindowId == 0)
+        {
+            KeyEvent aEvt(8, KEY_BACKSPACE);
+            for (int i = 0; i < nCharBefore; ++i)
+                pWindow->KeyInput(aEvt);
+        }
+        else
+            SfxLokHelper::postKeyEventAsync(pWindow, LOK_KEYEVENT_KEYINPUT, 8, KEY_BACKSPACE, nCharBefore - 1);
+    }
+
+    if (nCharAfter > 0)
+    {
+        // delete (forward)
+        if (nLOKWindowId == 0)
+        {
+            KeyEvent aEvt(46, KEY_DELETE);
+            for (int i = 0; i < nCharAfter; ++i)
+                pWindow->KeyInput(aEvt);
+        }
+        else
+            SfxLokHelper::postKeyEventAsync(pWindow, LOK_KEYEVENT_KEYINPUT, 46, KEY_DELETE, nCharAfter - 1);
+    }
+}
+
+static void doc_postWindowKeyEvent(LibreOfficeKitDocument* /*pThis*/, unsigned nLOKWindowId, int nType, int nCharCode, int nKeyCode)
+{
+    comphelper::ProfileZone aZone("doc_postWindowKeyEvent");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    VclPtr<Window> pWindow = vcl::Window::FindLOKWindow(nLOKWindowId);
+    if (!pWindow)
+    {
+        SetLastExceptionMsg(u"Document doesn't support dialog rendering, or window not found."_ustr);
+        return;
+    }
+
+    KeyEvent aEvent(nCharCode, nKeyCode, 0);
+
+    switch (nType)
+    {
+        case LOK_KEYEVENT_KEYINPUT:
+            Application::PostKeyEvent(VclEventId::WindowKeyInput, pWindow, &aEvent);
+            break;
+        case LOK_KEYEVENT_KEYUP:
+            Application::PostKeyEvent(VclEventId::WindowKeyUp, pWindow, &aEvent);
+            break;
+        default:
+            assert(false);
+            break;
+    }
+}
+
+// To be an exportable selection, there must be something selected and that
+// selection can't be "ScCellObj" which doesn't can't provide a svg.
+//
+// Typically a problem arises when double clicking a shape in calc. The 1st
+// click selects the shape, triggering generation of a preview, but the second
+// shape enters into edit mode before doc_renderShapeSelection has a chance to
+// fire, at which point the shape is no longer selected. Rather than generate
+// an error just return a 0 length result if there is no shape selected, so we
+// continue to generate an error if a shape is selected, but could not provide
+// an svg.
+static bool doc_hasShapeSelection(const css::uno::Reference<css::lang::XComponent>& rComponent)
+{
+    uno::Reference<frame::XModel> xModel(rComponent, uno::UNO_QUERY);
+    if (!xModel.is())
+        return false;
+
+    uno::Reference<frame::XController> xController(xModel->getCurrentController());
+    if (!xController.is())
+        return false;
+
+    uno::Reference<view::XSelectionSupplier> xSelectionSupplier(xController, uno::UNO_QUERY);
+    if (!xSelectionSupplier.is())
+        return false;
+
+    Any selection = xSelectionSupplier->getSelection();
+    uno::Reference<lang::XServiceInfo> xSelection;
+    selection >>= xSelection;
+
+    return xSelection && xSelection->getImplementationName() != "ScCellObj";
+}
+
+static size_t doc_renderShapeSelection(LibreOfficeKitDocument* pThis, char** pOutput)
+{
+    comphelper::ProfileZone aZone("doc_renderShapeSelection");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    LokChartHelper aChartHelper(SfxViewShell::Current());
+
+    if (aChartHelper.GetWindow())
+        return 0;
+
+    try
+    {
+        LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+        if (!doc_hasShapeSelection(pDocument->mxComponent))
+            return 0;
+
+        uno::Reference<frame::XStorable> xStorable(pDocument->mxComponent, uno::UNO_QUERY_THROW);
+
+        SvMemoryStream aOutStream;
+        uno::Reference<io::XOutputStream> xOut = new utl::OOutputStreamWrapper(aOutStream);
+
+        utl::MediaDescriptor aMediaDescriptor;
+        switch (doc_getDocumentType(pThis))
+        {
+            case LOK_DOCTYPE_PRESENTATION:
+                aMediaDescriptor[u"FilterName"_ustr] <<= u"impress_svg_Export"_ustr;
+                break;
+            case LOK_DOCTYPE_DRAWING:
+                aMediaDescriptor[u"FilterName"_ustr] <<= u"draw_svg_Export"_ustr;
+                break;
+            case LOK_DOCTYPE_TEXT:
+                aMediaDescriptor[u"FilterName"_ustr] <<= u"writer_svg_Export"_ustr;
+                break;
+            case LOK_DOCTYPE_SPREADSHEET:
+                aMediaDescriptor[u"FilterName"_ustr] <<= u"calc_svg_Export"_ustr;
+                break;
+            default:
+                SAL_WARN("lok", "Failed to render shape selection: Document type is not supported");
+        }
+        aMediaDescriptor[u"SelectionOnly"_ustr] <<= true;
+        aMediaDescriptor[u"OutputStream"_ustr] <<= xOut;
+        aMediaDescriptor[u"IsPreview"_ustr] <<= true; // will down-scale graphics
+
+        xStorable->storeToURL(u"private:stream"_ustr, aMediaDescriptor.getAsConstPropertyValueList());
+
+        if (pOutput)
+        {
+            const size_t nOutputSize = aOutStream.GetEndOfData();
+            *pOutput = static_cast<char*>(malloc(nOutputSize));
+            if (*pOutput)
+            {
+                std::memcpy(*pOutput, aOutStream.GetData(), nOutputSize);
+                return nOutputSize;
+            }
+        }
+    }
+    catch (const uno::Exception& exception)
+    {
+        css::uno::Any exAny( cppu::getCaughtException() );
+        SetLastExceptionMsg(exception.Message);
+        SAL_WARN("lok", "Failed to render shape selection: " << exceptionToString(exAny));
+    }
+
+    return 0;
+}
+
+namespace {
+
+/** Class to react on finishing of a dispatched command.
+
+    This will call a LOK_COMMAND_FINISHED callback when postUnoCommand was
+    called with the parameter requesting the notification.
+
+    @see LibreOfficeKitCallbackType::LOK_CALLBACK_UNO_COMMAND_RESULT.
+*/
+class DispatchResultListener : public cppu::WeakImplHelper<css::frame::XDispatchResultListener>
+{
+    const OString maCommand; ///< Command for which this is the result.
+    const std::shared_ptr<CallbackFlushHandler> mpCallback; ///< Callback to call.
+    const std::chrono::steady_clock::time_point mSaveTime; //< The time we started saving.
+    const bool mbWasModified; //< Whether or not the document was modified before saving.
+
+public:
+    DispatchResultListener(const char* pCommand, std::shared_ptr<CallbackFlushHandler> pCallback,
+                           bool bWasModified)
+        : maCommand(pCommand)
+        , mpCallback(std::move(pCallback))
+        , mSaveTime(std::chrono::steady_clock::now())
+        , mbWasModified(bWasModified)
+    {
+        assert(mpCallback);
+    }
+
+    virtual void SAL_CALL dispatchFinished(const css::frame::DispatchResultEvent& rEvent) override
+    {
+        tools::JsonWriter aJson;
+        aJson.put("commandName", maCommand);
+
+        if (rEvent.State != frame::DispatchResultState::DONTKNOW)
+        {
+            bool bSuccess = (rEvent.State == frame::DispatchResultState::SUCCESS);
+            aJson.put("success", bSuccess);
+        }
+
+        unoAnyToJson(aJson, "result", rEvent.Result);
+        aJson.put("wasModified", mbWasModified);
+        aJson.put("startUnixTimeMics",
+                  std::chrono::time_point_cast<std::chrono::microseconds>(mSaveTime)
+                      .time_since_epoch()
+                      .count());
+        aJson.put("saveDurationMics", std::chrono::duration_cast<std::chrono::microseconds>(
+                                          std::chrono::steady_clock::now() - mSaveTime)
+                                          .count());
+        mpCallback->queue(LOK_CALLBACK_UNO_COMMAND_RESULT, aJson.finishAndGetAsOString());
+    }
+
+    virtual void SAL_CALL disposing(const css::lang::EventObject&) override {}
+};
+
+} // anonymous namespace
+
+
+static void lcl_sendDialogEvent(unsigned long long int nWindowId, const char* pArguments)
+{
+    SolarMutexGuard aGuard;
+
+    StringMap aMap(jsdialog::jsonToStringMap(pArguments));
+
+    if (aMap.find(u"id"_ustr) == aMap.end())
+        return;
+
+    sal_uInt64 nCurrentShellId = reinterpret_cast<sal_uInt64>(SfxViewShell::Current());
+
+    try
+    {
+        OUString sControlId = aMap[u"id"_ustr];
+        OUString sWindowId = OUString::number(nWindowId);
+        OUString sCurrentShellId = OUString::number(nCurrentShellId);
+
+        // special values for window id
+        if (nWindowId == static_cast<unsigned long long int>(-1))
+            sWindowId = sCurrentShellId + "sidebar";
+        if (nWindowId == static_cast<unsigned long long int>(-2))
+            sWindowId = sCurrentShellId + "notebookbar";
+        if (nWindowId == static_cast<unsigned long long int>(-3))
+            sWindowId = sCurrentShellId + "formulabar";
+
+        // dialogs send own id but notebookbar and sidebar controls are remembered by SfxViewShell id
+        if (jsdialog::ExecuteAction(sWindowId, sControlId, aMap))
+            return;
+
+        if (jsdialog::ExecuteAction(sCurrentShellId + "sidebar", sControlId, aMap))
+            return;
+        if (jsdialog::ExecuteAction(sCurrentShellId + "notebookbar", sControlId, aMap))
+            return;
+        if (jsdialog::ExecuteAction(sCurrentShellId + "formulabar", sControlId, aMap))
+            return;
+        // this is needed for dialogs shown before document is loaded: MacroWarning dialog, etc...
+        // these dialogs are created with WindowId "0"
+        if (!SfxViewShell::Current() && jsdialog::ExecuteAction(u"0"_ustr, sControlId, aMap))
+            return;
+
+        // force resend - used in mobile-wizard
+        jsdialog::SendFullUpdate(sCurrentShellId + "sidebar", u"Panel"_ustr);
+
+    } catch(...) {}
+}
+
+
+static void doc_sendDialogEvent(LibreOfficeKitDocument* /*pThis*/, unsigned long long int nWindowId, const char* pArguments)
+{
+    lcl_sendDialogEvent(nWindowId, pArguments);
+}
+
+static void lo_sendDialogEvent(LibreOfficeKit* /*pThis*/, unsigned long long int nWindowId, const char* pArguments)
+{
+    lcl_sendDialogEvent(nWindowId, pArguments);
+}
+
+static void lo_setOption(LibreOfficeKit* /*pThis*/, const char *pOption, const char* pValue)
+{
+    static char* pCurrentSalLogOverride = nullptr;
+
+    if (strcmp(pOption, "traceeventrecording") == 0)
+    {
+        if (strcmp(pValue, "start") == 0)
+        {
+            comphelper::TraceEvent::setBufferSizeAndCallback(100, TraceEventDumper::flushRecordings);
+            comphelper::TraceEvent::startRecording();
+            if (traceEventDumper == nullptr)
+                traceEventDumper = new TraceEventDumper();
+        }
+        else if (strcmp(pValue, "stop") == 0)
+            comphelper::TraceEvent::stopRecording();
+    }
+    else if (strcmp(pOption, "sallogoverride") == 0)
+    {
+        if (pCurrentSalLogOverride != nullptr)
+            free(pCurrentSalLogOverride);
+        if (pValue == nullptr)
+            pCurrentSalLogOverride = nullptr;
+        else
+            pCurrentSalLogOverride = strdup(pValue);
+
+        if (pCurrentSalLogOverride == nullptr || pCurrentSalLogOverride[0] == '\0')
+            sal_detail_set_log_selector(nullptr);
+        else
+            sal_detail_set_log_selector(pCurrentSalLogOverride);
+    }
+#ifdef LINUX
+    else if (strcmp(pOption, "addfont") == 0)
+    {
+        if (memcmp(pValue, "file://", 7) == 0)
+            pValue += 7;
+
+        int fd = open(pValue, O_RDONLY);
+        if (fd == -1)
+        {
+            std::cerr << "Could not open font file '" << pValue << "': " << strerror(errno) << std::endl;
+            return;
+        }
+
+        OUString sMagicFileName = "file:///:FD:/" + OUString::number(fd);
+
+        OutputDevice *pDevice = Application::GetDefaultDevice();
+        OutputDevice::ImplClearAllFontData(false);
+        pDevice->AddTempDevFont(sMagicFileName, u""_ustr);
+        OutputDevice::ImplRefreshAllFontData(false);
+    }
+#endif
+}
+
+static void lo_dumpState (LibreOfficeKit* pThis, const char* /* pOptions */, char** pState)
+{
+    if (!pState)
+        return;
+
+    // NB. no SolarMutexGuard since this may be caused in some extremis / deadlock
+    SetLastExceptionMsg();
+
+    *pState = nullptr;
+    OStringBuffer aState(4096*256);
+
+    LibLibreOffice_Impl* pLib = static_cast<LibLibreOffice_Impl*>(pThis);
+
+    pLib->dumpState(aState);
+
+    *pState = convertOString(aState.makeStringAndClear());
+}
+
+void LibLibreOffice_Impl::dumpState(rtl::OStringBuffer &rState)
+{
+    rState.append("LibreOfficeKit state:"
+                  "\n\tLastExceptionMsg:\t");
+    rState.append(rtl::OUStringToOString(maLastExceptionMsg, RTL_TEXTENCODING_UTF8));
+    rState.append("\n\tUnipoll:\t");
+    rState.append(vcl::lok::isUnipoll() ? "yes" : "no: events on thread");
+    rState.append("\n\tOptionalFeatures:\t0x");
+    rState.append(static_cast<sal_Int64>(mOptionalFeatures), 16);
+    rState.append("\n\tCallbackData:\t0x");
+    rState.append(reinterpret_cast<sal_Int64>(mpCallback), 16);
+    rState.append("\n\tIsModified:\t");
+    if (const SfxObjectShell* pObjSh = SfxObjectShell::Current())
+        rState.append(pObjSh->IsModified() ? "modified" : "unmodified");
+    else
+        rState.append("noshell");
+    // TODO: dump mInteractionMap
+    SfxLokHelper::dumpState(rState);
+    vcl::lok::dumpState(rState);
+}
+
+// We have special handling for some uno commands and it seems we need to check for readonly state.
+static bool isCommandAllowed(OUString& command) {
+    static constexpr OUString nonAllowedList[] = { u".uno:Save"_ustr, u".uno:TransformDialog"_ustr, u".uno:SidebarShow"_ustr, u".uno:SidebarHide"_ustr };
+
+    if (!SfxViewShell::IsCurrentLokViewReadOnly())
+        return true;
+    else
+    {
+        if (command == u".uno:Save"_ustr && SfxViewShell::Current() && SfxViewShell::Current()->IsAllowChangeComments())
+            return true;
+
+        for (size_t i = 0; i < std::size(nonAllowedList); i++)
+        {
+            if (nonAllowedList[i] == command)
+                return false;
+        }
+        return true;
+    }
+}
+
+static void doc_postUnoCommand(LibreOfficeKitDocument* pThis, const char* pCommand, const char* pArguments, bool bNotifyWhenFinished)
+{
+    comphelper::ProfileZone aZone("doc_postUnoCommand");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    SfxObjectShell* pDocSh = SfxObjectShell::Current();
+    OUString aCommand(pCommand, strlen(pCommand), RTL_TEXTENCODING_UTF8);
+
+    if (!isCommandAllowed(aCommand))
+        return;
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    std::vector<beans::PropertyValue> aPropertyValuesVector(jsonToPropertyValuesVector(pArguments));
+
+    if (!vcl::lok::isUnipoll())
+    {
+        beans::PropertyValue aSynchronMode;
+        aSynchronMode.Name = u"SynchronMode"_ustr;
+        aSynchronMode.Value <<= false;
+        aPropertyValuesVector.push_back(aSynchronMode);
+    }
+
+    int nView = SfxLokHelper::getView();
+    if (nView < 0)
+        return;
+
+    if (gImpl && aCommand == ".uno:ToggleOrientation")
+    {
+        ExecuteOrientationChange();
+        return;
+    }
+
+    // handle potential interaction
+    if (gImpl && aCommand == ".uno:Save")
+    {
+        // Check if saving a PDF file
+        OUString aMimeType = lcl_getCurrentDocumentMimeType(pDocument);
+        if (pDocSh && pDocSh->IsModified() && aMimeType == "application/pdf")
+        {
+            // If we have a PDF file (for saving annotations for example), we need
+            // to run save-as to the same file as the opened document. Plain save
+            // doesn't work as the PDF is not a "native" format.
+            uno::Reference<frame::XStorable> xStorable(pDocument->mxComponent, uno::UNO_QUERY_THROW);
+            OUString aURL = xStorable->getLocation();
+            OString aURLUtf8 = OUStringToOString(aURL, RTL_TEXTENCODING_UTF8);
+            bool bResult = doc_saveAs(pThis, aURLUtf8.getStr(), "pdf", nullptr);
+
+            // Send the result of save
+            tools::JsonWriter aJson;
+            aJson.put("commandName", pCommand);
+            aJson.put("success", bResult);
+            pDocument->mpCallbackFlushHandlers[nView]->queue(LOK_CALLBACK_UNO_COMMAND_RESULT, aJson.finishAndGetAsOString());
+            return;
+        }
+
+
+        rtl::Reference<LOKInteractionHandler> const pInteraction(
+            new LOKInteractionHandler("save"_ostr, gImpl, pDocument));
+        uno::Reference<task::XInteractionHandler2> const xInteraction(pInteraction);
+
+        beans::PropertyValue aValue;
+        aValue.Name = u"InteractionHandler"_ustr;
+        aValue.Value <<= xInteraction;
+        aPropertyValuesVector.push_back(aValue);
+
+        bool bDontSaveIfUnmodified = false;
+        std::erase_if(aPropertyValuesVector,
+                                                   [&bDontSaveIfUnmodified](const beans::PropertyValue& aItem){
+                                                       if (aItem.Name == "DontSaveIfUnmodified")
+                                                       {
+                                                           bDontSaveIfUnmodified = aItem.Value.get<bool>();
+                                                           return true;
+                                                       }
+                                                       return false;
+                                                   });
+
+        // skip saving and tell the result via UNO_COMMAND_RESULT
+        if (bDontSaveIfUnmodified && (!pDocSh || !pDocSh->IsModified()))
+        {
+            tools::JsonWriter aJson;
+            aJson.put("commandName", pCommand);
+            aJson.put("success", false);
+            // Add the reason for not saving
+            {
+                auto resultNode = aJson.startNode("result");
+                aJson.put("type", "string");
+                aJson.put("value", "unmodified");
+            }
+            pDocument->mpCallbackFlushHandlers[nView]->queue(LOK_CALLBACK_UNO_COMMAND_RESULT, aJson.finishAndGetAsOString());
+            return;
+        }
+    }
+    else if (gImpl && aCommand == ".uno:TransformDialog")
+    {
+        bool bNeedConversion = false;
+        SfxViewShell* pViewShell = SfxViewShell::Current();
+        LokChartHelper aChartHelper(pViewShell);
+
+        if (aChartHelper.GetWindow() )
+        {
+            bNeedConversion = true;
+        }
+        else if (const SdrView* pView = pViewShell->GetDrawView())
+        {
+            if (OutputDevice* pOutputDevice = pView->GetFirstOutputDevice())
+            {
+                bNeedConversion = (pOutputDevice->GetMapMode().GetMapUnit() == MapUnit::Map100thMM);
+            }
+        }
+
+        if (bNeedConversion)
+        {
+            sal_Int32 value;
+            for (beans::PropertyValue& rPropValue: aPropertyValuesVector)
+            {
+                if (rPropValue.Name == "TransformPosX"
+                        || rPropValue.Name == "TransformPosY"
+                        || rPropValue.Name == "TransformWidth"
+                        || rPropValue.Name == "TransformHeight"
+                        || rPropValue.Name == "TransformRotationX"
+                        || rPropValue.Name == "TransformRotationY")
+                {
+                    rPropValue.Value >>= value;
+                    value = o3tl::convert(value, o3tl::Length::twip, o3tl::Length::mm100);
+                    rPropValue.Value <<= value;
+                }
+            }
+        }
+
+        if (aChartHelper.GetWindow() && aPropertyValuesVector.size() > 0)
+        {
+            if (aPropertyValuesVector[0].Name != "Action")
+            {
+                tools::Rectangle aChartBB = aChartHelper.GetChartBoundingBox();
+
+                int nLeft = o3tl::convert(aChartBB.Left(), o3tl::Length::twip, o3tl::Length::mm100);
+                int nTop = o3tl::convert(aChartBB.Top(), o3tl::Length::twip, o3tl::Length::mm100);
+
+                for (beans::PropertyValue& rPropValue: aPropertyValuesVector)
+                {
+                    if (rPropValue.Name == "TransformPosX" || rPropValue.Name == "TransformRotationX")
+                    {
+                        auto const value = *o3tl::doAccess<sal_Int32>(rPropValue.Value);
+                        rPropValue.Value <<= value - nLeft;
+                    }
+                    else if (rPropValue.Name == "TransformPosY" || rPropValue.Name == "TransformRotationY")
+                    {
+                        auto const value = *o3tl::doAccess<sal_Int32>(rPropValue.Value);
+                        rPropValue.Value <<= value - nTop;
+                    }
+                }
+            }
+            util::URL aCommandURL;
+            aCommandURL.Path = u"LOKTransform"_ustr;
+            css::uno::Reference<css::frame::XDispatch>& aChartDispatcher = aChartHelper.GetXDispatcher();
+            aChartDispatcher->dispatch(aCommandURL, comphelper::containerToSequence(aPropertyValuesVector));
+            return;
+        }
+    }
+    else if (gImpl && aCommand == ".uno:LOKSidebarWriterPage")
+    {
+        if (!sfx2::sidebar::Sidebar::Setup(u"WriterPageDeck"))
+        {
+            SetLastExceptionMsg(u"failed to set up sidebar"_ustr);
+        }
+        return;
+    }
+    else if (gImpl && aCommand == ".uno:SidebarShow")
+    {
+        if (!sfx2::sidebar::Sidebar::Setup(u""))
+        {
+            SetLastExceptionMsg(u"failed to set up sidebar"_ustr);
+        }
+        return;
+    }
+    else if (gImpl && aCommand == ".uno:SidebarHide")
+    {
+        hideSidebar();
+        return;
+    }
+
+    bool bResult = false;
+    LokChartHelper aChartHelper(SfxViewShell::Current());
+
+    if (aChartHelper.GetWindow() && aCommand != ".uno:Save" )
+    {
+        util::URL aCommandURL;
+        aCommandURL.Path = aCommand.copy(5);
+        css::uno::Reference<css::frame::XDispatch>& aChartDispatcher = aChartHelper.GetXDispatcher();
+        aChartDispatcher->dispatch(aCommandURL, comphelper::containerToSequence(aPropertyValuesVector));
+        return;
+    }
+    if (LokStarMathHelper aMathHelper(SfxViewShell::Current());
+        aMathHelper.GetGraphicWindow() && aCommand != ".uno:Save")
+    {
+        aMathHelper.Dispatch(aCommand, comphelper::containerToSequence(aPropertyValuesVector));
+        return;
+    }
+    if (bNotifyWhenFinished && pDocument->mpCallbackFlushHandlers.count(nView))
+    {
+        bResult = comphelper::dispatchCommand(aCommand, comphelper::containerToSequence(aPropertyValuesVector),
+                new DispatchResultListener(pCommand, pDocument->mpCallbackFlushHandlers[nView],
+                                           pDocSh && pDocSh->IsModified()));
+    }
+    else
+        bResult = comphelper::dispatchCommand(aCommand, comphelper::containerToSequence(aPropertyValuesVector));
+
+    if (!bResult)
+    {
+        SetLastExceptionMsg("Failed to dispatch " + aCommand);
+    }
+}
+
+static void doc_postMouseEvent(LibreOfficeKitDocument* pThis, int nType, int nX, int nY, int nCount, int nButtons, int nModifier)
+{
+    comphelper::ProfileZone aZone("doc_postMouseEvent");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+    try
+    {
+        pDoc->postMouseEvent(nType, nX, nY, nCount, nButtons, nModifier);
+    }
+    catch (const uno::Exception& exception)
+    {
+        SetLastExceptionMsg(exception.Message);
+        SAL_INFO("lok", "Failed to postMouseEvent " << exception.Message);
+    }
+}
+
+static void doc_postWindowMouseEvent(LibreOfficeKitDocument* /*pThis*/, unsigned nLOKWindowId, int nType, int nX, int nY, int nCount, int nButtons, int nModifier)
+{
+    comphelper::ProfileZone aZone("doc_postWindowMouseEvent");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    VclPtr<Window> pWindow = vcl::Window::FindLOKWindow(nLOKWindowId);
+    if (!pWindow)
+    {
+        SetLastExceptionMsg(u"Document doesn't support dialog rendering, or window not found."_ustr);
+        return;
+    }
+
+    const Point aPos(nX, nY);
+
+    MouseEvent aEvent(aPos, nCount, MouseEventModifiers::SIMPLECLICK, nButtons, nModifier);
+
+    vcl::EnableDialogInput(pWindow);
+
+    switch (nType)
+    {
+        case LOK_MOUSEEVENT_MOUSEBUTTONDOWN:
+            Application::PostMouseEvent(VclEventId::WindowMouseButtonDown, pWindow, &aEvent);
+            break;
+        case LOK_MOUSEEVENT_MOUSEBUTTONUP:
+            Application::PostMouseEvent(VclEventId::WindowMouseButtonUp, pWindow, &aEvent);
+            break;
+        case LOK_MOUSEEVENT_MOUSEMOVE:
+            Application::PostMouseEvent(VclEventId::WindowMouseMove, pWindow, &aEvent);
+            break;
+        default:
+            assert(false);
+            break;
+    }
+}
+
+static void doc_postWindowGestureEvent(LibreOfficeKitDocument* /*pThis*/, unsigned nLOKWindowId, const char* pType, int nX, int nY, int nOffset)
+{
+    comphelper::ProfileZone aZone("doc_postWindowGestureEvent");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    VclPtr<Window> pWindow = vcl::Window::FindLOKWindow(nLOKWindowId);
+    if (!pWindow)
+    {
+        SetLastExceptionMsg(u"Document doesn't support dialog rendering, or window not found."_ustr);
+        return;
+    }
+
+    OString aType(pType);
+    GestureEventPanType eEventType = GestureEventPanType::Update;
+
+    if (aType == "panBegin")
+        eEventType = GestureEventPanType::Begin;
+    else if (aType == "panEnd")
+        eEventType = GestureEventPanType::End;
+
+    GestureEventPan aEvent {
+        sal_Int32(nX),
+        sal_Int32(nY),
+        eEventType,
+        sal_Int32(nOffset),
+        PanningOrientation::Vertical,
+    };
+
+    vcl::EnableDialogInput(pWindow);
+
+    Application::PostGestureEvent(VclEventId::WindowGestureEvent, pWindow, &aEvent);
+}
+
+static void doc_setTextSelection(LibreOfficeKitDocument* pThis, int nType, int nX, int nY)
+{
+    comphelper::ProfileZone aZone("doc_setTextSelection");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    pDoc->setTextSelection(nType, nX, nY);
+}
+
+static void doc_setWindowTextSelection(LibreOfficeKitDocument* /*pThis*/, unsigned nLOKWindowId, bool swap, int nX, int nY)
+{
+    comphelper::ProfileZone aZone("doc_setWindowTextSelection");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    VclPtr<Window> pWindow = vcl::Window::FindLOKWindow(nLOKWindowId);
+    if (!pWindow)
+    {
+        SetLastExceptionMsg(u"Document doesn't support dialog rendering, or window not found."_ustr);
+        return;
+    }
+
+
+    Size aOffset(pWindow->GetOutOffXPixel(), pWindow->GetOutOffYPixel());
+    Point aCursorPos(nX, nY);
+    aCursorPos.Move(aOffset);
+    sal_uInt16 nModifier = swap ? KEY_MOD1 + KEY_MOD2 : KEY_SHIFT;
+
+    MouseEvent aCursorEvent(aCursorPos, 1, MouseEventModifiers::SIMPLECLICK, 0, nModifier);
+    Application::PostMouseEvent(VclEventId::WindowMouseButtonDown, pWindow, &aCursorEvent);
+    Application::PostMouseEvent(VclEventId::WindowMouseButtonUp, pWindow, &aCursorEvent);
+}
+
+static bool getFromTransferable(
+    const css::uno::Reference<css::datatransfer::XTransferable> &xTransferable,
+    const OString &aInMimeType, OString &aRet);
+
+static bool encodeImageAsHTML(
+    const css::uno::Reference<css::datatransfer::XTransferable> &xTransferable,
+    const OString &aMimeType, OString &aRet)
+{
+    if (!getFromTransferable(xTransferable, aMimeType, aRet))
+        return false;
+
+    // Encode in base64.
+    auto aSeq = Sequence<sal_Int8>(reinterpret_cast<const sal_Int8*>(aRet.getStr()),
+                                   aRet.getLength());
+    OStringBuffer aBase64Data;
+    comphelper::Base64::encode(aBase64Data, aSeq);
+
+    // Embed in HTML.
+    aRet = "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n"
+        "<html><head>"
+        "<meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"/><meta "
+        "name=\"generator\" content=\""
+        + getGenerator().toUtf8()
+        + "\"/>"
+        "</head><body><img src=\"data:" + aMimeType + ";base64,"
+        + aBase64Data + "\"/></body></html>";
+
+    return true;
+}
+
+static bool encodeTextAsHTML(
+    const css::uno::Reference<css::datatransfer::XTransferable> &xTransferable,
+    const OString &aMimeType, OString &aRet)
+{
+    if (!getFromTransferable(xTransferable, aMimeType, aRet))
+        return false;
+
+    // Embed in HTML - FIXME: needs some escaping.
+    aRet = "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n"
+        "<html><head>"
+        "<meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"/><meta "
+        "name=\"generator\" content=\""
+        + getGenerator().toUtf8()
+        + "\"/></head><body><pre>" + aRet + "</pre></body></html>";
+
+    return true;
+}
+
+static bool getFromTransferable(
+    const css::uno::Reference<css::datatransfer::XTransferable> &xTransferable,
+    const OString &aInMimeType, OString &aRet)
+{
+    OString aMimeType(aInMimeType);
+
+    // Take care of UTF-8 text here.
+    bool bConvert = false;
+    sal_Int32 nIndex = 0;
+    if (o3tl::getToken(aMimeType, 0, ';', nIndex) == "text/plain")
+    {
+        if (o3tl::getToken(aMimeType, 0, ';', nIndex) == "charset=utf-8")
+        {
+            aMimeType = "text/plain;charset=utf-16"_ostr;
+            bConvert = true;
+        }
+    }
+
+    datatransfer::DataFlavor aFlavor;
+    aFlavor.MimeType = OUString::fromUtf8(aMimeType);
+    if (aMimeType == "text/plain;charset=utf-16")
+        aFlavor.DataType = cppu::UnoType<OUString>::get();
+    else
+        aFlavor.DataType = cppu::UnoType< uno::Sequence<sal_Int8> >::get();
+
+    if (!xTransferable->isDataFlavorSupported(aFlavor))
+    {
+        // Try harder for HTML it is our copy/paste meta-file format
+        if (aInMimeType == "text/html")
+        {
+            // Desperate measures - convert text to HTML instead.
+            if (encodeTextAsHTML(xTransferable, "text/plain;charset=utf-8"_ostr, aRet))
+                return true;
+            // If html is not supported, might be a graphic-selection,
+            if (encodeImageAsHTML(xTransferable, "image/png"_ostr, aRet))
+                return true;
+        }
+
+        SetLastExceptionMsg("Flavor " + aFlavor.MimeType + " is not supported");
+        return false;
+    }
+
+    uno::Any aAny;
+    try
+    {
+        aAny = xTransferable->getTransferData(aFlavor);
+    }
+    catch (const css::datatransfer::UnsupportedFlavorException& e)
+    {
+        SetLastExceptionMsg("Unsupported flavor " + aFlavor.MimeType + " exception " + e.Message);
+        return false;
+    }
+    catch (const css::uno::Exception& e)
+    {
+        SetLastExceptionMsg("Exception getting " + aFlavor.MimeType + " exception " + e.Message);
+        return false;
+    }
+
+    if (aFlavor.DataType == cppu::UnoType<OUString>::get())
+    {
+        OUString aString;
+        aAny >>= aString;
+        if (bConvert)
+            aRet = OUStringToOString(aString, RTL_TEXTENCODING_UTF8);
+        else
+            aRet = OString(reinterpret_cast<const char *>(aString.getStr()), aString.getLength() * sizeof(sal_Unicode));
+    }
+    else
+    {
+        uno::Sequence<sal_Int8> aSequence;
+        aAny >>= aSequence;
+        aRet = OString(reinterpret_cast<const char*>(aSequence.getConstArray()), aSequence.getLength());
+    }
+
+    return true;
+}
+
+static char* doc_getTextSelection(LibreOfficeKitDocument* pThis, const char* pMimeType, char** pUsedMimeType)
+{
+    comphelper::ProfileZone aZone("doc_getTextSelection");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+
+    css::uno::Reference<css::datatransfer::XTransferable> xTransferable = pDoc->getSelection();
+    if (!xTransferable)
+    {
+        SetLastExceptionMsg(u"No selection available"_ustr);
+        return nullptr;
+    }
+
+    OString aType
+        = pMimeType && pMimeType[0] != '\0' ? OString(pMimeType) : "text/plain;charset=utf-8"_ostr;
+
+    OString aRet;
+    bool bSuccess = getFromTransferable(xTransferable, aType, aRet);
+    if (!bSuccess)
+        return nullptr;
+
+    if (pUsedMimeType) // legacy
+    {
+        if (pMimeType)
+            *pUsedMimeType = strdup(pMimeType);
+        else
+            *pUsedMimeType = nullptr;
+    }
+
+    return convertOString(aRet);
+}
+
+static int doc_getSelectionType(LibreOfficeKitDocument* pThis)
+{
+    comphelper::ProfileZone aZone("doc_getSelectionType");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return LOK_SELTYPE_NONE;
+    }
+
+    css::uno::Reference<css::datatransfer::XTransferable> xTransferable = pDoc->getSelection();
+    if (!xTransferable)
+    {
+        SetLastExceptionMsg(u"No selection available"_ustr);
+        return LOK_SELTYPE_NONE;
+    }
+
+    css::uno::Reference<css::datatransfer::XTransferable2> xTransferable2(xTransferable, css::uno::UNO_QUERY);
+    if (xTransferable2.is() && xTransferable2->isComplex())
+        return LOK_SELTYPE_COMPLEX;
+
+    OString aRet;
+    bool bSuccess = getFromTransferable(xTransferable, "text/plain;charset=utf-8"_ostr, aRet);
+    if (!bSuccess)
+        return LOK_SELTYPE_NONE;
+
+    if (aRet.getLength() > 10000)
+        return LOK_SELTYPE_COMPLEX;
+
+    return !aRet.isEmpty() ? LOK_SELTYPE_TEXT : LOK_SELTYPE_NONE;
+}
+
+static int doc_getSelectionTypeAndText(LibreOfficeKitDocument* pThis, const char* pMimeType, char** pText, char** pUsedMimeType)
+{
+    // The purpose of this function is to avoid double call to pDoc->getSelection(),
+    // which may be expensive.
+    comphelper::ProfileZone aZone("doc_getSelectionTypeAndText");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return LOK_SELTYPE_NONE;
+    }
+
+    css::uno::Reference<css::datatransfer::XTransferable> xTransferable = pDoc->getSelection();
+    if (!xTransferable)
+    {
+        SetLastExceptionMsg(u"No selection available"_ustr);
+        return LOK_SELTYPE_NONE;
+    }
+
+    css::uno::Reference<css::datatransfer::XTransferable2> xTransferable2(xTransferable, css::uno::UNO_QUERY);
+    if (xTransferable2.is() && xTransferable2->isComplex())
+        return LOK_SELTYPE_COMPLEX;
+
+    OString aType
+        = pMimeType && pMimeType[0] != '\0' ? OString(pMimeType) : "text/plain;charset=utf-8"_ostr;
+
+    OString aRet;
+    bool bSuccess = getFromTransferable(xTransferable, aType, aRet);
+    if (!bSuccess)
+        return LOK_SELTYPE_NONE;
+
+    if (aRet.getLength() > 10000)
+        return LOK_SELTYPE_COMPLEX;
+
+    if (aRet.isEmpty())
+        return LOK_SELTYPE_NONE;
+
+    if (pText)
+        *pText = convertOString(aRet);
+
+    if (pUsedMimeType) // legacy
+    {
+        if (pMimeType)
+            *pUsedMimeType = strdup(pMimeType);
+        else
+            *pUsedMimeType = nullptr;
+    }
+
+    return LOK_SELTYPE_TEXT;
+}
+
+static int doc_getClipboard(LibreOfficeKitDocument* pThis,
+                            const char **pMimeTypes,
+                            size_t      *pOutCount,
+                            char      ***pOutMimeTypes,
+                            size_t     **pOutSizes,
+                            char      ***pOutStreams)
+{
+#ifdef IOS
+    (void) pThis;
+    (void) pMimeTypes;
+    (void) pOutCount;
+    (void) pOutMimeTypes;
+    (void) pOutSizes;
+    (void) pOutStreams;
+
+    assert(!"doc_getClipboard should not be called on iOS");
+
+    return 0;
+#else
+    comphelper::ProfileZone aZone("doc_getClipboard");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    assert (pOutCount);
+    assert (pOutMimeTypes);
+    assert (pOutSizes);
+    assert (pOutStreams);
+
+    *pOutCount = 0;
+    *pOutMimeTypes = nullptr;
+    *pOutSizes = nullptr;
+    *pOutStreams = nullptr;
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return 0;
+    }
+
+    rtl::Reference<LOKClipboard> xClip(LOKClipboardFactory::getClipboardForCurView());
+
+    css::uno::Reference<css::datatransfer::XTransferable> xTransferable = xClip->getContents();
+    SAL_INFO("lok", "Got from clip: " << xClip.get() << " transferable: " << xTransferable);
+    if (!xTransferable)
+    {
+        SetLastExceptionMsg(u"No clipboard content available"_ustr);
+        return 0;
+    }
+
+    std::vector<OString> aMimeTypes;
+    if (!pMimeTypes) // everything
+    {
+        const uno::Sequence< css::datatransfer::DataFlavor > flavors = xTransferable->getTransferDataFlavors();
+        if (!flavors.getLength())
+        {
+            SetLastExceptionMsg(u"Flavourless selection"_ustr);
+            return 0;
+        }
+        for (const auto &it : flavors)
+            aMimeTypes.push_back(OUStringToOString(it.MimeType, RTL_TEXTENCODING_UTF8));
+    }
+    else
+    {
+        for (size_t i = 0; pMimeTypes[i]; ++i)
+            aMimeTypes.push_back(OString(pMimeTypes[i]));
+    }
+
+    *pOutCount = aMimeTypes.size();
+    *pOutSizes = static_cast<size_t *>(malloc(*pOutCount * sizeof(size_t)));
+    assert(*pOutSizes && "Don't handle OOM conditions");
+    *pOutMimeTypes = static_cast<char **>(malloc(*pOutCount * sizeof(char *)));
+    assert(*pOutMimeTypes && "Don't handle OOM conditions");
+    *pOutStreams = static_cast<char **>(malloc(*pOutCount * sizeof(char *)));
+    assert(*pOutStreams && "Don't handle OOM conditions");
+    for (size_t i = 0; i < aMimeTypes.size(); ++i)
+    {
+        if (aMimeTypes[i] == "text/plain;charset=utf-16")
+            (*pOutMimeTypes)[i] = strdup("text/plain;charset=utf-8");
+        else
+            (*pOutMimeTypes)[i] = convertOString(aMimeTypes[i]);
+
+        OString aRet;
+        bool bSuccess = getFromTransferable(xTransferable, (*pOutMimeTypes)[i], aRet);
+        if (!bSuccess || aRet.getLength() < 1)
+        {
+            (*pOutSizes)[i] = 0;
+            (*pOutStreams)[i] = nullptr;
+        }
+        else
+        {
+            (*pOutSizes)[i] = aRet.getLength();
+            (*pOutStreams)[i] = convertOString(aRet);
+        }
+    }
+
+    return 1;
+#endif
+}
+
+static int doc_setClipboard(LibreOfficeKitDocument* pThis,
+                            const size_t   nInCount,
+                            const char   **pInMimeTypes,
+                            const size_t  *pInSizes,
+                            const char   **pInStreams)
+{
+#ifdef IOS
+    (void) pThis;
+    (void) nInCount;
+    (void) pInMimeTypes;
+    (void) pInSizes;
+    (void) pInStreams;
+#else
+    comphelper::ProfileZone aZone("doc_setClipboard");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return false;
+    }
+
+    uno::Reference<datatransfer::XTransferable> xTransferable(new LOKTransferable(nInCount, pInMimeTypes, pInSizes, pInStreams));
+
+    auto xClip = forceSetClipboardForCurrentView(pThis);
+    xClip->setContents(xTransferable, uno::Reference<datatransfer::clipboard::XClipboardOwner>());
+
+    SAL_INFO("lok", "Set clip: " << xClip.get() << " to: " << xTransferable);
+
+    if (!pDoc->isMimeTypeSupported())
+    {
+        SetLastExceptionMsg(u"Document doesn't support this mime type"_ustr);
+        return false;
+    }
+#endif
+    return true;
+}
+
+static bool doc_paste(LibreOfficeKitDocument* pThis, const char* pMimeType, const char* pData, size_t nSize)
+{
+    comphelper::ProfileZone aZone("doc_paste");
+
+    SolarMutexGuard aGuard;
+
+    const char *pInMimeTypes[1];
+    const char *pInStreams[1];
+    size_t pInSizes[1];
+    pInMimeTypes[0] = pMimeType;
+    pInSizes[0] = nSize;
+    pInStreams[0] = pData;
+
+    if (!doc_setClipboard(pThis, 1, pInMimeTypes, pInSizes, pInStreams))
+        return false;
+
+    uno::Sequence<beans::PropertyValue> aPropertyValues(comphelper::InitPropertySequence(
+    {
+        {"AnchorType", uno::Any(static_cast<sal_uInt16>(css::text::TextContentAnchorType_AS_CHARACTER))},
+        {"IgnoreComments", uno::Any(true)},
+    }));
+    if (!comphelper::dispatchCommand(u".uno:Paste"_ustr, aPropertyValues))
+    {
+        SetLastExceptionMsg(u"Failed to dispatch the .uno: command"_ustr);
+        return false;
+    }
+
+    return true;
+}
+
+static void doc_setGraphicSelection(LibreOfficeKitDocument* pThis, int nType, int nX, int nY)
+{
+    comphelper::ProfileZone aZone("doc_setGraphicSelection");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    pDoc->setGraphicSelection(nType, nX, nY);
+}
+
+static void doc_resetSelection(LibreOfficeKitDocument* pThis)
+{
+    comphelper::ProfileZone aZone("doc_resetSelection");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    pDoc->resetSelection();
+}
+
+static char* getDocReadOnly(LibreOfficeKitDocument* pThis)
+{
+    SfxObjectShell* pObjectShell = getSfxObjectShell(pThis);
+    if (!pObjectShell)
+        return nullptr;
+
+    boost::property_tree::ptree aTree;
+    aTree.put("commandName", ".uno:ReadOnly");
+    aTree.put("success", pObjectShell->IsLoadReadonly());
+
+    std::stringstream aStream;
+    boost::property_tree::write_json(aStream, aTree, false /* pretty */);
+    char* pJson = static_cast<char*>(malloc(aStream.str().size() + 1));
+    if (!pJson)
+        return nullptr;
+
+    strcpy(pJson, aStream.str().c_str());
+    pJson[aStream.str().size()] = '\0';
+    return pJson;
+}
+
+static void addLocale(boost::property_tree::ptree& rValues, css::lang::Locale const & rLocale)
+{
+    boost::property_tree::ptree aChild;
+    const LanguageTag aLanguageTag( rLocale );
+    OUString sLanguage = SvtLanguageTable::GetLanguageString(aLanguageTag.getLanguageType());
+    if (sLanguage.endsWith("}"))
+        return;
+
+    sLanguage += ";" + aLanguageTag.getBcp47(false);
+    aChild.put("", sLanguage.toUtf8());
+    rValues.push_back(std::make_pair("", aChild));
+}
+
+static char* getLanguages(const char* pCommand)
+{
+    css::uno::Sequence< css::lang::Locale > aLocales;
+    css::uno::Sequence< css::lang::Locale > aGrammarLocales;
+
+    if (xContext.is())
+    {
+        // SpellChecker
+        css::uno::Reference<css::linguistic2::XLinguServiceManager2> xLangSrv = css::linguistic2::LinguServiceManager::create(xContext);
+        if (xLangSrv.is())
+        {
+            css::uno::Reference<css::linguistic2::XSpellChecker> xSpell = xLangSrv->getSpellChecker();
+            if (xSpell.is())
+                aLocales = xSpell->getLocales();
+        }
+
+        // LanguageTool
+        if (LanguageToolCfg::IsEnabled::get())
+        {
+            uno::Reference< linguistic2::XProofreader > xGC(
+                    xContext->getServiceManager()->createInstanceWithContext(u"org.openoffice.lingu.LanguageToolGrammarChecker"_ustr, xContext),
+                    uno::UNO_QUERY_THROW );
+            uno::Reference< linguistic2::XSupportedLocales > xSuppLoc( xGC, uno::UNO_QUERY_THROW );
+            aGrammarLocales = xSuppLoc->getLocales();
+        }
+    }
+
+    boost::property_tree::ptree aTree;
+    aTree.put("commandName", pCommand);
+    boost::property_tree::ptree aValues;
+    for (css::lang::Locale const& rLocale : aLocales)
+        addLocale(aValues, rLocale);
+    for (css::lang::Locale const& rLocale : aGrammarLocales)
+        addLocale(aValues, rLocale);
+    aTree.add_child("commandValues", aValues);
+    std::stringstream aStream;
+    boost::property_tree::write_json(aStream, aTree, false /* pretty */);
+    char* pJson = static_cast<char*>(malloc(aStream.str().size() + 1));
+    assert(pJson); // Don't handle OOM conditions
+    strcpy(pJson, aStream.str().c_str());
+    pJson[aStream.str().size()] = '\0';
+    return pJson;
+}
+
+static char* getFonts (const char* pCommand, const bool bBloatWithRepeatedSizes)
+{
+    SfxObjectShell* pDocSh = SfxObjectShell::Current();
+    if (!pDocSh)
+        return nullptr;
+    const SvxFontListItem* pFonts = static_cast<const SvxFontListItem*>(
+        pDocSh->GetItem(SID_ATTR_CHAR_FONTLIST));
+    const FontList* pList = pFonts ? pFonts->GetFontList() : nullptr;
+
+    if (!bBloatWithRepeatedSizes)
+    {
+        tools::JsonWriter aJson;
+        aJson.put("commandName", pCommand);
+        if (pList)
+        {
+            auto aFontNames = aJson.startArray("FontNames");
+
+            sal_uInt16 nFontCount = pList->GetFontNameCount();
+            for (sal_uInt16 i = 0; i < nFontCount; ++i)
+                aJson.putSimpleValue(pList->GetFontName(i).GetFamilyName());
+        }
+        {
+            auto aFontSizes = aJson.startArray("FontSizes");
+            const int* pAry = FontList::GetStdSizeAry();
+            for (sal_uInt16 i = 0; pAry[i]; ++i)
+                aJson.putSimpleValue(OUString::number(static_cast<float>(pAry[i]) / 10));
+        }
+
+        return convertOString(aJson.finishAndGetAsOString());
+    }
+    else // FIXME: remove nonsensical legacy version
+    {
+        boost::property_tree::ptree aTree;
+        aTree.put("commandName", pCommand);
+        boost::property_tree::ptree aValues;
+        if ( pList )
+        {
+            sal_uInt16 nFontCount = pList->GetFontNameCount();
+            for (sal_uInt16 i = 0; i < nFontCount; ++i)
+            {
+                boost::property_tree::ptree aChildren;
+                const FontMetric& rFontMetric = pList->GetFontName(i);
+                const int* pAry = FontList::GetStdSizeAry();
+                sal_uInt16 nSizeCount = 0;
+                while (pAry[nSizeCount])
+                {
+                    boost::property_tree::ptree aChild;
+                    aChild.put("", static_cast<float>(pAry[nSizeCount]) / 10);
+                    aChildren.push_back(std::make_pair("", aChild));
+                    nSizeCount++;
+                }
+                aValues.add_child(rFontMetric.GetFamilyName().toUtf8().getStr(), aChildren);
+            }
+        }
+        aTree.add_child("commandValues", aValues);
+        std::stringstream aStream;
+        boost::property_tree::write_json(aStream, aTree, false /* pretty */);
+        char* pJson = static_cast<char*>(malloc(aStream.str().size() + 1));
+        assert(pJson); // Don't handle OOM conditions
+        strcpy(pJson, aStream.str().c_str());
+        pJson[aStream.str().size()] = '\0';
+        return pJson;
+    }
+}
+
+static char* getFontSubset (std::string_view aFontName)
+{
+    OUString aFoundFont(::rtl::Uri::decode(OStringToOUString(aFontName, RTL_TEXTENCODING_UTF8), rtl_UriDecodeStrict, RTL_TEXTENCODING_UTF8));
+
+    boost::property_tree::ptree aTree;
+    aTree.put("commandName", ".uno:FontSubset");
+    boost::property_tree::ptree aValues;
+
+    if (const vcl::Font* pFont = FindFont(aFoundFont))
+    {
+        FontCharMapRef xFontCharMap (new FontCharMap());
+        auto aDevice(VclPtr<VirtualDevice>::Create(DeviceFormat::WITHOUT_ALPHA));
+
+        aDevice->SetFont(*pFont);
+        aDevice->GetFontCharMap(xFontCharMap);
+        SubsetMap aSubMap(xFontCharMap);
+
+        for (auto const& subset : aSubMap.GetSubsetMap())
+        {
+            boost::property_tree::ptree aChild;
+            aChild.put("", static_cast<int>(ublock_getCode(subset.GetRangeMin())));
+            aValues.push_back(std::make_pair("", aChild));
+        }
+    }
+
+    aTree.add_child("commandValues", aValues);
+    std::stringstream aStream;
+    boost::property_tree::write_json(aStream, aTree, false /* pretty */);
+    char* pJson = static_cast<char*>(malloc(aStream.str().size() + 1));
+    assert(pJson); // Don't handle OOM conditions
+    strcpy(pJson, aStream.str().c_str());
+    pJson[aStream.str().size()] = '\0';
+    return pJson;
+}
+
+static char* getStyles(LibreOfficeKitDocument* pThis, const char* pCommand)
+{
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    boost::property_tree::ptree aTree;
+    aTree.put("commandName", pCommand);
+    uno::Reference<css::style::XStyleFamiliesSupplier> xStyleFamiliesSupplier(pDocument->mxComponent, uno::UNO_QUERY);
+    const uno::Reference<container::XNameAccess> xStyleFamilies = xStyleFamiliesSupplier->getStyleFamilies();
+    if (!xStyleFamilies.is())
+    {
+        return nullptr;
+    }
+    const uno::Sequence<OUString> aStyleFamilies = xStyleFamilies->getElementNames();
+
+    static constexpr OUString aWriterStyles[] =
+    {
+        u"Text body"_ustr,
+        u"Quotations"_ustr,
+        u"Title"_ustr,
+        u"Subtitle"_ustr,
+        u"Heading 1"_ustr,
+        u"Heading 2"_ustr,
+        u"Heading 3"_ustr,
+    };
+
+    // We need to keep a list of the default style names
+    // in order to filter these out later when processing
+    // the full list of styles.
+    std::set<OUString> aDefaultStyleNames;
+
+    boost::property_tree::ptree aValues;
+    for (OUString const & sStyleFam : aStyleFamilies)
+    {
+        boost::property_tree::ptree aChildren;
+        uno::Reference<container::XNameAccess> xStyleFamily(xStyleFamilies->getByName(sStyleFam), uno::UNO_QUERY);
+
+        // Writer provides a huge number of styles, we have a list of 7 "default" styles which
+        // should be shown in the normal dropdown, which we should add to the start of the list
+        // to simplify their selection.
+        if (sStyleFam == "ParagraphStyles"
+            && doc_getDocumentType(pThis) == LOK_DOCTYPE_TEXT)
+        {
+            for (const OUString& rStyle: aWriterStyles)
+            {
+                aDefaultStyleNames.insert( rStyle );
+
+                boost::property_tree::ptree aChild;
+                aChild.put("", rStyle.toUtf8());
+                aChildren.push_back(std::make_pair("", aChild));
+            }
+        }
+
+        const uno::Sequence<OUString> aStyles = xStyleFamily->getElementNames();
+        for (const OUString& rStyle: aStyles )
+        {
+            // Filter out the default styles - they are already at the top
+            // of the list
+            if (aDefaultStyleNames.find(rStyle) == aDefaultStyleNames.end() ||
+                (sStyleFam != "ParagraphStyles" || doc_getDocumentType(pThis) != LOK_DOCTYPE_TEXT) )
+            {
+                boost::property_tree::ptree aChild;
+                aChild.put("", rStyle.toUtf8());
+                aChildren.push_back(std::make_pair("", aChild));
+            }
+        }
+        aValues.add_child(sStyleFam.toUtf8().getStr(), aChildren);
+    }
+
+    // Header & Footer Styles
+    {
+        boost::property_tree::ptree aChild;
+        boost::property_tree::ptree aChildren;
+        static constexpr OUString sPageStyles(u"PageStyles"_ustr);
+        uno::Reference<beans::XPropertySet> xProperty;
+        uno::Reference<container::XNameContainer> xContainer;
+
+        if (xStyleFamilies->hasByName(sPageStyles) && (xStyleFamilies->getByName(sPageStyles) >>= xContainer))
+        {
+            const uno::Sequence<OUString> aSeqNames = xContainer->getElementNames();
+            for (OUString const & sName : aSeqNames)
+            {
+                bool bIsPhysical;
+                xProperty.set(xContainer->getByName(sName), uno::UNO_QUERY);
+                if (xProperty.is() && (xProperty->getPropertyValue(u"IsPhysical"_ustr) >>= bIsPhysical) && bIsPhysical)
+                {
+                    OUString displayName;
+                    xProperty->getPropertyValue(u"DisplayName"_ustr) >>= displayName;
+                    aChild.put("", displayName.toUtf8());
+                    aChildren.push_back(std::make_pair("", aChild));
+                }
+            }
+            aValues.add_child("HeaderFooter", aChildren);
+        }
+    }
+
+    {
+        boost::property_tree::ptree aCommandList;
+
+        {
+            boost::property_tree::ptree aChild;
+
+            OUString sClearFormat = SvxResId(RID_SVXSTR_CLEARFORM);
+
+            boost::property_tree::ptree aName;
+            aName.put("", sClearFormat.toUtf8());
+            aChild.push_back(std::make_pair("text", aName));
+
+            boost::property_tree::ptree aCommand;
+            aCommand.put("", ".uno:ResetAttributes");
+            aChild.push_back(std::make_pair("id", aCommand));
+
+            aCommandList.push_back(std::make_pair("", aChild));
+        }
+
+        aValues.add_child("Commands", aCommandList);
+    }
+
+    aTree.add_child("commandValues", aValues);
+    std::stringstream aStream;
+    boost::property_tree::write_json(aStream, aTree, false /* pretty */);
+    char* pJson = static_cast<char*>(malloc(aStream.str().size() + 1));
+    assert(pJson); // Don't handle OOM conditions
+    strcpy(pJson, aStream.str().c_str());
+    pJson[aStream.str().size()] = '\0';
+    return pJson;
+}
+
+namespace {
+
+enum class UndoOrRedo
+{
+    UNDO,
+    REDO
+};
+
+}
+
+/// Returns the JSON representation of either an undo or a redo stack.
+static char* getUndoOrRedo(LibreOfficeKitDocument* pThis, UndoOrRedo eCommand)
+{
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    auto pBaseModel = dynamic_cast<SfxBaseModel*>(pDocument->mxComponent.get());
+    if (!pBaseModel)
+        return nullptr;
+
+    SfxObjectShell* pObjectShell = pBaseModel->GetObjectShell();
+    if (!pObjectShell)
+        return nullptr;
+
+    SfxUndoManager* pUndoManager = pObjectShell->GetUndoManager();
+    if (!pUndoManager)
+        return nullptr;
+
+    OUString aString;
+    if (eCommand == UndoOrRedo::UNDO)
+        aString = pUndoManager->GetUndoActionsInfo();
+    else
+        aString = pUndoManager->GetRedoActionsInfo();
+    char* pJson = convertOUString(aString);
+    return pJson;
+}
+
+/// Returns the JSON representation of the redline stack.
+static char* getTrackedChanges(LibreOfficeKitDocument* pThis)
+{
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    uno::Reference<document::XRedlinesSupplier> xRedlinesSupplier(pDocument->mxComponent, uno::UNO_QUERY);
+    tools::JsonWriter aJson;
+    // We want positions of the track changes also which is not possible from
+    // UNO. Enable positioning information for text documents only for now, so
+    // construct the tracked changes JSON from inside the sw/, not here using UNO
+    if (doc_getDocumentType(pThis) != LOK_DOCTYPE_TEXT && xRedlinesSupplier.is())
+    {
+        auto redlinesNode = aJson.startArray("redlines");
+        uno::Reference<container::XEnumeration> xRedlines = xRedlinesSupplier->getRedlines()->createEnumeration();
+        for (size_t nIndex = 0; xRedlines->hasMoreElements(); ++nIndex)
+        {
+            uno::Reference<beans::XPropertySet> xRedline(xRedlines->nextElement(), uno::UNO_QUERY);
+            auto redlineNode = aJson.startStruct();
+            aJson.put("index", static_cast<sal_Int32>(nIndex));
+
+            OUString sAuthor;
+            xRedline->getPropertyValue(u"RedlineAuthor"_ustr) >>= sAuthor;
+            aJson.put("author", sAuthor);
+
+            OUString sType;
+            xRedline->getPropertyValue(u"RedlineType"_ustr) >>= sType;
+            aJson.put("type", sType);
+
+            OUString sComment;
+            xRedline->getPropertyValue(u"RedlineComment"_ustr) >>= sComment;
+            aJson.put("comment", sComment);
+
+            OUString sDescription;
+            xRedline->getPropertyValue(u"RedlineDescription"_ustr) >>= sDescription;
+            aJson.put("description", sDescription);
+
+            util::DateTime aDateTime;
+            xRedline->getPropertyValue(u"RedlineDateTime"_ustr) >>= aDateTime;
+            OUString sDateTime = utl::toISO8601(aDateTime);
+            aJson.put("dateTime", sDateTime);
+        }
+    }
+    else
+    {
+        ITiledRenderable* pDoc = getTiledRenderable(pThis);
+        if (!pDoc)
+        {
+            SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+            return nullptr;
+        }
+        pDoc->getTrackedChanges(aJson);
+    }
+
+    return convertOString(aJson.finishAndGetAsOString());
+}
+
+
+/// Returns the JSON representation of the redline author table.
+static char* getTrackedChangeAuthors(LibreOfficeKitDocument* pThis)
+{
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+    tools::JsonWriter aJsonWriter;
+    pDoc->getTrackedChangeAuthors(aJsonWriter);
+    return convertOString(aJsonWriter.finishAndGetAsOString());
+}
+
+static char* doc_getCommandValues(LibreOfficeKitDocument* pThis, const char* pCommand)
+{
+    comphelper::ProfileZone aZone("doc_getCommandValues");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    const std::string_view aCommand(pCommand);
+    static constexpr std::string_view aViewRowColumnHeaders(".uno:ViewRowColumnHeaders");
+    static constexpr std::string_view aSheetGeometryData(".uno:SheetGeometryData");
+    static constexpr std::string_view aFontSubset(".uno:FontSubset&name=");
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return nullptr;
+    }
+
+    if (aCommand == ".uno:ReadOnly")
+    {
+        return getDocReadOnly(pThis);
+    }
+    else if (aCommand == ".uno:LanguageStatus")
+    {
+        return getLanguages(pCommand);
+    }
+    else if (aCommand == ".uno:CharFontName")
+    {
+        return getFonts(pCommand, !gUseCompactFonts);
+    }
+    else if (aCommand == ".uno:StyleApply")
+    {
+        return getStyles(pThis, pCommand);
+    }
+    else if (aCommand == ".uno:Undo")
+    {
+        return getUndoOrRedo(pThis, UndoOrRedo::UNDO);
+    }
+    else if (aCommand == ".uno:Redo")
+    {
+        return getUndoOrRedo(pThis, UndoOrRedo::REDO);
+    }
+    else if (aCommand == ".uno:AcceptTrackedChanges")
+    {
+        return getTrackedChanges(pThis);
+    }
+    else if (aCommand == ".uno:TrackedChangeAuthors")
+    {
+        return getTrackedChangeAuthors(pThis);
+    }
+    else if (aCommand == ".uno:ViewAnnotations")
+    {
+        return getPostIts(pThis);
+    }
+    else if (aCommand == ".uno:ViewAnnotationsPosition")
+    {
+        return getPostItsPos(pThis);
+    }
+    else if (aCommand == ".uno:RulerState")
+    {
+        return getRulerState(pThis);
+    }
+    else if (aCommand == ".uno:ViewRenderState")
+    {
+        return convertOString(pDoc->getViewRenderState());
+    }
+    else if (aCommand.starts_with(aViewRowColumnHeaders))
+    {
+        tools::Rectangle aRectangle;
+        if (aCommand.size() > aViewRowColumnHeaders.size())
+        {
+            // Command has parameters.
+            int nX = 0;
+            int nY = 0;
+            int nWidth = 0;
+            int nHeight = 0;
+            std::string_view aArguments = aCommand.substr(aViewRowColumnHeaders.size() + 1);
+            sal_Int32 nParamIndex = 0;
+            do
+            {
+                std::string_view aParamToken = o3tl::getToken(aArguments, 0, '&', nParamIndex);
+                sal_Int32 nIndex = 0;
+                std::string_view aKey;
+                std::string_view aValue;
+                do
+                {
+                    std::string_view aToken = o3tl::getToken(aParamToken, 0, '=', nIndex);
+                    if (aKey.empty())
+                        aKey = aToken;
+                    else
+                        aValue = aToken;
+                }
+                while (nIndex >= 0);
+                if (aKey == "x")
+                    nX = o3tl::toInt32(aValue);
+                else if (aKey == "y")
+                    nY = o3tl::toInt32(aValue);
+                else if (aKey == "width")
+                    nWidth = o3tl::toInt32(aValue);
+                else if (aKey == "height")
+                    nHeight = o3tl::toInt32(aValue);
+            }
+            while (nParamIndex >= 0);
+
+            aRectangle = tools::Rectangle(nX, nY, nX + nWidth, nY + nHeight);
+        }
+
+        tools::JsonWriter aJsonWriter;
+        pDoc->getRowColumnHeaders(aRectangle, aJsonWriter);
+        return convertOString(aJsonWriter.finishAndGetAsOString());
+    }
+    else if (aCommand.starts_with(aSheetGeometryData))
+    {
+        bool bColumns = true;
+        bool bRows = true;
+        bool bSizes = true;
+        bool bHidden = true;
+        bool bFiltered = true;
+        bool bGroups = true;
+        if (aCommand.size() > aSheetGeometryData.size())
+        {
+            bColumns = bRows = bSizes = bHidden = bFiltered = bGroups = false;
+
+            std::string_view aArguments = aCommand.substr(aSheetGeometryData.size() + 1);
+            sal_Int32 nParamIndex = 0;
+            do
+            {
+                std::string_view aParamToken = o3tl::getToken(aArguments, 0, '&', nParamIndex);
+                sal_Int32 nIndex = 0;
+                std::string_view aKey;
+                std::string_view aValue;
+                do
+                {
+                    std::string_view aToken = o3tl::getToken(aParamToken, 0, '=', nIndex);
+                    if (aKey.empty())
+                        aKey = aToken;
+                    else
+                        aValue = aToken;
+
+                } while (nIndex >= 0);
+
+                bool bEnableFlag = aValue.empty() ||
+                    o3tl::equalsIgnoreAsciiCase(aValue, "true") || o3tl::toInt32(aValue) > 0;
+                if (!bEnableFlag)
+                    continue;
+
+                if (aKey == "columns")
+                    bColumns = true;
+                else if (aKey == "rows")
+                    bRows = true;
+                else if (aKey == "sizes")
+                    bSizes = true;
+                else if (aKey == "hidden")
+                    bHidden = true;
+                else if (aKey == "filtered")
+                    bFiltered = true;
+                else if (aKey == "groups")
+                    bGroups = true;
+
+            } while (nParamIndex >= 0);
+        }
+
+        OString aGeomDataStr
+            = pDoc->getSheetGeometryData(bColumns, bRows, bSizes, bHidden, bFiltered, bGroups);
+
+        if (aGeomDataStr.isEmpty())
+            return nullptr;
+
+        return convertOString(aGeomDataStr);
+    }
+    else if (aCommand.starts_with(".uno:CellCursor"))
+    {
+        // Ignore command's deprecated parameters.
+        tools::JsonWriter aJsonWriter;
+        pDoc->getCellCursor(aJsonWriter);
+        return convertOString(aJsonWriter.finishAndGetAsOString());
+    }
+    else if (aCommand.starts_with(aFontSubset))
+    {
+        return getFontSubset(aCommand.substr(aFontSubset.size()));
+    }
+    else if (pDoc->supportsCommand(INetURLObject(OUString::fromUtf8(aCommand)).GetURLPath()))
+    {
+        tools::JsonWriter aJsonWriter;
+        pDoc->getCommandValues(aJsonWriter, aCommand);
+        return convertOString(aJsonWriter.finishAndGetAsOString());
+    }
+    else
+    {
+        SetLastExceptionMsg(u"Unknown command, no values returned"_ustr);
+        return nullptr;
+    }
+}
+
+static void doc_setClientZoom(LibreOfficeKitDocument* pThis, int nTilePixelWidth, int nTilePixelHeight,
+        int nTileTwipWidth, int nTileTwipHeight)
+{
+    comphelper::ProfileZone aZone("doc_setClientZoom");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    pDoc->setClientZoom(nTilePixelWidth, nTilePixelHeight, nTileTwipWidth, nTileTwipHeight);
+}
+
+static void doc_setClientVisibleArea(LibreOfficeKitDocument* pThis, int nX, int nY, int nWidth, int nHeight)
+{
+    comphelper::ProfileZone aZone("doc_setClientVisibleArea");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    tools::Rectangle aRectangle(Point(nX, nY), Size(nWidth, nHeight));
+    pDoc->setClientVisibleArea(aRectangle);
+}
+
+static void doc_setOutlineState(LibreOfficeKitDocument* pThis, bool bColumn, int nLevel, int nIndex, bool bHidden)
+{
+    comphelper::ProfileZone aZone("doc_setOutlineState");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    pDoc->setOutlineState(bColumn, nLevel, nIndex, bHidden);
+}
+
+static int doc_createViewWithOptions(LibreOfficeKitDocument* pThis,
+                                     const char* pOptions)
+{
+    comphelper::ProfileZone aZone("doc_createView");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    OUString aOptions = getUString(pOptions);
+    const OUString aLanguage = extractParameter(aOptions, u"Language");
+
+    if (!aLanguage.isEmpty())
+    {
+        // Set the LOK language tag, used for dialog tunneling.
+        comphelper::LibreOfficeKit::setLanguageTag(LanguageTag(aLanguage));
+        comphelper::LibreOfficeKit::setLocale(LanguageTag(aLanguage));
+    }
+
+    const OUString aDeviceFormFactor = extractParameter(aOptions, u"DeviceFormFactor");
+    SfxLokHelper::setDeviceFormFactor(aDeviceFormFactor);
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+    const int nId = SfxLokHelper::createView(pDocument->mnDocumentId);
+
+    vcl::lok::numberOfViewsChanged(SfxLokHelper::getViewsCount(pDocument->mnDocumentId));
+
+#ifdef IOS
+    (void) pThis;
+#else
+    forceSetClipboardForCurrentView(pThis);
+#endif
+
+    return nId;
+}
+
+static int doc_createView(LibreOfficeKitDocument* pThis)
+{
+    return doc_createViewWithOptions(pThis, nullptr); // No options.
+}
+
+static void doc_destroyView(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* pThis, int nId)
+{
+    comphelper::ProfileZone aZone("doc_destroyView");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+#ifndef IOS
+    LOKClipboardFactory::releaseClipboardForView(nId);
+#endif
+
+    SfxLokHelper::destroyView(nId);
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+    vcl::lok::numberOfViewsChanged(SfxLokHelper::getViewsCount(pDocument->mnDocumentId));
+}
+
+static void doc_setView(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* /*pThis*/, int nId)
+{
+    comphelper::ProfileZone aZone("doc_setView");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    SfxLokHelper::setView(nId);
+}
+
+static int doc_getView(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* /*pThis*/)
+{
+    comphelper::ProfileZone aZone("doc_getView");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    return SfxLokHelper::getView();
+}
+
+static int doc_getViewsCount(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* pThis)
+{
+    comphelper::ProfileZone aZone("doc_getViewsCount");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+    return SfxLokHelper::getViewsCount(pDocument->mnDocumentId);
+}
+
+static bool doc_getViewIds(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* pThis, int* pArray, size_t nSize)
+{
+    comphelper::ProfileZone aZone("doc_getViewsIds");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+    return SfxLokHelper::getViewIds(pDocument->mnDocumentId, pArray, nSize);
+}
+
+static void doc_setViewLanguage(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* /*pThis*/, int nId, const char* language)
+{
+    comphelper::ProfileZone aZone("doc_setViewLanguage");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    OUString sLanguage = OStringToOUString(language, RTL_TEXTENCODING_UTF8);
+    SfxLokHelper::setViewLanguage(nId, sLanguage);
+    SfxLokHelper::setViewLocale(nId, sLanguage);
+}
+
+unsigned char* doc_renderFont(LibreOfficeKitDocument* pThis,
+                              const char* pFontName,
+                              const char* pChar,
+                              int* pFontWidth,
+                              int* pFontHeight)
+{
+    return doc_renderFontOrientation(pThis, pFontName, pChar, pFontWidth, pFontHeight, 0);
+}
+
+unsigned char* doc_renderFontOrientation(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* /*pThis*/,
+                              const char* pFontName,
+                              const char* pChar,
+                              int* pFontWidth,
+                              int* pFontHeight,
+                              int pOrientation)
+{
+    comphelper::ProfileZone aZone("doc_renderFont");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    const int nDefaultFontSize = 25;
+
+    auto aFont = FindFont_FallbackToDefault(OStringToOUString(pFontName, RTL_TEXTENCODING_UTF8));
+
+    OUString aText(OStringToOUString(pChar, RTL_TEXTENCODING_UTF8));
+    if (aText.isEmpty())
+        aText = aFont.GetFamilyName();
+
+    auto aDevice(VclPtr<VirtualDevice>::Create(DeviceFormat::WITHOUT_ALPHA));
+    ::tools::Rectangle aRect;
+    aFont.SetFontSize(Size(0, nDefaultFontSize));
+    aFont.SetOrientation(Degree10(pOrientation));
+    aDevice->SetFont(aFont);
+    aDevice->GetTextBoundRect(aRect, aText);
+    if (aRect.IsEmpty())
+        return nullptr;
+
+    int nFontWidth = aRect.Right() + 1;
+    int nFontHeight = aRect.Bottom() + 1;
+
+    if (nFontWidth <= 0 || nFontHeight <= 0)
+        return nullptr;
+
+    if (*pFontWidth > 0 && *pFontHeight > 0)
+    {
+        double fScaleX = *pFontWidth / static_cast<double>(nFontWidth) / 1.5;
+        double fScaleY = *pFontHeight / static_cast<double>(nFontHeight) / 1.5;
+
+        double fScale = std::min(fScaleX, fScaleY);
+
+        if (fScale >= 1.0)
+        {
+            int nFontSize = fScale * nDefaultFontSize;
+            aFont.SetFontSize(Size(0, nFontSize));
+            aDevice->SetFont(aFont);
+        }
+
+        aRect = tools::Rectangle(0, 0, *pFontWidth, *pFontHeight);
+
+        nFontWidth = *pFontWidth;
+        nFontHeight = *pFontHeight;
+
+    }
+
+    unsigned char* pBuffer = static_cast<unsigned char*>(malloc(4 * nFontWidth * nFontHeight));
+    if (!pBuffer)
+        return nullptr;
+
+    memset(pBuffer, 0, nFontWidth * nFontHeight * 4);
+    aDevice->SetBackground(Wallpaper(COL_TRANSPARENT));
+    aDevice->SetOutputSizePixelScaleOffsetAndLOKBuffer(
+                Size(nFontWidth, nFontHeight), Fraction(1.0), Point(),
+                pBuffer);
+
+    if (*pFontWidth > 0 && *pFontHeight > 0)
+    {
+        DrawTextFlags const nStyle =
+                DrawTextFlags::Center
+                | DrawTextFlags::VCenter
+                | DrawTextFlags::MultiLine
+                | DrawTextFlags::WordBreak;// | DrawTextFlags::WordBreakHyphenation ;
+
+        aDevice->DrawText(aRect, aText, nStyle);
+    }
+    else
+    {
+        *pFontWidth = nFontWidth;
+        *pFontHeight = nFontHeight;
+
+        aDevice->DrawText(Point(0,0), aText);
+    }
+
+
+    return pBuffer;
+}
+
+
+static void doc_paintWindow(LibreOfficeKitDocument* pThis, unsigned nLOKWindowId,
+                            unsigned char* pBuffer,
+                            const int nX, const int nY,
+                            const int nWidth, const int nHeight)
+{
+    doc_paintWindowDPI(pThis, nLOKWindowId, pBuffer, nX, nY, nWidth, nHeight, 1.0);
+}
+
+static void doc_paintWindowDPI(LibreOfficeKitDocument* pThis, unsigned nLOKWindowId,
+                               unsigned char* pBuffer,
+                               const int nX, const int nY,
+                               const int nWidth, const int nHeight,
+                               const double fDPIScale)
+{
+    doc_paintWindowForView(pThis, nLOKWindowId, pBuffer, nX, nY, nWidth, nHeight, fDPIScale, -1);
+}
+
+static void doc_paintWindowForView(LibreOfficeKitDocument* pThis, unsigned nLOKWindowId,
+                                   unsigned char* pBuffer, const int nX, const int nY,
+                                   const int nWidth, const int nHeight,
+                                   const double fDPIScale, int viewId)
+{
+    comphelper::ProfileZone aZone("doc_paintWindowDPI");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    VclPtr<Window> pWindow = vcl::Window::FindLOKWindow(nLOKWindowId);
+    if (!pWindow)
+    {
+        SetLastExceptionMsg(u"Document doesn't support dialog rendering, or window not found."_ustr);
+        return;
+    }
+
+    // Used to avoid work in setView if set.
+    comphelper::LibreOfficeKit::setDialogPainting(true);
+
+    if (viewId >= 0)
+        doc_setView(pThis, viewId);
+
+    // Setup cairo (or CoreGraphics, in the iOS case) to draw with the changed DPI scale (and return
+    // back to 1.0 when the painting finishes)
+    comphelper::ScopeGuard dpiScaleGuard([]() { comphelper::LibreOfficeKit::setDPIScale(1.0); });
+    comphelper::LibreOfficeKit::setDPIScale(fDPIScale);
+
+#if defined(IOS)
+    // Onine uses the LOK_TILEMODE_RGBA by default so flip the normal flags
+    // to kCGImageAlphaNoneSkipLast | kCGImageByteOrder32Big
+    CGContextRef cgc = CGBitmapContextCreate(pBuffer, nWidth, nHeight, 8, nWidth*4, CGColorSpaceCreateDeviceRGB(), kCGImageAlphaNoneSkipLast | kCGImageByteOrder32Big);
+
+    CGContextTranslateCTM(cgc, 0, nHeight);
+    CGContextScaleCTM(cgc, fDPIScale, -fDPIScale);
+
+    SystemGraphicsData aData;
+    aData.rCGContext = cgc;
+
+    ScopedVclPtrInstance<VirtualDevice> pDevice(aData, Size(1, 1), DeviceFormat::WITHOUT_ALPHA);
+    pDevice->SetBackground(Wallpaper(COL_TRANSPARENT));
+
+    pDevice->SetOutputSizePixel(Size(nWidth, nHeight));
+
+    MapMode aMapMode(pDevice->GetMapMode());
+    aMapMode.SetOrigin(Point(-(nX / fDPIScale), -(nY / fDPIScale)));
+    pDevice->SetMapMode(aMapMode);
+
+    pWindow->PaintToDevice(pDevice.get(), Point(0, 0));
+
+    CGContextRelease(cgc);
+
+#else
+
+    ScopedVclPtrInstance<VirtualDevice> pDevice(DeviceFormat::WITHOUT_ALPHA);
+    pDevice->SetBackground(Wallpaper(COL_TRANSPARENT));
+
+    pDevice->SetOutputSizePixelScaleOffsetAndLOKBuffer(Size(nWidth, nHeight), Fraction(1.0), Point(), pBuffer);
+
+    MapMode aMapMode(pDevice->GetMapMode());
+    aMapMode.SetOrigin(Point(-(nX / fDPIScale), -(nY / fDPIScale)));
+    pDevice->SetMapMode(aMapMode);
+
+    pWindow->PaintToDevice(pDevice.get(), Point(0, 0));
+#endif
+
+    comphelper::LibreOfficeKit::setDialogPainting(false);
+}
+
+static void doc_postWindow(LibreOfficeKitDocument* /*pThis*/, unsigned nLOKWindowId, int nAction, const char* pData)
+{
+    comphelper::ProfileZone aZone("doc_postWindow");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    VclPtr<Window> pWindow = vcl::Window::FindLOKWindow(nLOKWindowId);
+    if (!pWindow)
+    {
+        SetLastExceptionMsg(u"Document doesn't support dialog rendering, or window not found."_ustr);
+        return;
+    }
+
+    if (nAction == LOK_WINDOW_CLOSE)
+    {
+        vcl::CloseTopLevel(pWindow);
+    }
+    else if (nAction == LOK_WINDOW_PASTE)
+    {
+#ifndef IOS
+        OUString aMimeType;
+        css::uno::Sequence<sal_Int8> aData;
+        std::vector<beans::PropertyValue> aArgs(jsonToPropertyValuesVector(pData));
+        {
+            aArgs.size() == 2 &&
+            aArgs[0].Name == "MimeType" && (aArgs[0].Value >>= aMimeType) &&
+            aArgs[1].Name == "Data" && (aArgs[1].Value >>= aData);
+        }
+
+        if (!aMimeType.isEmpty() && aData.hasElements())
+        {
+            uno::Reference<datatransfer::XTransferable> xTransferable(new LOKTransferable(aMimeType, aData));
+            uno::Reference<datatransfer::clipboard::XClipboard> xClipboard(new LOKClipboard);
+            xClipboard->setContents(xTransferable, uno::Reference<datatransfer::clipboard::XClipboardOwner>());
+            pWindow->SetClipboard(xClipboard);
+
+            KeyEvent aEvent(0, KEY_PASTE, 0);
+            Application::PostKeyEvent(VclEventId::WindowKeyInput, pWindow, &aEvent);
+        }
+        else
+            SetLastExceptionMsg(u"Window command 'paste': wrong parameters."_ustr);
+#else
+        (void) pData;
+        assert(!"doc_postWindow() with LOK_WINDOW_PASTE should not be called on iOS");
+#endif
+    }
+}
+
+// CERTIFICATE AND DOCUMENT SIGNING
+static bool doc_insertCertificate(LibreOfficeKitDocument* pThis,
+                                  const unsigned char* pCertificateBinary, const int nCertificateBinarySize,
+                                  const unsigned char* pPrivateKeyBinary, const int nPrivateKeySize)
+{
+    comphelper::ProfileZone aZone("doc_insertCertificate");
+
+    if (!xContext.is())
+        return false;
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    if (!pDocument->mxComponent.is())
+        return false;
+
+    SfxBaseModel* pBaseModel = dynamic_cast<SfxBaseModel*>(pDocument->mxComponent.get());
+    if (!pBaseModel)
+        return false;
+
+    SfxObjectShell* pObjectShell = pBaseModel->GetObjectShell();
+
+    if (!pObjectShell)
+        return false;
+
+    uno::Reference<xml::crypto::XSEInitializer> xSEInitializer = xml::crypto::SEInitializer::create(xContext);
+    uno::Reference<xml::crypto::XXMLSecurityContext> xSecurityContext = xSEInitializer->createSecurityContext(OUString());
+    if (!xSecurityContext.is())
+        return false;
+
+    uno::Reference<xml::crypto::XSecurityEnvironment> xSecurityEnvironment = xSecurityContext->getSecurityEnvironment();
+    uno::Reference<xml::crypto::XCertificateCreator> xCertificateCreator(xSecurityEnvironment, uno::UNO_QUERY);
+
+    if (!xCertificateCreator.is())
+        return false;
+
+    uno::Sequence<sal_Int8> aCertificateSequence;
+
+    std::string aCertificateString(reinterpret_cast<const char*>(pCertificateBinary), nCertificateBinarySize);
+    std::string aCertificateBase64String = extractCertificate(aCertificateString);
+    if (!aCertificateBase64String.empty())
+    {
+        OUString aBase64OUString = OUString::createFromAscii(aCertificateBase64String);
+        comphelper::Base64::decode(aCertificateSequence, aBase64OUString);
+    }
+    else
+    {
+        aCertificateSequence.realloc(nCertificateBinarySize);
+        std::copy(pCertificateBinary, pCertificateBinary + nCertificateBinarySize, aCertificateSequence.getArray());
+    }
+
+    uno::Sequence<sal_Int8> aPrivateKeySequence;
+    std::string aPrivateKeyString(reinterpret_cast<const char*>(pPrivateKeyBinary), nPrivateKeySize);
+    std::string aPrivateKeyBase64String = extractPrivateKey(aPrivateKeyString);
+    if (!aPrivateKeyBase64String.empty())
+    {
+        OUString aBase64OUString = OUString::createFromAscii(aPrivateKeyBase64String);
+        comphelper::Base64::decode(aPrivateKeySequence, aBase64OUString);
+    }
+    else
+    {
+        aPrivateKeySequence.realloc(nPrivateKeySize);
+        std::copy(pPrivateKeyBinary, pPrivateKeyBinary + nPrivateKeySize, aPrivateKeySequence.getArray());
+    }
+
+    uno::Reference<security::XCertificate> xCertificate = xCertificateCreator->createDERCertificateWithPrivateKey(aCertificateSequence, aPrivateKeySequence);
+
+    if (!xCertificate.is())
+        return false;
+
+    SolarMutexGuard aGuard;
+
+    return pObjectShell->SignDocumentContentUsingCertificate(xCertificate);
+}
+
+static bool doc_addCertificate(LibreOfficeKitDocument* pThis,
+                                  const unsigned char* pCertificateBinary, const int nCertificateBinarySize)
+{
+    comphelper::ProfileZone aZone("doc_addCertificate");
+
+    if (!xContext.is())
+        return false;
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    if (!pDocument->mxComponent.is())
+        return false;
+
+    SfxBaseModel* pBaseModel = dynamic_cast<SfxBaseModel*>(pDocument->mxComponent.get());
+    if (!pBaseModel)
+        return false;
+
+    SfxObjectShell* pObjectShell = pBaseModel->GetObjectShell();
+
+    if (!pObjectShell)
+        return false;
+
+    uno::Reference<xml::crypto::XSEInitializer> xSEInitializer = xml::crypto::SEInitializer::create(xContext);
+    uno::Reference<xml::crypto::XXMLSecurityContext> xSecurityContext = xSEInitializer->createSecurityContext(OUString());
+    if (!xSecurityContext.is())
+        return false;
+
+    uno::Reference<xml::crypto::XSecurityEnvironment> xSecurityEnvironment = xSecurityContext->getSecurityEnvironment();
+    uno::Reference<xml::crypto::XCertificateCreator> xCertificateCreator(xSecurityEnvironment, uno::UNO_QUERY);
+
+    if (!xCertificateCreator.is())
+        return false;
+
+    uno::Sequence<sal_Int8> aCertificateSequence;
+
+    std::string aCertificateString(reinterpret_cast<const char*>(pCertificateBinary), nCertificateBinarySize);
+    std::string aCertificateBase64String = extractCertificate(aCertificateString);
+    if (!aCertificateBase64String.empty())
+    {
+        OUString aBase64OUString = OUString::createFromAscii(aCertificateBase64String);
+        comphelper::Base64::decode(aCertificateSequence, aBase64OUString);
+    }
+    else
+    {
+        aCertificateSequence.realloc(nCertificateBinarySize);
+        std::copy(pCertificateBinary, pCertificateBinary + nCertificateBinarySize, aCertificateSequence.getArray());
+    }
+
+    uno::Reference<security::XCertificate> xCertificate = xCertificateCreator->addDERCertificateToTheDatabase(aCertificateSequence, u"TCu,Cu,Tu"_ustr);
+
+    if (!xCertificate.is())
+        return false;
+
+    SAL_INFO("lok", "Certificate Added = IssuerName: " << xCertificate->getIssuerName() << " SubjectName: " << xCertificate->getSubjectName());
+
+    return true;
+}
+
+static int doc_getSignatureState(LibreOfficeKitDocument* pThis)
+{
+    comphelper::ProfileZone aZone("doc_getSignatureState");
+
+    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pThis);
+
+    if (!pDocument->mxComponent.is())
+        return int(SignatureState::UNKNOWN);
+
+    SfxBaseModel* pBaseModel = dynamic_cast<SfxBaseModel*>(pDocument->mxComponent.get());
+    if (!pBaseModel)
+        return int(SignatureState::UNKNOWN);
+
+    SfxObjectShell* pObjectShell = pBaseModel->GetObjectShell();
+    if (!pObjectShell)
+        return int(SignatureState::UNKNOWN);
+
+    SolarMutexGuard aGuard;
+
+    pObjectShell->RecheckSignature(false);
+
+    return int(pObjectShell->GetDocumentSignatureState());
+}
+
+static void doc_resizeWindow(LibreOfficeKitDocument* /*pThis*/, unsigned nLOKWindowId,
+                             const int nWidth, const int nHeight)
+{
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    VclPtr<Window> pWindow = vcl::Window::FindLOKWindow(nLOKWindowId);
+    if (!pWindow)
+    {
+        SetLastExceptionMsg(u"Document doesn't support dialog resizing, or window not found."_ustr);
+        return;
+    }
+
+    pWindow->SetSizePixel(Size(nWidth, nHeight));
+}
+
+static void doc_completeFunction(LibreOfficeKitDocument* pThis, const char* pFunctionName)
+{
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    pDoc->completeFunction(OUString::fromUtf8(pFunctionName));
+}
+
+
+static void doc_sendFormFieldEvent(LibreOfficeKitDocument* pThis, const char* pArguments)
+{
+    SolarMutexGuard aGuard;
+
+    // Supported in Writer only
+    if (doc_getDocumentType(pThis) != LOK_DOCTYPE_TEXT)
+            return;
+
+    StringMap aMap(jsdialog::jsonToStringMap(pArguments));
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering!"_ustr);
+        return;
+    }
+
+    // Sanity check
+    if (aMap.find(u"type"_ustr) == aMap.end() || aMap.find(u"cmd"_ustr) == aMap.end())
+    {
+        SetLastExceptionMsg(u"Wrong arguments for sendFormFieldEvent!"_ustr);
+        return;
+    }
+
+    pDoc->executeFromFieldEvent(aMap);
+}
+
+static bool doc_renderSearchResult(LibreOfficeKitDocument* pThis,
+                                     const char* pSearchResult, unsigned char** pBitmapBuffer,
+                                     int* pWidth, int* pHeight, size_t* pByteSize)
+{
+    if (doc_getDocumentType(pThis) != LOK_DOCTYPE_TEXT)
+        return false;
+
+    if (pBitmapBuffer == nullptr)
+        return false;
+
+    if (!pSearchResult || pSearchResult[0] == '\0')
+        return false;
+
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return false;
+    }
+
+    auto aRectangleVector = pDoc->getSearchResultRectangles(pSearchResult);
+
+    // combine into a rectangle union
+    basegfx::B2DRange aRangeUnion;
+    for (basegfx::B2DRange const & rRange : aRectangleVector)
+    {
+        aRangeUnion.expand(rRange);
+    }
+
+    int aPixelWidth = o3tl::convert(aRangeUnion.getWidth(), o3tl::Length::twip, o3tl::Length::px);
+    int aPixelHeight = o3tl::convert(aRangeUnion.getHeight(), o3tl::Length::twip, o3tl::Length::px);
+
+    size_t nByteSize = aPixelWidth * aPixelHeight * 4;
+
+    *pWidth = aPixelWidth;
+    *pHeight = aPixelHeight;
+    *pByteSize = nByteSize;
+
+    auto* pBuffer = static_cast<unsigned char*>(std::malloc(nByteSize));
+
+    doc_paintTile(pThis, pBuffer,
+        aPixelWidth, aPixelHeight,
+        aRangeUnion.getMinX(), aRangeUnion.getMinY(),
+        aRangeUnion.getWidth(), aRangeUnion.getHeight());
+
+    *pBitmapBuffer = pBuffer;
+
+    return true;
+}
+
+static void doc_sendContentControlEvent(LibreOfficeKitDocument* pThis, const char* pArguments)
+{
+    SolarMutexGuard aGuard;
+
+    // Supported in Writer only
+    if (doc_getDocumentType(pThis) != LOK_DOCTYPE_TEXT)
+    {
+        return;
+    }
+
+    if (SfxViewShell::IsCurrentLokViewReadOnly())
+        return;
+
+    StringMap aMap(jsdialog::jsonToStringMap(pArguments));
+    ITiledRenderable* pDoc = getTiledRenderable(pThis);
+    if (!pDoc)
+    {
+        SetLastExceptionMsg(u"Document doesn't support tiled rendering"_ustr);
+        return;
+    }
+
+    // Sanity check
+    if (aMap.find(u"type"_ustr) == aMap.end())
+    {
+        SetLastExceptionMsg(u"Missing 'type' argument for sendContentControlEvent"_ustr);
+        return;
+    }
+
+    pDoc->executeContentControlEvent(aMap);
+}
+
+static void doc_setViewTimezone(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* /*pThis*/, int nId,
+                                const char* pTimezone)
+{
+    comphelper::ProfileZone aZone("doc_setViewTimezone");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    // Leave the default if we get a null timezone.
+    if (pTimezone)
+    {
+        OUString sTimezone = OStringToOUString(pTimezone, RTL_TEXTENCODING_UTF8);
+        SfxLokHelper::setViewTimezone(nId, true, sTimezone);
+    }
+}
+
+static void doc_setViewReadOnly(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* /*pThis*/, int nId, const bool readOnly)
+{
+    comphelper::ProfileZone aZone("doc_setViewReadOnly");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    SfxLokHelper::setViewReadOnly(nId, readOnly);
+}
+
+static void doc_setAllowChangeComments(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* /*pThis*/, int nId, const bool allow)
+{
+    comphelper::ProfileZone aZone("doc_setAllowChangeComments");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    SfxLokHelper::setAllowChangeComments(nId, allow);
+}
+
+static void doc_setAccessibilityState(SAL_UNUSED_PARAMETER LibreOfficeKitDocument* pThis, int nId, bool nEnabled)
+{
+    SolarMutexGuard aGuard;
+
+    int nDocType = getDocumentType(pThis);
+    if (!(nDocType == LOK_DOCTYPE_TEXT || nDocType == LOK_DOCTYPE_PRESENTATION || nDocType == LOK_DOCTYPE_SPREADSHEET))
+        return;
+
+    SfxLokHelper::setAccessibilityState(nId, nEnabled);
+}
+
+static char* lo_getError (LibreOfficeKit *pThis)
+{
+    comphelper::ProfileZone aZone("lo_getError");
+
+    SolarMutexGuard aGuard;
+
+    LibLibreOffice_Impl* pLib = static_cast<LibLibreOffice_Impl*>(pThis);
+    return convertOUString(pLib->maLastExceptionMsg);
+}
+
+static void lo_freeError(char* pFree)
+{
+    free(pFree);
+}
+
+static char* lo_getFilterTypes(LibreOfficeKit* pThis)
+{
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    LibLibreOffice_Impl* pImpl = static_cast<LibLibreOffice_Impl*>(pThis);
+
+    if (!xSFactory.is())
+        xSFactory = comphelper::getProcessServiceFactory();
+
+    if (!xSFactory.is())
+    {
+        pImpl->maLastExceptionMsg = u"Service factory is not available"_ustr;
+        return nullptr;
+    }
+
+    uno::Reference<container::XNameAccess> xTypeDetection(xSFactory->createInstance(u"com.sun.star.document.TypeDetection"_ustr), uno::UNO_QUERY);
+    const uno::Sequence<OUString> aTypes = xTypeDetection->getElementNames();
+    tools::JsonWriter aJson;
+    for (const OUString& rType : aTypes)
+    {
+        uno::Sequence<beans::PropertyValue> aValues;
+        if (xTypeDetection->getByName(rType) >>= aValues)
+        {
+            auto it = std::find_if(std::cbegin(aValues), std::cend(aValues), [](const beans::PropertyValue& rValue) { return rValue.Name == "MediaType"; });
+            OUString aValue;
+            if (it != std::cend(aValues) && (it->Value >>= aValue) && !aValue.isEmpty())
+            {
+                auto typeNode = aJson.startNode(rType.toUtf8());
+                aJson.put("MediaType", aValue.toUtf8());
+            }
+        }
+    }
+
+    return convertOString(aJson.finishAndGetAsOString());
+}
+
+static void lo_setOptionalFeatures(LibreOfficeKit* pThis, unsigned long long const features)
+{
+    comphelper::ProfileZone aZone("lo_setOptionalFeatures");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    LibLibreOffice_Impl *const pLib = static_cast<LibLibreOffice_Impl*>(pThis);
+    pLib->mOptionalFeatures = features;
+    if (features & LOK_FEATURE_PART_IN_INVALIDATION_CALLBACK)
+        comphelper::LibreOfficeKit::setPartInInvalidation(true);
+    if (features & LOK_FEATURE_NO_TILED_ANNOTATIONS)
+        comphelper::LibreOfficeKit::setTiledAnnotations(false);
+    if (features & LOK_FEATURE_RANGE_HEADERS)
+        comphelper::LibreOfficeKit::setRangeHeaders(true);
+    if (features & LOK_FEATURE_VIEWID_IN_VISCURSOR_INVALIDATION_CALLBACK)
+        comphelper::LibreOfficeKit::setViewIdForVisCursorInvalidation(true);
+}
+
+static void lo_setDocumentPassword(LibreOfficeKit* pThis,
+        const char* pURL, const char* pPassword)
+{
+    comphelper::ProfileZone aZone("lo_setDocumentPassword");
+
+    SolarMutexGuard aGuard;
+    SetLastExceptionMsg();
+
+    assert(pThis);
+    assert(pURL);
+    LibLibreOffice_Impl *const pLib = static_cast<LibLibreOffice_Impl*>(pThis);
+    assert(pLib->mInteractionMap.find(OString(pURL)) != pLib->mInteractionMap.end());
+    pLib->mInteractionMap.find(OString(pURL))->second->SetPassword(pPassword);
+}
+
+static char* lo_getVersionInfo(SAL_UNUSED_PARAMETER LibreOfficeKit* /*pThis*/)
+{
+    SetLastExceptionMsg();
+    return convertOUString(ReplaceStringHookProc(
+        u"{ "
+        "\"ProductName\": \"%PRODUCTNAME\", "
+        "\"ProductVersion\": \"%PRODUCTVERSION\", "
+        "\"ProductExtension\": \"%PRODUCTEXTENSION\", "
+        "\"BuildId\": \"%BUILDID\""
+#if BUILDCONFIG_RECORDED
+        ", \"BuildConfig\": \"" BUILDCONFIG "\""
+#endif
+        " }"_ustr));
+}
+
+static void aBasicErrorFunc(const OUString& rError, const OUString& rAction)
+{
+    OString aBuffer = "Unexpected dialog: " +
+        OUStringToOString(rAction, RTL_TEXTENCODING_ASCII_US) +
+        " Error: " +
+        OUStringToOString(rError, RTL_TEXTENCODING_ASCII_US);
+
+    fprintf(stderr, "Unexpected basic error dialog '%s'\n", aBuffer.getStr());
+}
+
+static bool initialize_uno(const OUString& aAppProgramURL)
+{
+#ifdef IOS
+    // For iOS we already hardcode the inifile as "rc" in the .app directory.
+    rtl::Bootstrap::setIniFilename(aAppProgramURL + "/" SAL_CONFIGFILE("fundamental"));
+    xContext = cppu::defaultBootstrap_InitialComponentContext(aAppProgramURL + "/rc");
+#elif defined MACOSX
+    rtl::Bootstrap::setIniFilename(aAppProgramURL + "/../Resources/" SAL_CONFIGFILE("soffice"));
+    xContext = cppu::defaultBootstrap_InitialComponentContext();
+#else
+    rtl::Bootstrap::setIniFilename(aAppProgramURL + "/" SAL_CONFIGFILE("soffice"));
+    xContext = cppu::defaultBootstrap_InitialComponentContext();
+#endif
+
+    if (!xContext.is())
+    {
+        SetLastExceptionMsg(u"XComponentContext could not be created"_ustr);
+        SAL_INFO("lok", "XComponentContext could not be created");
+        return false;
+    }
+
+    xFactory = xContext->getServiceManager();
+    if (!xFactory.is())
+    {
+        SetLastExceptionMsg(u"XMultiComponentFactory could not be created"_ustr);
+        SAL_INFO("lok", "XMultiComponentFactory could not be created");
+        return false;
+    }
+
+    xSFactory.set(xFactory, uno::UNO_QUERY_THROW);
+    comphelper::setProcessServiceFactory(xSFactory);
+
+    SAL_INFO("lok", "Uno initialized  - " <<  xContext.is());
+
+    // set UserInstallation to user profile dir in test/user-template
+//    rtl::Bootstrap aDefaultVars;
+//    aDefaultVars.set(OUString("UserInstallation"), aAppProgramURL + "../registry" );
+    // configmgr setup ?
+
+    return true;
+}
+
+// pre-unipoll version.
+static void lo_startmain(void*)
+{
+    osl_setThreadName("lo_startmain");
+
+    if (comphelper::SolarMutex::get())
+        Application::GetSolarMutex().tryToAcquire();
+
+    Application::UpdateMainThread();
+
+    soffice_main();
+
+    Application::ReleaseSolarMutex();
+}
+
+// unipoll version.
+static void lo_runLoop(LibreOfficeKit* /*pThis*/,
+                       LibreOfficeKitPollCallback pPollCallback,
+                       LibreOfficeKitWakeCallback pWakeCallback,
+                       void* pData)
+{
+#if defined(IOS) || defined(ANDROID) || defined(__EMSCRIPTEN__)
+    Application::GetSolarMutex().acquire();
+#endif
+
+    {
+        SolarMutexGuard aGuard;
+
+        vcl::lok::registerPollCallbacks(pPollCallback, pWakeCallback, pData);
+        Application::UpdateMainThread();
+        soffice_main();
+    }
+#if defined(IOS) || defined(ANDROID) || defined(__EMSCRIPTEN__)
+    vcl::lok::unregisterPollCallbacks();
+    Application::ReleaseSolarMutex();
+#endif
+}
+
+static bool bInitialized = false;
+
+static void lo_status_indicator_callback(void *data, comphelper::LibreOfficeKit::statusIndicatorCallbackType type, int percent, const char* pText)
+{
+    LibLibreOffice_Impl* pLib = static_cast<LibLibreOffice_Impl*>(data);
+
+    if (!pLib->mpCallback)
+        return;
+
+    switch (type)
+    {
+    case comphelper::LibreOfficeKit::statusIndicatorCallbackType::Start:
+        pLib->mpCallback(LOK_CALLBACK_STATUS_INDICATOR_START, pText, pLib->mpCallbackData);
+        break;
+    case comphelper::LibreOfficeKit::statusIndicatorCallbackType::SetValue:
+        pLib->mpCallback(LOK_CALLBACK_STATUS_INDICATOR_SET_VALUE,
+            OUString(OUString::number(percent)).toUtf8().getStr(), pLib->mpCallbackData);
+        break;
+    case comphelper::LibreOfficeKit::statusIndicatorCallbackType::Finish:
+        pLib->mpCallback(LOK_CALLBACK_STATUS_INDICATOR_FINISH, nullptr, pLib->mpCallbackData);
+        break;
+    }
+}
+
+/// Used by preloadData (LibreOfficeKit) for providing different shortcuts for different languages.
+static void preLoadShortCutAccelerators()
+{
+    std::unordered_map<OUString, css::uno::Reference<com::sun::star::ui::XAcceleratorConfiguration>>& acceleratorConfs = SfxLokHelper::getAcceleratorConfs();
+    css::uno::Sequence<OUString> installedLocales(officecfg::Setup::Office::InstalledLocales::get()->getElementNames());
+    OUString actualLang = officecfg::Setup::L10N::ooLocale::get();
+
+    for (sal_Int32 i = 0; i < installedLocales.getLength(); i++)
+    {
+        // Set the UI language to current one, before creating the accelerator.
+        std::shared_ptr<comphelper::ConfigurationChanges> batch(comphelper::ConfigurationChanges::create());
+        officecfg::Setup::L10N::ooLocale::set(installedLocales[i], batch);
+        batch->commit();
+
+        // Supported module names: Writer, Calc, Draw, Impress
+        static constexpr OUString supportedModuleNames[] = {
+            u"com.sun.star.text.TextDocument"_ustr,
+            u"com.sun.star.sheet.SpreadsheetDocument"_ustr,
+            u"com.sun.star.drawing.DrawingDocument"_ustr,
+            u"com.sun.star.presentation.PresentationDocument"_ustr,
+        };
+        // Create the accelerators.
+        for (const OUString& supportedModuleName : supportedModuleNames)
+        {
+            OUString key = supportedModuleName + installedLocales[i];
+            acceleratorConfs[key] = svt::AcceleratorExecute::lok_createNewAcceleratorConfiguration(::comphelper::getProcessComponentContext(), supportedModuleName);
+        }
+    }
+
+    // Set the UI language back to default one.
+    std::shared_ptr<comphelper::ConfigurationChanges> batch(comphelper::ConfigurationChanges::create());
+    officecfg::Setup::L10N::ooLocale::set(actualLang, batch);
+    batch->commit();
+}
+
+void setLanguageToolConfig();
+
+/// Used only by LibreOfficeKit when used by Online to pre-initialize
+static void preloadData()
+{
+    comphelper::ProfileZone aZone("preload data");
+
+    // Create user profile in the temp directory for loading the dictionaries
+    OUString sUserPath;
+    rtl::Bootstrap::get(u"UserInstallation"_ustr, sUserPath);
+    utl::TempFileNamed aTempDir(nullptr, true);
+    aTempDir.EnableKillingFile();
+    rtl::Bootstrap::set(u"UserInstallation"_ustr, aTempDir.GetURL());
+
+    // Register the bundled extensions
+    desktop::Desktop::SynchronizeExtensionRepositories(true);
+    bool bAbort = desktop::Desktop::CheckExtensionDependencies();
+    if(bAbort)
+        std::cerr << "CheckExtensionDependencies failed" << std::endl;
+
+    // inhibit forced 2nd synchronization from Main
+    ::rtl::Bootstrap::set( u"DISABLE_EXTENSION_SYNCHRONIZATION"_ustr, u"true"_ustr);
+
+    std::cerr << "Preload textencodings"; // sal_textenc
+    // Use RTL_TEXTENCODING_MS_1250 to trigger Impl_getTextEncodingData
+    // to dlopen sal_textenclo
+    (void)OUStringToOString(u"arbitrary string", RTL_TEXTENCODING_MS_1250);
+    std::cerr << "\n";
+
+    // setup LanguageTool config before spell checking init
+    setLanguageToolConfig();
+
+    // preload all available dictionaries
+    linguistic2::DictionaryList::create(comphelper::getProcessComponentContext());
+    css::uno::Reference<css::linguistic2::XLinguServiceManager> xLngSvcMgr =
+        css::linguistic2::LinguServiceManager::create(comphelper::getProcessComponentContext());
+    css::uno::Reference<linguistic2::XSpellChecker> xSpellChecker(xLngSvcMgr->getSpellChecker());
+
+    std::cerr << "Preloading dictionaries: ";
+    css::uno::Reference<linguistic2::XSupportedLocales> xSpellLocales(xSpellChecker, css::uno::UNO_QUERY_THROW);
+    uno::Sequence< css::lang::Locale > aLocales = xSpellLocales->getLocales();
+    for (auto& it : aLocales)
+    {
+        std::cerr << LanguageTag::convertToBcp47(it) << " ";
+        css::beans::PropertyValues aNone;
+        xSpellChecker->isValid(u"forcefed"_ustr, it, aNone);
+    }
+    std::cerr << "\n";
+
+    // Hack to load and cache the module liblocaledata_others.so which is not loaded normally
+    // (when loading dictionaries of just non-Asian locales). Creating a XCalendar4 of one Asian locale
+    // will cheaply load this missing "others" locale library. Appending an Asian locale in
+    // LOK_ALLOWLIST_LANGUAGES env-var also works but at the cost of loading that dictionary.
+    css::uno::Reference< css::i18n::XCalendar4 > xCal = css::i18n::LocaleCalendar2::create(comphelper::getProcessComponentContext());
+    css::lang::Locale aAsianLocale = { u"hi"_ustr, u"IN"_ustr, {} };
+    xCal->loadDefaultCalendar(aAsianLocale);
+
+    // preload all available thesauri
+    css::uno::Reference<linguistic2::XThesaurus> xThesaurus(xLngSvcMgr->getThesaurus());
+    css::uno::Reference<linguistic2::XSupportedLocales> xThesLocales(xThesaurus, css::uno::UNO_QUERY_THROW);
+    aLocales = xThesLocales->getLocales();
+    std::cerr << "Preloading thesauri: ";
+    for (auto& it : aLocales)
+    {
+        std::cerr << LanguageTag::convertToBcp47(it) << " ";
+        css::beans::PropertyValues aNone;
+        xThesaurus->queryMeanings(u"forcefed"_ustr, it, aNone);
+    }
+    std::cerr << "\n";
+
+    std::cerr << "Preloading breakiterator\n";
+    if (aLocales.getLength())
+    {
+        css::uno::Reference< css::i18n::XBreakIterator > xBreakIterator = css::i18n::BreakIterator::create(xContext);
+        css::i18n::LineBreakUserOptions aUserOptions;
+        css::i18n::LineBreakHyphenationOptions aHyphOptions( LinguMgr::GetHyphenator(), css::uno::Sequence<beans::PropertyValue>(), 1 );
+        xBreakIterator->getLineBreak(u""_ustr, /*nMaxBreakPos*/0, aLocales[0], /*nMinBreakPos*/0, aHyphOptions, aUserOptions);
+    }
+
+    css::uno::Reference< css::ui::XAcceleratorConfiguration > xGlobalCfg = css::ui::GlobalAcceleratorConfiguration::create(
+        comphelper::getProcessComponentContext());
+    xGlobalCfg->getAllKeyEvents();
+
+    std::cerr << "Preload icons\n";
+    ImageTree &images = ImageTree::get();
+    images.getImageUrl(u"forcefed.png"_ustr, u"style"_ustr, u"FO_oo"_ustr);
+
+    std::cerr << "Preload short cut accelerators\n";
+    preLoadShortCutAccelerators();
+
+    std::cerr << "Preload languages\n";
+
+    // force load language singleton
+    SvtLanguageTable::HasLanguageType(LANGUAGE_SYSTEM);
+    (void)LanguageTag::isValidBcp47(u"foo"_ustr, nullptr);
+
+    std::cerr << "Preload fonts\n";
+
+    // Initialize fonts.
+    css::uno::Reference<css::linguistic2::XLinguServiceManager2> xLangSrv = css::linguistic2::LinguServiceManager::create(xContext);
+    if (xLangSrv.is())
+    {
+        css::uno::Reference<css::linguistic2::XSpellChecker> xSpell = xLangSrv->getSpellChecker();
+        if (xSpell.is())
+            aLocales = xSpell->getLocales();
+    }
+
+    for (const auto& aLocale : aLocales)
+    {
+        //TODO: Add more types and cache more aggressively. For now this initializes the fontcache.
+        using namespace ::com::sun::star::i18n::ScriptType;
+        LanguageType nLang;
+        nLang = MsLangId::resolveSystemLanguageByScriptType(LanguageTag::convertToLanguageType(aLocale, false), LATIN);
+        OutputDevice::GetDefaultFont(DefaultFontType::LATIN_SPREADSHEET, nLang, GetDefaultFontFlags::OnlyOne);
+        nLang = MsLangId::resolveSystemLanguageByScriptType(LanguageTag::convertToLanguageType(aLocale, false), ASIAN);
+        OutputDevice::GetDefaultFont(DefaultFontType::CJK_SPREADSHEET, nLang, GetDefaultFontFlags::OnlyOne);
+        nLang = MsLangId::resolveSystemLanguageByScriptType(LanguageTag::convertToLanguageType(aLocale, false), COMPLEX);
+        OutputDevice::GetDefaultFont(DefaultFontType::CTL_SPREADSHEET, nLang, GetDefaultFontFlags::OnlyOne);
+    }
+
+    std::cerr << "Preload config\n";
+#if defined __GNUC__ || defined __clang__
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wunused-variable"
+#endif
+    static SvtOptionsDialogOptions aDialogOptions;
+    static SvtCTLOptions aSvtCTLOptions;
+    static svtools::ColorConfig aColorConfig;
+    static SvtMiscOptions aSvtMiscOptions;
+    static SvtCommandOptions aSvtCommandOptions;
+    static SvtLinguConfig aSvtLinguConfig;
+    static SvtModuleOptions aSvtModuleOptions;
+    static SvtPathOptions aSvtPathOptions;
+    static SvtSearchOptions aSvtSearchOptions;
+    static SvtSysLocaleOptions aSvtSysLocaleOptions;
+    static SvtUserOptions aSvtUserOptions;
+    //static SvtViewOptions aSvtViewOptions;
+    static MouseSettings aMouseSettings;
+    static StyleSettings aStyleSettings;
+    static MiscSettings aMiscSettings;
+    static HelpSettings aHelpSettings;
+    static AllSettings aAllSettings;
+#if defined __GNUC__ || defined __clang__
+#pragma GCC diagnostic pop
+#endif
+
+    static constexpr OUString preloadComponents[] = {
+        u"private:factory/swriter"_ustr,
+        u"private:factory/scalc"_ustr,
+        u"private:factory/simpress"_ustr,
+        u"private:factory/sdraw"_ustr
+    };
+    // getting the remote LibreOffice service manager
+    uno::Reference<frame::XDesktop2> xCompLoader(frame::Desktop::create(xContext));
+
+    // Preload and close each of the main components once to initialize global state
+    uno::Sequence<css::beans::PropertyValue> szEmptyArgs(0);
+    for (const auto& component : preloadComponents)
+    {
+        auto xComp = xCompLoader->loadComponentFromURL(component, u"_blank"_ustr, 0, szEmptyArgs);
+        xComp->dispose();
+    }
+
+    // Set user profile's path back to the original one
+    rtl::Bootstrap::set(u"UserInstallation"_ustr, sUserPath);
+}
+
+namespace {
+
+static void activateNotebookbar(std::u16string_view rApp)
+{
+    OUString aPath = OUString::Concat("org.openoffice.Office.UI.ToolbarMode/Applications/") + rApp;
+
+    const utl::OConfigurationTreeRoot aAppNode(xContext, aPath, true);
+
+    if (aAppNode.isValid())
+    {
+        static constexpr OUString sNoteBookbarName(u"notebookbar_online.ui"_ustr);
+        aAppNode.setNodeValue(u"Active"_ustr, Any(sNoteBookbarName));
+
+        const utl::OConfigurationNode aImplsNode = aAppNode.openNode(u"Modes"_ustr);
+        const Sequence<OUString> aModeNodeNames( aImplsNode.getNodeNames() );
+
+        for (const auto& rModeNodeName : aModeNodeNames)
+        {
+            const utl::OConfigurationNode aImplNode(aImplsNode.openNode(rModeNodeName));
+            if (!aImplNode.isValid())
+                continue;
+
+            OUString aCommandArg = comphelper::getString(aImplNode.getNodeValue(u"CommandArg"_ustr));
+            if (aCommandArg == "notebookbar.ui")
+                aImplNode.setNodeValue(u"CommandArg"_ustr, Any(sNoteBookbarName));
+        }
+
+        aAppNode.commit();
+    }
+}
+
+void setHelpRootURL()
+{
+    const char* pHelpRootURL = ::getenv("LOK_HELP_URL");
+    if (pHelpRootURL)
+    {
+        OUString aHelpRootURL = OStringToOUString(pHelpRootURL, RTL_TEXTENCODING_UTF8);
+        try
+        {
+            std::shared_ptr<comphelper::ConfigurationChanges> batch(comphelper::ConfigurationChanges::create());
+            officecfg::Office::Common::Help::HelpRootURL::set(aHelpRootURL, batch);
+            batch->commit();
+        }
+        catch (uno::Exception const& rException)
+        {
+            SAL_WARN("lok", "Failed to set the help root URL: " << rException.Message);
+        }
+    }
+}
+
+void setCertificateDir()
+{
+    const char* pEnvVarString = ::getenv("LO_CERTIFICATE_DATABASE_PATH");
+    if (pEnvVarString)
+    {
+        OUString aCertificateDatabasePath = OStringToOUString(pEnvVarString, RTL_TEXTENCODING_UTF8);
+        try
+        {
+            std::shared_ptr<comphelper::ConfigurationChanges> pBatch(comphelper::ConfigurationChanges::create());
+            officecfg::Office::Common::Security::Scripting::CertDir::set(aCertificateDatabasePath, pBatch);
+            officecfg::Office::Common::Security::Scripting::ManualCertDir::set(aCertificateDatabasePath, pBatch);
+            pBatch->commit();
+        }
+        catch (uno::Exception const& rException)
+        {
+            SAL_WARN("lok", "Failed to set the NSS certificate database directory: " << rException.Message);
+        }
+    }
+}
+
+void setDeeplConfig()
+{
+    const char* pAPIUrlString = ::getenv("DEEPL_API_URL");
+    const char* pAuthKeyString = ::getenv("DEEPL_AUTH_KEY");
+    if (pAPIUrlString && pAuthKeyString)
+    {
+        OUString aAPIUrl = OStringToOUString(pAPIUrlString, RTL_TEXTENCODING_UTF8);
+        OUString aAuthKey = OStringToOUString(pAuthKeyString, RTL_TEXTENCODING_UTF8);
+        try
+        {
+            std::shared_ptr<comphelper::ConfigurationChanges> batch(comphelper::ConfigurationChanges::create());
+            officecfg::Office::Linguistic::Translation::Deepl::ApiURL::set(aAPIUrl, batch);
+            officecfg::Office::Linguistic::Translation::Deepl::AuthKey::set(aAuthKey, batch);
+            batch->commit();
+        }
+        catch(uno::Exception const& rException)
+        {
+            SAL_WARN("lok", "Failed to set Deepl API settings: " << rException.Message);
+        }
+    }
+}
+
+void setLanguageToolConfig()
+{
+    const char* pEnabled = ::getenv("LANGUAGETOOL_ENABLED");
+    const char* pBaseUrlString = ::getenv("LANGUAGETOOL_BASEURL");
+
+    if (pEnabled && pBaseUrlString)
+    {
+        const char* pUsername = ::getenv("LANGUAGETOOL_USERNAME");
+        const char* pApikey = ::getenv("LANGUAGETOOL_APIKEY");
+        const char* pSSLVerification = ::getenv("LANGUAGETOOL_SSL_VERIFICATION");
+        const char* pRestProtocol = ::getenv("LANGUAGETOOL_RESTPROTOCOL");
+
+        OUString aEnabled = OStringToOUString(pEnabled, RTL_TEXTENCODING_UTF8);
+        if (aEnabled != "true")
+            return;
+        OUString aBaseUrl = OStringToOUString(pBaseUrlString, RTL_TEXTENCODING_UTF8);
+        try
+        {
+            using LanguageToolCfg = officecfg::Office::Linguistic::GrammarChecking::LanguageTool;
+            auto batch(comphelper::ConfigurationChanges::create());
+
+            LanguageToolCfg::BaseURL::set(aBaseUrl, batch);
+            LanguageToolCfg::IsEnabled::set(true, batch);
+            if (pSSLVerification)
+            {
+                OUString aSSLVerification = OStringToOUString(pSSLVerification, RTL_TEXTENCODING_UTF8);
+                LanguageToolCfg::SSLCertVerify::set(aSSLVerification == "true", batch);
+            }
+            if (pRestProtocol)
+            {
+                OUString aRestProtocol = OStringToOUString(pRestProtocol, RTL_TEXTENCODING_UTF8);
+                LanguageToolCfg::RestProtocol::set(aRestProtocol, batch);
+            }
+            if (pUsername && pApikey)
+            {
+                OUString aUsername = OStringToOUString(pUsername, RTL_TEXTENCODING_UTF8);
+                OUString aApiKey = OStringToOUString(pApikey, RTL_TEXTENCODING_UTF8);
+                LanguageToolCfg::Username::set(aUsername, batch);
+                LanguageToolCfg::ApiKey::set(aApiKey, batch);
+            }
+            batch->commit();
+
+            css::uno::Reference<css::linguistic2::XLinguServiceManager2> xLangSrv =
+                css::linguistic2::LinguServiceManager::create(xContext);
+            if (xLangSrv.is())
+            {
+                css::uno::Reference<css::linguistic2::XSpellChecker> xSpell = xLangSrv->getSpellChecker();
+                if (xSpell.is())
+                {
+                    Sequence<OUString> aEmpty;
+                    Sequence<css::lang::Locale> aLocales = xSpell->getLocales();
+
+                    uno::Reference<linguistic2::XProofreader> xGC(
+                        xContext->getServiceManager()->createInstanceWithContext(u"org.openoffice.lingu.LanguageToolGrammarChecker"_ustr, xContext),
+                        uno::UNO_QUERY_THROW);
+                    uno::Reference<linguistic2::XSupportedLocales> xSuppLoc(xGC, uno::UNO_QUERY_THROW);
+
+                    for (int itLocale = 0; itLocale < aLocales.getLength(); itLocale++)
+                    {
+                        // turn off spell checker if LanguageTool supports the locale already
+                        if (xSuppLoc->hasLocale(aLocales[itLocale]))
+                            xLangSrv->setConfiguredServices(
+                                SN_SPELLCHECKER, aLocales[itLocale], aEmpty);
+                    }
+                }
+            }
+        }
+        catch(uno::Exception const& rException)
+        {
+            SAL_WARN("lok", "Failed to set LanguageTool API settings: " << rException.Message);
+        }
+    }
+}
+
+}
+
+static int lo_initialize(LibreOfficeKit* pThis, const char* pAppPath, const char* pUserProfileUrl)
+{
+    enum {
+        PRE_INIT,     // setup shared data in master process
+        SECOND_INIT,  // complete init. after fork
+        FULL_INIT     // do a standard complete init.
+    } eStage;
+
+    // Did we do a pre-initialize
+    static bool bPreInited = false;
+    static bool bUnipoll = false;
+    static bool bProfileZones = false;
+    static bool bNotebookbar = false;
+
+    { // cf. string lifetime for preinit
+        std::vector<OUString> aOpts;
+
+        // ':' delimited options - avoiding ABI change for new parameters
+        const char *pOptions = getenv("SAL_LOK_OPTIONS");
+        if (pOptions)
+            aOpts = comphelper::string::split(OUString(pOptions, strlen(pOptions), RTL_TEXTENCODING_UTF8), ':');
+        for (const auto &it : aOpts)
+        {
+            if (it == "unipoll")
+                bUnipoll = true;
+            if (it == "compact_fonts")
+                gUseCompactFonts = true;
+            else if (it == "profile_events")
+                bProfileZones = true;
+            else if (it == "sc_no_grid_bg")
+                comphelper::LibreOfficeKit::setCompatFlag(
+                    comphelper::LibreOfficeKit::Compat::scNoGridBackground);
+            else if (it == "sc_print_twips_msgs")
+                comphelper::LibreOfficeKit::setCompatFlag(
+                    comphelper::LibreOfficeKit::Compat::scPrintTwipsMsgs);
+            else if (it == "notebookbar")
+                bNotebookbar = true;
+        }
+    }
+
+    char* pAllowlist = ::getenv("LOK_HOST_ALLOWLIST");
+    if (pAllowlist)
+    {
+        HostFilter::setAllowedHostsRegex(pAllowlist);
+    }
+
+    // What stage are we at ?
+    if (pThis == nullptr)
+    {
+        eStage = PRE_INIT;
+        if (lok_preinit_2_called)
+        {
+            SAL_INFO("lok", "Create libreoffice object");
+            gImpl = new LibLibreOffice_Impl();
+        }
+    }
+    else if (bPreInited)
+        eStage = SECOND_INIT;
+    else
+        eStage = FULL_INIT;
+
+    LibLibreOffice_Impl* pLib = static_cast<LibLibreOffice_Impl*>(pThis);
+
+    if (bInitialized)
+        return 1;
+
+    // Turn profile zones on early
+    if (bProfileZones && eStage == SECOND_INIT)
+    {
+        comphelper::TraceEvent::startRecording();
+        traceEventDumper = new TraceEventDumper();
+    }
+
+    comphelper::ProfileZone aZone("lok-init");
+
+    if (eStage == PRE_INIT)
+    {
+        rtl_alloc_preInit(true);
+
+        // Set the default timezone to the TZ envar, if set.
+        const char* tz = ::getenv("TZ");
+        SfxLokHelper::setDefaultTimezone(!!tz, tz ? OStringToOUString(tz, RTL_TEXTENCODING_UTF8)
+                                                  : OUString());
+#ifdef UNX
+        if (urandom < 0)
+            urandom = open("/dev/urandom", O_RDONLY);
+#endif
+    }
+
+    if (eStage != SECOND_INIT)
+        comphelper::LibreOfficeKit::setActive();
+
+    if (eStage != PRE_INIT)
+        comphelper::LibreOfficeKit::setStatusIndicatorCallback(lo_status_indicator_callback, pLib);
+
+    if (pUserProfileUrl && eStage != PRE_INIT)
+    {
+        OUString url(
+            pUserProfileUrl, strlen(pUserProfileUrl), RTL_TEXTENCODING_UTF8);
+        OUString path;
+        if (url.startsWithIgnoreAsciiCase("vnd.sun.star.pathname:", &path))
+        {
+            OUString url2;
+            osl::FileBase::RC e = osl::FileBase::getFileURLFromSystemPath(
+                path, url2);
+            if (e == osl::FileBase::E_None)
+                url = url2;
+            else
+                SAL_WARN("lok", "resolving <" << url << "> failed with " << +e);
+        }
+        rtl::Bootstrap::set(u"UserInstallation"_ustr, url);
+        if (eStage == SECOND_INIT)
+        {
+            comphelper::rng::reseed();
+            utl::Bootstrap::reloadData();
+        }
+    }
+
+    OUString aAppPath;
+    if (pAppPath)
+    {
+        aAppPath = OUString(pAppPath, strlen(pAppPath), RTL_TEXTENCODING_UTF8);
+    }
+    else
+    {
+#if defined ANDROID || defined EMSCRIPTEN
+        aAppPath = OUString::fromUtf8(lo_get_app_data_dir()) + "/program";
+#else
+        // Fun conversion dance back and forth between URLs and system paths...
+        OUString aAppURL;
+        ::osl::Module::getUrlFromAddress( reinterpret_cast< oslGenericFunction >(lo_initialize),
+                                          aAppURL);
+        osl::FileBase::getSystemPathFromFileURL( aAppURL, aAppPath );
+#endif
+
+#ifdef IOS
+        // The above gives something like
+        // "/private/var/containers/Bundle/Application/953AA851-CC15-4C60-A2CB-C2C6F24E6F71/Foo.app/Foo",
+        // and we want to drop the final component (the binary name).
+        sal_Int32 lastSlash = aAppPath.lastIndexOf('/');
+        assert(lastSlash > 0);
+        aAppPath = aAppPath.copy(0, lastSlash);
+#endif
+    }
+
+    OUString aAppURL;
+    if (osl::FileBase::getFileURLFromSystemPath(aAppPath, aAppURL) != osl::FileBase::E_None)
+        return 0;
+
+#ifdef IOS
+    // A LibreOffice-using iOS app should have the ICU data file in the app bundle. Initialize ICU
+    // to use that.
+    NSString *bundlePath = [[NSBundle mainBundle] bundlePath];
+
+    int fd = open([[bundlePath stringByAppendingPathComponent:@"ICU.dat"] UTF8String], O_RDONLY);
+    if (fd == -1)
+        NSLog(@"Could not open ICU data file %s", [[bundlePath stringByAppendingPathComponent:@"ICU.dat"] UTF8String]);
+    else
+    {
+        struct stat st;
+        if (fstat(fd, &st) == -1)
+            NSLog(@"fstat on ICU data file failed: %s", strerror(errno));
+        else
+        {
+            void *icudata = mmap(0, (size_t) st.st_size, PROT_READ, MAP_FILE|MAP_PRIVATE, fd, 0);
+            if (icudata == MAP_FAILED)
+                NSLog(@"mmap failed: %s", strerror(errno));
+            else
+            {
+                UErrorCode icuStatus = U_ZERO_ERROR;
+                udata_setCommonData(icudata, &icuStatus);
+                if (U_FAILURE(icuStatus))
+                    NSLog(@"udata_setCommonData failed");
+                else
+                {
+                    // Quick test that ICU works...
+                    UConverter *cnv = ucnv_open("iso-8859-3", &icuStatus);
+                    if (U_SUCCESS(icuStatus))
+                        ucnv_close(cnv);
+                    else
+                        NSLog(@"ucnv_open() failed: %s", u_errorName(icuStatus));
+                }
+            }
+        }
+        close(fd);
+    }
+#endif
+
+    try
+    {
+        if (eStage != SECOND_INIT)
+        {
+            SAL_INFO("lok", "Attempting to initialize UNO");
+
+            if (!initialize_uno(aAppURL))
+                return false;
+
+            // Force headless -- this is only for bitmap rendering.
+            rtl::Bootstrap::set(u"SAL_USE_VCLPLUGIN"_ustr, u"svp"_ustr);
+
+            // We specifically need to make sure we have the "headless"
+            // command arg set (various code specifically checks via
+            // CommandLineArgs):
+            desktop::Desktop::GetCommandLineArgs().setHeadless();
+
+#ifdef IOS
+            if (InitVCL() && [NSThread isMainThread])
+            {
+                static bool bFirstTime = true;
+                if (bFirstTime)
+                {
+                    Application::GetSolarMutex().release();
+                    bFirstTime = false;
+                }
+            }
+            SfxApplication::GetOrCreate();
+#endif
+
+#if HAVE_FEATURE_ANDROID_LOK
+            // Register the bundled extensions - so that the dictionaries work
+            desktop::Desktop::SynchronizeExtensionRepositories(false);
+            bool bFailed = desktop::Desktop::CheckExtensionDependencies();
+            if (bFailed)
+                SAL_INFO("lok", "CheckExtensionDependencies failed");
+#endif
+
+            if (eStage == PRE_INIT)
+            {
+                {
+                    comphelper::ProfileZone aInit("Init vcl");
+                    std::cerr << "Init vcl\n";
+                    InitVCL();
+                }
+
+                // pre-load all component libraries.
+                if (!xContext.is())
+                    throw css::uno::DeploymentException(u"preInit: XComponentContext is not created"_ustr);
+
+                css::uno::Reference< css::uno::XInterface > xService;
+                xContext->getValueByName(u"/singletons/com.sun.star.lang.theServiceManager"_ustr) >>= xService;
+                if (!xService.is())
+                    throw css::uno::DeploymentException(u"preInit: XMultiComponentFactory is not created"_ustr);
+
+                css::uno::Reference<css::lang::XInitialization> aService(
+                    xService, css::uno::UNO_QUERY_THROW);
+
+                // pre-requisites:
+                // In order to load implementations and invoke
+                // component factory it is required:
+                // 1) defaultBootstrap_InitialComponentContext()
+                // 2) comphelper::setProcessServiceFactory(xSFactory);
+                // 3) InitVCL()
+                {
+                    comphelper::ProfileZone aInit("preload");
+                    aService->initialize({css::uno::Any(u"preload"_ustr)});
+                }
+                { // Force load some modules
+                    comphelper::ProfileZone aInit("preload modules");
+                    VclBuilderPreload();
+                    VclAbstractDialogFactory::Create();
+                }
+
+                preloadData();
+
+                // Release Solar Mutex, lo_startmain thread should acquire it.
+                Application::ReleaseSolarMutex();
+            }
+
+            setLanguageAndLocale(u"en-US"_ustr);
+        }
+
+        if (eStage != PRE_INIT)
+        {
+            SAL_INFO("lok", "Re-initialize temp paths");
+            SvtPathOptions aOptions;
+            OUString aNewTemp;
+            osl::FileBase::getTempDirURL(aNewTemp);
+            aOptions.SetTempPath(aNewTemp);
+            {
+                const char *pWorkPath = getenv("LOK_WORKDIR");
+                if (pWorkPath)
+                {
+                    OString sWorkPath(pWorkPath);
+                    aOptions.SetWorkPath(OStringToOUString(sWorkPath, RTL_TEXTENCODING_UTF8));
+                }
+            }
+            desktop::Desktop::CreateTemporaryDirectory();
+
+            // The RequestHandler is specifically set to be ready when all the other
+            // init in Desktop::Main (run from soffice_main) is done. We can enable
+            // the RequestHandler here (without starting any IPC thread;
+            // shortcutting the invocation in Desktop::Main that would start the IPC
+            // thread), and can then use it to wait until we're definitely ready to
+            // continue.
+
+            SAL_INFO("lok", "Enabling RequestHandler");
+            RequestHandler::Enable(false);
+            SAL_INFO("lok", "Starting soffice_main");
+            RequestHandler::SetReady(false);
+            if (!bUnipoll)
+            {
+                // Start the main thread only in non-unipoll mode (i.e. multithreaded).
+                pLib->maThread = osl_createThread(lo_startmain, nullptr);
+                SAL_INFO("lok", "Waiting for RequestHandler");
+                RequestHandler::WaitForReady();
+                SAL_INFO("lok", "RequestHandler ready -- continuing");
+            }
+            else
+                InitVCL();
+        }
+
+        if (eStage != SECOND_INIT)
+            ErrorRegistry::RegisterDisplay(aBasicErrorFunc);
+
+        SAL_INFO("lok", "LOK Initialized");
+        if (eStage == PRE_INIT)
+            bPreInited = true;
+        else
+            bInitialized = true;
+    }
+    catch (css::uno::Exception& exception)
+    {
+        fprintf(stderr, "Bootstrapping exception '%s'\n",
+                 OUStringToOString(exception.Message, RTL_TEXTENCODING_UTF8).getStr());
+    }
+
+    if (eStage == PRE_INIT)
+    {
+        comphelper::ThreadPool::getSharedOptimalPool().shutdown();
+    }
+
+// Turn off quick editing on iOS, Android and Emscripten
+#if defined IOS || defined ANDROID || defined __EMSCRIPTEN__
+    if (officecfg::Office::Impress::Misc::TextObject::QuickEditing::get())
+    {
+        std::shared_ptr<comphelper::ConfigurationChanges> batch(comphelper::ConfigurationChanges::create());
+        officecfg::Office::Impress::Misc::TextObject::QuickEditing::set(false, batch);
+        batch->commit();
+    }
+#endif
+
+
+    setHelpRootURL();
+    setCertificateDir();
+    setDeeplConfig();
+    setLanguageToolConfig();
+
+    if (bNotebookbar)
+    {
+        std::shared_ptr<comphelper::ConfigurationChanges> batch(comphelper::ConfigurationChanges::create());
+        officecfg::Office::UI::ToolbarMode::ActiveWriter::set(u"notebookbar_online.ui"_ustr, batch);
+        officecfg::Office::UI::ToolbarMode::ActiveCalc::set(u"notebookbar_online.ui"_ustr, batch);
+        officecfg::Office::UI::ToolbarMode::ActiveImpress::set(u"notebookbar_online.ui"_ustr, batch);
+        officecfg::Office::UI::ToolbarMode::ActiveDraw::set(u"notebookbar_online.ui"_ustr, batch);
+        batch->commit();
+
+        activateNotebookbar(u"Writer");
+        activateNotebookbar(u"Calc");
+        activateNotebookbar(u"Impress");
+        activateNotebookbar(u"Draw");
+    }
+
+    // staticize all strings.
+    if (eStage == PRE_INIT)
+        rtl_alloc_preInit(false);
+
+    return bInitialized;
+}
+
+SAL_JNI_EXPORT
+LibreOfficeKit *libreofficekit_hook_2(const char* install_path, const char* user_profile_url)
+{
+    static bool alreadyCalled = false;
+
+    if ((!lok_preinit_2_called && !gImpl) || (lok_preinit_2_called && !alreadyCalled))
+    {
+        alreadyCalled = true;
+
+        if (!lok_preinit_2_called)
+        {
+            SAL_INFO("lok", "Create libreoffice object");
+            gImpl = new LibLibreOffice_Impl();
+        }
+
+        if (!lo_initialize(gImpl, install_path, user_profile_url))
+        {
+            lo_destroy(gImpl);
+        }
+    }
+    return static_cast<LibreOfficeKit*>(gImpl);
+}
+
+SAL_JNI_EXPORT
+LibreOfficeKit *libreofficekit_hook(const char* install_path)
+{
+    return libreofficekit_hook_2(install_path, nullptr);
+}
+
+SAL_JNI_EXPORT
+int lok_preinit(const char* install_path, const char* user_profile_url)
+{
+    return lo_initialize(nullptr, install_path, user_profile_url);
+}
+
+SAL_JNI_EXPORT
+int lok_preinit_2(const char* install_path, const char* user_profile_url, LibreOfficeKit** kit)
+{
+    lok_preinit_2_called = true;
+    int result = lo_initialize(nullptr, install_path, user_profile_url);
+    if (kit != nullptr)
+        *kit = gImpl;
+    return result;
+}
+
+static void lo_destroy(LibreOfficeKit* pThis)
+{
+    SolarMutexClearableGuard aGuard;
+
+    LibLibreOffice_Impl* pLib = static_cast<LibLibreOffice_Impl*>(pThis);
+    gImpl = nullptr;
+
+    SAL_INFO("lok", "LO Destroy");
+
+    comphelper::LibreOfficeKit::setStatusIndicatorCallback(nullptr, nullptr);
+    uno::Reference <frame::XDesktop2> xDesktop = frame::Desktop::create ( ::comphelper::getProcessComponentContext() );
+    // FIXME: the terminate() call here is a no-op because it detects
+    // that LibreOfficeKit::isActive() and then returns early!
+    bool bSuccess = xDesktop.is() && xDesktop->terminate();
+
+    if (!bSuccess)
+    {
+        bSuccess = GetpApp() && GetpApp()->QueryExit();
+    }
+
+    if (!bSuccess)
+    {
+        Application::Quit();
+    }
+
+    aGuard.clear();
+
+    osl_joinWithThread(pLib->maThread);
+    osl_destroyThread(pLib->maThread);
+
+    delete pLib;
+    bInitialized = false;
+    SAL_INFO("lok", "LO Destroy Done");
+}
+
+} // extern "C"
+
+/* vim:set shiftwidth=4 softtabstop=4 expandtab: */
diff --git a/external/fontconfig/ExternalProject_fontconfig.mk b/external/fontconfig/ExternalProject_fontconfig.mk
index 0d899ef12..2600f6309 100644
--- a/external/fontconfig/ExternalProject_fontconfig.mk
+++ b/external/fontconfig/ExternalProject_fontconfig.mk
@@ -43,9 +43,9 @@ $(call gb_ExternalProject_get_state_target,fontconfig,build) :
 			) \
 			$(if $(filter EMSCRIPTEN,$(OS)), \
 				--disable-shared \
-			    --with-baseconfigdir=/instdir/share/fontconfig \
-			    --with-cache-dir=/instdir/share/fontconfig/cache \
-			    --with-add-fonts=/instdir/share/fonts \
+			    --with-baseconfigdir=/share/fontconfig \
+			    --with-cache-dir=/share/fontconfig/cache \
+			    --with-add-fonts=/share/fonts \
 			    --enable-libxml2 \
 			    ac_cv_func_fstatfs=no ac_cv_func_fstatvfs=no \
 			) \
diff --git a/external/pdfium/Library_pdfium.mk b/external/pdfium/Library_pdfium.mk
index 648b4d22c..53578d765 100644
--- a/external/pdfium/Library_pdfium.mk
+++ b/external/pdfium/Library_pdfium.mk
@@ -714,7 +714,8 @@ $(eval $(call gb_Library_add_generated_exception_objects,pdfium,\
 ))
 endif
 
-ifeq ($(OS),LINUX)
+ifneq (,$(filter LINUX EMSCRIPTEN,$(OS)))
+# EMSCRIPTEN uses Linux platform impl (fx_linux_impl.cpp supports OS_ASMJS)
 # fxge
 $(eval $(call gb_Library_add_generated_exception_objects,pdfium,\
     UnpackedTarball/pdfium/core/fxge/linux/fx_linux_impl \
diff --git a/include/comphelper/threadpool.hxx b/include/comphelper/threadpool.hxx
index 84f9dc928..64ee0dd6d 100644
--- a/include/comphelper/threadpool.hxx
+++ b/include/comphelper/threadpool.hxx
@@ -72,6 +72,9 @@ public:
     /// join all threads if there are no tasks presently.
     void        joinThreadsIfIdle();
 
+    /// pre-spawn all worker threads to avoid runtime thread creation
+    void        preSpawnWorkers();
+
     /// return true if there are no queued or worked-on tasks
     bool        isIdle() const { return maTasks.empty() && mnBusyWorkers == 0; };
 
diff --git a/sd/source/ui/annotations/annotationwindow.cxx b/sd/source/ui/annotations/annotationwindow.cxx
index ec9a2118e..c2bd41820 100644
--- a/sd/source/ui/annotations/annotationwindow.cxx
+++ b/sd/source/ui/annotations/annotationwindow.cxx
@@ -1,3 +1,4 @@
+#include <config_wasm_strip.h>
 /* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
 /*
  * This file is part of the LibreOffice project.
@@ -205,7 +206,9 @@ void AnnotationTextWindow::SetDrawingArea(weld::DrawingArea* pDrawingArea)
 
     pDrawingArea->set_cursor(PointerStyle::Text);
 
+#if !ENABLE_WASM_STRIP_ACCESSIBILITY
     InitAccessible();
+#endif
 }
 
 // see SwAnnotationWin in sw for something similar
diff --git a/sd/source/ui/slidesorter/controller/SlideSorterController.cxx b/sd/source/ui/slidesorter/controller/SlideSorterController.cxx
index a8d467485..dd4ad99fb 100644
--- a/sd/source/ui/slidesorter/controller/SlideSorterController.cxx
+++ b/sd/source/ui/slidesorter/controller/SlideSorterController.cxx
@@ -1,3 +1,4 @@
+#include <config_wasm_strip.h>
 /* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
 /*
  * This file is part of the LibreOffice project.
diff --git a/sd/source/ui/unoidl/unomodel.cxx b/sd/source/ui/unoidl/unomodel.cxx
index 9b08de708..cec95f1af 100644
--- a/sd/source/ui/unoidl/unomodel.cxx
+++ b/sd/source/ui/unoidl/unomodel.cxx
@@ -2270,9 +2270,16 @@ void SdXImpressDocument::paintTile( VirtualDevice& rDevice,
                             int nTilePosX, int nTilePosY,
                             ::tools::Long nTileWidth, ::tools::Long nTileHeight )
 {
+    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile ENTER");
+
     DrawViewShell* pViewSh = GetViewShell();
     if (!pViewSh)
+    {
+        SAL_WARN("sd.lok", "SdXImpressDocument::paintTile: no ViewShell!");
         return;
+    }
+
+    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile: got ViewShell");
 
     // we need to skip tile invalidation for controls on rendering
     comphelper::LibreOfficeKit::setTiledPainting(true);
@@ -2334,8 +2341,12 @@ void SdXImpressDocument::paintTile( VirtualDevice& rDevice,
     if (comphelper::LibreOfficeKit::isActive())
         pView->SetPaintTextEdit(mbPaintTextEdit);
 
+    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile: about to call CompleteRedraw");
+
     pViewSh->GetView()->CompleteRedraw(&rDevice, vcl::Region(aRect));
 
+    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile: CompleteRedraw RETURNED");
+
     if (comphelper::LibreOfficeKit::isActive())
         pView->SetPaintTextEdit(true);
 
@@ -2360,6 +2371,8 @@ void SdXImpressDocument::paintTile( VirtualDevice& rDevice,
     }
 
     comphelper::LibreOfficeKit::setTiledPainting(false);
+
+    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile DONE");
 }
 
 OString SdXImpressDocument::getViewRenderState(SfxViewShell* pViewShell)
diff --git a/sfx2/source/view/lokhelper.cxx b/sfx2/source/view/lokhelper.cxx
index 05d6ab884..548ca8005 100644
--- a/sfx2/source/view/lokhelper.cxx
+++ b/sfx2/source/view/lokhelper.cxx
@@ -194,10 +194,9 @@ void SfxLokHelper::setView(int nId)
     DisableCallbacks dc;
 
     bool bIsCurrShell = (pViewShell == SfxViewShell::Current());
-    if (bIsCurrShell && comphelper::LibreOfficeKit::getLanguageTag().getBcp47() == pViewShell->GetLOKLanguageTag().getBcp47())
-        return;
+    bool bLanguageMatch = comphelper::LibreOfficeKit::getLanguageTag().getBcp47() == pViewShell->GetLOKLanguageTag().getBcp47();
 
-    if (bIsCurrShell)
+    if (bIsCurrShell && !bLanguageMatch)
     {
         // If we wanted to set the SfxViewShell that is actually set, we could skip it.
         // But it looks like that the language can go wrong, so we have to fix that.
@@ -211,13 +210,17 @@ void SfxLokHelper::setView(int nId)
     comphelper::LibreOfficeKit::setLanguageTag(pViewShell->GetLOKLanguageTag());
     comphelper::LibreOfficeKit::setLocale(pViewShell->GetLOKLocale());
 
-    if (bIsCurrShell)
-        return;
-
     SfxViewFrame& rViewFrame = pViewShell->GetViewFrame();
-    rViewFrame.MakeActive_Impl(false);
 
-    // Make comphelper::dispatchCommand() find the correct frame.
+    if (!bIsCurrShell)
+    {
+        rViewFrame.MakeActive_Impl(false);
+    }
+
+    // Always ensure the desktop knows about the active frame.
+    // This is needed for comphelper::dispatchCommand() to find the correct frame,
+    // especially in headless/WASM mode where the frame may not be set as active
+    // during initial document load.
     uno::Reference<frame::XFrame> xFrame = rViewFrame.GetFrame().GetFrameInterface();
     uno::Reference<frame::XDesktop2> xDesktop = frame::Desktop::create(comphelper::getProcessComponentContext());
     xDesktop->setActiveFrame(xFrame);
diff --git a/solenv/gbuild/Executable.mk b/solenv/gbuild/Executable.mk
index 48d91258e..6fa1be137 100644
--- a/solenv/gbuild/Executable.mk
+++ b/solenv/gbuild/Executable.mk
@@ -77,8 +77,7 @@ $(call gb_Executable_get_clean_target,$(1)) : AUXTARGETS :=
 $(call gb_Executable_Executable_platform,$(1),$(2),$(gb_Executable_BINDIR)/$(1).lib)
 ifeq ($(OS),EMSCRIPTEN)
 $(call gb_LinkTarget_get_target,$(call gb_Executable_get_linktarget,$(1))) : \
-    $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data \
-    $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data.js.metadata
+    $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data
 endif
 
 $$(eval $$(call gb_Module_register_target,$(call gb_Executable_get_target,$(1)),$(call gb_Executable_get_clean_target,$(1))))
diff --git a/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk b/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk
index 45beedd1a..364c738b2 100644
--- a/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk
+++ b/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk
@@ -15,17 +15,24 @@ gb_EMSCRIPTEN_CPPFLAGS := -pthread -s USE_PTHREADS=1 -D_LARGEFILE64_SOURCE -D_LA
 gb_EMSCRIPTEN_LDFLAGS := $(gb_EMSCRIPTEN_CPPFLAGS)
 
 # Initial memory size and worker thread pool
-gb_EMSCRIPTEN_LDFLAGS += -s TOTAL_MEMORY=1GB -s PTHREAD_POOL_SIZE=4
+# ALLOW_MEMORY_GROWTH enables heap expansion beyond INITIAL_MEMORY
+# STACK_SIZE increased from default 64KB to 5MB for complex call stacks
+# DEFAULT_PTHREAD_STACK_SIZE sets worker thread stack size
+# Production build: debug flags (SAFE_HEAP, STACK_OVERFLOW_CHECK, DEMANGLE_SUPPORT) removed for performance
+gb_EMSCRIPTEN_LDFLAGS += -s INITIAL_MEMORY=1GB -s ALLOW_MEMORY_GROWTH=1 -s MAXIMUM_MEMORY=4GB -s STACK_SIZE=5MB -s DEFAULT_PTHREAD_STACK_SIZE=2MB -s PTHREAD_POOL_SIZE=4 -s PROXY_TO_PTHREAD=1
 
 # To keep the link time (and memory) down, prevent all rewriting options from wasm-emscripten-finalize
 # See emscripten.py, finalize_wasm, modify_wasm = True
 # So we need WASM_BIGINT=1 and ASSERTIONS=1 (2 implies STACK_OVERFLOW_CHECK)
-gb_EMSCRIPTEN_LDFLAGS += --bind -s FORCE_FILESYSTEM=1 -s WASM_BIGINT=1 -s ERROR_ON_UNDEFINED_SYMBOLS=1 -s FETCH=1 -s ASSERTIONS=1 -s EXIT_RUNTIME=0 -s EXPORTED_RUNTIME_METHODS=["UTF16ToString","stringToUTF16","UTF8ToString","ccall","cwrap","addOnPreMain","addOnPostRun","registerType","throwBindingError"$(if $(ENABLE_QT6),$(COMMA)"callMain"$(COMMA)"specialHTMLTargets")]
+gb_EMSCRIPTEN_LDFLAGS += --bind -s FORCE_FILESYSTEM=1 -s WASM_BIGINT=1 -s ERROR_ON_UNDEFINED_SYMBOLS=1 -s FETCH=1 -s ASSERTIONS=1 -s EXIT_RUNTIME=0 -s EXPORTED_RUNTIME_METHODS=["FS","wasmTable","UTF16ToString","stringToUTF16","UTF8ToString","ccall","cwrap","addOnPreMain","addOnPostRun","registerType","throwBindingError","ENV"$(if $(ENABLE_QT6),$(COMMA)"callMain"$(COMMA)"specialHTMLTargets")]
 gb_EMSCRIPTEN_QTDEFS := -DQT_NO_LINKED_LIST -DQT_NO_JAVA_STYLE_ITERATORS -DQT_NO_EXCEPTIONS -DQT_NO_DEBUG -DQT_WIDGETS_LIB -DQT_GUI_LIB -DQT_CORE_LIB
 
 gb_Executable_EXT := .html
 gb_EMSCRIPTEN_EXCEPT = -fwasm-exceptions -s SUPPORT_LONGJMP=wasm
 
+# EXPORTED_FUNCTIONS for LOK API moved to desktop/Executable_soffice_bin.mk
+# They should only apply to the final soffice link, not to external libraries
+
 gb_CXXFLAGS += $(gb_EMSCRIPTEN_CPPFLAGS)
 
 # Here we don't use += because gb_LinkTarget_EXCEPTIONFLAGS from com_GCC_defs.mk contains -fexceptions and
diff --git a/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk.bak b/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk.bak
new file mode 100644
index 000000000..45beedd1a
--- /dev/null
+++ b/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk.bak
@@ -0,0 +1,90 @@
+# -*- Mode: makefile-gmake; tab-width: 4; indent-tabs-mode: t -*-
+#
+# This file is part of the LibreOffice project.
+#
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+#
+
+include $(GBUILDDIR)/platform/unxgcc.mk
+
+gb_RUN_CONFIGURE := $(SRCDIR)/solenv/bin/run-configure
+# avoid -s SAFE_HEAP=1 - c.f. gh#8584 this breaks source maps
+gb_EMSCRIPTEN_CPPFLAGS := -pthread -s USE_PTHREADS=1 -D_LARGEFILE64_SOURCE -D_LARGEFILE_SOURCE -s SUPPORT_LONGJMP=wasm
+gb_EMSCRIPTEN_LDFLAGS := $(gb_EMSCRIPTEN_CPPFLAGS)
+
+# Initial memory size and worker thread pool
+gb_EMSCRIPTEN_LDFLAGS += -s TOTAL_MEMORY=1GB -s PTHREAD_POOL_SIZE=4
+
+# To keep the link time (and memory) down, prevent all rewriting options from wasm-emscripten-finalize
+# See emscripten.py, finalize_wasm, modify_wasm = True
+# So we need WASM_BIGINT=1 and ASSERTIONS=1 (2 implies STACK_OVERFLOW_CHECK)
+gb_EMSCRIPTEN_LDFLAGS += --bind -s FORCE_FILESYSTEM=1 -s WASM_BIGINT=1 -s ERROR_ON_UNDEFINED_SYMBOLS=1 -s FETCH=1 -s ASSERTIONS=1 -s EXIT_RUNTIME=0 -s EXPORTED_RUNTIME_METHODS=["UTF16ToString","stringToUTF16","UTF8ToString","ccall","cwrap","addOnPreMain","addOnPostRun","registerType","throwBindingError"$(if $(ENABLE_QT6),$(COMMA)"callMain"$(COMMA)"specialHTMLTargets")]
+gb_EMSCRIPTEN_QTDEFS := -DQT_NO_LINKED_LIST -DQT_NO_JAVA_STYLE_ITERATORS -DQT_NO_EXCEPTIONS -DQT_NO_DEBUG -DQT_WIDGETS_LIB -DQT_GUI_LIB -DQT_CORE_LIB
+
+gb_Executable_EXT := .html
+gb_EMSCRIPTEN_EXCEPT = -fwasm-exceptions -s SUPPORT_LONGJMP=wasm
+
+gb_CXXFLAGS += $(gb_EMSCRIPTEN_CPPFLAGS)
+
+# Here we don't use += because gb_LinkTarget_EXCEPTIONFLAGS from com_GCC_defs.mk contains -fexceptions and
+# gb_EMSCRIPTEN_EXCEPT already has -fwasm-exceptions
+gb_LinkTarget_EXCEPTIONFLAGS = $(gb_EMSCRIPTEN_EXCEPT)
+
+gb_LinkTarget_CFLAGS += $(gb_EMSCRIPTEN_CPPFLAGS)
+gb_LinkTarget_CXXFLAGS += $(gb_EMSCRIPTEN_CPPFLAGS) $(gb_EMSCRIPTEN_EXCEPT)
+ifeq ($(ENABLE_QT5),TRUE)
+gb_LinkTarget_CFLAGS += $(gb_EMSCRIPTEN_QTDEFS)
+gb_LinkTarget_CXXFLAGS += $(gb_EMSCRIPTEN_QTDEFS)
+endif
+gb_LinkTarget_LDFLAGS += $(gb_EMSCRIPTEN_LDFLAGS) $(gb_EMSCRIPTEN_CPPFLAGS) $(gb_EMSCRIPTEN_EXCEPT)
+
+# Linker and compiler optimize + debug flags are handled in LinkTarget.mk
+gb_LINKEROPTFLAGS :=
+gb_LINKERSTRIPDEBUGFLAGS :=
+# This maps to g3, no source maps, but DWARF with current emscripten!
+# https://developer.chrome.com/blog/wasm-debugging-2020/
+gb_DEBUGINFO_FLAGS = -g
+
+ifeq ($(HAVE_EXTERNAL_DWARF),TRUE)
+gb_DEBUGINFO_FLAGS += -gsplit-dwarf -gpubnames
+endif
+
+gb_COMPILEROPTFLAGS := -O3
+
+# We need at least code elimination, otherwise linking OOMs even with 64GB.
+# So we "fake" -Og support to mean -O1 for Emscripten and always enable it for debug in configure.
+gb_COMPILERDEBUGOPTFLAGS := -O1
+gb_COMPILERNOOPTFLAGS := -O1 -fstrict-aliasing -fstrict-overflow
+
+# cleanup addition JS and wasm files for binaries
+define gb_Executable_Executable_platform
+$(call gb_LinkTarget_add_auxtargets,$(2),\
+        $(patsubst %.lib,%.linkdeps,$(3)) \
+        $(patsubst %.lib,%.wasm,$(3)) \
+        $(patsubst %.lib,%.js,$(3)) \
+        $(patsubst %.lib,%.worker.js,$(3)) \
+        $(patsubst %.lib,%.wasm.dwp,$(3)) \
+)
+
+endef
+
+define gb_CppunitTest_CppunitTest_platform
+$(call gb_LinkTarget_add_auxtargets,$(2),\
+        $(patsubst %.lib,%.linkdeps,$(3)) \
+        $(patsubst %.lib,%.wasm,$(3)) \
+        $(patsubst %.lib,%.js,$(3)) \
+        $(patsubst %.lib,%.worker.js,$(3)) \
+        $(patsubst %.lib,%.wasm.dwp,$(3)) \
+)
+
+endef
+
+define gb_Library_get_rpath
+endef
+
+define gb_Executable_get_rpath
+endef
+
+# vim: set noet sw=4 ts=4
diff --git a/solenv/gbuild/platform/unxgcc.mk b/solenv/gbuild/platform/unxgcc.mk
index 68ea5c571..3544614f5 100644
--- a/solenv/gbuild/platform/unxgcc.mk
+++ b/solenv/gbuild/platform/unxgcc.mk
@@ -188,8 +188,7 @@ $(if $(filter TRUE,$(ENABLE_QT5)), \
     sed -e 's/@APPNAME@/$(basename $(notdir $(1)))/g' -e 's/@APPEXPORTNAME@/$(basename $(notdir $(1)))_entry/g' -e 's/@PRELOAD@//g' -e 's|const instance = await qtLoad$(OPEN_PAREN){|const instance = await qtLoad$(OPEN_PAREN){ "arguments": ["--norestore"$(COMMA) "--nologo"$(COMMA) "--writer"$(COMMA) "/android/default-document/example.odt"]$(COMMA)|' -e 's/}$(CLOSE_PAREN);$$/}$(CLOSE_PAREN); window.Module = instance;/' $(QT6_PLATFORMS_SRCDIR)/wasm_shell.html > $(dir $(1))qt_$(basename $(notdir $(1))).html && \
     cp $(QT6_PLATFORMS_SRCDIR)/qtlogo.svg $(QT6_PLATFORMS_SRCDIR)/qtloader.js $(dir $(1)) && \
 )) \
-    cp $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data $(dir $(1))/soffice.data && \
-    cp $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data.js.metadata $(dir $(1))/soffice.data.js.metadata \
+    cp $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data $(dir $(1))/soffice.data \
 )
 endef
 
diff --git a/starmath/source/edit.cxx b/starmath/source/edit.cxx
index d0f25259f..b45852ee3 100644
--- a/starmath/source/edit.cxx
+++ b/starmath/source/edit.cxx
@@ -1,3 +1,4 @@
+#include <config_wasm_strip.h>
 /* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
 /*
  * This file is part of the LibreOffice project.
@@ -125,7 +126,9 @@ void SmEditTextWindow::SetDrawingArea(weld::DrawingArea* pDrawingArea)
 
     pEditEngine->SetStatusEventHdl(LINK(this, SmEditTextWindow, EditStatusHdl));
 
+#if !ENABLE_WASM_STRIP_ACCESSIBILITY
     InitAccessible();
+#endif
 
     //Apply zoom to smeditwindow text
     if(GetEditView())
diff --git a/static/CustomTarget_emscripten_fs_image.mk b/static/CustomTarget_emscripten_fs_image.mk
index b82dcff82..2f69e2f89 100644
--- a/static/CustomTarget_emscripten_fs_image.mk
+++ b/static/CustomTarget_emscripten_fs_image.mk
@@ -42,238 +42,6 @@ gb_emscripten_fs_image_files := \
     $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,soffice) \
     $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,version) \
     $(INSTROOT)/$(LIBO_ETC_FOLDER)/services/services.rdb \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutconfigdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/accelconfigpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorexceptpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acoroptionspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorreplacepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsfragment.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/agingdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applyautofmtpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applylocalizedpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areadialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areatabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/asiantypography.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/assigncomponentdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/autocorrectdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/baselinksdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderareatransparencydialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderbackgrounddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/breaknumberoption.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/bulletandposition.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cellalignment.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/certdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/chapterfragment.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/charnamepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorconfigwin.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorfragment.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpickerdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/comment.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connectortabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connpooloptions.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/croppage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cuiimapdlg.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/customizedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/databaselinkdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dbregisterpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/diagramdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dimensionlinestabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editdictionarydialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editmodulesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/effectspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/embossdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/entrycontextmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassigndialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassignpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventsconfigpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fmsearchdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfeaturesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfragment.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatcellsdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatnumberdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryapplyprogress.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryfilespage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerygeneralpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerysearchprogress.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemeiddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerytitledialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryupdateprogress.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gradientpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestdlg.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestentry.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaadddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaconversiondialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaeditdictdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaoptdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hatchpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdocpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkinternetpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmailpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmarkdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinknewdocpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyphenate.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconchangedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconselectordialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imagetabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imageviewer.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertfloatingframe.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertoleobject.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertrowcolumn.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javaclasspathdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javastartparametersdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/lineendstabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linestyletabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linetabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassigndialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassignpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroselectordialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/menuassignpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/mosaicdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/movemenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/multipathdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/namedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newlibdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtabledialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtoolbardialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingformatpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingoptionspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingpositionpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objectnamedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objecttitledescdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optaccessibilitypage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optadvancedpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optappearancepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optasianpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optbasicidepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optchartcolorspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optctlpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optemailpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrembedpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfontspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optgeneralpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/opthtmlpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optionsdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optjsearchpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlanguagespage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlingupage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optnewdictionarydialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optonlineupdatepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optpathspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optproxypage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsavepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsecuritypage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optuserpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optviewpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pageformatpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paragalignpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paraindentspacing.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paratabspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/password.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pastespecial.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/patterntabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/percentdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/personalization_tab.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickbulletpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickgraphicpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/picknumberingpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickoutlinepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionsizedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/possizetabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/posterdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/qrcodegen.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querychangelineenddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletebitmapdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletechartcolordialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletecolordialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletedictionarydialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletegradientdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletehatchdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelineenddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelinestyledialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryduplicatedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynoloadedfiledialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynosavefiledialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querysavelistdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryupdategalleryfilelistdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/recordnumberdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/rotationtabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/screenshotannotationdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/scriptorganizer.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchattrdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchformatdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/securityoptionsdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/selectpathdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/shadowtabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/showcoldialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signatureline.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signsignatureline.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/similaritysearchdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/slantcornertabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smarttagoptionspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smoothdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/solarizedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/specialcharacters.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spellingdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spelloptionsdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spinbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/splitcellsdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/storedwebconnectiondialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/swpossizepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textanimtabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textattrtabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textcolumnstabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textflowpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/thesaurus.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/toolbarmodedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/transparencytabpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/tsaurldialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/twolinespage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/wordcompletionpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/zoomdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/dependenciesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmanager.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/installforalldialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/licensedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/showlicensedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updatedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updateinstalldialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updaterequireddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/editeng/ui/spellmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfgeneralpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdflinkspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfoptionsdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsecuritypage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsignpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfuserinterfacepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfviewpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/testxmlfilter.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/warnpdfdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltersettings.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagegeneral.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagetransformation.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xsltfilterdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/formuladialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/functionpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/parameter.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/structpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/breadcrumb.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/explorerfiledialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/foldernamedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/remotefilesdialog.ui \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/filter/oox-drawingml-adj-names \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/filter/oox-drawingml-cs-presets \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/filter/vml-shape-types \
@@ -793,6 +561,284 @@ gb_emscripten_fs_image_files += \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/wrapdialog.ui \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/wrappage.ui \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/zoombox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/connectorsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/notebookbarshortcuts.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/extrusionobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formcontrols.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/outlinetoolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/optionsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/ellipsesbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/tableobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/viewerbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/gluepointsobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/alignmentbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formsfilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/graffilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/fontworkobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/singlemode.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/masterviewtoolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/zoombar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/mediaobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/3dobjectsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/classificationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/drawingobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/findbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/choosemodebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/rectanglesbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/insertbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/optimizetablebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/commontaskbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/bezierobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formdesign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/slideviewobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/distributebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formsnavigationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/linesbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/graphicobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/commentsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/textobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/colorbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/slideviewtoolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/positionbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/arrowsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/textbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/fontworkshapetype.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_groupedbar_full.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/headerfooterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/interactionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmimagespage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/templatedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmslidespage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/tabledesignpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterlayoutdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/photoalbum.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/slidetransitionspanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/simpress/layoutlist.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/simpress/objectlist.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/simpress/styles.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationtexttab.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/annotation.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/headerfootertab.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmobjectspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/optimpressgeneralpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/currentmastermenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/prntopts.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notespanelcontextmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/dockinganimation.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/gluebox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/dlgfield.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/displaywindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/tabviewbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterpagemenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/mastermenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/fieldmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/presentationdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationeffecttab.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/impressprinteroptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/layoutwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/definecustomslideshow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/navigatorpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_groups.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_online.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/effectmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/annotationtagmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/slidecontextmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/noteschildwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pminfodialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmintropage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_groupedbar_compact.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterpagepanelall.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/layoutpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationproperties.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmsummarypage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/remotedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pagesfieldbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/layoutmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/snapmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/clientboxfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/scalemenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationtimingtab.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterpagepanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/interactiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/slidedesigndialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_compact.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_single.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/fontsizemenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/insertslides.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterpagepanelrecent.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/fontstylemenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customslideshows.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationspanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/sidebarslidebackground.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/rotatemenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/sdviewpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/line.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/measure.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/bezier.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/3dscene2.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/objectalign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/curve.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagetab.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/gluepoint.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/formrichtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/media.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagepane.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagepanenoselmaster.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/outline.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagepanemaster.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/multiselect.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/notebookbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/oleobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagepanenosel.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/connector.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/3dscene.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/table.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/page.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/3dobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/group.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/textbox.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/connectorsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/notebookbarshortcuts.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/extrusionobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formcontrols.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/optionsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/ellipsesbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/tableobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/viewerbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/gluepointsobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/redactionbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/alignmentbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formsfilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/graffilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/fontworkobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/masterviewtoolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/zoombar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/mediaobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/3dobjectsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/drawingobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/findbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/choosemodebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/rectanglesbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/insertbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/optimizetablebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/bezierobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formdesign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/distributebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formsnavigationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/linesbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/graphicobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/commentsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/textobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/colorbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/redactedexportbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/positionbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/arrowsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/textbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/fontworkshapetype.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawpagedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/paranumberingtab.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/insertlayer.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawprinteroptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/insertslidesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/namedesign.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/navigatorcontextmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/bulletsandnumbering.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar_online.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawchardialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar_groupedbar_compact.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/breakdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawprtldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/crossfadedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/vectorize.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/queryunlinkimagedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/copydlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/selectlayerdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar_compact.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar_single.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawparadialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/dlgsnap.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/layertab.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/line.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/measure.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/bezier.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/3dscene2.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/objectalign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/curve.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagetab.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/gluepoint.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/formrichtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/media.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagepane.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagepanenoselmaster.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagepanemaster.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/multiselect.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/notebookbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/oleobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagepanenosel.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/connector.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/3dscene.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/table.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/page.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/3dobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/group.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/textbox.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/smathsettings.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/symdefinedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/fontsizedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/alignmentdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/savedefaultsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/spacingdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/fontdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/embedwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/editwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/fonttypedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/sidebarelements_math.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/sidebarproperties_math.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/catalogdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/printeroptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/mathwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/popupmenu/edit.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/popupmenu/view.xml \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/menubar/menubar.xml \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/anchor.xml \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/annotation.xml \
@@ -1102,277 +1148,6 @@ gb_emscripten_fs_image_files += \
 endif # !ENABLE_WASM_STRIP_CALC
 
 gb_emscripten_fs_image_files += \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/addtargetdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/alienwarndialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/autoredactdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charmapcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charviewmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/checkin.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/classificationbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisinfopage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisline.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/commandpopup.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/custominfopage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/deck.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/descriptioninfopage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/developmenttool.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/devtoolsmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentfontspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentinfopage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentpropertiesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdocumentdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdurationdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/errorfindemaildialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/extrabutton.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/floatingrecord.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpbookmarkpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontentpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpindexpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpmanual.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpsearchpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpwindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/infobar.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/inputdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/licensedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linefragment.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linkeditdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/loadtemplatedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/managestylepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/navigator.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/newstyle.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbarpopup.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbar.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/optprintpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/panel.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/password.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/printeroptionsdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/querysavedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/safemodequerydialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/saveastemplatedlg.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/searchdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/securityinfopage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/singletabdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/startcenter.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/stylecontextmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbarcontents.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbar.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbutton.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatecategorydlg.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatedlg.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatepanel.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/urlbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versioncommentdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionscmis.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionsofdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/addresstemplatedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/calendar.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/checkboxcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/combocontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/datewindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/editcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/emptypage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fileviewmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedimagecontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedtextcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/graphicexport.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/inputbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/interimparent.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/javadisableddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/linewindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/listcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/managedtoolbar.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/placeedit.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/printersetupdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/querydeletedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/restartdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/scrollbars.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/spinfieldcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/subtoolbar.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbaredit.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttonsmirrored.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttons.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/textviewcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/thineditcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/absrecbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/acceptrejectchangesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/accessibilitycheckentry.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addconditiondialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/adddataitemdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addinstancedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addmodeldialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addnamespacedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addsubmissiondialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/applystylebox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/asianphoneticguidedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/cellmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/charsetmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/checkbuttonbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chineseconversiondialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chinesedictionary.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/classificationdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/clipboardmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colorwindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colsmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/columnswindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/compressgraphicdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/crashreportdlg.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/currencywindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/datanavigator.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/defaultshapespanel.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deletefooterdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deleteheaderdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/depthwindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/directionwindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docking3deffects.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorreplace.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorwindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingfontwork.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverybrokendialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryprogressdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryrecoverdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverysavedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/extrustiondepthdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fileexporteddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fillctrlbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filtermenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filternavigator.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog-mobile.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingareastyle.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingcontour.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingframeborder.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineend.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineproperty.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglinestyle.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingundoredo.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontnamebox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontsizebox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkalignmentcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkcharacterspacingcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkgallerydialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkspacingdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formdatamenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formfielddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formlinkwarndialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavigator.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavimenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formpropertydialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/functionmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu1.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu2.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckentry.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gotopagedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafctrlbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafmodebox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/headfootformatpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/inspectortextpanel.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/labelbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/lightingwindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/linkwarndialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/measurewidthbar.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/medialine.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediaplayback.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediawindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/metricfieldbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/namespacedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/navigationbar.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/numberingwindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/optgridpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralinespacingcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralrspacing.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paraulspacing.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/passwd.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/presetmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletecontourdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeleteobjectdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletethemedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querymodifyimagemapchangesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querynewcontourdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysavecontchangesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysaveimagemapchangesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/queryunlinkgraphicsdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinecontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinefilterpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlineviewpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rowsmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rulermenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/safemodedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/savemodifieddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/selectionmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebararea.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebareffect.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarempty.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarfontwork.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargallery.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargraphic.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarline.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarlists.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarparagraph.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarpossize.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarshadow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarstylespanel.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextcolumnspanel.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextpanel.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylemenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylespreview.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/surfacewindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/tablewindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcharacterspacingcontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolchardialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolparadialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textunderlinecontrol.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/toolbarpopover.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xformspage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xmlsecstatmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/zoommenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/authfallback.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/filterselect.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/logindialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/macrowarnmedium.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/masterpassworddlg.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/password.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/setmasterpassworddlg.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/simplenameclash.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/sslwarndialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/unknownauthdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/aboutbox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/combobox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/cupspassworddialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/dockingwindow.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/editmenu.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornocontentdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornoprinterdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimdockparent.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimtearableparent.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton3.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton4.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/openlockedquerybox.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerdevicepage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpaperpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpropertiesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printprogressdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/querydialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/screenshotparent.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/wizard.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/exportepub.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/wpftencodingdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/certdetails.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/certgeneral.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/certpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/digitalsignaturesdialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/macrosecuritydialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/securitylevelpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/securitytrustpage.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/selectcertificatedialog.ui \
-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/viewcertdialog.ui \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/beige.css \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/bgr.css \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/dark.css \
@@ -1397,8 +1172,13 @@ gb_emscripten_fs_image_files += \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/res/fcfg_langpack_en-US.xcd \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/res/registry_en-US.xcd \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/writer.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/math.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/draw.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/impress.xcd \
 	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/calc.xcd \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/xsltfilter.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/pdfimport.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/base.xcd \
     $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/autotext/mytexts.bau \
     $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/basic/dialog.xlc \
     $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/basic/script.xlc \
@@ -1414,6 +1194,512 @@ gb_emscripten_fs_image_files += \
     $(SRCDIR)/android/default-document/example.odt \
 	$(SRCDIR)/android/default-document/example_test.ods \
 
+
+# Core UI files needed for document loading (svt, cui, sfx, svx, vcl, etc.)
+# These are required even in headless mode for proper VCL initialization
+gb_emscripten_fs_image_files += \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/addresstemplatedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/calendar.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/checkboxcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/combocontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/datewindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/editcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/emptypage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fileviewmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedimagecontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedtextcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/graphicexport.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/inputbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/interimparent.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/javadisableddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/linewindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/listcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/managedtoolbar.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/placeedit.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/printersetupdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/querydeletedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/restartdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/scrollbars.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/spinfieldcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/subtoolbar.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbaredit.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttonsmirrored.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttons.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/textviewcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/thineditcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutconfigdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/accelconfigpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorexceptpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acoroptionspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorreplacepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsfragment.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/agingdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applyautofmtpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applylocalizedpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areadialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areatabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/asiantypography.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/assigncomponentdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/autocorrectdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/baselinksdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderareatransparencydialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderbackgrounddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/breaknumberoption.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/bulletandposition.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cellalignment.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/certdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/chapterfragment.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/charnamepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorconfigwin.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorfragment.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpickerdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/comment.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connectortabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connpooloptions.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/croppage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cuiimapdlg.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/customizedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/databaselinkdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dbregisterpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/diagramdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dimensionlinestabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editdictionarydialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editmodulesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/effectspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/embossdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/entrycontextmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassigndialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassignpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventsconfigpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fmsearchdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfeaturesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfragment.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatcellsdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatnumberdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryapplyprogress.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryfilespage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerygeneralpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerysearchprogress.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemeiddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerytitledialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryupdateprogress.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gradientpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestdlg.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestentry.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaadddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaconversiondialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaeditdictdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaoptdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hatchpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdocpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkinternetpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmailpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmarkdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinknewdocpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyphenate.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconchangedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconselectordialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imagetabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imageviewer.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertfloatingframe.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertoleobject.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertrowcolumn.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javaclasspathdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javastartparametersdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/langtoolconfigpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/lineendstabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linestyletabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linetabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/listdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassigndialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassignpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroselectordialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/menuassignpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/mosaicdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/movemenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/multipathdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/namedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newlibdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtabledialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtoolbardialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingformatpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingoptionspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingpositionpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objectnamedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objecttitledescdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optaccessibilitypage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optadvancedpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optappearancepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optasianpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optbasicidepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optchartcolorspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optctlpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optdeeplpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optemailpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrembedpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfontspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optgeneralpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/opthtmlpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optionsdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optjsearchpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlanguagespage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlingupage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optnewdictionarydialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optonlineupdatepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optpathspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optproxypage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsavepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsecuritypage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optuserpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optviewpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pageformatpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paragalignpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paraindentspacing.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paratabspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/password.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pastespecial.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/patterntabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/percentdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/personalization_tab.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickbulletpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickgraphicpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/picknumberingpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickoutlinepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionsizedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/possizetabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/posterdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/qrcodegen.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querychangelineenddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletebitmapdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletechartcolordialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletecolordialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletedictionarydialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletegradientdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletehatchdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelineenddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelinestyledialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryduplicatedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynoloadedfiledialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynosavefiledialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querysavelistdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querysetinsmodedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryupdategalleryfilelistdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/recordnumberdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/rotationtabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/screenshotannotationdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/scriptorganizer.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchattrdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchformatdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/securityoptionsdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/selectpathdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/shadowtabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/showcoldialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signatureline.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signsignatureline.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/similaritysearchdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/slantcornertabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smarttagoptionspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smoothdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/solarizedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/specialcharacters.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spellingdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spelloptionsdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spinbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/splitcellsdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/storedwebconnectiondialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/swpossizepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textanimtabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textattrtabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textcolumnstabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textflowpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/thesaurus.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/toolbarmodedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/transparencytabpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/tsaurldialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/twolinespage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/widgettestdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/wordcompletionpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/zoomdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/addtargetdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/alienwarndialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/autoredactdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charmapcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charviewmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/checkin.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/classificationbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisinfopage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisline.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/commandpopup.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/custominfopage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/deck.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/descriptioninfopage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/developmenttool.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/devtoolsmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentfontspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentinfopage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentpropertiesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdocumentdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdurationdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/errorfindemaildialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/extrabutton.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/floatingrecord.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpbookmarkpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontentpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpindexpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpmanual.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpsearchpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpwindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/infobar.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/inputdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/licensedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linefragment.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linkeditdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/loadtemplatedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/managestylepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/navigator.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/newstyle.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbarpopup.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbar.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/optprintpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/panel.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/password.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/printeroptionsdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/querysavedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/safemodequerydialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/saveastemplatedlg.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/searchdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/securityinfopage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/singletabdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/startcenter.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/stylecontextmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbarcontents.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbar.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbutton.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatecategorydlg.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatedlg.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatepanel.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/urlbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versioncommentdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionscmis.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionsofdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/absrecbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/acceptrejectchangesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/accessibilitycheckentry.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addconditiondialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/adddataitemdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addinstancedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addmodeldialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addnamespacedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addsubmissiondialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/applystylebox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/asianphoneticguidedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/cellmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/charsetmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/checkbuttonbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chineseconversiondialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chinesedictionary.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/classificationdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/clipboardmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colorwindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colsmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/columnswindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/compressgraphicdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/crashreportdlg.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/currencywindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/datanavigator.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/defaultshapespanel.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deletefooterdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deleteheaderdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/depthwindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/directionwindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docking3deffects.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorreplace.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorwindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingfontwork.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverybrokendialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryprogressdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryrecoverdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverysavedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/extrustiondepthdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fileexporteddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fillctrlbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filtermenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filternavigator.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog-mobile.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingareastyle.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingcontour.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingframeborder.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineend.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineproperty.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglinestyle.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingundoredo.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontnamebox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontsizebox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkalignmentcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkcharacterspacingcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkgallerydialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkspacingdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formdatamenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formfielddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formlinkwarndialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavigator.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavimenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formpropertydialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/functionmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu1.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu2.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckentry.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gotopagedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafctrlbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafmodebox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/headfootformatpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/inspectortextpanel.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/labelbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/lightingwindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/linkwarndialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/measurewidthbar.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/medialine.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediaplayback.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediawindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/metricfieldbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/namespacedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/navigationbar.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/numberingwindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/optgridpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralinespacingcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralrspacing.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paraulspacing.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/passwd.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/presetmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletecontourdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeleteobjectdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletethemedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querymodifyimagemapchangesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querynewcontourdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysavecontchangesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysaveimagemapchangesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/queryunlinkgraphicsdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinecontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinefilterpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlineviewpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rowsmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rulermenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/safemodedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/savemodifieddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/selectionmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebararea.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebareffect.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarempty.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarfontwork.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargallery.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargraphic.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarline.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarlists.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarparagraph.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarpossize.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarshadow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarstylespanel.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextcolumnspanel.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextpanel.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylemenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylespreview.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/surfacewindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/tablewindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcharacterspacingcontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolchardialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolparadialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textunderlinecontrol.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/themecoloreditdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/themedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/toolbarpopover.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xformspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xmlsecstatmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/zoommenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/aboutbox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/combobox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/cupspassworddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/dockingwindow.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/editmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornocontentdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornoprinterdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimdockparent.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimtearableparent.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton3.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton4.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/openlockedquerybox.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerdevicepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpaperpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpropertiesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printprogressdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/querydialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/screenshotparent.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/wizard.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfgeneralpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdflinkspage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfoptionsdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsecuritypage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsignpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfuserinterfacepage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfviewpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/testxmlfilter.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/warnpdfdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltersettings.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagegeneral.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagetransformation.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xsltfilterdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/authfallback.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/filterselect.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/logindialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/macrowarnmedium.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/masterpassworddlg.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/password.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/setmasterpassworddlg.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/simplenameclash.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/sslwarndialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/unknownauthdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/dependenciesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmanager.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmenu.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/installforalldialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/licensedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/showlicensedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updatedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updateinstalldialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updaterequireddialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/breadcrumb.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/explorerfiledialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/foldernamedialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/remotefilesdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/formuladialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/functionpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/parameter.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/structpage.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/exportepub.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/wpftencodingdialog.ui \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/editeng/ui/spellmenu.ui
+
 ifneq ($(ENABLE_WASM_STRIP_CHART),TRUE)
 gb_emscripten_fs_image_files += \
     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/menubar/menubar.xml \
@@ -1489,13 +1775,35 @@ gb_emscripten_fs_image_filelists += $(call gb_Package_get_target,fontconfig_data
 
 emscripten_fs_image_WORKDIR := $(gb_CustomTarget_workdir)/static/emscripten_fs_image
 
+# Generate fontconfig cache before packaging soffice.data
+# This avoids runtime font scanning which causes many FS open calls
+#
+# fontconfig is built with /share paths (no /instdir prefix) to match
+# how the WASM virtual filesystem mounts files (instdir contents at root).
+# fc-cache scans fonts and stores paths in the cache.
+emscripten_fontconfig_cache_dir := $(INSTROOT)/$(LIBO_SHARE_FOLDER)/fontconfig/cache
+emscripten_fontconfig_cache_stamp := $(emscripten_fs_image_WORKDIR)/fontconfig_cache.stamp
+
+$(emscripten_fontconfig_cache_stamp): \
+		$(call gb_AutoInstall_get_target,ooo_fonts) \
+		$(call gb_Package_get_target,fontconfig_data) \
+		| $(emscripten_fs_image_WORKDIR)/.dir
+	$(call gb_Output_announce,fontconfig cache,$(true),FCC,2)
+	mkdir -p $(emscripten_fontconfig_cache_dir)
+	mkdir -p /share/fontconfig/cache
+	FONTCONFIG_FILE=$(INSTROOT)/$(LIBO_SHARE_FOLDER)/fontconfig/fonts.conf fc-cache -f -s -v $(INSTROOT)/$(LIBO_SHARE_FOLDER)/fonts || true
+	-cp /share/fontconfig/cache/* $(emscripten_fontconfig_cache_dir)/ 2>/dev/null || true
+	@echo "Fontconfig cache generated. Verifying..."
+	@ls -la $(emscripten_fontconfig_cache_dir)/ || echo "Warning: cache directory may be empty"
+	touch $@
+
 # we just need data.js.link at link time, which is equal to soffice.data.js
 $(call gb_CustomTarget_get_target,static/emscripten_fs_image): \
     $(emscripten_fs_image_WORKDIR)/soffice.data \
     $(emscripten_fs_image_WORKDIR)/soffice.data.js.link \
-    $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata \
 
-$(emscripten_fs_image_WORKDIR)/soffice.data $(emscripten_fs_image_WORKDIR)/soffice.data.js : $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata
+# soffice.data is generated alongside soffice.data.js by the file packager
+$(emscripten_fs_image_WORKDIR)/soffice.data: $(emscripten_fs_image_WORKDIR)/soffice.data.js
 
 .PRECIOUS: $(emscripten_fs_image_WORKDIR)/soffice.data.js.link
 $(emscripten_fs_image_WORKDIR)/soffice.data.js.link: $(emscripten_fs_image_WORKDIR)/soffice.data.js
@@ -1515,17 +1823,20 @@ $(emscripten_fs_image_WORKDIR)/soffice.data.filelist: \
 		$(call gb_InstallModule_get_target,scp2/ooo) \
 		$(emscripten_fs_image_WORKDIR)/soffice.data.concat_lists \
 		$(gb_emscripten_fs_image_files) \
+		$(emscripten_fontconfig_cache_stamp) \
 		| $(emscripten_fs_image_WORKDIR)/.dir
 	$(file >$@,\
 	    $(subst @,@@,$(subst $(BUILDDIR)/,,$(filter $(BUILDDIR)%,$(gb_emscripten_fs_image_all_files)))) \
-	    $(foreach item,$(filter-out $(BUILDDIR)%,$(gb_emscripten_fs_image_all_files)),$(subst @,@@,$(item))@$(subst @,@@,$(subst $(SRCDIR)/,,$(item)))))
+	    $(foreach item,$(filter-out $(BUILDDIR)%,$(gb_emscripten_fs_image_all_files)),$(subst @,@@,$(item))@$(subst @,@@,$(subst $(SRCDIR)/,,$(item)))) \
+	    $(foreach cache_file,$(wildcard $(emscripten_fontconfig_cache_dir)/*),$(subst @,@@,$(cache_file))@instdir/$(subst @,@@,$(subst $(INSTROOT)/,,$(cache_file)))))
 
 # Unfortunately the file packager just allows a cmdline file list, but all paths are
 # relative to $(BUILDDIR), so we won't run out of cmdline space that fast...
-$(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata: $(emscripten_fs_image_WORKDIR)/soffice.data.filelist
+# Note: --separate-metadata removed - metadata is now embedded in soffice.data.js
+$(emscripten_fs_image_WORKDIR)/soffice.data.js: $(emscripten_fs_image_WORKDIR)/soffice.data.filelist
 	$(call gb_Output_announce,$(subst $(BUILDDIR)/,,$(emscripten_fs_image_WORKDIR)/soffice.data),$(true),GEN,2)
 	cd $(BUILDDIR) && \
-	$(EMSDK_FILE_PACKAGER) $(emscripten_fs_image_WORKDIR)/soffice.data --preload $(shell cat $^) --js-output=$(emscripten_fs_image_WORKDIR)/soffice.data.js --separate-metadata \
-	    || rm -f $(emscripten_fs_image_WORKDIR)/soffice.data.js $(emscripten_fs_image_WORKDIR)/soffice.data $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata
+	$(EMSDK_FILE_PACKAGER) $(emscripten_fs_image_WORKDIR)/soffice.data --preload $(shell cat $^) --js-output=$(emscripten_fs_image_WORKDIR)/soffice.data.js \
+	    || rm -f $(emscripten_fs_image_WORKDIR)/soffice.data.js $(emscripten_fs_image_WORKDIR)/soffice.data
 
 # vim: set noet sw=4:
diff --git a/static/CustomTarget_emscripten_fs_image.mk.bak b/static/CustomTarget_emscripten_fs_image.mk.bak
new file mode 100644
index 000000000..f31d1fe94
--- /dev/null
+++ b/static/CustomTarget_emscripten_fs_image.mk.bak
@@ -0,0 +1,1525 @@
+# vim: set noet sw=4 ts=4:
+# -*- Mode: makefile-gmake; tab-width: 4; indent-tabs-mode: t -*-
+#
+# This file is part of the LibreOffice project.
+#
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+#
+
+$(eval $(call gb_CustomTarget_CustomTarget,static/emscripten_fs_image))
+
+gb_emscripten_fs_image_autoinstall :=
+gb_emscripten_fs_image_filelists :=
+
+# file_packager.py supports renaming files by using "<src>@<dest>" input with all
+# @ escaped as @@ in both paths. Decoding this "encoding" in Makefile seems hard.
+#
+# Currently WASM simply assumes the image has the same layout then instdir. The
+# command is run from $(BUILDDIR), so everything from $(BUILDDIR) can be just
+# included "as it". Files from $(SRCDIR) are converted to the '@' syntax.
+#
+# Easiest workaround for most other limitations is probably to hack the filenames
+# in soffice.data.js.metadata after the image generation or manually add additional
+# commandline entries to the file_packager.py call.
+#
+gb_emscripten_fs_image_files := \
+    $(call gb_UnoApi_get_target,offapi) \
+    $(call gb_UnoApi_get_target,oovbaapi) \
+    $(call gb_UnoApi_get_target,udkapi) \
+    $(INSTROOT)/$(LIBO_BIN_FOLDER)/intro-highres.png \
+    $(INSTROOT)/$(LIBO_BIN_FOLDER)/intro.png \
+    $(INSTROOT)/$(LIBO_BIN_FOLDER)/shell/about.svg \
+    $(INSTROOT)/$(LIBO_BIN_FOLDER)/shell/logo_inverted.svg \
+    $(INSTROOT)/$(LIBO_BIN_FOLDER)/shell/logo-sc_inverted.svg \
+    $(INSTROOT)/$(LIBO_BIN_FOLDER)/shell/logo-sc.svg \
+    $(INSTROOT)/$(LIBO_BIN_FOLDER)/shell/logo.svg \
+    $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,bootstrap) \
+    $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,fundamental) \
+    $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,louno) \
+    $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,setup) \
+    $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,soffice) \
+    $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,version) \
+    $(INSTROOT)/$(LIBO_ETC_FOLDER)/services/services.rdb \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutconfigdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/accelconfigpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorexceptpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acoroptionspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorreplacepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/agingdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applyautofmtpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applylocalizedpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areadialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areatabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/asiantypography.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/assigncomponentdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/autocorrectdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/baselinksdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderareatransparencydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderbackgrounddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/breaknumberoption.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/bulletandposition.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cellalignment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/certdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/chapterfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/charnamepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorconfigwin.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpickerdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/comment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connectortabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connpooloptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/croppage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cuiimapdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/customizedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/databaselinkdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dbregisterpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/diagramdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dimensionlinestabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editdictionarydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editmodulesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/effectspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/embossdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/entrycontextmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassigndialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassignpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventsconfigpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fmsearchdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfeaturesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatcellsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatnumberdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryapplyprogress.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryfilespage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerygeneralpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerysearchprogress.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemeiddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerytitledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryupdateprogress.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gradientpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaadddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaconversiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaeditdictdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaoptdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hatchpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdocpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkinternetpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmailpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmarkdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinknewdocpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyphenate.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconchangedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconselectordialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imagetabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imageviewer.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertfloatingframe.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertoleobject.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertrowcolumn.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javaclasspathdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javastartparametersdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/lineendstabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linestyletabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linetabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassigndialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassignpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroselectordialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/menuassignpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/mosaicdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/movemenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/multipathdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/namedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newlibdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtabledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtoolbardialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingformatpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingoptionspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingpositionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objectnamedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objecttitledescdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optaccessibilitypage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optadvancedpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optappearancepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optasianpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optbasicidepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optchartcolorspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optctlpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optemailpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrembedpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfontspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optgeneralpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/opthtmlpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optionsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optjsearchpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlanguagespage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlingupage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optnewdictionarydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optonlineupdatepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optpathspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optproxypage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsavepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsecuritypage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optuserpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optviewpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pageformatpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paragalignpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paraindentspacing.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paratabspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/password.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pastespecial.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/patterntabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/percentdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/personalization_tab.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickbulletpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickgraphicpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/picknumberingpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickoutlinepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionsizedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/possizetabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/posterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/qrcodegen.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querychangelineenddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletebitmapdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletechartcolordialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletecolordialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletedictionarydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletegradientdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletehatchdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelineenddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelinestyledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryduplicatedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynoloadedfiledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynosavefiledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querysavelistdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryupdategalleryfilelistdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/recordnumberdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/rotationtabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/screenshotannotationdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/scriptorganizer.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchattrdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchformatdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/securityoptionsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/selectpathdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/shadowtabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/showcoldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signatureline.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signsignatureline.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/similaritysearchdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/slantcornertabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smarttagoptionspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smoothdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/solarizedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/specialcharacters.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spellingdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spelloptionsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spinbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/splitcellsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/storedwebconnectiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/swpossizepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textanimtabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textattrtabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textcolumnstabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textflowpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/thesaurus.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/toolbarmodedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/transparencytabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/tsaurldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/twolinespage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/wordcompletionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/zoomdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/dependenciesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmanager.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/installforalldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/licensedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/showlicensedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updatedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updateinstalldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updaterequireddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/editeng/ui/spellmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfgeneralpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdflinkspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfoptionsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsecuritypage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsignpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfuserinterfacepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfviewpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/testxmlfilter.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/warnpdfdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltersettings.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagegeneral.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagetransformation.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xsltfilterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/formuladialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/functionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/parameter.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/structpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/breadcrumb.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/explorerfiledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/foldernamedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/remotefilesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/filter/oox-drawingml-adj-names \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/filter/oox-drawingml-cs-presets \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/filter/vml-shape-types \
+
+ifneq ($(ENABLE_WASM_STRIP_WRITER),TRUE)
+gb_emscripten_fs_image_files += \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/anchor.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/annotation.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/formrichtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/frame.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/insertfield.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/media.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/oleobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/preview.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/showtrackedchanges.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/table.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/popupmenu/text.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/alignmentbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/bezierobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/colorbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/drawbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/drawingobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/drawtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/extrusionobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/findbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/fontworkobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/fontworkshapetype.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/formcontrols.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/formdesign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/formsfilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/formsnavigationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/formtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/frameobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/graffilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/graphicobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/insertbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/insertobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/mediaobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/numobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/oleobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/optimizetablebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/previewobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/tableobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/textobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/textstylebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sglobal/toolbar/viewerbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/StartModule/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/anchor.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/annotation.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/formrichtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/frame.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/insertfield.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/oleobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/preview.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/showtrackedchanges.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/source.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/table.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/popupmenu/text.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/bezierobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/colorbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/drawingobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/drawtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/extrusionobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/findbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/fontworkobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/fontworkshapetype.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/formcontrols.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/formdesign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/formsfilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/formsnavigationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/formtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/frameobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/graffilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/graphicobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/insertbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/mediaobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/numobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/oleobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/optimizetablebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/previewobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/tableobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/textobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sweb/toolbar/viewerbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/anchor.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/annotation.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/formrichtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/frame.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/insertfield.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/media.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/oleobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/preview.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/table.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/popupmenu/text.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/alignmentbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/bezierobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/colorbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/drawbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/drawingobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/drawtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/extrusionobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/fontworkobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/fontworkshapetype.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/formcontrols.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/formdesign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/formsfilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/formsnavigationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/formtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/frameobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/graffilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/graphicobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/insertbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/insertobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/mailmerge.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/mediaobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/numobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/oleobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/optimizetablebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/previewobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/tableobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/textobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swform/toolbar/viewerbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/anchor.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/annotation.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/formrichtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/frame.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/insertfield.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/media.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/oleobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/preview.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/showtrackedchanges.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/table.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/popupmenu/text.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/alignmentbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/bezierobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/colorbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/drawbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/drawingobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/drawtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/extrusionobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/fontworkobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/fontworkshapetype.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/formcontrols.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/formdesign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/formsfilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/formsnavigationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/formtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/frameobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/graffilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/graphicobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/insertbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/insertobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/mailmerge.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/mediaobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/numobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/oleobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/optimizetablebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/previewobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/tableobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/textobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swreport/toolbar/viewerbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/menubar/mscompatibleformsmenu.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/anchor.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/annotation.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/formrichtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/frame.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/insertfield.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/media.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/notebookbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/oleobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/preview.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/showtrackedchanges.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/table.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/popupmenu/text.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/alignmentbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/arrowsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/bezierobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/changes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/classificationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/colorbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/drawbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/drawingobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/drawtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/extrusionobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/findbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/fontworkobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/fontworkshapetype.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/formcontrols.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/formdesign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/formsfilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/formsnavigationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/formtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/frameobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/graffilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/graphicobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/insertbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/linesbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/mailmerge.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/mediaobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/navigationobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/notebookbarshortcuts.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/numobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/oleobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/optimizetablebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/previewobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-annotation.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-frame.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-media.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-ole.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-printpreview.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-table.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/singlemode-text.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/tableobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/textobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/textstylebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/toolbar/viewerbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/abstractdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/addentrydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/addressblockdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/addressfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/alreadyexistsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/annotation.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/asciifilterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/asksearchdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/assignfieldsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/assignfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/assignstylesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/attachnamedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/authenticationsettingsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/autoformattable.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/autotext.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/bibliofragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/bibliographyentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/bookmarkmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/bulletsandnumbering.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/businessdatapage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/calendar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/cannotsavelabeldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/captiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/captionoptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/cardmediumpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/ccdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/characterproperties.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/charurlpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/checkbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/columndialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/columnpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/columnwidth.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/comboboxfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/combobox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/conditionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/contentcontrolaliasbutton.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/contentcontrolcalendar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/contentcontroldlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/contentcontroldropdown.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/contentcontrollistitemdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/converttexttable.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/createaddresslist.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/createauthorentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/createautomarkdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/customizeaddrlistdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/datasourcesunavailabledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/dateformfielddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/dropcapspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/dropdownfielddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/dropdownformfielddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/editbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/editcategories.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/editfielddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/editsectiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/endnotepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/envaddresspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/envdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/envformatpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/envprinterpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/exchangedatabases.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/fielddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/findentrydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/flddbpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/flddocinfopage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/flddocumentpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/fldfuncpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/fldrefpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/fldvarpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/floatingsync.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/footendnotedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/footnoteareapage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/footnotepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/footnotesendnotestabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/formatsectiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/formattablepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/formdropdown.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/framedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/frmaddpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/frmtypepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/frmurlpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/hfmenubutton.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/indentpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/indexentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/infonotfounddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/inforeadonlydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/inputeditbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/inputfielddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/inputwinmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/insertautotextdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/insertbookmark.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/insertbreak.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/insertcaption.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/insertdbcolumnsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/insertfootnote.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/insertscript.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/insertsectiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/inserttable.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/jumpposbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/labeldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/labelformatpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/labeloptionspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/linenumbering.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mailconfigpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mailmergedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mailmerge.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/managechangessidebar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mastercontextmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mergeconnectdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mergetabledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmaddressblockpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmcreatingdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmlayoutpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmmailbody.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmoutputtypepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmresultemaildialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmresultprintdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmresultsavedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmsalutationpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmselectpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/mmsendmails.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/navigatorcontextmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/navigatorpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/newuserindexdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/notebookbar_compact.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/notebookbar_groupedbar_compact.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/notebookbar_groupedbar_full.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/notebookbar_groups.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/notebookbar_online.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/notebookbar_single.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/notebookbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/numberingnamedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/numberinput.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/numparapage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/objectdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/optcaptionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/optcomparison.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/optcompatpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/optfonttabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/optformataidspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/optgeneralpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/optredlinepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/opttablepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/opttestpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/outlinebutton.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/outlinenumberingpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/outlinenumbering.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/outlinepositionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pagecolumncontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pagefooterpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pageformatpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pageheaderpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pagemargincontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pageorientationcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pagesizecontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pagestylemenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pagestylespanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/paradialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/pbmenubutton.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/picturedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/picturepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/poseditbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/previewmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/previewzoomdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/printeroptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/printmergedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/printmonitordialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/printoptionspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/privateuserpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/querycontinuebegindialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/querycontinueenddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/querydefaultcompatdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/querysavelabeldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/readonlymenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/renameautotextdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/renameentrydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/renameobjectdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/rowheight.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/saveashtmldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/savelabeldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/savemonitordialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/sectionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/selectaddressdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/selectautotextdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/selectblockdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/selectindexdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/selecttabledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/sidebarstylepresets.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/sidebartableedit.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/sidebartheme.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/sidebarwrap.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/sortdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/spellmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/splittable.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/statisticsinfopage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/stringinput.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/subjectdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/tablecolumnpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/tablepreviewdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/tableproperties.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/tabletextflowpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/templatedialog16.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/templatedialog1.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/templatedialog2.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/templatedialog4.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/templatedialog8.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/testmailsettings.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/textgridpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/titlepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/tocdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/tocentriespage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/tocindexpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/tocstylespage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/tokenwidget.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/toxbuttonwidget.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/toxentrywidget.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/translationdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/unfloatbutton.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/viewoptionspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/warndatasourcedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/warnemaildialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/watermarkdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/wordcount-mobile.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/wordcount.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/wrapdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/wrappage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/zoombox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/anchor.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/annotation.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/formrichtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/frame.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/insertfield.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/media.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/oleobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/preview.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/showtrackedchanges.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/table.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/text.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/alignmentbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/bezierobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/colorbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/drawbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/drawingobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/drawtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/extrusionobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/findbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/fontworkobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/fontworkshapetype.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/formcontrols.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/formdesign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/formsfilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/formsnavigationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/formtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/frameobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/graffilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/graphicobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/insertbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/insertobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/mailmerge.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/mediaobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/numobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/oleobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/optimizetablebar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/previewobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/tableobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/textobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/toolbar/viewerbar.xml \
+
+endif # !ENABLE_WASM_STRIP_WRITER
+
+ifneq ($(ENABLE_WASM_STRIP_CALC),TRUE)
+gb_emscripten_fs_image_files += \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/anchor.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/audit.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/cell.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/celledit.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/colheader.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/column_operations.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/conditional.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/conditional_easy.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/form.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/formrichtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/formulabar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/freezepanes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/graphic.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/media.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/notebookbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/oleobject.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/pagebreak.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/pivot.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/preview.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/row_operations.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/rowheader.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/sheettab.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/popupmenu/sparkline.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/alignmentbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/arrowsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/classificationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/colorbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/datastreams.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/drawbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/drawobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/extrusionobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/findbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/fontworkobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/fontworkshapetype.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/formatobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/formcontrols.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/formdesign.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/formsfilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/formsnavigationbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/formtextobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/fullscreenbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/graffilterbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/graphicobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/insertbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/insertcellsbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/linesbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/mediaobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/notebookbarshortcuts.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/previewbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/singlemode.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/textobjectbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/toolbar/viewerbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/advancedfilterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/aggregatefunctionentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/allheaderfooterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/analysisofvariancedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/autoformattable.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/autosum.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/cellprotectionpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/changesourcedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/chardialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/checkwarningdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/chisquaretestdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/colormenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/colorrowdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/colwidthdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/condformatmanager.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/conditionalentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/conditionaleasydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/conditionalformatdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/conditionaliconset.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/conflictsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/consolidatedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/correlationdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/covariancedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/createnamesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/dapiservicedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/databaroptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/datafielddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/datafieldoptionsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/dataform.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/dataformfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/dataproviderdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/datastreams.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/datetimetransformationentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/definedatabaserangedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/definename.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/deletecells.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/deletecolumnentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/deletecontents.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/deleterowentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/descriptivestatisticsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/doubledialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/dropmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/erroralerttabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/exponentialsmoothingdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/externaldata.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/filldlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/filterdropdown.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/filterlist.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/filtersubdropdown.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/findreplaceentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/floatingborderstyle.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/floatinglinestyle.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/footerdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/formatcellsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/formulacalculationoptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/fourieranalysisdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/functionpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/goalseekdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/gotosheetdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/groupbydate.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/groupbynumber.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/groupdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/headerdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/headerfootercontent.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/headerfooterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/imoptdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/inputbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/inputstringdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/insertcells.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/insertname.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/insertsheet.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/integerdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/leftfooterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/leftheaderdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/listmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/managenamesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/mergecellsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/mergecolumnentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/movecopysheet.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/movingaveragedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/multipleoperationsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/namerangesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/navigatorpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/nosolutiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/notebookbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/notebookbar_compact.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/notebookbar_groupedbar_compact.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/notebookbar_groupedbar_full.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/notebookbar_groups.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/notebookbar_online.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/numberbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/numbertransformationentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/optcalculatepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/optchangespage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/optcompatibilitypage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/optdefaultpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/optdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/optformula.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/optimalcolwidthdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/optimalrowheightdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/optsortlists.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/pagelistmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/pagetemplatedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/paradialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/paratemplatedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/passfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/pastespecial.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/pivotfielddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/pivotfilterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/pivottablelayoutdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/posbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/printareasdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/printeroptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/protectsheetdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/queryrunstreamscriptdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/randomnumbergenerator.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/recalcquerydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/regressiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/replacenulltransformationentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/retypepassdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/retypepassworddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/rightfooterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/rightheaderdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/rowheightdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/samplingdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/scenariodialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/scenariomenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/scgeneralpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/searchresults.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/selectdatasource.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/selectrange.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/selectsource.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sharedfirstfooterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sharedfirstheaderdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sharedfooterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sharedheaderdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sharedleftfooterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sharedleftheaderdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sharedocumentdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sharedwarningdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sheetprintpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/showchangesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/showdetaildialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/showsheetdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sidebaralignment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sidebarcellappearance.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sidebarnumberformat.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/simplerefdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/solverdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/solveroptionsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/solverprogressdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/solversuccessdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sortcriteriapage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sortdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sortkey.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sortoptionspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sorttransformationentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sortwarning.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sparklinedatarangedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/sparklinedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/splitcolumnentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/standardfilterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/statisticsinfopage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/subtotaldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/subtotalgrppage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/subtotaloptionspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/swaprowsentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/tabcolordialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/textimportcsv.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/textimportoptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/texttransformationentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/tpviewpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/ttestdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/ungroupdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/validationcriteriapage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/validationdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/validationhelptabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/warnautocorrect.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/xmlsourcedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/zoombox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/scalc/ui/ztestdialog.ui \
+
+endif # !ENABLE_WASM_STRIP_CALC
+
+gb_emscripten_fs_image_files += \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/addtargetdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/alienwarndialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/autoredactdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charmapcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charviewmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/checkin.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/classificationbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisinfopage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisline.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/commandpopup.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/custominfopage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/deck.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/descriptioninfopage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/developmenttool.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/devtoolsmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentfontspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentinfopage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentpropertiesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdocumentdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdurationdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/errorfindemaildialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/extrabutton.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/floatingrecord.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpbookmarkpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontentpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpindexpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpmanual.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpsearchpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/infobar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/inputdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/licensedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linefragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linkeditdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/loadtemplatedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/managestylepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/navigator.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/newstyle.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbarpopup.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/optprintpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/panel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/password.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/printeroptionsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/querysavedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/safemodequerydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/saveastemplatedlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/searchdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/securityinfopage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/singletabdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/startcenter.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/stylecontextmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbarcontents.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbutton.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatecategorydlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatedlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatepanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/urlbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versioncommentdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionscmis.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionsofdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/addresstemplatedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/calendar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/checkboxcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/combocontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/datewindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/editcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/emptypage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fileviewmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedimagecontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedtextcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/graphicexport.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/inputbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/interimparent.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/javadisableddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/linewindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/listcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/managedtoolbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/placeedit.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/printersetupdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/querydeletedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/restartdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/scrollbars.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/spinfieldcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/subtoolbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbaredit.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttonsmirrored.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttons.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/textviewcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/thineditcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/absrecbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/acceptrejectchangesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/accessibilitycheckentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addconditiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/adddataitemdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addinstancedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addmodeldialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addnamespacedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addsubmissiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/applystylebox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/asianphoneticguidedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/cellmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/charsetmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/checkbuttonbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chineseconversiondialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chinesedictionary.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/classificationdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/clipboardmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colorwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colsmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/columnswindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/compressgraphicdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/crashreportdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/currencywindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/datanavigator.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/defaultshapespanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deletefooterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deleteheaderdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/depthwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/directionwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docking3deffects.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorreplace.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingfontwork.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverybrokendialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryprogressdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryrecoverdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverysavedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/extrustiondepthdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fileexporteddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fillctrlbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filtermenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filternavigator.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog-mobile.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingareastyle.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingcontour.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingframeborder.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineend.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineproperty.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglinestyle.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingundoredo.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontnamebox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontsizebox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkalignmentcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkcharacterspacingcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkgallerydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkspacingdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formdatamenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formfielddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formlinkwarndialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavigator.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavimenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formpropertydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/functionmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu1.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu2.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckentry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gotopagedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafctrlbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafmodebox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/headfootformatpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/inspectortextpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/labelbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/lightingwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/linkwarndialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/measurewidthbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/medialine.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediaplayback.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediawindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/metricfieldbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/namespacedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/navigationbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/numberingwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/optgridpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralinespacingcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralrspacing.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paraulspacing.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/passwd.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/presetmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletecontourdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeleteobjectdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletethemedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querymodifyimagemapchangesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querynewcontourdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysavecontchangesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysaveimagemapchangesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/queryunlinkgraphicsdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinecontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinefilterpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlineviewpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rowsmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rulermenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/safemodedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/savemodifieddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/selectionmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebararea.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebareffect.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarempty.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarfontwork.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargallery.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargraphic.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarline.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarlists.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarparagraph.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarpossize.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarshadow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarstylespanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextcolumnspanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextpanel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylemenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylespreview.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/surfacewindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/tablewindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcharacterspacingcontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolchardialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolparadialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textunderlinecontrol.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/toolbarpopover.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xformspage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xmlsecstatmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/zoommenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/authfallback.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/filterselect.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/logindialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/macrowarnmedium.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/masterpassworddlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/password.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/setmasterpassworddlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/simplenameclash.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/sslwarndialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/unknownauthdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/aboutbox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/combobox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/cupspassworddialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/dockingwindow.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/editmenu.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornocontentdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornoprinterdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimdockparent.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimtearableparent.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton3.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton4.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/openlockedquerybox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerdevicepage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpaperpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpropertiesdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printprogressdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/querydialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/screenshotparent.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/wizard.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/exportepub.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/wpftencodingdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/beige.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/bgr.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/dark.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/grey.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/ibg.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/ice.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/orange.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/red.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/violet.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/water.css \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/fonts/truetype/fc_local.conf \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/gallery/fontwork.sdg \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/gallery/fontwork.sdv \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/gallery/fontwork.thm \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/cjk.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/ctlseqcheck.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/ctl.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/graphicfilter.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/Langpack-en-US.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/lingucomponent.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/main.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/res/fcfg_langpack_en-US.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/res/registry_en-US.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/writer.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/math.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/draw.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/impress.xcd \
+	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/calc.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/xsltfilter.xcd \
+    $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/autotext/mytexts.bau \
+    $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/basic/dialog.xlc \
+    $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/basic/script.xlc \
+    $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/basic/Standard/dialog.xlb \
+    $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/basic/Standard/Module1.xba \
+    $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/basic/Standard/script.xlb \
+    $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/config/autotbl.fmt \
+    $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/gallery/sg30.sdv \
+    $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/gallery/sg30.thm \
+    $(INSTROOT)/$(LIBO_SHARE_RESOURCE_FOLDER)/common/fonts/opens___.ttf \
+    $(INSTROOT)/$(LIBO_URE_ETC_FOLDER)/$(call gb_Helper_get_rcfile,uno) \
+    $(INSTROOT)/$(LIBO_URE_MISC_FOLDER)/services.rdb \
+    $(SRCDIR)/android/default-document/example.odt \
+	$(SRCDIR)/android/default-document/example_test.ods \
+
+ifneq ($(ENABLE_WASM_STRIP_CHART),TRUE)
+gb_emscripten_fs_image_files += \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/menubar/menubar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/popupmenu/drawtext.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/popupmenu/draw.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/statusbar/statusbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/toolbar/arrowshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/toolbar/basicshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/toolbar/calloutshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/toolbar/drawbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/toolbar/flowchartshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/toolbar/standardbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/toolbar/starshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/toolbar/symbolshapes.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/toolbar/toolbar.xml \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/3dviewdialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/attributedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/chardialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/chartdatadialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/charttypedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/columnfragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/combobox.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/datarangedialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/dlg_DataLabel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/dlg_InsertErrorBars.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/dlg_InsertLegend.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/imagefragment.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/insertaxisdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/insertgriddlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/inserttitledlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/paradialog.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/sidebaraxis.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/sidebarelements.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/sidebarerrorbar.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/sidebarseries.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/sidebartype.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/smoothlinesdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/steppedlinesdlg.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/titlerotationtabpage.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_3D_SceneAppearance.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_3D_SceneGeometry.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_3D_SceneIllumination.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_axisLabel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_AxisPositions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_ChartType.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_DataLabel.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_DataPointOption.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_DataSource.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_ErrorBars.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_LegendPosition.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_PolarOptions.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_RangeChooser.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_Scale.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_SeriesToAxis.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/tp_Trendline.ui \
+    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/ui/wizelementspage.ui \
+
+endif # !ENABLE_WASM_STRIP_CHART
+
+$(foreach theme,$(WITH_THEMES), \
+    $(eval gb_emscripten_fs_image_files += $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/images_$(theme).zip))
+
+ifeq ($(WITH_FONTS),TRUE)
+gb_emscripten_fs_image_autoinstall += $(call gb_AutoInstall_get_target,ooo_fonts)
+endif
+
+gb_emscripten_fs_image_filelists += $(call gb_Package_get_target,liblangtag_data)
+gb_emscripten_fs_image_filelists += $(call gb_Package_get_target,fontconfig_data)
+
+#
+# Ruleset
+#
+
+emscripten_fs_image_WORKDIR := $(gb_CustomTarget_workdir)/static/emscripten_fs_image
+
+# we just need data.js.link at link time, which is equal to soffice.data.js
+$(call gb_CustomTarget_get_target,static/emscripten_fs_image): \
+    $(emscripten_fs_image_WORKDIR)/soffice.data \
+    $(emscripten_fs_image_WORKDIR)/soffice.data.js.link \
+    $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata \
+
+$(emscripten_fs_image_WORKDIR)/soffice.data $(emscripten_fs_image_WORKDIR)/soffice.data.js : $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata
+
+.PRECIOUS: $(emscripten_fs_image_WORKDIR)/soffice.data.js.link
+$(emscripten_fs_image_WORKDIR)/soffice.data.js.link: $(emscripten_fs_image_WORKDIR)/soffice.data.js
+	$(call gb_Helper_copy_if_different_and_touch,$^,$@)
+
+.PHONY: $(emscripten_fs_image_WORKDIR)/soffice.data.concat_lists
+$(emscripten_fs_image_WORKDIR)/soffice.data.concat_lists: $(gb_emscripten_fs_image_filelists) $(gb_emscripten_fs_image_autoinstall)
+	$(shell cat $(gb_emscripten_fs_image_filelists) >> $@.tmp)
+	$(foreach list,$(shell sed -ne 's/PACKAGE_FILELIST.*,//' -e 's/.filelist.$$//p' $(gb_emscripten_fs_image_autoinstall)), \
+	    $(shell cat $(call gb_Package_get_target,$(list)) >> $@.tmp))
+	$(shell mv $@.tmp $@)
+
+gb_emscripten_fs_image_all_files = $(gb_emscripten_fs_image_files) $(shell cat $(emscripten_fs_image_WORKDIR)/soffice.data.concat_lists)
+
+.PHONY: $(emscripten_fs_image_WORKDIR)/soffice.data.filelist
+$(emscripten_fs_image_WORKDIR)/soffice.data.filelist: \
+		$(call gb_InstallModule_get_target,scp2/ooo) \
+		$(emscripten_fs_image_WORKDIR)/soffice.data.concat_lists \
+		$(gb_emscripten_fs_image_files) \
+		| $(emscripten_fs_image_WORKDIR)/.dir
+	$(file >$@,\
+	    $(subst @,@@,$(subst $(BUILDDIR)/,,$(filter $(BUILDDIR)%,$(gb_emscripten_fs_image_all_files)))) \
+	    $(foreach item,$(filter-out $(BUILDDIR)%,$(gb_emscripten_fs_image_all_files)),$(subst @,@@,$(item))@$(subst @,@@,$(subst $(SRCDIR)/,,$(item)))))
+
+# Unfortunately the file packager just allows a cmdline file list, but all paths are
+# relative to $(BUILDDIR), so we won't run out of cmdline space that fast...
+$(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata: $(emscripten_fs_image_WORKDIR)/soffice.data.filelist
+	$(call gb_Output_announce,$(subst $(BUILDDIR)/,,$(emscripten_fs_image_WORKDIR)/soffice.data),$(true),GEN,2)
+	cd $(BUILDDIR) && \
+	$(EMSDK_FILE_PACKAGER) $(emscripten_fs_image_WORKDIR)/soffice.data --preload $(shell cat $^) --js-output=$(emscripten_fs_image_WORKDIR)/soffice.data.js --separate-metadata \
+	    || rm -f $(emscripten_fs_image_WORKDIR)/soffice.data.js $(emscripten_fs_image_WORKDIR)/soffice.data $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata
+
+# vim: set noet sw=4:
diff --git a/svx/util/svxcore.component b/svx/util/svxcore.component
index d3b0942f4..23e33a878 100644
--- a/svx/util/svxcore.component
+++ b/svx/util/svxcore.component
@@ -21,7 +21,7 @@
   <implementation name="com.sun.star.comp.Draw.GraphicExporter"
       constructor="com_sun_star_comp_Draw_GraphicExporter_get_implementation">
     <service name="com.sun.star.drawing.GraphicExportFilter"/>
-    <optional/>
+    
   </implementation>
   <implementation name="com.sun.star.comp.svx.ExtrusionDepthController"
       constructor="com_sun_star_comp_svx_ExtrusionDepthController_get_implementation">
diff --git a/svx/util/svxcore.component.draw b/svx/util/svxcore.component.draw
index 5192ae34f..b793c8cd1 100644
--- a/svx/util/svxcore.component.draw
+++ b/svx/util/svxcore.component.draw
@@ -4,4 +4,3 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
-com.sun.star.comp.Draw.GraphicExporter
diff --git a/sw/source/uibase/uno/unotxdoc.cxx b/sw/source/uibase/uno/unotxdoc.cxx
index 021003a7a..a50fe4d57 100644
--- a/sw/source/uibase/uno/unotxdoc.cxx
+++ b/sw/source/uibase/uno/unotxdoc.cxx
@@ -3260,13 +3260,22 @@ void SwXTextDocument::paintTile( VirtualDevice &rDevice,
                                  int nTilePosX, int nTilePosY,
                                  tools::Long nTileWidth, tools::Long nTileHeight )
 {
+    SAL_INFO("sw.lok", "SwXTextDocument::paintTile ENTER");
+
     SwViewShell* pViewShell = m_pDocShell->GetWrtShell();
+
+    SAL_INFO("sw.lok", "SwXTextDocument::paintTile: about to call PaintTile");
+
     pViewShell->PaintTile(rDevice, nOutputWidth, nOutputHeight,
                           nTilePosX, nTilePosY, nTileWidth, nTileHeight);
 
+    SAL_INFO("sw.lok", "SwXTextDocument::paintTile: PaintTile RETURNED");
+
     LokChartHelper::PaintAllChartsOnTile(rDevice, nOutputWidth, nOutputHeight,
                                          nTilePosX, nTilePosY, nTileWidth, nTileHeight);
 
+    SAL_INFO("sw.lok", "SwXTextDocument::paintTile: ChartHelper done");
+
     // Draw Form controls
     comphelper::LibreOfficeKit::setTiledPainting(true);
     SwDrawModel* pDrawLayer = GetDocOrThrow().getIDocumentDrawModelAccess().GetDrawModel();
@@ -3277,6 +3286,8 @@ void SwXTextDocument::paintTile( VirtualDevice &rDevice,
     Size aOutputSize(nOutputWidth, nOutputHeight);
     LokControlHandler::paintControlTile(pPage, pDrawView, rEditWin, rDevice, aOutputSize, aTileRect);
     comphelper::LibreOfficeKit::setTiledPainting(false);
+
+    SAL_INFO("sw.lok", "SwXTextDocument::paintTile DONE");
 }
 
 Size SwXTextDocument::getDocumentSize()
@@ -3740,11 +3751,20 @@ VclPtr<vcl::Window> SwXTextDocument::getDocWindow()
     SolarMutexGuard aGuard;
     SwView* pView = m_pDocShell->GetView();
     if (!pView)
+    {
+        SAL_WARN("lok.writer", "getDocWindow: GetView() returned null - no SwView available!");
         return {};
+    }
+
+    SAL_WARN("lok.writer", "getDocWindow: pView is valid");
 
     if (VclPtr<vcl::Window> pWindow = SfxLokHelper::getInPlaceDocWindow(pView))
+    {
+        SAL_WARN("lok.writer", "getDocWindow: returning InPlaceDocWindow");
         return pWindow;
+    }
 
+    SAL_WARN("lok.writer", "getDocWindow: returning EditWin");
     return &(pView->GetEditWin());
 }
 
@@ -3864,19 +3884,34 @@ void SwXTextDocument::initializeForTiledRendering(const css::uno::Sequence<css::
 void SwXTextDocument::postKeyEvent(int nType, int nCharCode, int nKeyCode)
 {
     SolarMutexGuard aGuard;
-    SfxLokHelper::postKeyEventAsync(getDocWindow(), nType, nCharCode, nKeyCode);
+    SAL_WARN("lok.writer", "postKeyEvent: called with type=" << nType << " charCode=" << nCharCode << " keyCode=" << nKeyCode);
+    VclPtr<vcl::Window> pWindow = getDocWindow();
+    if (!pWindow)
+    {
+        SAL_WARN("lok.writer", "postKeyEvent: getDocWindow() returned null - key event will be lost!");
+    }
+    else
+    {
+        SAL_WARN("lok.writer", "postKeyEvent: window is valid, posting key event");
+    }
+    SfxLokHelper::postKeyEventAsync(pWindow, nType, nCharCode, nKeyCode);
 }
 
 void SwXTextDocument::postMouseEvent(int nType, int nX, int nY, int nCount, int nButtons, int nModifier)
 {
     SolarMutexGuard aGuard;
 
+    SAL_WARN("lok.writer", "postMouseEvent: called with type=" << nType << " x=" << nX << " y=" << nY);
+
     SwViewShell* pWrtViewShell = m_pDocShell->GetWrtShell();
     if (!pWrtViewShell)
     {
+        SAL_WARN("lok.writer", "postMouseEvent: GetWrtShell() returned null - no SwWrtShell available!");
         return;
     }
 
+    SAL_WARN("lok.writer", "postMouseEvent: pWrtViewShell is valid, proceeding");
+
     SwViewOption aOption(*(pWrtViewShell->GetViewOptions()));
     double fScale = aOption.GetZoom() / o3tl::convert(100.0, o3tl::Length::px, o3tl::Length::twip);
 
diff --git a/unoidl-read.worker.js b/unoidl-read.worker.js
new file mode 100644
index 000000000..0cb6960bd
--- /dev/null
+++ b/unoidl-read.worker.js
@@ -0,0 +1,4 @@
+// This file is no longer used by emscripten and has been created as a placeholder
+// to allow build systems to transition away from depending on it.
+//
+// Future versions of emscripten will likely stop generating this file at all.
diff --git a/uri-encode.worker.js b/uri-encode.worker.js
new file mode 100644
index 000000000..0cb6960bd
--- /dev/null
+++ b/uri-encode.worker.js
@@ -0,0 +1,4 @@
+// This file is no longer used by emscripten and has been created as a placeholder
+// to allow build systems to transition away from depending on it.
+//
+// Future versions of emscripten will likely stop generating this file at all.
diff --git a/vcl/unx/generic/fontmanager/fontconfig.cxx b/vcl/unx/generic/fontmanager/fontconfig.cxx
index 2bd59dc2d..10502ef3f 100644
--- a/vcl/unx/generic/fontmanager/fontconfig.cxx
+++ b/vcl/unx/generic/fontmanager/fontconfig.cxx
@@ -185,6 +185,25 @@ FontCfgWrapper::FontCfgWrapper()
     , m_bRestrictFontSetToApplicationFonts(false)
 {
     FcInit();
+#ifdef __EMSCRIPTEN__
+    // For WASM builds, fontconfig is configured with /share paths (no /instdir prefix).
+    // The WASM virtual filesystem mounts instdir contents at root, so /share/fonts exists.
+    FcConfig* pConfig = FcConfigGetCurrent();
+    if (pConfig)
+    {
+        SAL_INFO("vcl.fonts", "EMSCRIPTEN: Adding font directories");
+        const char* fontDirs[] = {
+            "/share/fonts/truetype",
+            "/share/fonts",
+            nullptr
+        };
+        for (const char** dir = fontDirs; *dir != nullptr; ++dir)
+        {
+            SAL_INFO("vcl.fonts", "EMSCRIPTEN: Adding font dir: " << *dir);
+            FcConfigAppFontAddDir(pConfig, reinterpret_cast<const FcChar8*>(*dir));
+        }
+    }
+#endif
 }
 
 #ifndef FC_FONT_WRAPPER
diff --git a/wasm-build-fixes.patch b/wasm-build-fixes.patch
new file mode 100644
index 000000000..58e051706
--- /dev/null
+++ b/wasm-build-fixes.patch
@@ -0,0 +1,3493 @@
+diff --git a/.gitignore b/.gitignore
+index 7bd30210a..39dea313c 100644
+--- a/.gitignore
++++ b/.gitignore
+@@ -35,7 +35,7 @@
+ # autoconf generated stuff
+ /aclocal.m4
+ /autom4te.cache
+-/autogen.input
++# /autogen.input
+ /autogen.lastrun
+ /autogen.lastrun.bak
+ /ChangeLog
+diff --git a/Repository.mk b/Repository.mk
+index 4a505655d..9e103a493 100644
+--- a/Repository.mk
++++ b/Repository.mk
+@@ -285,14 +285,14 @@ $(eval $(call gb_Helper_register_plugins_for_install,OOOLIBS,calc, \
+ 
+ $(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,graphicfilter, \
+ 	svgfilter \
+-	wpftdraw \
++	$(if $(ENABLE_CDR),wpftdraw) \
+ 	graphicfilter \
+ ))
+ 
+ $(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,impress, \
+ 	animcore \
+ 	PresentationMinimizer \
+-	wpftimpress \
++	$(if $(ENABLE_ETONYEK),wpftimpress) \
+ ))
+ 
+ $(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,onlineupdate, \
+diff --git a/autogen.input b/autogen.input
+new file mode 100644
+index 000000000..c7aa6ef85
+--- /dev/null
++++ b/autogen.input
+@@ -0,0 +1,94 @@
++# ==========================================
++# LibreOffice WASM: Full Document IO Build
++# ==========================================
++# GOALS:
++#   - 100% import/export format support (DOCX, XLSX, PPTX, etc.)
++#   - NO UI, NO desktop toolkits, NO Java
++#   - Fully compatible with LOK + WASM threading
++#   - Smallest possible footprint for a full-format runtime
++#
++# IMPORTANT:
++#   --with-main-module=all is REQUIRED for PPTX support.
++#   Anything else causes missing Impress filters.
++# ==========================================
++
++--host=wasm32-local-emscripten
++--with-main-module=all
++--disable-gui
++
++# ==========================================
++# Disable GUI toolkits, OS deps
++# Note: Do NOT disable cairo-canvas or skia - needed for PDF/SVG rendering
++# ==========================================
++--disable-kf5
++--disable-kf6
++--disable-gtk3
++--disable-gtk4
++--disable-qt5
++--disable-qt6
++--disable-gstreamer-1-0
++--disable-sdremote
++--disable-sdremote-bluetooth
++--disable-dbus
++--disable-cups
++--disable-randr
++
++# ==========================================
++# Remove anything related to scripting/automation
++# ==========================================
++--disable-scripting
++--disable-librelogo
++--disable-odk
++
++# ==========================================
++# Disable database connectors (not supported in WASM)
++# ==========================================
++--disable-database-connectivity
++--disable-mariadb-sdbc
++--disable-postgresql-sdbc
++--disable-firebird-sdbc
++--disable-ldap
++--without-krb5
++--without-gssapi
++
++# ==========================================
++# Ensure full filter system is built
++# (OOXML, MS binary, DrawingML, VML, SVG, PDF, etc.)
++# ==========================================
++# lpsolve/coinmp disabled in WASM builds
++
++# ==========================================
++# Disable updates / crash reporter / telemetry
++# ==========================================
++--disable-online-update
++--disable-crashdump
++--disable-cve-tests
++
++# ==========================================
++# Crypto not needed for conversion
++# ==========================================
++--disable-nss
++
++# ==========================================
++# Remove unused extras (keeps binary small)
++# ==========================================
++--without-java
++--without-doxygen
++--without-helppack-integration
++--without-myspell-dicts
++--with-lang=en-US
++
++# ==========================================
++# WASM build optimizations
++# ==========================================
++--enable-optimized
++--enable-wasm-strip
++--disable-debug
++--enable-sal-log
++
++# ==========================================
++# PDF import/export support
++# ==========================================
++--enable-pdfimport
++--enable-pdfium
++--disable-poppler
+diff --git a/autogen.input.writer-only b/autogen.input.writer-only
+new file mode 100644
+index 000000000..20f901181
+--- /dev/null
++++ b/autogen.input.writer-only
+@@ -0,0 +1,10 @@
++# LibreOffice WASM Headless Build Configuration
++# Auto-generated by build-wasm.sh
++
++--disable-debug
++--enable-sal-log
++--disable-crashdump
++--host=wasm32-local-emscripten
++--disable-gui
++--with-main-module=writer
++--with-parallelism=32
+diff --git a/comphelper/source/misc/threadpool.cxx b/comphelper/source/misc/threadpool.cxx
+index f0a71eb05..5b49df689 100644
+--- a/comphelper/source/misc/threadpool.cxx
++++ b/comphelper/source/misc/threadpool.cxx
+@@ -135,6 +135,12 @@ std::size_t ThreadPool::getPreferredConcurrency()
+ {
+     static std::size_t ThreadCount = []()
+     {
++#ifdef __EMSCRIPTEN__
++        // Force single-threaded mode for WASM to avoid deadlocks when
++        // spawning new threads during rendering (Chromium pthread limitation)
++        SAL_INFO("comphelper.threadpool", "WASM build: forcing single-threaded mode");
++        return std::size_t(1);
++#else
+         const std::size_t nHardThreads = o3tl::clamp_to_unsigned<std::size_t>(
+             std::max(std::thread::hardware_concurrency(), 1U));
+         std::size_t nThreads = nHardThreads;
+@@ -147,6 +153,7 @@ std::size_t ThreadPool::getPreferredConcurrency()
+ 
+         nThreads = std::min(nHardThreads, nThreads);
+         return std::max<std::size_t>(nThreads, 1);
++#endif
+     }();
+ 
+     return ThreadCount;
+@@ -298,6 +305,24 @@ void ThreadPool::joinThreadsIfIdle()
+     }
+ }
+ 
++void ThreadPool::preSpawnWorkers()
++{
++    std::scoped_lock< std::mutex > aGuard( maMutex );
++
++    SAL_INFO("comphelper.threadpool", "preSpawnWorkers: spawning " << mnMaxWorkers << " workers");
++
++    mbTerminate = false;
++
++    // Spawn all workers up to the maximum
++    while (maWorkers.size() < mnMaxWorkers)
++    {
++        maWorkers.push_back( new ThreadWorker( this ) );
++        maWorkers.back()->launch();
++    }
++
++    SAL_INFO("comphelper.threadpool", "preSpawnWorkers: spawned " << maWorkers.size() << " workers");
++}
++
+ std::shared_ptr<ThreadTaskTag> ThreadPool::createThreadTaskTag()
+ {
+     return std::make_shared<ThreadTaskTag>();
+diff --git a/config_host.mk.in b/config_host.mk.in
+index a3a965364..d991d5611 100644
+--- a/config_host.mk.in
++++ b/config_host.mk.in
+@@ -232,10 +232,10 @@ export ENABLE_SKIA_DEBUG=@ENABLE_SKIA_DEBUG@
+ export ENABLE_SYMBOLS_FOR=@ENABLE_SYMBOLS_FOR@
+ export ENABLE_VALGRIND=@ENABLE_VALGRIND@
+ export ENABLE_WASM_STRIP_ACCESSIBILITY=@ENABLE_WASM_STRIP_CALC@
+-export ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=@ENABLE_WASM_STRIP@
++export ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=@ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS@
+ export ENABLE_WASM_STRIP_WRITER=@ENABLE_WASM_STRIP_WRITER@
+ export ENABLE_WASM_STRIP_CALC=@ENABLE_WASM_STRIP_CALC@
+-export ENABLE_WASM_STRIP_CANVAS=@ENABLE_WASM_STRIP@
++export ENABLE_WASM_STRIP_CANVAS=@ENABLE_WASM_STRIP_CANVAS@
+ export ENABLE_WASM_STRIP_CHART=
+ export ENABLE_WASM_STRIP_DBACCESS=@ENABLE_WASM_STRIP@
+ export ENABLE_WASM_STRIP_EPUB=@ENABLE_WASM_STRIP@
+diff --git a/configure.ac b/configure.ac
+index 04f8e7f80..3ef86f6a5 100644
+--- a/configure.ac
++++ b/configure.ac
+@@ -1200,7 +1200,7 @@ emscripten)
+     enable_compiler_plugins=no
+     enable_customtarget_components=yes
+     enable_split_debug=yes
+-    enable_wasm_strip=yes
++    test -z "$enable_wasm_strip" && enable_wasm_strip=yes
+     with_system_zlib=no
+     with_theme="colibre"
+     _os=Emscripten
+@@ -3200,7 +3200,7 @@ if test "$enable_wasm_strip" = "yes"; then
+     enable_odk=no
+     enable_online_update=no
+     enable_opencl=no
+-    enable_pdfimport=no
++    # enable_pdfimport preserved for WASM PDF support
+     enable_randr=no
+     enable_report_builder=no
+     enable_scripting=no
+@@ -4123,6 +4123,16 @@ AC_SUBST(CROSS_COMPILING)
+ AC_SUBST(ENABLE_WASM_STRIP)
+ AC_SUBST(ENABLE_WASM_STRIP_WRITER)
+ AC_SUBST(ENABLE_WASM_STRIP_CALC)
++# Set ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS based on main-module
++if test "$enable_wasm_strip" = "yes" -a "$with_main_module" != "all"; then
++    ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS=TRUE
++fi
++AC_SUBST(ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS)
++# Set ENABLE_WASM_STRIP_CANVAS based on main-module (Impress needs canvas)
++if test "$enable_wasm_strip" = "yes" -a "$with_main_module" != "all"; then
++    ENABLE_WASM_STRIP_CANVAS=TRUE
++fi
++AC_SUBST(ENABLE_WASM_STRIP_CANVAS)
+ 
+ # Use -isystem (gcc) if possible, to avoid warnings in 3rd party headers.
+ # NOTE: must _not_ be used for bundled external libraries!
+diff --git a/desktop/Executable_soffice_bin.mk b/desktop/Executable_soffice_bin.mk
+index d6a271dec..930ebc883 100644
+--- a/desktop/Executable_soffice_bin.mk
++++ b/desktop/Executable_soffice_bin.mk
+@@ -62,7 +62,7 @@ $(call gb_LinkTarget_get_headers_target,$(call gb_Executable_get_linktarget,soff
+ $(call gb_LinkTarget__static_lib_dummy_depend,unoembind)
+ 
+ $(eval $(call gb_Executable_add_ldflags,soffice_bin,\
+-	-s EXPORTED_FUNCTIONS=["_main"$(COMMA)"_libreofficekit_hook"$(COMMA)"_libreofficekit_hook_2"$(COMMA)"_lok_preinit"$(COMMA)"_lok_preinit_2"$(COMMA)"_malloc"$(COMMA)"_free"] -Wl$(COMMA)--whole-archive $(call gb_StaticLibrary_get_target,unoembind) -Wl$(COMMA)--no-whole-archive \
++	-s EXPORTED_FUNCTIONS=["_main"$(COMMA)"_libreofficekit_hook"$(COMMA)"_libreofficekit_hook_2"$(COMMA)"_lok_preinit"$(COMMA)"_lok_preinit_2"$(COMMA)"_lok_documentLoad"$(COMMA)"_lok_documentLoadWithOptions"$(COMMA)"_lok_documentSaveAs"$(COMMA)"_lok_documentDestroy"$(COMMA)"_lok_destroy"$(COMMA)"_lok_getError"$(COMMA)"_lok_documentGetParts"$(COMMA)"_lok_documentGetPart"$(COMMA)"_lok_documentSetPart"$(COMMA)"_lok_documentGetDocumentType"$(COMMA)"_lok_documentGetDocumentSize"$(COMMA)"_lok_documentInitializeForRendering"$(COMMA)"_lok_documentPaintTile"$(COMMA)"_lok_documentGetTileMode"$(COMMA)"_lok_documentGetTextSelection"$(COMMA)"_lok_documentSetTextSelection"$(COMMA)"_lok_documentGetSelectionType"$(COMMA)"_lok_documentResetSelection"$(COMMA)"_lok_documentPostMouseEvent"$(COMMA)"_lok_documentPostKeyEvent"$(COMMA)"_lok_documentPostUnoCommand"$(COMMA)"_lok_documentGetCommandValues"$(COMMA)"_lok_documentGetPartPageRectangles"$(COMMA)"_lok_documentGetPartInfo"$(COMMA)"_lok_documentGetPartName"$(COMMA)"_lok_documentPaste"$(COMMA)"_lok_documentSetClientZoom"$(COMMA)"_lok_documentSetClientVisibleArea"$(COMMA)"_lok_documentGetA11yFocusedParagraph"$(COMMA)"_lok_documentGetA11yCaretPosition"$(COMMA)"_lok_documentSetAccessibilityState"$(COMMA)"_lok_documentGetDataArea"$(COMMA)"_lok_documentGetEditMode"$(COMMA)"_lok_documentSetEditMode"$(COMMA)"_lok_documentCreateView"$(COMMA)"_lok_documentCreateViewWithOptions"$(COMMA)"_lok_documentDestroyView"$(COMMA)"_lok_documentSetView"$(COMMA)"_lok_documentGetView"$(COMMA)"_lok_documentGetViewsCount"$(COMMA)"_lok_enableSyncEvents"$(COMMA)"_lok_disableSyncEvents"$(COMMA)"_lok_runLoop"$(COMMA)"_lok_documentRegisterCallback"$(COMMA)"_lok_documentUnregisterCallback"$(COMMA)"_lok_hasCallbackEvents"$(COMMA)"_lok_getCallbackEventCount"$(COMMA)"_lok_pollCallback"$(COMMA)"_lok_clearCallbackQueue"$(COMMA)"_lok_flushCallbacks"$(COMMA)"_malloc"$(COMMA)"_free"] -Wl$(COMMA)--whole-archive $(call gb_StaticLibrary_get_target,unoembind) -Wl$(COMMA)--no-whole-archive \
+ ))
+ ifeq ($(ENABLE_QT6),TRUE)
+ $(eval $(call gb_Executable_add_ldflags,soffice_bin, \
+diff --git a/desktop/inc/lib/init.hxx b/desktop/inc/lib/init.hxx
+index 25169b4e0..52a429321 100644
+--- a/desktop/inc/lib/init.hxx
++++ b/desktop/inc/lib/init.hxx
+@@ -110,6 +110,11 @@ namespace desktop {
+         /// Returns true iff callbacks are disabled.
+         bool callbacksDisabled() const { return m_nDisableCallbacks != 0; }
+ 
++#ifdef __EMSCRIPTEN__
++        /// Force flush pending callbacks (for WASM where PostUserEvent doesn't work)
++        DESKTOP_DLLPUBLIC void flush() { invoke(); }
++#endif
++
+         void addViewStates(int viewId);
+         void removeViewStates(int viewId);
+ 
+diff --git a/desktop/source/lib/init.cxx b/desktop/source/lib/init.cxx
+index ece81f035..7f09fd590 100644
+--- a/desktop/source/lib/init.cxx
++++ b/desktop/source/lib/init.cxx
+@@ -134,7 +134,7 @@
+ #include <com/sun/star/view/XSelectionSupplier.hpp>
+ 
+ #include <editeng/flstitem.hxx>
+-#ifdef IOS
++#if defined(IOS) || defined(__EMSCRIPTEN__)
+ #include <sfx2/app.hxx>
+ #endif
+ #include <sfx2/objsh.hxx>
+@@ -7564,6 +7564,14 @@ void setLanguageToolConfig();
+ /// Used only by LibreOfficeKit when used by Online to pre-initialize
+ static void preloadData()
+ {
++    // Allow skipping preload for faster init (conversion-only use case)
++    // Set LOK_SKIP_PRELOAD=1 environment variable to skip
++    const char* skipPreload = getenv("LOK_SKIP_PRELOAD");
++    if (skipPreload && (strcmp(skipPreload, "1") == 0 || strcmp(skipPreload, "true") == 0))
++    {
++        std::cerr << "LOK_SKIP_PRELOAD: Skipping preloadData()\n";
++        return;
++    }
+     comphelper::ProfileZone aZone("preload data");
+ 
+     // Create user profile in the temp directory for loading the dictionaries
+@@ -7904,7 +7912,15 @@ static int lo_initialize(LibreOfficeKit* pThis, const char* pAppPath, const char
+ 
+     // Did we do a pre-initialize
+     static bool bPreInited = false;
++#ifdef __EMSCRIPTEN__
++    // Force unipoll mode for Emscripten/WASM builds.
++    // With PROXY_TO_PTHREAD=1, main() already runs on a pthread worker.
++    // Creating additional threads with osl_createThread causes conflicts.
++    // Unipoll mode keeps everything on the same thread, avoiding the issue.
++    static bool bUnipoll = true;
++#else
+     static bool bUnipoll = false;
++#endif
+     static bool bProfileZones = false;
+     static bool bNotebookbar = false;
+ 
+@@ -8202,7 +8218,13 @@ static int lo_initialize(LibreOfficeKit* pThis, const char* pAppPath, const char
+                 SAL_INFO("lok", "RequestHandler ready -- continuing");
+             }
+             else
++            {
++                // Unipoll mode: Initialize VCL and SfxApplication directly
++                // without running the full soffice_main event loop.
++                SAL_INFO("lok", "Unipoll mode: InitVCL + SfxApplication");
+                 InitVCL();
++                SfxApplication::GetOrCreate();
++            }
+         }
+ 
+         if (eStage != SECOND_INIT)
+@@ -8266,23 +8288,31 @@ static int lo_initialize(LibreOfficeKit* pThis, const char* pAppPath, const char
+ SAL_JNI_EXPORT
+ LibreOfficeKit *libreofficekit_hook_2(const char* install_path, const char* user_profile_url)
+ {
++    SAL_INFO("lok.shim", "libreofficekit_hook_2('" << (install_path ? install_path : "(null)")
++             << "','" << (user_profile_url ? user_profile_url : "(null)") << "')");
++
+     static bool alreadyCalled = false;
+ 
+     if ((!lok_preinit_2_called && !gImpl) || (lok_preinit_2_called && !alreadyCalled))
+     {
++        SAL_INFO("lok.shim", "hook_2: calling lo_initialize, gImpl=" << gImpl
++                 << ", lok_preinit_2_called=" << lok_preinit_2_called);
+         alreadyCalled = true;
+ 
+         if (!lok_preinit_2_called)
+         {
+-            SAL_INFO("lok", "Create libreoffice object");
++            SAL_INFO("lok.shim", "hook_2: constructing LibLibreOffice_Impl");
+             gImpl = new LibLibreOffice_Impl();
+         }
+ 
+         if (!lo_initialize(gImpl, install_path, user_profile_url))
+         {
++            SAL_WARN("lok.shim", "hook_2: lo_initialize failed, calling lo_destroy");
+             lo_destroy(gImpl);
+         }
+     }
++
++    SAL_INFO("lok.shim", "hook_2 returns gImpl=" << gImpl);
+     return static_cast<LibreOfficeKit*>(gImpl);
+ }
+ 
+@@ -8343,6 +8373,1300 @@ static void lo_destroy(LibreOfficeKit* pThis)
+     SAL_INFO("lok", "LO Destroy Done");
+ }
+ 
++// WASM shims for LibreOfficeKit vtable calls
++// These provide stable exports that don't require vtable traversal from JS
++
++SAL_JNI_EXPORT
++LibreOfficeKitDocument* lok_documentLoad(LibreOfficeKit* pKit, const char* pPath)
++{
++    SAL_INFO("lok.shim", "lok_documentLoad(" << pKit << ",'" << (pPath ? pPath : "(null)") << "')");
++    fprintf(stderr, "[LOK C++] lok_documentLoad(%p, '%s')\n", (void*)pKit, pPath ? pPath : "(null)");
++    fflush(stderr);
++
++    if (!pKit)
++    {
++        SAL_WARN("lok.shim", "lok_documentLoad: pKit is null");
++        fprintf(stderr, "[LOK C++] lok_documentLoad: pKit is null\n");
++        fflush(stderr);
++        return nullptr;
++    }
++    if (!pKit->pClass)
++    {
++        SAL_WARN("lok.shim", "lok_documentLoad: pKit->pClass is null");
++        fprintf(stderr, "[LOK C++] lok_documentLoad: pKit->pClass is null\n");
++        fflush(stderr);
++        return nullptr;
++    }
++    if (!pKit->pClass->documentLoad)
++    {
++        SAL_WARN("lok.shim", "lok_documentLoad: documentLoad pointer is null");
++        fprintf(stderr, "[LOK C++] lok_documentLoad: documentLoad pointer is null\n");
++        fflush(stderr);
++        return nullptr;
++    }
++
++    LibreOfficeKitDocument* pDoc = pKit->pClass->documentLoad(pKit, pPath);
++    SAL_INFO("lok.shim", "lok_documentLoad done, doc=" << pDoc);
++    fprintf(stderr, "[LOK C++] lok_documentLoad done, doc=%p\n", (void*)pDoc);
++    fflush(stderr);
++    return pDoc;
++}
++
++SAL_JNI_EXPORT
++LibreOfficeKitDocument* lok_documentLoadWithOptions(LibreOfficeKit* pKit,
++                                                     const char* pPath,
++                                                     const char* pOptions)
++{
++    SAL_INFO("lok.shim", "lok_documentLoadWithOptions(" << pKit << ",'"
++             << (pPath ? pPath : "(null)") << "','" << (pOptions ? pOptions : "(null)") << "')");
++    fprintf(stderr, "[LOK C++] lok_documentLoadWithOptions(%p, '%s', '%s')\n",
++            (void*)pKit, pPath ? pPath : "(null)", pOptions ? pOptions : "(null)");
++    fflush(stderr);
++
++    if (!pKit || !pKit->pClass || !pKit->pClass->documentLoadWithOptions)
++    {
++        SAL_WARN("lok.shim", "lok_documentLoadWithOptions: invalid kit or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentLoadWithOptions: invalid kit or function pointer\n");
++        fflush(stderr);
++        return nullptr;
++    }
++
++    LibreOfficeKitDocument* pDoc = pKit->pClass->documentLoadWithOptions(pKit, pPath, pOptions);
++    SAL_INFO("lok.shim", "lok_documentLoadWithOptions done, doc=" << pDoc);
++    fprintf(stderr, "[LOK C++] lok_documentLoadWithOptions done, doc=%p\n", (void*)pDoc);
++    fflush(stderr);
++    return pDoc;
++}
++
++SAL_JNI_EXPORT
++int lok_documentSaveAs(LibreOfficeKitDocument* pDoc,
++                       const char* pUrl,
++                       const char* pFormat,
++                       const char* pFilterOptions)
++{
++    SAL_INFO("lok.shim", "lok_documentSaveAs(" << pDoc << ",'" << (pUrl ? pUrl : "(null)")
++             << "','" << (pFormat ? pFormat : "(null)")
++             << "','" << (pFilterOptions ? pFilterOptions : "(null)") << "')");
++    fprintf(stderr, "[LOK C++] lok_documentSaveAs(%p, '%s', '%s', '%s')\n",
++            (void*)pDoc, pUrl ? pUrl : "(null)", pFormat ? pFormat : "(null)",
++            pFilterOptions ? pFilterOptions : "(null)");
++    fflush(stderr);
++
++    if (!pDoc)
++    {
++        SAL_WARN("lok.shim", "lok_documentSaveAs: pDoc is null");
++        fprintf(stderr, "[LOK C++] lok_documentSaveAs: pDoc is null\n");
++        fflush(stderr);
++        return 0;
++    }
++    if (!pDoc->pClass)
++    {
++        SAL_WARN("lok.shim", "lok_documentSaveAs: pDoc->pClass is null");
++        fprintf(stderr, "[LOK C++] lok_documentSaveAs: pDoc->pClass is null\n");
++        fflush(stderr);
++        return 0;
++    }
++    if (!pDoc->pClass->saveAs)
++    {
++        SAL_WARN("lok.shim", "lok_documentSaveAs: saveAs pointer is null");
++        fprintf(stderr, "[LOK C++] lok_documentSaveAs: saveAs pointer is null\n");
++        fflush(stderr);
++        return 0;
++    }
++
++    int ret = pDoc->pClass->saveAs(pDoc, pUrl, pFormat, pFilterOptions);
++    SAL_INFO("lok.shim", "lok_documentSaveAs ret=" << ret);
++    fprintf(stderr, "[LOK C++] lok_documentSaveAs ret=%d\n", ret);
++    fflush(stderr);
++    return ret;
++}
++
++SAL_JNI_EXPORT
++void lok_documentDestroy(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentDestroy(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentDestroy(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc)
++    {
++        SAL_WARN("lok.shim", "lok_documentDestroy: pDoc is null");
++        fprintf(stderr, "[LOK C++] lok_documentDestroy: pDoc is null\n");
++        fflush(stderr);
++        return;
++    }
++    if (!pDoc->pClass || !pDoc->pClass->destroy)
++    {
++        SAL_WARN("lok.shim", "lok_documentDestroy: invalid pClass or destroy pointer");
++        fprintf(stderr, "[LOK C++] lok_documentDestroy: invalid pClass or destroy pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->destroy(pDoc);
++    SAL_INFO("lok.shim", "lok_documentDestroy done");
++    fprintf(stderr, "[LOK C++] lok_documentDestroy done\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++const char* lok_getError(LibreOfficeKit* pKit)
++{
++    SAL_INFO("lok.shim", "lok_getError(" << pKit << ")");
++    fprintf(stderr, "[LOK C++] lok_getError(%p)\n", (void*)pKit);
++    fflush(stderr);
++
++    if (!pKit || !pKit->pClass || !pKit->pClass->getError)
++    {
++        SAL_WARN("lok.shim", "lok_getError: invalid kit or function pointer");
++        fprintf(stderr, "[LOK C++] lok_getError: invalid kit or function pointer\n");
++        fflush(stderr);
++        return nullptr;
++    }
++
++    const char* err = pKit->pClass->getError(pKit);
++    SAL_INFO("lok.shim", "lok_getError returns: '" << (err ? err : "(null)") << "'");
++    fprintf(stderr, "[LOK C++] lok_getError returns: '%s'\n", err ? err : "(null)");
++    fflush(stderr);
++    return err;
++}
++
++SAL_JNI_EXPORT
++void lok_destroy(LibreOfficeKit* pKit)
++{
++    SAL_INFO("lok.shim", "lok_destroy(" << pKit << ")");
++    fprintf(stderr, "[LOK C++] lok_destroy(%p)\n", (void*)pKit);
++    fflush(stderr);
++
++    if (!pKit)
++    {
++        SAL_WARN("lok.shim", "lok_destroy: pKit is null");
++        fprintf(stderr, "[LOK C++] lok_destroy: pKit is null\n");
++        fflush(stderr);
++        return;
++    }
++
++    lo_destroy(pKit);
++    SAL_INFO("lok.shim", "lok_destroy done");
++    fprintf(stderr, "[LOK C++] lok_destroy done\n");
++    fflush(stderr);
++}
++
++// ==========================================
++// Page/Part rendering shims for thumbnails
++// ==========================================
++
++SAL_JNI_EXPORT
++int lok_documentGetParts(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetParts(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetParts(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getParts)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetParts: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetParts: invalid doc or function pointer\n");
++        fflush(stderr);
++        return 0;
++    }
++
++    int nParts = pDoc->pClass->getParts(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetParts returns: " << nParts);
++    fprintf(stderr, "[LOK C++] lok_documentGetParts returns: %d\n", nParts);
++    fflush(stderr);
++    return nParts;
++}
++
++SAL_JNI_EXPORT
++int lok_documentGetPart(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetPart(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetPart(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getPart)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetPart: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetPart: invalid doc or function pointer\n");
++        fflush(stderr);
++        return 0;
++    }
++
++    int nPart = pDoc->pClass->getPart(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetPart returns: " << nPart);
++    fprintf(stderr, "[LOK C++] lok_documentGetPart returns: %d\n", nPart);
++    fflush(stderr);
++    return nPart;
++}
++
++SAL_JNI_EXPORT
++void lok_documentSetPart(LibreOfficeKitDocument* pDoc, int nPart)
++{
++    SAL_INFO("lok.shim", "lok_documentSetPart(" << pDoc << ", " << nPart << ")");
++    fprintf(stderr, "[LOK C++] lok_documentSetPart(%p, %d)\n", (void*)pDoc, nPart);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setPart)
++    {
++        SAL_WARN("lok.shim", "lok_documentSetPart: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentSetPart: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->setPart(pDoc, nPart);
++    SAL_INFO("lok.shim", "lok_documentSetPart done");
++    fprintf(stderr, "[LOK C++] lok_documentSetPart done\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++int lok_documentGetDocumentType(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetDocumentType(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetDocumentType(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getDocumentType)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetDocumentType: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetDocumentType: invalid doc or function pointer\n");
++        fflush(stderr);
++        return 0;
++    }
++
++    int nType = pDoc->pClass->getDocumentType(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetDocumentType returns: " << nType);
++    fprintf(stderr, "[LOK C++] lok_documentGetDocumentType returns: %d\n", nType);
++    fflush(stderr);
++    return nType;
++}
++
++SAL_JNI_EXPORT
++void lok_documentGetDocumentSize(LibreOfficeKitDocument* pDoc, long* pWidth, long* pHeight)
++{
++    SAL_INFO("lok.shim", "lok_documentGetDocumentSize(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetDocumentSize(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getDocumentSize)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetDocumentSize: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetDocumentSize: invalid doc or function pointer\n");
++        fflush(stderr);
++        if (pWidth) *pWidth = 0;
++        if (pHeight) *pHeight = 0;
++        return;
++    }
++
++    pDoc->pClass->getDocumentSize(pDoc, pWidth, pHeight);
++    SAL_INFO("lok.shim", "lok_documentGetDocumentSize returns: " << *pWidth << "x" << *pHeight);
++    fprintf(stderr, "[LOK C++] lok_documentGetDocumentSize returns: %ldx%ld\n", *pWidth, *pHeight);
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++void lok_documentInitializeForRendering(LibreOfficeKitDocument* pDoc, const char* pArguments)
++{
++    SAL_INFO("lok.shim", "lok_documentInitializeForRendering(" << pDoc << ", '"
++             << (pArguments ? pArguments : "(null)") << "')");
++    fprintf(stderr, "[LOK C++] lok_documentInitializeForRendering(%p, '%s')\n",
++            (void*)pDoc, pArguments ? pArguments : "(null)");
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->initializeForRendering)
++    {
++        SAL_WARN("lok.shim", "lok_documentInitializeForRendering: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentInitializeForRendering: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->initializeForRendering(pDoc, pArguments);
++    SAL_INFO("lok.shim", "lok_documentInitializeForRendering done");
++    fprintf(stderr, "[LOK C++] lok_documentInitializeForRendering done\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++void lok_documentPaintTile(LibreOfficeKitDocument* pDoc,
++                           unsigned char* pBuffer,
++                           int nCanvasWidth, int nCanvasHeight,
++                           int nTilePosX, int nTilePosY,
++                           int nTileWidth, int nTileHeight)
++{
++    SAL_INFO("lok.shim", "lok_documentPaintTile(" << pDoc << ", buffer, "
++             << nCanvasWidth << "x" << nCanvasHeight << ", pos=" << nTilePosX << "," << nTilePosY
++             << ", tile=" << nTileWidth << "x" << nTileHeight << ")");
++    // Direct stderr output for debugging (always visible)
++    fprintf(stderr, "[LOK C++] paintTile START: %dx%d pos=(%d,%d) tile=%dx%d\n",
++            nCanvasWidth, nCanvasHeight, nTilePosX, nTilePosY, nTileWidth, nTileHeight);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->paintTile)
++    {
++        SAL_WARN("lok.shim", "lok_documentPaintTile: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] paintTile ERROR: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    fprintf(stderr, "[LOK C++] paintTile calling pDoc->pClass->paintTile...\n");
++    fflush(stderr);
++    pDoc->pClass->paintTile(pDoc, pBuffer, nCanvasWidth, nCanvasHeight,
++                            nTilePosX, nTilePosY, nTileWidth, nTileHeight);
++    fprintf(stderr, "[LOK C++] paintTile DONE\n");
++    fflush(stderr);
++    SAL_INFO("lok.shim", "lok_documentPaintTile done");
++}
++
++SAL_JNI_EXPORT
++int lok_documentGetTileMode(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetTileMode(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetTileMode(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getTileMode)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetTileMode: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetTileMode: invalid doc or function pointer\n");
++        fflush(stderr);
++        return 0; // LOK_TILEMODE_RGBA
++    }
++
++    int nMode = pDoc->pClass->getTileMode(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetTileMode returns: " << nMode);
++    fprintf(stderr, "[LOK C++] lok_documentGetTileMode returns: %d\n", nMode);
++    fflush(stderr);
++    return nMode;
++}
++
++// ==========================================
++// Text Selection and Content shims
++// ==========================================
++
++SAL_JNI_EXPORT
++char* lok_documentGetTextSelection(LibreOfficeKitDocument* pDoc, const char* pMimeType, char** pUsedMimeType)
++{
++    SAL_INFO("lok.shim", "lok_documentGetTextSelection(" << pDoc << ", '"
++             << (pMimeType ? pMimeType : "(null)") << "')");
++    fprintf(stderr, "[LOK C++] lok_documentGetTextSelection(%p, '%s')\n",
++            (void*)pDoc, pMimeType ? pMimeType : "(null)");
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getTextSelection)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetTextSelection: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetTextSelection: invalid doc or function pointer\n");
++        fflush(stderr);
++        return nullptr;
++    }
++
++    char* pResult = pDoc->pClass->getTextSelection(pDoc, pMimeType, pUsedMimeType);
++    SAL_INFO("lok.shim", "lok_documentGetTextSelection returns: "
++             << (pResult ? pResult : "(null)"));
++    fprintf(stderr, "[LOK C++] lok_documentGetTextSelection returns: '%s'\n",
++            pResult ? pResult : "(null)");
++    fflush(stderr);
++    return pResult;
++}
++
++SAL_JNI_EXPORT
++void lok_documentSetTextSelection(LibreOfficeKitDocument* pDoc, int nType, int nX, int nY)
++{
++    SAL_INFO("lok.shim", "lok_documentSetTextSelection(" << pDoc << ", type=" << nType
++             << ", x=" << nX << ", y=" << nY << ")");
++    fprintf(stderr, "[LOK C++] lok_documentSetTextSelection(%p, type=%d, x=%d, y=%d)\n",
++            (void*)pDoc, nType, nX, nY);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setTextSelection)
++    {
++        SAL_WARN("lok.shim", "lok_documentSetTextSelection: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentSetTextSelection: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->setTextSelection(pDoc, nType, nX, nY);
++    SAL_INFO("lok.shim", "lok_documentSetTextSelection done");
++    fprintf(stderr, "[LOK C++] lok_documentSetTextSelection done\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++int lok_documentGetSelectionType(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetSelectionType(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetSelectionType(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getSelectionType)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetSelectionType: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetSelectionType: invalid doc or function pointer\n");
++        fflush(stderr);
++        return 0;
++    }
++
++    int nType = pDoc->pClass->getSelectionType(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetSelectionType returns: " << nType);
++    fprintf(stderr, "[LOK C++] lok_documentGetSelectionType returns: %d\n", nType);
++    fflush(stderr);
++    return nType;
++}
++
++SAL_JNI_EXPORT
++void lok_documentResetSelection(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentResetSelection(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentResetSelection(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->resetSelection)
++    {
++        SAL_WARN("lok.shim", "lok_documentResetSelection: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentResetSelection: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->resetSelection(pDoc);
++    SAL_INFO("lok.shim", "lok_documentResetSelection done");
++    fprintf(stderr, "[LOK C++] lok_documentResetSelection done\n");
++    fflush(stderr);
++}
++
++// ==========================================
++// Mouse and Keyboard Event shims
++// ==========================================
++
++SAL_JNI_EXPORT
++void lok_documentPostMouseEvent(LibreOfficeKitDocument* pDoc,
++                                 int nType, int nX, int nY,
++                                 int nCount, int nButtons, int nModifier)
++{
++    SAL_INFO("lok.shim", "lok_documentPostMouseEvent(" << pDoc << ", type=" << nType
++             << ", x=" << nX << ", y=" << nY << ", count=" << nCount
++             << ", buttons=" << nButtons << ", modifier=" << nModifier << ")");
++    fprintf(stderr, "[LOK C++] lok_documentPostMouseEvent(%p, type=%d, x=%d, y=%d, count=%d, buttons=%d, modifier=%d)\n",
++            (void*)pDoc, nType, nX, nY, nCount, nButtons, nModifier);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->postMouseEvent)
++    {
++        SAL_WARN("lok.shim", "lok_documentPostMouseEvent: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentPostMouseEvent: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->postMouseEvent(pDoc, nType, nX, nY, nCount, nButtons, nModifier);
++    SAL_INFO("lok.shim", "lok_documentPostMouseEvent done");
++    fprintf(stderr, "[LOK C++] lok_documentPostMouseEvent done\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++void lok_documentPostKeyEvent(LibreOfficeKitDocument* pDoc, int nType, int nCharCode, int nKeyCode)
++{
++    SAL_INFO("lok.shim", "lok_documentPostKeyEvent(" << pDoc << ", type=" << nType
++             << ", charCode=" << nCharCode << ", keyCode=" << nKeyCode << ")");
++    fprintf(stderr, "[LOK C++] lok_documentPostKeyEvent(%p, type=%d, charCode=%d, keyCode=%d)\n",
++            (void*)pDoc, nType, nCharCode, nKeyCode);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->postKeyEvent)
++    {
++        SAL_WARN("lok.shim", "lok_documentPostKeyEvent: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentPostKeyEvent: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->postKeyEvent(pDoc, nType, nCharCode, nKeyCode);
++    SAL_INFO("lok.shim", "lok_documentPostKeyEvent done");
++    fprintf(stderr, "[LOK C++] lok_documentPostKeyEvent done\n");
++    fflush(stderr);
++}
++
++// ==========================================
++// UNO Command shims
++// ==========================================
++
++SAL_JNI_EXPORT
++void lok_documentPostUnoCommand(LibreOfficeKitDocument* pDoc,
++                                 const char* pCommand,
++                                 const char* pArguments,
++                                 int bNotifyWhenFinished)
++{
++    SAL_INFO("lok.shim", "lok_documentPostUnoCommand(" << pDoc << ", '"
++             << (pCommand ? pCommand : "(null)") << "', '"
++             << (pArguments ? pArguments : "(null)") << "', notify=" << bNotifyWhenFinished << ")");
++    fprintf(stderr, "[LOK C++] lok_documentPostUnoCommand(%p, '%s', '%s', notify=%d)\n",
++            (void*)pDoc, pCommand ? pCommand : "(null)", pArguments ? pArguments : "(null)", bNotifyWhenFinished);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->postUnoCommand)
++    {
++        SAL_WARN("lok.shim", "lok_documentPostUnoCommand: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentPostUnoCommand: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->postUnoCommand(pDoc, pCommand, pArguments, bNotifyWhenFinished != 0);
++    SAL_INFO("lok.shim", "lok_documentPostUnoCommand done");
++    fprintf(stderr, "[LOK C++] lok_documentPostUnoCommand done\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++char* lok_documentGetCommandValues(LibreOfficeKitDocument* pDoc, const char* pCommand)
++{
++    SAL_INFO("lok.shim", "lok_documentGetCommandValues(" << pDoc << ", '"
++             << (pCommand ? pCommand : "(null)") << "')");
++    fprintf(stderr, "[LOK C++] lok_documentGetCommandValues(%p, '%s')\n",
++            (void*)pDoc, pCommand ? pCommand : "(null)");
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getCommandValues)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetCommandValues: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetCommandValues: invalid doc or function pointer\n");
++        fflush(stderr);
++        return nullptr;
++    }
++
++    char* pResult = pDoc->pClass->getCommandValues(pDoc, pCommand);
++    SAL_INFO("lok.shim", "lok_documentGetCommandValues returns: "
++             << (pResult ? "(data)" : "(null)"));
++    fprintf(stderr, "[LOK C++] lok_documentGetCommandValues returns: %s\n",
++            pResult ? "(data)" : "(null)");
++    fflush(stderr);
++    return pResult;
++}
++
++// ==========================================
++// Page/Part Information shims
++// ==========================================
++
++SAL_JNI_EXPORT
++char* lok_documentGetPartPageRectangles(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetPartPageRectangles(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetPartPageRectangles(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getPartPageRectangles)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetPartPageRectangles: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetPartPageRectangles: invalid doc or function pointer\n");
++        fflush(stderr);
++        return nullptr;
++    }
++
++    char* pResult = pDoc->pClass->getPartPageRectangles(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetPartPageRectangles returns: "
++             << (pResult ? pResult : "(null)"));
++    fprintf(stderr, "[LOK C++] lok_documentGetPartPageRectangles returns: '%s'\n",
++            pResult ? pResult : "(null)");
++    fflush(stderr);
++    return pResult;
++}
++
++SAL_JNI_EXPORT
++char* lok_documentGetPartInfo(LibreOfficeKitDocument* pDoc, int nPart)
++{
++    SAL_INFO("lok.shim", "lok_documentGetPartInfo(" << pDoc << ", part=" << nPart << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetPartInfo(%p, part=%d)\n", (void*)pDoc, nPart);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getPartInfo)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetPartInfo: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetPartInfo: invalid doc or function pointer\n");
++        fflush(stderr);
++        return nullptr;
++    }
++
++    char* pResult = pDoc->pClass->getPartInfo(pDoc, nPart);
++    SAL_INFO("lok.shim", "lok_documentGetPartInfo returns: "
++             << (pResult ? pResult : "(null)"));
++    fprintf(stderr, "[LOK C++] lok_documentGetPartInfo returns: '%s'\n",
++            pResult ? pResult : "(null)");
++    fflush(stderr);
++    return pResult;
++}
++
++SAL_JNI_EXPORT
++char* lok_documentGetPartName(LibreOfficeKitDocument* pDoc, int nPart)
++{
++    SAL_INFO("lok.shim", "lok_documentGetPartName(" << pDoc << ", part=" << nPart << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetPartName(%p, part=%d)\n", (void*)pDoc, nPart);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getPartName)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetPartName: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetPartName: invalid doc or function pointer\n");
++        fflush(stderr);
++        return nullptr;
++    }
++
++    char* pResult = pDoc->pClass->getPartName(pDoc, nPart);
++    SAL_INFO("lok.shim", "lok_documentGetPartName returns: "
++             << (pResult ? pResult : "(null)"));
++    fprintf(stderr, "[LOK C++] lok_documentGetPartName returns: '%s'\n",
++            pResult ? pResult : "(null)");
++    fflush(stderr);
++    return pResult;
++}
++
++// ==========================================
++// Clipboard shims
++// ==========================================
++
++SAL_JNI_EXPORT
++int lok_documentPaste(LibreOfficeKitDocument* pDoc, const char* pMimeType, const char* pData, size_t nSize)
++{
++    SAL_INFO("lok.shim", "lok_documentPaste(" << pDoc << ", '"
++             << (pMimeType ? pMimeType : "(null)") << "', size=" << nSize << ")");
++    fprintf(stderr, "[LOK C++] lok_documentPaste(%p, '%s', size=%zu)\n",
++            (void*)pDoc, pMimeType ? pMimeType : "(null)", nSize);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->paste)
++    {
++        SAL_WARN("lok.shim", "lok_documentPaste: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentPaste: invalid doc or function pointer\n");
++        fflush(stderr);
++        return 0;
++    }
++
++    bool bResult = pDoc->pClass->paste(pDoc, pMimeType, pData, nSize);
++    SAL_INFO("lok.shim", "lok_documentPaste returns: " << bResult);
++    fprintf(stderr, "[LOK C++] lok_documentPaste returns: %d\n", bResult ? 1 : 0);
++    fflush(stderr);
++    return bResult ? 1 : 0;
++}
++
++// ==========================================
++// View and Zoom shims
++// ==========================================
++
++SAL_JNI_EXPORT
++void lok_documentSetClientZoom(LibreOfficeKitDocument* pDoc,
++                                int nTilePixelWidth, int nTilePixelHeight,
++                                int nTileTwipWidth, int nTileTwipHeight)
++{
++    SAL_INFO("lok.shim", "lok_documentSetClientZoom(" << pDoc
++             << ", pixel=" << nTilePixelWidth << "x" << nTilePixelHeight
++             << ", twip=" << nTileTwipWidth << "x" << nTileTwipHeight << ")");
++    fprintf(stderr, "[LOK C++] lok_documentSetClientZoom(%p, pixel=%dx%d, twip=%dx%d)\n",
++            (void*)pDoc, nTilePixelWidth, nTilePixelHeight, nTileTwipWidth, nTileTwipHeight);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setClientZoom)
++    {
++        SAL_WARN("lok.shim", "lok_documentSetClientZoom: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentSetClientZoom: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->setClientZoom(pDoc, nTilePixelWidth, nTilePixelHeight,
++                                 nTileTwipWidth, nTileTwipHeight);
++    SAL_INFO("lok.shim", "lok_documentSetClientZoom done");
++    fprintf(stderr, "[LOK C++] lok_documentSetClientZoom done\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++void lok_documentSetClientVisibleArea(LibreOfficeKitDocument* pDoc, int nX, int nY, int nWidth, int nHeight)
++{
++    SAL_INFO("lok.shim", "lok_documentSetClientVisibleArea(" << pDoc
++             << ", x=" << nX << ", y=" << nY << ", w=" << nWidth << ", h=" << nHeight << ")");
++    fprintf(stderr, "[LOK C++] lok_documentSetClientVisibleArea(%p, x=%d, y=%d, w=%d, h=%d)\n",
++            (void*)pDoc, nX, nY, nWidth, nHeight);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setClientVisibleArea)
++    {
++        SAL_WARN("lok.shim", "lok_documentSetClientVisibleArea: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentSetClientVisibleArea: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->setClientVisibleArea(pDoc, nX, nY, nWidth, nHeight);
++    SAL_INFO("lok.shim", "lok_documentSetClientVisibleArea done");
++    fprintf(stderr, "[LOK C++] lok_documentSetClientVisibleArea done\n");
++    fflush(stderr);
++}
++
++// ==========================================
++// Accessibility shims
++// ==========================================
++
++SAL_JNI_EXPORT
++char* lok_documentGetA11yFocusedParagraph(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetA11yFocusedParagraph(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetA11yFocusedParagraph(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getA11yFocusedParagraph)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetA11yFocusedParagraph: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetA11yFocusedParagraph: invalid doc or function pointer\n");
++        fflush(stderr);
++        return nullptr;
++    }
++
++    char* pResult = pDoc->pClass->getA11yFocusedParagraph(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetA11yFocusedParagraph returns: "
++             << (pResult ? pResult : "(null)"));
++    fprintf(stderr, "[LOK C++] lok_documentGetA11yFocusedParagraph returns: '%s'\n",
++            pResult ? pResult : "(null)");
++    fflush(stderr);
++    return pResult;
++}
++
++SAL_JNI_EXPORT
++int lok_documentGetA11yCaretPosition(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetA11yCaretPosition(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetA11yCaretPosition(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getA11yCaretPosition)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetA11yCaretPosition: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetA11yCaretPosition: invalid doc or function pointer\n");
++        fflush(stderr);
++        return -1;
++    }
++
++    int nPos = pDoc->pClass->getA11yCaretPosition(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetA11yCaretPosition returns: " << nPos);
++    fprintf(stderr, "[LOK C++] lok_documentGetA11yCaretPosition returns: %d\n", nPos);
++    fflush(stderr);
++    return nPos;
++}
++
++SAL_JNI_EXPORT
++void lok_documentSetAccessibilityState(LibreOfficeKitDocument* pDoc, int nId, int bEnabled)
++{
++    SAL_INFO("lok.shim", "lok_documentSetAccessibilityState(" << pDoc
++             << ", viewId=" << nId << ", enabled=" << bEnabled << ")");
++    fprintf(stderr, "[LOK C++] lok_documentSetAccessibilityState(%p, viewId=%d, enabled=%d)\n",
++            (void*)pDoc, nId, bEnabled);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setAccessibilityState)
++    {
++        SAL_WARN("lok.shim", "lok_documentSetAccessibilityState: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentSetAccessibilityState: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->setAccessibilityState(pDoc, nId, bEnabled != 0);
++    SAL_INFO("lok.shim", "lok_documentSetAccessibilityState done");
++    fprintf(stderr, "[LOK C++] lok_documentSetAccessibilityState done\n");
++    fflush(stderr);
++}
++
++// ==========================================
++// Spreadsheet-specific shims
++// ==========================================
++
++SAL_JNI_EXPORT
++void lok_documentGetDataArea(LibreOfficeKitDocument* pDoc, long nPart, long* pCol, long* pRow)
++{
++    SAL_INFO("lok.shim", "lok_documentGetDataArea(" << pDoc << ", part=" << nPart << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetDataArea(%p, part=%ld)\n", (void*)pDoc, nPart);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getDataArea)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetDataArea: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetDataArea: invalid doc or function pointer\n");
++        fflush(stderr);
++        if (pCol) *pCol = 0;
++        if (pRow) *pRow = 0;
++        return;
++    }
++
++    pDoc->pClass->getDataArea(pDoc, nPart, pCol, pRow);
++    SAL_INFO("lok.shim", "lok_documentGetDataArea returns: col=" << *pCol << ", row=" << *pRow);
++    fprintf(stderr, "[LOK C++] lok_documentGetDataArea returns: col=%ld, row=%ld\n", *pCol, *pRow);
++    fflush(stderr);
++}
++
++// ==========================================
++// Edit Mode shim
++// ==========================================
++
++SAL_JNI_EXPORT
++int lok_documentGetEditMode(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetEditMode(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetEditMode(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getEditMode)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetEditMode: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetEditMode: invalid doc or function pointer\n");
++        fflush(stderr);
++        return 0;
++    }
++
++    int nMode = pDoc->pClass->getEditMode(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetEditMode returns: " << nMode);
++    fprintf(stderr, "[LOK C++] lok_documentGetEditMode returns: %d\n", nMode);
++    fflush(stderr);
++    return nMode;
++}
++
++SAL_JNI_EXPORT
++void lok_documentSetEditMode(LibreOfficeKitDocument* pDoc, int nMode)
++{
++    SAL_INFO("lok.shim", "lok_documentSetEditMode(" << pDoc << ", mode=" << nMode << ")");
++    fprintf(stderr, "[LOK C++] lok_documentSetEditMode(%p, mode=%d)\n", (void*)pDoc, nMode);
++    fflush(stderr);
++
++    // nMode: 0 = view mode, 1 = edit mode
++    ITiledRenderable* pTiledRenderable = getTiledRenderable(pDoc);
++    if (pTiledRenderable)
++        pTiledRenderable->setEditMode(nMode);
++    SAL_INFO("lok.shim", "lok_documentSetEditMode done");
++    fprintf(stderr, "[LOK C++] lok_documentSetEditMode done\n");
++    fflush(stderr);
++}
++
++// ==========================================
++// View Management shims
++// ==========================================
++
++SAL_JNI_EXPORT
++int lok_documentCreateView(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentCreateView(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentCreateView(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->createView)
++    {
++        SAL_WARN("lok.shim", "lok_documentCreateView: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentCreateView: invalid doc or function pointer\n");
++        fflush(stderr);
++        return -1;
++    }
++
++    int nViewId = pDoc->pClass->createView(pDoc);
++    SAL_INFO("lok.shim", "lok_documentCreateView returns: " << nViewId);
++    fprintf(stderr, "[LOK C++] lok_documentCreateView returns: %d\n", nViewId);
++    fflush(stderr);
++    return nViewId;
++}
++
++SAL_JNI_EXPORT
++int lok_documentCreateViewWithOptions(LibreOfficeKitDocument* pDoc, const char* pOptions)
++{
++    SAL_INFO("lok.shim", "lok_documentCreateViewWithOptions(" << pDoc << ", '"
++             << (pOptions ? pOptions : "(null)") << "')");
++    fprintf(stderr, "[LOK C++] lok_documentCreateViewWithOptions(%p, '%s')\n",
++            (void*)pDoc, pOptions ? pOptions : "(null)");
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->createViewWithOptions)
++    {
++        SAL_WARN("lok.shim", "lok_documentCreateViewWithOptions: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentCreateViewWithOptions: invalid doc or function pointer\n");
++        fflush(stderr);
++        return -1;
++    }
++
++    int nViewId = pDoc->pClass->createViewWithOptions(pDoc, pOptions);
++    SAL_INFO("lok.shim", "lok_documentCreateViewWithOptions returns: " << nViewId);
++    fprintf(stderr, "[LOK C++] lok_documentCreateViewWithOptions returns: %d\n", nViewId);
++    fflush(stderr);
++    return nViewId;
++}
++
++SAL_JNI_EXPORT
++void lok_documentDestroyView(LibreOfficeKitDocument* pDoc, int nViewId)
++{
++    SAL_INFO("lok.shim", "lok_documentDestroyView(" << pDoc << ", viewId=" << nViewId << ")");
++    fprintf(stderr, "[LOK C++] lok_documentDestroyView(%p, viewId=%d)\n", (void*)pDoc, nViewId);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->destroyView)
++    {
++        SAL_WARN("lok.shim", "lok_documentDestroyView: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentDestroyView: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->destroyView(pDoc, nViewId);
++    SAL_INFO("lok.shim", "lok_documentDestroyView done");
++    fprintf(stderr, "[LOK C++] lok_documentDestroyView done\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++void lok_documentSetView(LibreOfficeKitDocument* pDoc, int nViewId)
++{
++    SAL_INFO("lok.shim", "lok_documentSetView(" << pDoc << ", viewId=" << nViewId << ")");
++    fprintf(stderr, "[LOK C++] lok_documentSetView(%p, viewId=%d)\n", (void*)pDoc, nViewId);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->setView)
++    {
++        SAL_WARN("lok.shim", "lok_documentSetView: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentSetView: invalid doc or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    pDoc->pClass->setView(pDoc, nViewId);
++    SAL_INFO("lok.shim", "lok_documentSetView done");
++    fprintf(stderr, "[LOK C++] lok_documentSetView done\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++int lok_documentGetView(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetView(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetView(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getView)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetView: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetView: invalid doc or function pointer\n");
++        fflush(stderr);
++        return -1;
++    }
++
++    int nViewId = pDoc->pClass->getView(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetView returns: " << nViewId);
++    fprintf(stderr, "[LOK C++] lok_documentGetView returns: %d\n", nViewId);
++    fflush(stderr);
++    return nViewId;
++}
++
++SAL_JNI_EXPORT
++int lok_documentGetViewsCount(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentGetViewsCount(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentGetViewsCount(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->getViewsCount)
++    {
++        SAL_WARN("lok.shim", "lok_documentGetViewsCount: invalid doc or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentGetViewsCount: invalid doc or function pointer\n");
++        fflush(stderr);
++        return 0;
++    }
++
++    int nCount = pDoc->pClass->getViewsCount(pDoc);
++    SAL_INFO("lok.shim", "lok_documentGetViewsCount returns: " << nCount);
++    fprintf(stderr, "[LOK C++] lok_documentGetViewsCount returns: %d\n", nCount);
++    fflush(stderr);
++    return nCount;
++}
++
++// ==========================================
++// Event Loop and Callback shims
++// ==========================================
++
++// Dummy poll callback - just returns 0 (no events pending)
++static int dummyPollCallback(void* /*pData*/, int /*timeoutUs*/)
++{
++    return 0;
++}
++
++// Dummy wake callback - does nothing
++static void dummyWakeCallback(void* /*pData*/)
++{
++}
++
++SAL_JNI_EXPORT
++void lok_enableSyncEvents()
++{
++    SAL_INFO("lok.shim", "lok_enableSyncEvents: registering dummy poll callbacks to enable synchronous event dispatch");
++    fprintf(stderr, "[LOK C++] lok_enableSyncEvents: enabling Unipoll mode for synchronous events\n");
++    fflush(stderr);
++
++    // Register dummy callbacks to enable Unipoll mode
++    // This makes isUnipoll() return true, causing events to be dispatched synchronously
++    // instead of being queued via Application::PostUserEvent()
++    vcl::lok::registerPollCallbacks(dummyPollCallback, dummyWakeCallback, nullptr);
++
++    fprintf(stderr, "[LOK C++] lok_enableSyncEvents: Unipoll mode enabled\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++void lok_disableSyncEvents()
++{
++    SAL_INFO("lok.shim", "lok_disableSyncEvents: unregistering poll callbacks");
++    fprintf(stderr, "[LOK C++] lok_disableSyncEvents: disabling Unipoll mode\n");
++    fflush(stderr);
++
++    vcl::lok::unregisterPollCallbacks();
++
++    fprintf(stderr, "[LOK C++] lok_disableSyncEvents: Unipoll mode disabled\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++void lok_runLoop(LibreOfficeKit* pKit,
++                 LibreOfficeKitPollCallback pPollCallback,
++                 LibreOfficeKitWakeCallback pWakeCallback,
++                 void* pData)
++{
++    SAL_INFO("lok.shim", "lok_runLoop(" << pKit << ", pollCb=" << (void*)pPollCallback
++             << ", wakeCb=" << (void*)pWakeCallback << ", data=" << pData << ")");
++    fprintf(stderr, "[LOK C++] lok_runLoop(%p, pollCb=%p, wakeCb=%p, data=%p)\n",
++            (void*)pKit, (void*)pPollCallback, (void*)pWakeCallback, pData);
++    fflush(stderr);
++
++    if (!pKit || !pKit->pClass || !pKit->pClass->runLoop)
++    {
++        SAL_WARN("lok.shim", "lok_runLoop: invalid kit or function pointer");
++        fprintf(stderr, "[LOK C++] lok_runLoop: invalid kit or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    // Note: This will block and run the event loop!
++    pKit->pClass->runLoop(pKit, pPollCallback, pWakeCallback, pData);
++
++    SAL_INFO("lok.shim", "lok_runLoop done");
++    fprintf(stderr, "[LOK C++] lok_runLoop done\n");
++    fflush(stderr);
++}
++
++// ==========================================
++// Callback Queue System for WASM
++// ==========================================
++
++// Structure to hold a queued callback event
++struct LOKCallbackEvent
++{
++    int nType;
++    std::string sPayload;
++};
++
++// Thread-safe queue for callback events
++static std::mutex gCallbackQueueMutex;
++static std::deque<LOKCallbackEvent> gCallbackQueue;
++static constexpr size_t MAX_CALLBACK_QUEUE_SIZE = 1000;
++
++// The callback function that gets registered with LOK
++// It queues events instead of calling back to JS directly
++static void lokQueueingCallback(int nType, const char* pPayload, void* /*pData*/)
++{
++    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
++
++    // Prevent queue from growing unbounded
++    if (gCallbackQueue.size() >= MAX_CALLBACK_QUEUE_SIZE)
++    {
++        // Drop oldest events
++        gCallbackQueue.pop_front();
++    }
++
++    LOKCallbackEvent event;
++    event.nType = nType;
++    event.sPayload = pPayload ? pPayload : "";
++    gCallbackQueue.push_back(std::move(event));
++
++    SAL_INFO("lok.shim", "lokQueueingCallback: queued type=" << nType << " payload=" << (pPayload ? pPayload : "(null)"));
++    fprintf(stderr, "[LOK C++] lokQueueingCallback: queued type=%d payload=%s queueSize=%zu\n",
++            nType, pPayload ? pPayload : "(null)", gCallbackQueue.size());
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++void lok_documentRegisterCallback(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentRegisterCallback(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentRegisterCallback(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->registerCallback)
++    {
++        SAL_WARN("lok.shim", "lok_documentRegisterCallback: invalid document or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentRegisterCallback: invalid document or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    // Clear the queue before registering
++    {
++        std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
++        gCallbackQueue.clear();
++    }
++
++    // Check current view before registering
++    int nView = SfxLokHelper::getView();
++    fprintf(stderr, "[LOK C++] lok_documentRegisterCallback: current view=%d\n", nView);
++    fflush(stderr);
++
++    // Register our queueing callback
++    pDoc->pClass->registerCallback(pDoc, lokQueueingCallback, nullptr);
++
++    // Check handlers after registration
++    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pDoc);
++    fprintf(stderr, "[LOK C++] lok_documentRegisterCallback: after registration, mpCallbackFlushHandlers.size()=%zu\n",
++            pDocument->mpCallbackFlushHandlers.size());
++    fflush(stderr);
++
++    fprintf(stderr, "[LOK C++] lok_documentRegisterCallback: callback registered\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++void lok_documentUnregisterCallback(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_documentUnregisterCallback(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_documentUnregisterCallback(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc || !pDoc->pClass || !pDoc->pClass->registerCallback)
++    {
++        SAL_WARN("lok.shim", "lok_documentUnregisterCallback: invalid document or function pointer");
++        fprintf(stderr, "[LOK C++] lok_documentUnregisterCallback: invalid document or function pointer\n");
++        fflush(stderr);
++        return;
++    }
++
++    // Unregister by passing nullptr
++    pDoc->pClass->registerCallback(pDoc, nullptr, nullptr);
++
++    // Clear the queue
++    {
++        std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
++        gCallbackQueue.clear();
++    }
++
++    fprintf(stderr, "[LOK C++] lok_documentUnregisterCallback: callback unregistered\n");
++    fflush(stderr);
++}
++
++SAL_JNI_EXPORT
++int lok_hasCallbackEvents()
++{
++    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
++    return gCallbackQueue.empty() ? 0 : 1;
++}
++
++SAL_JNI_EXPORT
++int lok_getCallbackEventCount()
++{
++    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
++    return static_cast<int>(gCallbackQueue.size());
++}
++
++// Poll and return the next callback event
++// Returns: type of event, or -1 if queue is empty
++// Payload is copied to pPayloadBuffer (must be at least nBufferSize bytes)
++// Actual payload length is written to pPayloadLength
++SAL_JNI_EXPORT
++int lok_pollCallback(char* pPayloadBuffer, int nBufferSize, int* pPayloadLength)
++{
++    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
++
++    if (gCallbackQueue.empty())
++    {
++        if (pPayloadLength)
++            *pPayloadLength = 0;
++        return -1;
++    }
++
++    LOKCallbackEvent event = std::move(gCallbackQueue.front());
++    gCallbackQueue.pop_front();
++
++    int payloadLen = static_cast<int>(event.sPayload.length());
++    if (pPayloadLength)
++        *pPayloadLength = payloadLen;
++
++    if (pPayloadBuffer && nBufferSize > 0)
++    {
++        int copyLen = std::min(payloadLen, nBufferSize - 1);
++        memcpy(pPayloadBuffer, event.sPayload.c_str(), copyLen);
++        pPayloadBuffer[copyLen] = '\0';
++    }
++
++    SAL_INFO("lok.shim", "lok_pollCallback: returning type=" << event.nType << " payloadLen=" << payloadLen);
++    return event.nType;
++}
++
++// Clear all queued callback events
++SAL_JNI_EXPORT
++void lok_clearCallbackQueue()
++{
++    std::lock_guard<std::mutex> lock(gCallbackQueueMutex);
++    gCallbackQueue.clear();
++    SAL_INFO("lok.shim", "lok_clearCallbackQueue: queue cleared");
++    fprintf(stderr, "[LOK C++] lok_clearCallbackQueue: queue cleared\n");
++    fflush(stderr);
++}
++
++// Force flush pending LOK callbacks for a document
++// This is needed in WASM because callbacks are queued via PostUserEvent
++// but the event loop doesn't run automatically
++SAL_JNI_EXPORT
++void lok_flushCallbacks(LibreOfficeKitDocument* pDoc)
++{
++    SAL_INFO("lok.shim", "lok_flushCallbacks(" << pDoc << ")");
++    fprintf(stderr, "[LOK C++] lok_flushCallbacks(%p)\n", (void*)pDoc);
++    fflush(stderr);
++
++    if (!pDoc)
++    {
++        SAL_WARN("lok.shim", "lok_flushCallbacks: invalid document");
++        fprintf(stderr, "[LOK C++] lok_flushCallbacks: invalid document\n");
++        fflush(stderr);
++        return;
++    }
++
++    SolarMutexGuard aGuard;
++
++    LibLODocument_Impl* pDocument = static_cast<LibLODocument_Impl*>(pDoc);
++
++    fprintf(stderr, "[LOK C++] lok_flushCallbacks: mpCallbackFlushHandlers.size()=%zu\n",
++            pDocument->mpCallbackFlushHandlers.size());
++    fflush(stderr);
++
++    // Flush all callback handlers for all views
++    int flushedCount = 0;
++    for (auto& pair : pDocument->mpCallbackFlushHandlers)
++    {
++        fprintf(stderr, "[LOK C++] lok_flushCallbacks: handler for view %zu exists=%d\n",
++                pair.first, pair.second ? 1 : 0);
++        fflush(stderr);
++        if (pair.second)
++        {
++            pair.second->flush();
++            flushedCount++;
++        }
++    }
++
++    fprintf(stderr, "[LOK C++] lok_flushCallbacks: flushed %d callback handlers\n", flushedCount);
++    fflush(stderr);
++}
++
+ } // extern "C"
+ 
+ /* vim:set shiftwidth=4 softtabstop=4 expandtab: */
+diff --git a/external/fontconfig/ExternalProject_fontconfig.mk b/external/fontconfig/ExternalProject_fontconfig.mk
+index 0d899ef12..2600f6309 100644
+--- a/external/fontconfig/ExternalProject_fontconfig.mk
++++ b/external/fontconfig/ExternalProject_fontconfig.mk
+@@ -43,9 +43,9 @@ $(call gb_ExternalProject_get_state_target,fontconfig,build) :
+ 			) \
+ 			$(if $(filter EMSCRIPTEN,$(OS)), \
+ 				--disable-shared \
+-			    --with-baseconfigdir=/instdir/share/fontconfig \
+-			    --with-cache-dir=/instdir/share/fontconfig/cache \
+-			    --with-add-fonts=/instdir/share/fonts \
++			    --with-baseconfigdir=/share/fontconfig \
++			    --with-cache-dir=/share/fontconfig/cache \
++			    --with-add-fonts=/share/fonts \
+ 			    --enable-libxml2 \
+ 			    ac_cv_func_fstatfs=no ac_cv_func_fstatvfs=no \
+ 			) \
+diff --git a/external/pdfium/Library_pdfium.mk b/external/pdfium/Library_pdfium.mk
+index 648b4d22c..53578d765 100644
+--- a/external/pdfium/Library_pdfium.mk
++++ b/external/pdfium/Library_pdfium.mk
+@@ -714,7 +714,8 @@ $(eval $(call gb_Library_add_generated_exception_objects,pdfium,\
+ ))
+ endif
+ 
+-ifeq ($(OS),LINUX)
++ifneq (,$(filter LINUX EMSCRIPTEN,$(OS)))
++# EMSCRIPTEN uses Linux platform impl (fx_linux_impl.cpp supports OS_ASMJS)
+ # fxge
+ $(eval $(call gb_Library_add_generated_exception_objects,pdfium,\
+     UnpackedTarball/pdfium/core/fxge/linux/fx_linux_impl \
+diff --git a/include/comphelper/threadpool.hxx b/include/comphelper/threadpool.hxx
+index 84f9dc928..64ee0dd6d 100644
+--- a/include/comphelper/threadpool.hxx
++++ b/include/comphelper/threadpool.hxx
+@@ -72,6 +72,9 @@ public:
+     /// join all threads if there are no tasks presently.
+     void        joinThreadsIfIdle();
+ 
++    /// pre-spawn all worker threads to avoid runtime thread creation
++    void        preSpawnWorkers();
++
+     /// return true if there are no queued or worked-on tasks
+     bool        isIdle() const { return maTasks.empty() && mnBusyWorkers == 0; };
+ 
+diff --git a/sd/source/ui/annotations/annotationwindow.cxx b/sd/source/ui/annotations/annotationwindow.cxx
+index ec9a2118e..c2bd41820 100644
+--- a/sd/source/ui/annotations/annotationwindow.cxx
++++ b/sd/source/ui/annotations/annotationwindow.cxx
+@@ -1,3 +1,4 @@
++#include <config_wasm_strip.h>
+ /* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
+ /*
+  * This file is part of the LibreOffice project.
+@@ -205,7 +206,9 @@ void AnnotationTextWindow::SetDrawingArea(weld::DrawingArea* pDrawingArea)
+ 
+     pDrawingArea->set_cursor(PointerStyle::Text);
+ 
++#if !ENABLE_WASM_STRIP_ACCESSIBILITY
+     InitAccessible();
++#endif
+ }
+ 
+ // see SwAnnotationWin in sw for something similar
+diff --git a/sd/source/ui/slidesorter/controller/SlideSorterController.cxx b/sd/source/ui/slidesorter/controller/SlideSorterController.cxx
+index a8d467485..dd4ad99fb 100644
+--- a/sd/source/ui/slidesorter/controller/SlideSorterController.cxx
++++ b/sd/source/ui/slidesorter/controller/SlideSorterController.cxx
+@@ -1,3 +1,4 @@
++#include <config_wasm_strip.h>
+ /* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
+ /*
+  * This file is part of the LibreOffice project.
+diff --git a/sd/source/ui/unoidl/unomodel.cxx b/sd/source/ui/unoidl/unomodel.cxx
+index 9b08de708..cec95f1af 100644
+--- a/sd/source/ui/unoidl/unomodel.cxx
++++ b/sd/source/ui/unoidl/unomodel.cxx
+@@ -2270,9 +2270,16 @@ void SdXImpressDocument::paintTile( VirtualDevice& rDevice,
+                             int nTilePosX, int nTilePosY,
+                             ::tools::Long nTileWidth, ::tools::Long nTileHeight )
+ {
++    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile ENTER");
++
+     DrawViewShell* pViewSh = GetViewShell();
+     if (!pViewSh)
++    {
++        SAL_WARN("sd.lok", "SdXImpressDocument::paintTile: no ViewShell!");
+         return;
++    }
++
++    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile: got ViewShell");
+ 
+     // we need to skip tile invalidation for controls on rendering
+     comphelper::LibreOfficeKit::setTiledPainting(true);
+@@ -2334,8 +2341,12 @@ void SdXImpressDocument::paintTile( VirtualDevice& rDevice,
+     if (comphelper::LibreOfficeKit::isActive())
+         pView->SetPaintTextEdit(mbPaintTextEdit);
+ 
++    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile: about to call CompleteRedraw");
++
+     pViewSh->GetView()->CompleteRedraw(&rDevice, vcl::Region(aRect));
+ 
++    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile: CompleteRedraw RETURNED");
++
+     if (comphelper::LibreOfficeKit::isActive())
+         pView->SetPaintTextEdit(true);
+ 
+@@ -2360,6 +2371,8 @@ void SdXImpressDocument::paintTile( VirtualDevice& rDevice,
+     }
+ 
+     comphelper::LibreOfficeKit::setTiledPainting(false);
++
++    SAL_INFO("sd.lok", "SdXImpressDocument::paintTile DONE");
+ }
+ 
+ OString SdXImpressDocument::getViewRenderState(SfxViewShell* pViewShell)
+diff --git a/sfx2/source/view/lokhelper.cxx b/sfx2/source/view/lokhelper.cxx
+index 05d6ab884..548ca8005 100644
+--- a/sfx2/source/view/lokhelper.cxx
++++ b/sfx2/source/view/lokhelper.cxx
+@@ -194,10 +194,9 @@ void SfxLokHelper::setView(int nId)
+     DisableCallbacks dc;
+ 
+     bool bIsCurrShell = (pViewShell == SfxViewShell::Current());
+-    if (bIsCurrShell && comphelper::LibreOfficeKit::getLanguageTag().getBcp47() == pViewShell->GetLOKLanguageTag().getBcp47())
+-        return;
++    bool bLanguageMatch = comphelper::LibreOfficeKit::getLanguageTag().getBcp47() == pViewShell->GetLOKLanguageTag().getBcp47();
+ 
+-    if (bIsCurrShell)
++    if (bIsCurrShell && !bLanguageMatch)
+     {
+         // If we wanted to set the SfxViewShell that is actually set, we could skip it.
+         // But it looks like that the language can go wrong, so we have to fix that.
+@@ -211,13 +210,17 @@ void SfxLokHelper::setView(int nId)
+     comphelper::LibreOfficeKit::setLanguageTag(pViewShell->GetLOKLanguageTag());
+     comphelper::LibreOfficeKit::setLocale(pViewShell->GetLOKLocale());
+ 
+-    if (bIsCurrShell)
+-        return;
+-
+     SfxViewFrame& rViewFrame = pViewShell->GetViewFrame();
+-    rViewFrame.MakeActive_Impl(false);
+ 
+-    // Make comphelper::dispatchCommand() find the correct frame.
++    if (!bIsCurrShell)
++    {
++        rViewFrame.MakeActive_Impl(false);
++    }
++
++    // Always ensure the desktop knows about the active frame.
++    // This is needed for comphelper::dispatchCommand() to find the correct frame,
++    // especially in headless/WASM mode where the frame may not be set as active
++    // during initial document load.
+     uno::Reference<frame::XFrame> xFrame = rViewFrame.GetFrame().GetFrameInterface();
+     uno::Reference<frame::XDesktop2> xDesktop = frame::Desktop::create(comphelper::getProcessComponentContext());
+     xDesktop->setActiveFrame(xFrame);
+diff --git a/solenv/gbuild/Executable.mk b/solenv/gbuild/Executable.mk
+index 48d91258e..6fa1be137 100644
+--- a/solenv/gbuild/Executable.mk
++++ b/solenv/gbuild/Executable.mk
+@@ -77,8 +77,7 @@ $(call gb_Executable_get_clean_target,$(1)) : AUXTARGETS :=
+ $(call gb_Executable_Executable_platform,$(1),$(2),$(gb_Executable_BINDIR)/$(1).lib)
+ ifeq ($(OS),EMSCRIPTEN)
+ $(call gb_LinkTarget_get_target,$(call gb_Executable_get_linktarget,$(1))) : \
+-    $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data \
+-    $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data.js.metadata
++    $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data
+ endif
+ 
+ $$(eval $$(call gb_Module_register_target,$(call gb_Executable_get_target,$(1)),$(call gb_Executable_get_clean_target,$(1))))
+diff --git a/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk b/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk
+index 45beedd1a..364c738b2 100644
+--- a/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk
++++ b/solenv/gbuild/platform/EMSCRIPTEN_INTEL_GCC.mk
+@@ -15,17 +15,24 @@ gb_EMSCRIPTEN_CPPFLAGS := -pthread -s USE_PTHREADS=1 -D_LARGEFILE64_SOURCE -D_LA
+ gb_EMSCRIPTEN_LDFLAGS := $(gb_EMSCRIPTEN_CPPFLAGS)
+ 
+ # Initial memory size and worker thread pool
+-gb_EMSCRIPTEN_LDFLAGS += -s TOTAL_MEMORY=1GB -s PTHREAD_POOL_SIZE=4
++# ALLOW_MEMORY_GROWTH enables heap expansion beyond INITIAL_MEMORY
++# STACK_SIZE increased from default 64KB to 5MB for complex call stacks
++# DEFAULT_PTHREAD_STACK_SIZE sets worker thread stack size
++# Production build: debug flags (SAFE_HEAP, STACK_OVERFLOW_CHECK, DEMANGLE_SUPPORT) removed for performance
++gb_EMSCRIPTEN_LDFLAGS += -s INITIAL_MEMORY=1GB -s ALLOW_MEMORY_GROWTH=1 -s MAXIMUM_MEMORY=4GB -s STACK_SIZE=5MB -s DEFAULT_PTHREAD_STACK_SIZE=2MB -s PTHREAD_POOL_SIZE=4 -s PROXY_TO_PTHREAD=1
+ 
+ # To keep the link time (and memory) down, prevent all rewriting options from wasm-emscripten-finalize
+ # See emscripten.py, finalize_wasm, modify_wasm = True
+ # So we need WASM_BIGINT=1 and ASSERTIONS=1 (2 implies STACK_OVERFLOW_CHECK)
+-gb_EMSCRIPTEN_LDFLAGS += --bind -s FORCE_FILESYSTEM=1 -s WASM_BIGINT=1 -s ERROR_ON_UNDEFINED_SYMBOLS=1 -s FETCH=1 -s ASSERTIONS=1 -s EXIT_RUNTIME=0 -s EXPORTED_RUNTIME_METHODS=["UTF16ToString","stringToUTF16","UTF8ToString","ccall","cwrap","addOnPreMain","addOnPostRun","registerType","throwBindingError"$(if $(ENABLE_QT6),$(COMMA)"callMain"$(COMMA)"specialHTMLTargets")]
++gb_EMSCRIPTEN_LDFLAGS += --bind -s FORCE_FILESYSTEM=1 -s WASM_BIGINT=1 -s ERROR_ON_UNDEFINED_SYMBOLS=1 -s FETCH=1 -s ASSERTIONS=1 -s EXIT_RUNTIME=0 -s EXPORTED_RUNTIME_METHODS=["FS","wasmTable","UTF16ToString","stringToUTF16","UTF8ToString","ccall","cwrap","addOnPreMain","addOnPostRun","registerType","throwBindingError","ENV"$(if $(ENABLE_QT6),$(COMMA)"callMain"$(COMMA)"specialHTMLTargets")]
+ gb_EMSCRIPTEN_QTDEFS := -DQT_NO_LINKED_LIST -DQT_NO_JAVA_STYLE_ITERATORS -DQT_NO_EXCEPTIONS -DQT_NO_DEBUG -DQT_WIDGETS_LIB -DQT_GUI_LIB -DQT_CORE_LIB
+ 
+ gb_Executable_EXT := .html
+ gb_EMSCRIPTEN_EXCEPT = -fwasm-exceptions -s SUPPORT_LONGJMP=wasm
+ 
++# EXPORTED_FUNCTIONS for LOK API moved to desktop/Executable_soffice_bin.mk
++# They should only apply to the final soffice link, not to external libraries
++
+ gb_CXXFLAGS += $(gb_EMSCRIPTEN_CPPFLAGS)
+ 
+ # Here we don't use += because gb_LinkTarget_EXCEPTIONFLAGS from com_GCC_defs.mk contains -fexceptions and
+diff --git a/solenv/gbuild/platform/unxgcc.mk b/solenv/gbuild/platform/unxgcc.mk
+index 68ea5c571..3544614f5 100644
+--- a/solenv/gbuild/platform/unxgcc.mk
++++ b/solenv/gbuild/platform/unxgcc.mk
+@@ -188,8 +188,7 @@ $(if $(filter TRUE,$(ENABLE_QT5)), \
+     sed -e 's/@APPNAME@/$(basename $(notdir $(1)))/g' -e 's/@APPEXPORTNAME@/$(basename $(notdir $(1)))_entry/g' -e 's/@PRELOAD@//g' -e 's|const instance = await qtLoad$(OPEN_PAREN){|const instance = await qtLoad$(OPEN_PAREN){ "arguments": ["--norestore"$(COMMA) "--nologo"$(COMMA) "--writer"$(COMMA) "/android/default-document/example.odt"]$(COMMA)|' -e 's/}$(CLOSE_PAREN);$$/}$(CLOSE_PAREN); window.Module = instance;/' $(QT6_PLATFORMS_SRCDIR)/wasm_shell.html > $(dir $(1))qt_$(basename $(notdir $(1))).html && \
+     cp $(QT6_PLATFORMS_SRCDIR)/qtlogo.svg $(QT6_PLATFORMS_SRCDIR)/qtloader.js $(dir $(1)) && \
+ )) \
+-    cp $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data $(dir $(1))/soffice.data && \
+-    cp $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data.js.metadata $(dir $(1))/soffice.data.js.metadata \
++    cp $(gb_CustomTarget_workdir)/static/emscripten_fs_image/soffice.data $(dir $(1))/soffice.data \
+ )
+ endef
+ 
+diff --git a/starmath/source/edit.cxx b/starmath/source/edit.cxx
+index d0f25259f..b45852ee3 100644
+--- a/starmath/source/edit.cxx
++++ b/starmath/source/edit.cxx
+@@ -1,3 +1,4 @@
++#include <config_wasm_strip.h>
+ /* -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */
+ /*
+  * This file is part of the LibreOffice project.
+@@ -125,7 +126,9 @@ void SmEditTextWindow::SetDrawingArea(weld::DrawingArea* pDrawingArea)
+ 
+     pEditEngine->SetStatusEventHdl(LINK(this, SmEditTextWindow, EditStatusHdl));
+ 
++#if !ENABLE_WASM_STRIP_ACCESSIBILITY
+     InitAccessible();
++#endif
+ 
+     //Apply zoom to smeditwindow text
+     if(GetEditView())
+diff --git a/static/CustomTarget_emscripten_fs_image.mk b/static/CustomTarget_emscripten_fs_image.mk
+index b82dcff82..00f6d2a3c 100644
+--- a/static/CustomTarget_emscripten_fs_image.mk
++++ b/static/CustomTarget_emscripten_fs_image.mk
+@@ -42,238 +42,6 @@ gb_emscripten_fs_image_files := \
+     $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,soffice) \
+     $(INSTROOT)/$(LIBO_ETC_FOLDER)/$(call gb_Helper_get_rcfile,version) \
+     $(INSTROOT)/$(LIBO_ETC_FOLDER)/services/services.rdb \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutconfigdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/accelconfigpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorexceptpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acoroptionspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorreplacepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsfragment.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/agingdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applyautofmtpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applylocalizedpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areadialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areatabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/asiantypography.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/assigncomponentdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/autocorrectdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/baselinksdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderareatransparencydialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderbackgrounddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/breaknumberoption.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/bulletandposition.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cellalignment.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/certdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/chapterfragment.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/charnamepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorconfigwin.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorfragment.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpickerdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/comment.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connectortabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connpooloptions.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/croppage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cuiimapdlg.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/customizedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/databaselinkdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dbregisterpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/diagramdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dimensionlinestabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editdictionarydialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editmodulesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/effectspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/embossdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/entrycontextmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassigndialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassignpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventsconfigpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fmsearchdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfeaturesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfragment.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatcellsdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatnumberdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryapplyprogress.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryfilespage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerygeneralpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerysearchprogress.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemeiddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerytitledialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryupdateprogress.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gradientpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestdlg.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestentry.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaadddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaconversiondialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaeditdictdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaoptdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hatchpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdocpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkinternetpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmailpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmarkdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinknewdocpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyphenate.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconchangedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconselectordialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imagetabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imageviewer.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertfloatingframe.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertoleobject.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertrowcolumn.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javaclasspathdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javastartparametersdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/lineendstabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linestyletabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linetabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassigndialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassignpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroselectordialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/menuassignpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/mosaicdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/movemenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/multipathdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/namedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newlibdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtabledialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtoolbardialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingformatpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingoptionspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingpositionpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objectnamedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objecttitledescdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optaccessibilitypage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optadvancedpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optappearancepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optasianpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optbasicidepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optchartcolorspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optctlpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optemailpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrembedpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfontspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optgeneralpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/opthtmlpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optionsdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optjsearchpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlanguagespage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlingupage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optnewdictionarydialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optonlineupdatepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optpathspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optproxypage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsavepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsecuritypage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optuserpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optviewpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pageformatpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paragalignpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paraindentspacing.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paratabspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/password.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pastespecial.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/patterntabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/percentdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/personalization_tab.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickbulletpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickgraphicpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/picknumberingpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickoutlinepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionsizedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/possizetabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/posterdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/qrcodegen.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querychangelineenddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletebitmapdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletechartcolordialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletecolordialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletedictionarydialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletegradientdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletehatchdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelineenddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelinestyledialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryduplicatedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynoloadedfiledialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynosavefiledialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querysavelistdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryupdategalleryfilelistdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/recordnumberdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/rotationtabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/screenshotannotationdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/scriptorganizer.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchattrdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchformatdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/securityoptionsdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/selectpathdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/shadowtabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/showcoldialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signatureline.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signsignatureline.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/similaritysearchdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/slantcornertabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smarttagoptionspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smoothdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/solarizedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/specialcharacters.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spellingdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spelloptionsdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spinbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/splitcellsdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/storedwebconnectiondialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/swpossizepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textanimtabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textattrtabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textcolumnstabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textflowpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/thesaurus.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/toolbarmodedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/transparencytabpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/tsaurldialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/twolinespage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/wordcompletionpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/zoomdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/dependenciesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmanager.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/installforalldialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/licensedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/showlicensedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updatedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updateinstalldialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updaterequireddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/editeng/ui/spellmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfgeneralpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdflinkspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfoptionsdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsecuritypage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsignpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfuserinterfacepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfviewpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/testxmlfilter.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/warnpdfdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltersettings.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagegeneral.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagetransformation.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xsltfilterdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/formuladialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/functionpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/parameter.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/structpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/breadcrumb.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/explorerfiledialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/foldernamedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/remotefilesdialog.ui \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/filter/oox-drawingml-adj-names \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/filter/oox-drawingml-cs-presets \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/filter/vml-shape-types \
+@@ -793,6 +561,284 @@ gb_emscripten_fs_image_files += \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/wrapdialog.ui \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/wrappage.ui \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swriter/ui/zoombox.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/connectorsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/notebookbarshortcuts.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/extrusionobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formcontrols.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/outlinetoolbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/toolbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/optionsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/ellipsesbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/tableobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/viewerbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/gluepointsobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/alignmentbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/symbolshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formsfilterbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/graffilterbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/arrowshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/fontworkobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/singlemode.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/masterviewtoolbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/zoombar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/mediaobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/3dobjectsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/classificationbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/drawingobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/findbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/calloutshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/choosemodebar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/rectanglesbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/insertbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/optimizetablebar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/commontaskbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/bezierobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formdesign.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/starshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/slideviewobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formtextobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/distributebar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/formsnavigationbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/basicshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/linesbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/graphicobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/commentsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/standardbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/textobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/fullscreenbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/colorbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/slideviewtoolbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/positionbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/arrowsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/textbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/fontworkshapetype.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/toolbar/flowchartshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/menubar/menubar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/statusbar/statusbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationfragment.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_groupedbar_full.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/headerfooterdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/interactionpage.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmimagespage.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/templatedialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmslidespage.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/tabledesignpanel.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterlayoutdlg.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/photoalbum.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/slidetransitionspanel.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/simpress/layoutlist.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/simpress/objectlist.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/simpress/styles.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationtexttab.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/annotation.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/headerfootertab.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmobjectspage.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/optimpressgeneralpage.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/currentmastermenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/prntopts.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notespanelcontextmenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/dockinganimation.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/gluebox.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/dlgfield.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/displaywindow.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/tabviewbar.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterpagemenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/mastermenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/fieldmenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/presentationdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationeffecttab.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/impressprinteroptions.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/layoutwindow.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/definecustomslideshow.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/navigatorpanel.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_groups.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_online.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/effectmenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/annotationtagmenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/slidecontextmenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/noteschildwindow.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pminfodialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmintropage.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_groupedbar_compact.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterpagepanelall.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/layoutpanel.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationproperties.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pmsummarypage.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/remotedialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/pagesfieldbox.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/layoutmenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/snapmenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/clientboxfragment.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/scalemenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationtimingtab.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterpagepanel.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/interactiondialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/slidedesigndialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_compact.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar_single.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/fontsizemenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/insertslides.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/masterpagepanelrecent.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/notebookbar.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/fontstylemenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customslideshows.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/customanimationspanel.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/sidebarslidebackground.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/rotatemenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/ui/sdviewpage.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/line.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/measure.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/bezier.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/3dscene2.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/objectalign.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/curve.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagetab.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/gluepoint.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/formrichtext.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/media.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagepane.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagepanenoselmaster.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/outline.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagepanemaster.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/graphic.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/drawtext.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/multiselect.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/form.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/notebookbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/oleobject.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/pagepanenosel.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/connector.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/3dscene.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/table.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/page.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/draw.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/3dobject.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/group.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/simpress/popupmenu/textbox.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/connectorsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/notebookbarshortcuts.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/extrusionobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formcontrols.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/toolbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/optionsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/ellipsesbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/tableobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/viewerbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/gluepointsobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/redactionbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/alignmentbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/symbolshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formsfilterbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/graffilterbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/arrowshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/fontworkobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/masterviewtoolbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/zoombar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/mediaobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/3dobjectsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/drawingobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/findbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/calloutshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/choosemodebar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/rectanglesbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/insertbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/optimizetablebar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/bezierobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formdesign.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/starshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formtextobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/distributebar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/formsnavigationbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/basicshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/linesbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/graphicobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/commentsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/standardbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/textobjectbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/fullscreenbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/colorbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/redactedexportbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/positionbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/arrowsbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/textbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/fontworkshapetype.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/toolbar/flowchartshapes.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/menubar/menubar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/statusbar/statusbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawpagedialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/paranumberingtab.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/insertlayer.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawprinteroptions.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/insertslidesdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/namedesign.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/navigatorcontextmenu.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/bulletsandnumbering.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar_online.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawchardialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar_groupedbar_compact.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/breakdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawprtldialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/crossfadedialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/vectorize.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/queryunlinkimagedialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/copydlg.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/selectlayerdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar_compact.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar_single.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/notebookbar.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/drawparadialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/ui/dlgsnap.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/layertab.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/line.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/measure.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/bezier.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/3dscene2.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/objectalign.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/curve.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagetab.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/gluepoint.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/formrichtext.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/media.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagepane.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagepanenoselmaster.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagepanemaster.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/graphic.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/drawtext.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/multiselect.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/form.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/notebookbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/oleobject.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/pagepanenosel.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/connector.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/3dscene.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/table.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/page.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/draw.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/3dobject.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/group.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/sdraw/popupmenu/textbox.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/toolbar/toolbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/toolbar/standardbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/toolbar/fullscreenbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/menubar/menubar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/statusbar/statusbar.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/smathsettings.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/symdefinedialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/fontsizedialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/alignmentdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/savedefaultsdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/spacingdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/fontdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/embedwindow.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/editwindow.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/fonttypedialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/sidebarelements_math.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/sidebarproperties_math.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/catalogdialog.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/printeroptions.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/ui/mathwindow.ui \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/popupmenu/edit.xml \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/smath/popupmenu/view.xml \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/menubar/menubar.xml \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/anchor.xml \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/swxform/popupmenu/annotation.xml \
+@@ -1102,277 +1148,6 @@ gb_emscripten_fs_image_files += \
+ endif # !ENABLE_WASM_STRIP_CALC
+ 
+ gb_emscripten_fs_image_files += \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/addtargetdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/alienwarndialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/autoredactdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charmapcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charviewmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/checkin.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/classificationbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisinfopage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisline.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/commandpopup.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/custominfopage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/deck.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/descriptioninfopage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/developmenttool.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/devtoolsmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentfontspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentinfopage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentpropertiesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdocumentdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdurationdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/errorfindemaildialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/extrabutton.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/floatingrecord.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpbookmarkpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontentpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpindexpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpmanual.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpsearchpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpwindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/infobar.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/inputdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/licensedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linefragment.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linkeditdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/loadtemplatedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/managestylepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/navigator.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/newstyle.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbarpopup.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbar.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/optprintpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/panel.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/password.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/printeroptionsdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/querysavedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/safemodequerydialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/saveastemplatedlg.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/searchdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/securityinfopage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/singletabdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/startcenter.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/stylecontextmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbarcontents.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbar.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbutton.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatecategorydlg.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatedlg.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatepanel.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/urlbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versioncommentdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionscmis.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionsofdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/addresstemplatedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/calendar.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/checkboxcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/combocontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/datewindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/editcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/emptypage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fileviewmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedimagecontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedtextcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/graphicexport.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/inputbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/interimparent.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/javadisableddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/linewindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/listcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/managedtoolbar.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/placeedit.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/printersetupdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/querydeletedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/restartdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/scrollbars.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/spinfieldcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/subtoolbar.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbaredit.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttonsmirrored.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttons.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/textviewcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/thineditcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/absrecbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/acceptrejectchangesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/accessibilitycheckentry.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addconditiondialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/adddataitemdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addinstancedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addmodeldialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addnamespacedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addsubmissiondialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/applystylebox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/asianphoneticguidedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/cellmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/charsetmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/checkbuttonbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chineseconversiondialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chinesedictionary.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/classificationdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/clipboardmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colorwindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colsmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/columnswindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/compressgraphicdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/crashreportdlg.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/currencywindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/datanavigator.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/defaultshapespanel.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deletefooterdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deleteheaderdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/depthwindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/directionwindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docking3deffects.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorreplace.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorwindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingfontwork.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverybrokendialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryprogressdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryrecoverdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverysavedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/extrustiondepthdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fileexporteddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fillctrlbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filtermenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filternavigator.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog-mobile.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingareastyle.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingcontour.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingframeborder.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineend.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineproperty.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglinestyle.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingundoredo.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontnamebox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontsizebox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkalignmentcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkcharacterspacingcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkgallerydialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkspacingdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formdatamenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formfielddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formlinkwarndialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavigator.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavimenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formpropertydialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/functionmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu1.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu2.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckentry.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gotopagedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafctrlbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafmodebox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/headfootformatpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/inspectortextpanel.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/labelbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/lightingwindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/linkwarndialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/measurewidthbar.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/medialine.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediaplayback.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediawindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/metricfieldbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/namespacedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/navigationbar.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/numberingwindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/optgridpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralinespacingcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralrspacing.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paraulspacing.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/passwd.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/presetmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletecontourdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeleteobjectdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletethemedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querymodifyimagemapchangesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querynewcontourdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysavecontchangesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysaveimagemapchangesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/queryunlinkgraphicsdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinecontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinefilterpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlineviewpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rowsmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rulermenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/safemodedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/savemodifieddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/selectionmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebararea.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebareffect.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarempty.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarfontwork.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargallery.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargraphic.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarline.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarlists.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarparagraph.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarpossize.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarshadow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarstylespanel.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextcolumnspanel.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextpanel.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylemenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylespreview.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/surfacewindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/tablewindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcharacterspacingcontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolchardialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolparadialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textunderlinecontrol.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/toolbarpopover.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xformspage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xmlsecstatmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/zoommenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/authfallback.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/filterselect.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/logindialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/macrowarnmedium.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/masterpassworddlg.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/password.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/setmasterpassworddlg.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/simplenameclash.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/sslwarndialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/unknownauthdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/aboutbox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/combobox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/cupspassworddialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/dockingwindow.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/editmenu.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornocontentdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornoprinterdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimdockparent.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimtearableparent.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton3.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton4.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/openlockedquerybox.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerdevicepage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpaperpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpropertiesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printprogressdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/querydialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/screenshotparent.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/wizard.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/exportepub.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/wpftencodingdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/certdetails.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/certgeneral.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/certpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/digitalsignaturesdialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/macrosecuritydialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/securitylevelpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/securitytrustpage.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/selectcertificatedialog.ui \
+-    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/xmlsec/ui/viewcertdialog.ui \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/beige.css \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/bgr.css \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/wizard/form/styles/dark.css \
+@@ -1397,8 +1172,13 @@ gb_emscripten_fs_image_files += \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/res/fcfg_langpack_en-US.xcd \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/res/registry_en-US.xcd \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/writer.xcd \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/math.xcd \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/draw.xcd \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/impress.xcd \
+ 	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/calc.xcd \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/xsltfilter.xcd \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/pdfimport.xcd \
++    $(INSTROOT)/$(LIBO_SHARE_FOLDER)/registry/base.xcd \
+     $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/autotext/mytexts.bau \
+     $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/basic/dialog.xlc \
+     $(INSTROOT)/$(LIBO_SHARE_PRESETS_FOLDER)/basic/script.xlc \
+@@ -1414,6 +1194,512 @@ gb_emscripten_fs_image_files += \
+     $(SRCDIR)/android/default-document/example.odt \
+ 	$(SRCDIR)/android/default-document/example_test.ods \
+ 
++
++# Core UI files needed for document loading (svt, cui, sfx, svx, vcl, etc.)
++# These are required even in headless mode for proper VCL initialization
++gb_emscripten_fs_image_files += \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/addresstemplatedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/calendar.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/checkboxcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/combocontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/datewindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/editcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/emptypage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fileviewmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedimagecontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/fixedtextcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/graphicexport.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/inputbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/interimparent.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/javadisableddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/linewindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/listcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/managedtoolbar.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/placeedit.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/printersetupdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/querydeletedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/restartdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/scrollbars.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/spinfieldcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/subtoolbar.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbaredit.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttonsmirrored.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/tabbuttons.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/textviewcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svt/ui/thineditcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutconfigdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/aboutdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/accelconfigpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorexceptpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acoroptionspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/acorreplacepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/additionsfragment.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/agingdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applyautofmtpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/applylocalizedpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areadialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/areatabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/asiantypography.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/assigncomponentdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/autocorrectdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/baselinksdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderareatransparencydialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderbackgrounddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/borderpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/breaknumberoption.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/bulletandposition.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/calloutpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cellalignment.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/certdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/chapterfragment.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/charnamepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorconfigwin.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorfragment.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/colorpickerdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/comment.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connectortabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/connpooloptions.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/croppage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/cuiimapdlg.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/customizedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/databaselinkdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dbregisterpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/diagramdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/dimensionlinestabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editdictionarydialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/editmodulesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/effectspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/embossdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/entrycontextmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassigndialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventassignpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/eventsconfigpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fmsearchdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfeaturesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/fontfragment.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatcellsdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/formatnumberdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryapplyprogress.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryfilespage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerygeneralpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerysearchprogress.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerythemeiddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gallerytitledialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/galleryupdateprogress.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/gradientpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestdlg.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/graphictestentry.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaadddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaconversiondialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaeditdictdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hangulhanjaoptdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hatchpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkdocpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkinternetpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmailpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinkmarkdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyperlinknewdocpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/hyphenate.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconchangedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/iconselectordialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imagetabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/imageviewer.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertfloatingframe.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertoleobject.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/insertrowcolumn.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javaclasspathdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/javastartparametersdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/langtoolconfigpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/lineendstabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linestyletabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/linetabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/listdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassigndialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroassignpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/macroselectordialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/menuassignpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/mosaicdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/movemenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/multipathdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/namedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newlibdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtabledialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/newtoolbardialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingformatpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingoptionspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/numberingpositionpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objectnamedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/objecttitledescdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optaccessibilitypage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optadvancedpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optappearancepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optasianpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optbasicidepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optchartcolorspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optctlpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optdeeplpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optemailpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrembedpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfltrpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optfontspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optgeneralpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/opthtmlpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optionsdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optjsearchpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlanguagespage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optlingupage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optnewdictionarydialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optonlineupdatepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optpathspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optproxypage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsavepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optsecuritypage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optuserpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/optviewpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pageformatpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paragalignpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paraindentspacing.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/paratabspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/password.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pastespecial.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/patterntabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/percentdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/personalization_tab.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickbulletpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickgraphicpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/picknumberingpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/pickoutlinepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/positionsizedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/possizetabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/posterdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/qrcodegen.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querychangelineenddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletebitmapdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletechartcolordialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletecolordialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletedictionarydialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletegradientdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletehatchdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelineenddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querydeletelinestyledialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryduplicatedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynoloadedfiledialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querynosavefiledialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querysavelistdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/querysetinsmodedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/queryupdategalleryfilelistdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/recordnumberdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/rotationtabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/screenshotannotationdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/scriptorganizer.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchattrdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/searchformatdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/securityoptionsdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/selectpathdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/shadowtabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/showcoldialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signatureline.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/signsignatureline.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/similaritysearchdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/slantcornertabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smarttagoptionspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/smoothdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/solarizedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/specialcharacters.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spellingdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spelloptionsdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/spinbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/splitcellsdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/storedwebconnectiondialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/swpossizepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textanimtabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textattrtabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textcolumnstabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/textflowpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/thesaurus.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/toolbarmodedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/transparencytabpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/tsaurldialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/twolinespage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/widgettestdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/wordcompletionpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/cui/ui/zoomdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/addtargetdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/alienwarndialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/autoredactdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/bookmarkmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charmapcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/charviewmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/checkin.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/classificationbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisinfopage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/cmisline.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/commandpopup.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/custominfopage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/deck.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/descriptioninfopage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/developmenttool.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/devtoolsmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentfontspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentinfopage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/documentpropertiesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdocumentdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/editdurationdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/errorfindemaildialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/extrabutton.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/floatingrecord.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpbookmarkpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontentpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpindexpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpmanual.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpsearchpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/helpwindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/infobar.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/inputdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/licensedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linefragment.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/linkeditdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/loadtemplatedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/managestylepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/navigator.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/newstyle.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbarpopup.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/notebookbar.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/optprintpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/panel.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/password.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/printeroptionsdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/querysavedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/safemodequerydialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/saveastemplatedlg.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/searchdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/securityinfopage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/singletabdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/startcenter.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/stylecontextmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbarcontents.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbar.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/tabbutton.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatecategorydlg.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatedlg.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/templatepanel.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/urlbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versioncommentdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionscmis.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/sfx/ui/versionsofdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/absrecbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/acceptrejectchangesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/accessibilitycheckentry.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addconditiondialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/adddataitemdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addinstancedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addmodeldialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addnamespacedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/addsubmissiondialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/applystylebox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/asianphoneticguidedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/cellmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/charsetmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/checkbuttonbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chineseconversiondialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/chinesedictionary.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/classificationdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/clipboardmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colorwindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/colsmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/columnswindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/compressgraphicdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/crashreportdlg.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/currencywindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/datanavigator.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/defaultshapespanel.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deletefooterdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/deleteheaderdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/depthwindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/directionwindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docking3deffects.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorreplace.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingcolorwindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/dockingfontwork.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverybrokendialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryprogressdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoveryrecoverdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/docrecoverysavedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/extrustiondepthdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fileexporteddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fillctrlbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filtermenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/filternavigator.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog-mobile.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/findreplacedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingareastyle.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingcontour.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingframeborder.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineend.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglineproperty.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatinglinestyle.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/floatingundoredo.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontnamebox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontsizebox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkalignmentcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkcharacterspacingcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkgallerydialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/fontworkspacingdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formdatamenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formfielddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formlinkwarndialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavigator.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formnavimenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/formpropertydialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/functionmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu1.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gallerymenu2.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/genericcheckentry.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/gotopagedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafctrlbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/grafmodebox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/headfootformatpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/imapmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/inspectortextpanel.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/labelbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/lightingwindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/linkwarndialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/measurewidthbar.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/medialine.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediaplayback.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/mediawindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/metricfieldbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/namespacedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/navigationbar.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/numberingwindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/optgridpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralinespacingcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paralrspacing.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/paraulspacing.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/passwd.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/presetmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletecontourdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeleteobjectdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querydeletethemedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querymodifyimagemapchangesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querynewcontourdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysavecontchangesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/querysaveimagemapchangesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/queryunlinkgraphicsdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinecontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlinefilterpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/redlineviewpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rowsmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/rulermenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/safemodedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/savemodifieddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/selectionmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebararea.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebareffect.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarempty.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarfontwork.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargallery.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebargraphic.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarline.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarlists.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarparagraph.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarpossize.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarshadow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebarstylespanel.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextcolumnspanel.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/sidebartextpanel.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylemenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/stylespreview.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/surfacewindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/tablewindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcharacterspacingcontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolchardialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textcontrolparadialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/textunderlinecontrol.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/themecoloreditdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/themedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/toolbarpopover.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xformspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/xmlsecstatmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/svx/ui/zoommenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/aboutbox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/combobox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/cupspassworddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/dockingwindow.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/editmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornocontentdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/errornoprinterdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimdockparent.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/interimtearableparent.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton3.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/menutogglebutton4.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/openlockedquerybox.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerdevicepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpaperpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printerpropertiesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/printprogressdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/querydialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/screenshotparent.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/vcl/ui/wizard.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfgeneralpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdflinkspage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfoptionsdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsecuritypage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfsignpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfuserinterfacepage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/pdfviewpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/testxmlfilter.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/warnpdfdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltersettings.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagegeneral.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xmlfiltertabpagetransformation.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/filter/ui/xsltfilterdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/authfallback.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/filterselect.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/logindialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/macrowarnmedium.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/masterpassworddlg.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/password.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/setmasterpassworddlg.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/simplenameclash.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/sslwarndialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/uui/ui/unknownauthdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/dependenciesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmanager.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/extensionmenu.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/installforalldialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/licensedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/showlicensedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updatedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updateinstalldialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/desktop/ui/updaterequireddialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/breadcrumb.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/explorerfiledialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/foldernamedialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/fps/ui/remotefilesdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/formuladialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/functionpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/parameter.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/formula/ui/structpage.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/exportepub.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/writerperfect/ui/wpftencodingdialog.ui \
++	$(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/editeng/ui/spellmenu.ui
++
+ ifneq ($(ENABLE_WASM_STRIP_CHART),TRUE)
+ gb_emscripten_fs_image_files += \
+     $(INSTROOT)/$(LIBO_SHARE_FOLDER)/config/soffice.cfg/modules/schart/menubar/menubar.xml \
+@@ -1489,13 +1775,34 @@ gb_emscripten_fs_image_filelists += $(call gb_Package_get_target,fontconfig_data
+ 
+ emscripten_fs_image_WORKDIR := $(gb_CustomTarget_workdir)/static/emscripten_fs_image
+ 
++# Generate fontconfig cache before packaging soffice.data
++# This avoids runtime font scanning which causes many FS open calls
++#
++# fontconfig is built with paths like /share/fonts (without /instdir prefix).
++# fc-cache uses -y $(INSTROOT) as sysroot, so /share/fonts resolves to $(INSTROOT)/share/fonts.
++# Cache files store paths as /share/fonts/... which at runtime, with FcConfigSetSysRoot("/instdir"),
++# resolve to /instdir/share/fonts/...
++emscripten_fontconfig_cache_dir := $(INSTROOT)/$(LIBO_SHARE_FOLDER)/fontconfig/cache
++emscripten_fontconfig_cache_stamp := $(emscripten_fs_image_WORKDIR)/fontconfig_cache.stamp
++
++$(emscripten_fontconfig_cache_stamp): \
++		$(call gb_AutoInstall_get_target,ooo_fonts) \
++		$(call gb_Package_get_target,fontconfig_data) \
++		| $(emscripten_fs_image_WORKDIR)/.dir
++	$(call gb_Output_announce,fontconfig cache,$(true),FCC,2)
++	mkdir -p $(emscripten_fontconfig_cache_dir)
++	fc-cache -f -s -v -y $(INSTROOT)
++	@echo "Fontconfig cache generated. Verifying..."
++	@ls -la $(emscripten_fontconfig_cache_dir)/ || echo "Warning: cache directory may be empty"
++	touch $@
++
+ # we just need data.js.link at link time, which is equal to soffice.data.js
+ $(call gb_CustomTarget_get_target,static/emscripten_fs_image): \
+     $(emscripten_fs_image_WORKDIR)/soffice.data \
+     $(emscripten_fs_image_WORKDIR)/soffice.data.js.link \
+-    $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata \
+ 
+-$(emscripten_fs_image_WORKDIR)/soffice.data $(emscripten_fs_image_WORKDIR)/soffice.data.js : $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata
++# soffice.data is generated alongside soffice.data.js by the file packager
++$(emscripten_fs_image_WORKDIR)/soffice.data: $(emscripten_fs_image_WORKDIR)/soffice.data.js
+ 
+ .PRECIOUS: $(emscripten_fs_image_WORKDIR)/soffice.data.js.link
+ $(emscripten_fs_image_WORKDIR)/soffice.data.js.link: $(emscripten_fs_image_WORKDIR)/soffice.data.js
+@@ -1515,17 +1822,20 @@ $(emscripten_fs_image_WORKDIR)/soffice.data.filelist: \
+ 		$(call gb_InstallModule_get_target,scp2/ooo) \
+ 		$(emscripten_fs_image_WORKDIR)/soffice.data.concat_lists \
+ 		$(gb_emscripten_fs_image_files) \
++		$(emscripten_fontconfig_cache_stamp) \
+ 		| $(emscripten_fs_image_WORKDIR)/.dir
+ 	$(file >$@,\
+ 	    $(subst @,@@,$(subst $(BUILDDIR)/,,$(filter $(BUILDDIR)%,$(gb_emscripten_fs_image_all_files)))) \
+-	    $(foreach item,$(filter-out $(BUILDDIR)%,$(gb_emscripten_fs_image_all_files)),$(subst @,@@,$(item))@$(subst @,@@,$(subst $(SRCDIR)/,,$(item)))))
++	    $(foreach item,$(filter-out $(BUILDDIR)%,$(gb_emscripten_fs_image_all_files)),$(subst @,@@,$(item))@$(subst @,@@,$(subst $(SRCDIR)/,,$(item)))) \
++	    $(foreach cache_file,$(wildcard $(emscripten_fontconfig_cache_dir)/*),$(subst @,@@,$(cache_file))@$(subst @,@@,$(subst $(INSTROOT)/,,$(cache_file)))))
+ 
+ # Unfortunately the file packager just allows a cmdline file list, but all paths are
+ # relative to $(BUILDDIR), so we won't run out of cmdline space that fast...
+-$(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata: $(emscripten_fs_image_WORKDIR)/soffice.data.filelist
++# Note: --separate-metadata removed - metadata is now embedded in soffice.data.js
++$(emscripten_fs_image_WORKDIR)/soffice.data.js: $(emscripten_fs_image_WORKDIR)/soffice.data.filelist
+ 	$(call gb_Output_announce,$(subst $(BUILDDIR)/,,$(emscripten_fs_image_WORKDIR)/soffice.data),$(true),GEN,2)
+ 	cd $(BUILDDIR) && \
+-	$(EMSDK_FILE_PACKAGER) $(emscripten_fs_image_WORKDIR)/soffice.data --preload $(shell cat $^) --js-output=$(emscripten_fs_image_WORKDIR)/soffice.data.js --separate-metadata \
+-	    || rm -f $(emscripten_fs_image_WORKDIR)/soffice.data.js $(emscripten_fs_image_WORKDIR)/soffice.data $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata
++	$(EMSDK_FILE_PACKAGER) $(emscripten_fs_image_WORKDIR)/soffice.data --preload $(shell cat $^) --js-output=$(emscripten_fs_image_WORKDIR)/soffice.data.js \
++	    || rm -f $(emscripten_fs_image_WORKDIR)/soffice.data.js $(emscripten_fs_image_WORKDIR)/soffice.data
+ 
+ # vim: set noet sw=4:
+diff --git a/svx/util/svxcore.component b/svx/util/svxcore.component
+index d3b0942f4..23e33a878 100644
+--- a/svx/util/svxcore.component
++++ b/svx/util/svxcore.component
+@@ -21,7 +21,7 @@
+   <implementation name="com.sun.star.comp.Draw.GraphicExporter"
+       constructor="com_sun_star_comp_Draw_GraphicExporter_get_implementation">
+     <service name="com.sun.star.drawing.GraphicExportFilter"/>
+-    <optional/>
++    
+   </implementation>
+   <implementation name="com.sun.star.comp.svx.ExtrusionDepthController"
+       constructor="com_sun_star_comp_svx_ExtrusionDepthController_get_implementation">
+diff --git a/svx/util/svxcore.component.draw b/svx/util/svxcore.component.draw
+index 5192ae34f..b793c8cd1 100644
+--- a/svx/util/svxcore.component.draw
++++ b/svx/util/svxcore.component.draw
+@@ -4,4 +4,3 @@
+ # License, v. 2.0. If a copy of the MPL was not distributed with this
+ # file, You can obtain one at http://mozilla.org/MPL/2.0/.
+ 
+-com.sun.star.comp.Draw.GraphicExporter
+diff --git a/sw/source/uibase/uno/unotxdoc.cxx b/sw/source/uibase/uno/unotxdoc.cxx
+index 021003a7a..a50fe4d57 100644
+--- a/sw/source/uibase/uno/unotxdoc.cxx
++++ b/sw/source/uibase/uno/unotxdoc.cxx
+@@ -3260,13 +3260,22 @@ void SwXTextDocument::paintTile( VirtualDevice &rDevice,
+                                  int nTilePosX, int nTilePosY,
+                                  tools::Long nTileWidth, tools::Long nTileHeight )
+ {
++    SAL_INFO("sw.lok", "SwXTextDocument::paintTile ENTER");
++
+     SwViewShell* pViewShell = m_pDocShell->GetWrtShell();
++
++    SAL_INFO("sw.lok", "SwXTextDocument::paintTile: about to call PaintTile");
++
+     pViewShell->PaintTile(rDevice, nOutputWidth, nOutputHeight,
+                           nTilePosX, nTilePosY, nTileWidth, nTileHeight);
+ 
++    SAL_INFO("sw.lok", "SwXTextDocument::paintTile: PaintTile RETURNED");
++
+     LokChartHelper::PaintAllChartsOnTile(rDevice, nOutputWidth, nOutputHeight,
+                                          nTilePosX, nTilePosY, nTileWidth, nTileHeight);
+ 
++    SAL_INFO("sw.lok", "SwXTextDocument::paintTile: ChartHelper done");
++
+     // Draw Form controls
+     comphelper::LibreOfficeKit::setTiledPainting(true);
+     SwDrawModel* pDrawLayer = GetDocOrThrow().getIDocumentDrawModelAccess().GetDrawModel();
+@@ -3277,6 +3286,8 @@ void SwXTextDocument::paintTile( VirtualDevice &rDevice,
+     Size aOutputSize(nOutputWidth, nOutputHeight);
+     LokControlHandler::paintControlTile(pPage, pDrawView, rEditWin, rDevice, aOutputSize, aTileRect);
+     comphelper::LibreOfficeKit::setTiledPainting(false);
++
++    SAL_INFO("sw.lok", "SwXTextDocument::paintTile DONE");
+ }
+ 
+ Size SwXTextDocument::getDocumentSize()
+@@ -3740,11 +3751,20 @@ VclPtr<vcl::Window> SwXTextDocument::getDocWindow()
+     SolarMutexGuard aGuard;
+     SwView* pView = m_pDocShell->GetView();
+     if (!pView)
++    {
++        SAL_WARN("lok.writer", "getDocWindow: GetView() returned null - no SwView available!");
+         return {};
++    }
++
++    SAL_WARN("lok.writer", "getDocWindow: pView is valid");
+ 
+     if (VclPtr<vcl::Window> pWindow = SfxLokHelper::getInPlaceDocWindow(pView))
++    {
++        SAL_WARN("lok.writer", "getDocWindow: returning InPlaceDocWindow");
+         return pWindow;
++    }
+ 
++    SAL_WARN("lok.writer", "getDocWindow: returning EditWin");
+     return &(pView->GetEditWin());
+ }
+ 
+@@ -3864,19 +3884,34 @@ void SwXTextDocument::initializeForTiledRendering(const css::uno::Sequence<css::
+ void SwXTextDocument::postKeyEvent(int nType, int nCharCode, int nKeyCode)
+ {
+     SolarMutexGuard aGuard;
+-    SfxLokHelper::postKeyEventAsync(getDocWindow(), nType, nCharCode, nKeyCode);
++    SAL_WARN("lok.writer", "postKeyEvent: called with type=" << nType << " charCode=" << nCharCode << " keyCode=" << nKeyCode);
++    VclPtr<vcl::Window> pWindow = getDocWindow();
++    if (!pWindow)
++    {
++        SAL_WARN("lok.writer", "postKeyEvent: getDocWindow() returned null - key event will be lost!");
++    }
++    else
++    {
++        SAL_WARN("lok.writer", "postKeyEvent: window is valid, posting key event");
++    }
++    SfxLokHelper::postKeyEventAsync(pWindow, nType, nCharCode, nKeyCode);
+ }
+ 
+ void SwXTextDocument::postMouseEvent(int nType, int nX, int nY, int nCount, int nButtons, int nModifier)
+ {
+     SolarMutexGuard aGuard;
+ 
++    SAL_WARN("lok.writer", "postMouseEvent: called with type=" << nType << " x=" << nX << " y=" << nY);
++
+     SwViewShell* pWrtViewShell = m_pDocShell->GetWrtShell();
+     if (!pWrtViewShell)
+     {
++        SAL_WARN("lok.writer", "postMouseEvent: GetWrtShell() returned null - no SwWrtShell available!");
+         return;
+     }
+ 
++    SAL_WARN("lok.writer", "postMouseEvent: pWrtViewShell is valid, proceeding");
++
+     SwViewOption aOption(*(pWrtViewShell->GetViewOptions()));
+     double fScale = aOption.GetZoom() / o3tl::convert(100.0, o3tl::Length::px, o3tl::Length::twip);
+ 
+diff --git a/vcl/unx/generic/fontmanager/fontconfig.cxx b/vcl/unx/generic/fontmanager/fontconfig.cxx
+index 2bd59dc2d..6a957a56d 100644
+--- a/vcl/unx/generic/fontmanager/fontconfig.cxx
++++ b/vcl/unx/generic/fontmanager/fontconfig.cxx
+@@ -184,7 +184,30 @@ FontCfgWrapper::FontCfgWrapper()
+     : m_pFontSet(nullptr)
+     , m_bRestrictFontSetToApplicationFonts(false)
+ {
++#ifdef __EMSCRIPTEN__
++    // For WASM builds, fontconfig is configured with paths like /share/fonts.
++    // Set sysroot to /instdir so these paths resolve to /instdir/share/fonts
++    // which matches the WASM virtual filesystem layout.
++    SAL_INFO("vcl.fonts", "EMSCRIPTEN: Setting fontconfig sysroot to /instdir");
++    FcConfigSetSysRoot(nullptr, reinterpret_cast<const FcChar8*>("/instdir"));
++#endif
+     FcInit();
++#ifdef __EMSCRIPTEN__
++    FcConfig* pConfig = FcConfigGetCurrent();
++    if (pConfig)
++    {
++        FcStrList* pDirs = FcConfigGetFontDirs(pConfig);
++        if (pDirs)
++        {
++            FcChar8* pDir;
++            while ((pDir = FcStrListNext(pDirs)) != nullptr)
++            {
++                SAL_INFO("vcl.fonts", "EMSCRIPTEN: Font dir: " << reinterpret_cast<const char*>(pDir));
++            }
++            FcStrListDone(pDirs);
++        }
++    }
++#endif
+ }
+ 
+ #ifndef FC_FONT_WRAPPER
+diff --git a/writerperfect/Module_writerperfect.mk b/writerperfect/Module_writerperfect.mk
+index d7ea1b939..db97aaff7 100644
+--- a/writerperfect/Module_writerperfect.mk
++++ b/writerperfect/Module_writerperfect.mk
+@@ -21,8 +21,8 @@ $(eval $(call gb_Module_Module,writerperfect))
+ 
+ $(eval $(call gb_Module_add_targets,writerperfect,\
+     $(if $(ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS),, \
+-	Library_wpftdraw \
+-	Library_wpftimpress \
++	$(if $(ENABLE_CDR),Library_wpftdraw) \
++	$(if $(ENABLE_ETONYEK),Library_wpftimpress) \
+     ) \
+ 	$(if $(ENABLE_WASM_STRIP_CALC),, \
+ 	Library_wpftcalc \
+diff --git a/xmlsecurity/Module_xmlsecurity.mk b/xmlsecurity/Module_xmlsecurity.mk
+index f5b442683..196641222 100644
+--- a/xmlsecurity/Module_xmlsecurity.mk
++++ b/xmlsecurity/Module_xmlsecurity.mk
+@@ -12,7 +12,7 @@ $(eval $(call gb_Module_Module,xmlsecurity))
+ $(eval $(call gb_Module_add_targets,xmlsecurity,\
+ 	Library_xmlsecurity \
+ 	$(if $(ENABLE_NSS)$(ENABLE_OPENSSL),Library_xsec_xmlsec) \
+-	UIConfig_xmlsec \
++	$(if $(DISABLE_GUI),,UIConfig_xmlsec) \
+ ))
+ 
+ $(eval $(call gb_Library_use_custom_headers,xmlsecurity,\
+@@ -29,7 +29,7 @@ $(eval $(call gb_Module_add_subsequentcheck_targets,xmlsecurity,\
+ ))
+ 
+ $(eval $(call gb_Module_add_l10n_targets,xmlsecurity,\
+-	AllLangMoTarget_xsc \
++	$(if $(DISABLE_GUI),,AllLangMoTarget_xsc) \
+ ))
+ 
+ # failing
diff --git a/wasm-packaging-improvements.patch b/wasm-packaging-improvements.patch
new file mode 100644
index 000000000..de193b484
--- /dev/null
+++ b/wasm-packaging-improvements.patch
@@ -0,0 +1,31 @@
+diff --git a/static/CustomTarget_emscripten_fs_image.mk b/static/CustomTarget_emscripten_fs_image.mk
+index dc833e470..9d29d81f5 100644
+--- a/static/CustomTarget_emscripten_fs_image.mk
++++ b/static/CustomTarget_emscripten_fs_image.mk
+@@ -1795,9 +1795,9 @@ $(emscripten_fontconfig_cache_stamp): \
+ $(call gb_CustomTarget_get_target,static/emscripten_fs_image): \
+     $(emscripten_fs_image_WORKDIR)/soffice.data \
+     $(emscripten_fs_image_WORKDIR)/soffice.data.js.link \
+-    $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata \
+ 
+-$(emscripten_fs_image_WORKDIR)/soffice.data $(emscripten_fs_image_WORKDIR)/soffice.data.js : $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata
++# soffice.data is generated alongside soffice.data.js by the file packager
++$(emscripten_fs_image_WORKDIR)/soffice.data: $(emscripten_fs_image_WORKDIR)/soffice.data.js
+ 
+ .PRECIOUS: $(emscripten_fs_image_WORKDIR)/soffice.data.js.link
+ $(emscripten_fs_image_WORKDIR)/soffice.data.js.link: $(emscripten_fs_image_WORKDIR)/soffice.data.js
+@@ -1826,10 +1826,11 @@ $(emscripten_fs_image_WORKDIR)/soffice.data.filelist: \
+ 
+ # Unfortunately the file packager just allows a cmdline file list, but all paths are
+ # relative to $(BUILDDIR), so we won't run out of cmdline space that fast...
+-$(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata: $(emscripten_fs_image_WORKDIR)/soffice.data.filelist
++# Note: --separate-metadata removed - metadata is now embedded in soffice.data.js
++$(emscripten_fs_image_WORKDIR)/soffice.data.js: $(emscripten_fs_image_WORKDIR)/soffice.data.filelist
+ 	$(call gb_Output_announce,$(subst $(BUILDDIR)/,,$(emscripten_fs_image_WORKDIR)/soffice.data),$(true),GEN,2)
+ 	cd $(BUILDDIR) && \
+-	$(EMSDK_FILE_PACKAGER) $(emscripten_fs_image_WORKDIR)/soffice.data --preload $(shell cat $^) --js-output=$(emscripten_fs_image_WORKDIR)/soffice.data.js --separate-metadata \
+-	    || rm -f $(emscripten_fs_image_WORKDIR)/soffice.data.js $(emscripten_fs_image_WORKDIR)/soffice.data $(emscripten_fs_image_WORKDIR)/soffice.data.js.metadata
++	$(EMSDK_FILE_PACKAGER) $(emscripten_fs_image_WORKDIR)/soffice.data --preload $(shell cat $^) --js-output=$(emscripten_fs_image_WORKDIR)/soffice.data.js \
++	    || rm -f $(emscripten_fs_image_WORKDIR)/soffice.data.js $(emscripten_fs_image_WORKDIR)/soffice.data
+ 
+ # vim: set noet sw=4:
diff --git a/writerperfect/Module_writerperfect.mk b/writerperfect/Module_writerperfect.mk
index d7ea1b939..db97aaff7 100644
--- a/writerperfect/Module_writerperfect.mk
+++ b/writerperfect/Module_writerperfect.mk
@@ -21,8 +21,8 @@ $(eval $(call gb_Module_Module,writerperfect))
 
 $(eval $(call gb_Module_add_targets,writerperfect,\
     $(if $(ENABLE_WASM_STRIP_BASIC_DRAW_MATH_IMPRESS),, \
-	Library_wpftdraw \
-	Library_wpftimpress \
+	$(if $(ENABLE_CDR),Library_wpftdraw) \
+	$(if $(ENABLE_ETONYEK),Library_wpftimpress) \
     ) \
 	$(if $(ENABLE_WASM_STRIP_CALC),, \
 	Library_wpftcalc \
diff --git a/xmlsecurity/Module_xmlsecurity.mk b/xmlsecurity/Module_xmlsecurity.mk
index f5b442683..196641222 100644
--- a/xmlsecurity/Module_xmlsecurity.mk
+++ b/xmlsecurity/Module_xmlsecurity.mk
@@ -12,7 +12,7 @@ $(eval $(call gb_Module_Module,xmlsecurity))
 $(eval $(call gb_Module_add_targets,xmlsecurity,\
 	Library_xmlsecurity \
 	$(if $(ENABLE_NSS)$(ENABLE_OPENSSL),Library_xsec_xmlsec) \
-	UIConfig_xmlsec \
+	$(if $(DISABLE_GUI),,UIConfig_xmlsec) \
 ))
 
 $(eval $(call gb_Library_use_custom_headers,xmlsecurity,\
@@ -29,7 +29,7 @@ $(eval $(call gb_Module_add_subsequentcheck_targets,xmlsecurity,\
 ))
 
 $(eval $(call gb_Module_add_l10n_targets,xmlsecurity,\
-	AllLangMoTarget_xsc \
+	$(if $(DISABLE_GUI),,AllLangMoTarget_xsc) \
 ))
 
 # failing
